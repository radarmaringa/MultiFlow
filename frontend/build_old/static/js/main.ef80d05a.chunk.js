(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1111:function(e){e.exports=JSON.parse('{"name":"frontend","version":"4.8.12","private":true,"dependencies":{"@date-io/date-fns":"^2.16.0","@emotion/react":"^11.10.5","@emotion/styled":"^11.10.5","@fortawesome/free-solid-svg-icons":"^6.2.1","@fortawesome/react-fontawesome":"^0.2.0","@material-ui/core":"4.12.3","@material-ui/data-grid":"^4.0.0-alpha.37","@material-ui/icons":"^4.11.3","@material-ui/lab":"^4.0.0-alpha.61","@material-ui/pickers":"^3.3.10","@material-ui/styles":"^4.11.3","@mui/icons-material":"^5.14.1","@mui/material":"^5.10.13","@mui/styles":"^5.14.0","@mui/x-date-pickers":"^5.0.8","@socket.io/admin-ui":"0.5.1","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.0.4","@testing-library/user-event":"^12.1.7","@xyflow/react":"^12.3.1","ace-builds":"^1.39.0","axios":"^0.21.1","bootstrap":"^5.2.3","caniuse-lite":"^1.0.30001616","chart.js":"^3.9.1","chartjs-plugin-datalabels":"^2.1.0","compressorjs":"^1.2.1","context":"^4.0.0","date-fns":"^2.16.1","emoji-mart":"^3.0.0","emoji-regex":"^10.3.0","formik":"^2.2.0","formik-material-ui":"^3.0.1","gn-api-sdk-node":"^3.0.2","i18next":"^19.8.2","i18next-browser-languagedetector":"^6.0.1","icons":"^1.0.0","jssip":"^3.10","markdown-to-jsx":"^7.1.0","material-ui-color":"^1.2.0","material-ui-popup-state":"^4.1.0","mercadopago":"^2.7.0","mic-recorder-to-mp3":"^2.2.2","moment":"^2.29.4","qrcode.react":"^1.0.0","query-string":"^7.0.0","react":"^16.13.1","react-ace":"^14.0.1","react-audio-player":"^0.17.0","react-beautiful-dnd":"^13.1.1","react-big-calendar":"^1.8.4","react-bootstrap":"^2.7.0","react-chartjs-2":"^4.3.1","react-color":"^2.19.3","react-copy-to-clipboard":"^5.1.0","react-csv":"^2.2.2","react-dom":"^16.13.1","react-dropzone":"^14.2.3","react-facebook-login":"^4.1.1","react-favicon":"2.0.3","react-flow-renderer":"^10.3.17","react-hot-toast":"^2.5.2","react-html5-camera-photo":"^1.5.11","react-icons":"^4.7.1","react-input-mask":"^2.0.4","react-json-view":"^1.21.3","react-modal":"^3.16.1","react-modal-image":"^2.5.0","react-number-format":"^4.6.4","react-onesignal":"^2.0.4","react-player":"^2.13.0","react-qr-code":"^2.0.11","react-query":"^3.39.3","react-router-dom":"^5.2.0","react-scripts":"3.4.3","react-softphone":"^1.7.0","react-toastify":"^6.0.9","react-trello":"^2.2.11","react-webcam":"^7.1.1","react-window":"^1.8.11","react-youtube":"^10.1.0","reactflow":"^11.7.4","recharts":"^2.0.2","socket.io-client":"^4.7.4","styled-components":"^5.3.6","use-debounce":"^7.0.0","use-sound":"^2.0.1","uuid":"^8.3.2","xlsx":"^0.18.5","yup":"^0.32.8","zustand":"^4.4.1"},"scripts":{"start":"export NODE_OPTIONS=\'--openssl-legacy-provider\' && react-scripts start","build":"export NODE_OPTIONS=\'--max-old-space-size=4096 --openssl-legacy-provider\' && react-scripts build","builddev":"export NODE_OPTIONS=\'--openssl-legacy-provider\' && react-scripts build","test":"export NODE_OPTIONS=\'--openssl-legacy-provider\' && react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"typescript":"^5.5.3"}}')},1201:function(e,a,t){},1206:function(e,a,t){},1212:function(e,a,t){},1220:function(e,a,t){},1221:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(60),r=t.n(l),i=t(1485);var s=t(231),c=t.n(s);const d=c.a.create({baseURL:"https://api.datamixsistemas.com.br",withCredentials:!0}),m=c.a.create({baseURL:"https://api.datamixsistemas.com.br"});var u=d,p=(t(997),t(633)),g=t(281),b=t(1378),E=t(1244);var h=o.a.createContext({toggleColorMode:()=>{},setPrimaryColorLight:e=>{},setPrimaryColorDark:e=>{},setAppLogoLight:e=>{},setAppLogoDark:e=>{},setAppLogoFavicon:e=>{},setAppLogoBackgroundLight:e=>{},setAppLogoBackgroundDark:e=>{}});const f=Object(n.createContext)(),v=()=>Object(n.useContext)(f),y=e=>{let{children:a}=e;const[t,l]=Object(n.useState)("");return o.a.createElement(f.Provider,{value:{activeMenu:t,setActiveMenu:l}},a)};var x=t(460),C=t.n(x);function k(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==window.ENV?window.ENV[e]||a:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"})[e]||a}function w(){return k("REACT_APP_BACKEND_URL")}var A=t(48),T=t(101),O=t(9),S=t(6),j=t(8),I=t(220),M=t(15),N=t(664),R=t(1606),D=t(77),P=t(1387),F=t(299),L=t(1236),W=t(1237),B=t(1388),q=t(1389),z=t(171),U=t(793),V=t(224),H=t(1375),Q=t(1379),G=t(1376),K=t(243),_=t(1226),Y=t(1374),J=t(1361),X=t(1382),Z=t(799),$=t.n(Z),ee=t(798),ae=t.n(ee),te=t(801),ne=t.n(te),oe=t(800),le=t.n(oe);var re=()=>({findAll:async e=>{const{data:a}=await u.request({url:"/helps",method:"GET",params:e});return a},list:async e=>{const{data:a}=await u.request({url:"/helps/list",method:"GET",params:e});return a},save:async e=>{const{data:a}=await u.request({url:"/helps",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/helps/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await u.request({url:"/helps/".concat(e),method:"DELETE"});return a}}),ie=t(1227),se=t(1370),ce=t(899),de=t(571),me=t(768),ue=t.n(me),pe=t(318),ge=t.n(pe),be=t(779),Ee=t.n(be),he=t(635),fe=t.n(he),ve=t(777),ye=t.n(ve),xe=t(772),Ce=t.n(xe),ke=t(621),we=t.n(ke),Ae=t(778),Te=t.n(Ae),Oe=t(769),Se=t.n(Oe),je=t(775),Ie=t.n(je),Me=t(776),Ne=t.n(Me),Re=t(770),De=t.n(Re),Pe=t(323),Fe=t.n(Pe),Le=t(773),We=t.n(Le),Be=t(397),qe=t.n(Be),ze=t(561),Ue=t.n(ze),Ve=t(562),He=t.n(Ve),Qe=t(477),Ge=t.n(Qe),Ke=t(476),_e=t.n(Ke),Ye=t(478),Je=t.n(Ye),Xe=t(774),Ze=t.n(Xe),$e=t(780),ea=t.n($e),aa=t(781),ta=t.n(aa),na=t(1362),oa=t(1363),la=t(1364),ra=t(1367),ia=t(1371),sa=t(1372),ca=t(1373),da=t(31),ma=t(632),ua=t(766);const pa=Object(S.a)(Object(S.a)(Object(S.a)(Object(S.a)({},{pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",disabled:"Cadastro de usu\xe1rios est\xe1 desabilitado no momento. Por favor, tente novamente mais tarde.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha",company:"Nome da Organiza\xe7\xe3o",phone:"Whatsapp (DDD + N\xdaMERO)"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},ticketInfo:{copyPhone:"Copiar telefone",quickMessages:"Respostas r\xe1pidas",phonecopied:"Telefone copiado para \xe1rea de transfer\xeancia!",noPhone:"Nenhum telefone dispon\xedvel para copiar",copyError:"Erro ao copiar telefone"},login:{title:"Login",welcome:"Bem-vindo de volta",loginInstruction:"Entre com seus dados para acessar sua conta",form:{email:"Email",password:"Senha",button:"Acessar"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},companies:{title:"Cadastrar Empresa",form:{name:"Nome da Empresa",plan:"Plano",token:"Token",submit:"Cadastrar",success:"Empresa criada com sucesso!"}},auth:{toasts:{success:"Login efetuado com sucesso!"},dueDate:{expiration:"Sua assinatura expira em",days:"dias!",day:"dia!",expirationToday:"Sua assinatura expira hoje!"},token:"Token"},dashboard:{filters:"Filtros",filter:"FILTRAR ",tabs:{indicators:"Indicadores",assessments:"NPS",attendants:"Atendentes"},charts:{perDay:{title:"Atendimentos hoje: "}},cards:{inAttendance:"Em Atendimento",waiting:"Aguardando",activeAttendants:"Atendentes Ativos",finalized:"Finalizados",newContacts:"Novos Contatos",totalReceivedMessages:"Mensagens Recebidas",totalSentMessages:"Mensagens Enviadas",averageServiceTime:"T.M. de Atendimento",averageWaitingTime:"T.M. de Espera",status:"Status (Atual)",activeTickets:"Tickets Ativos",passiveTickets:"Tickets Passivos",groups:"Grupos"},users:{name:"Nome",numberAppointments:"Quantidade de Atendimentos",statusNow:"Atual",totalCallsUser:"Total de atendimentos por usuario",totalAttendances:"Total de atendimentos"},date:{initialDate:"Data Inicial",finalDate:"Data Final"},licence:{available:"Dispon\xedvel at\xe9"},assessments:{totalCalls:"Total de Atendimentos",callsWaitRating:"Atendimentos aguardando avalia\xe7\xe3o",callsWithoutRating:"Atendimentos sem avalia\xe7\xe3o",ratedCalls:"Atendimentos avaliados",evaluationIndex:"\xcdndice de avalia\xe7\xe3o",score:"Pontua\xe7\xe3o",prosecutors:"Promotores",neutral:"Neutros",detractors:"Detratores"}},reports:{title:"Relat\xf3rio de Pesquisas Realizadas",operator:"Operador",period:"Per\xedodo",until:"At\xe9",date:"Data",reportTitle:"Relat\xf3rios",calls:"Atendimentos",search:"Pesquisas",durationCalls:"Durac\xe3o dos atendimentos",grupoSessions:"Atendimentos em grupos",groupTicketsReports:{timezone:"America/Sao_Paulo",msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",errorToast:"Erro ao gerar o relat\xf3rio",back:"Voltar",groupServiceReport:"Relat\xf3rio de Atendimento em Grupos",loading:"Carregando...",contact:"Contato",dateOpen:"Data abertura",dateLastUpdated:"Data \xdaltima Atualiza\xe7\xe3o",agent:"Quem atendeu",agentClosed:"Quem fechou",waitingAssistance:"Aguardando atendimento",process:"Em atendimento"},researchReports:{response:"resposta",active:"(Ativa)",inactive:"(Inativa)",quantity:"Quantidade",percentage:"porcentagem",title:"Relat\xf3rio de Pesquisas Realizadas",activeSearch:"Pesquisa ativa",inactiveSearch:"Pesquisa inativa"},ticketDurationDetail:{msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",title:"Relat\xf3rio de Dura\xe7\xe3o do Atendimento",startService:"In\xedcio do atendimento",lastUpdated:"\xdaltima atualiza\xe7\xe3o",lastAgent:"\xdaltimo atendente",durationFinished:"Dura\xe7\xe3o ap\xf3s finalizado"},ticketDuration:{title:"Relat\xf3rio de Dura\xe7\xe3o dos Atendimento",contact:"Contato",open:"Abertos",pending:"Pendentes",finished:"Finalizados",durationFinished:"Dura\xe7\xe3o dos finalizados",durationAfterFinished:"Dura\xe7\xe3o ap\xf3s finalizado",actions:"A\xe7\xf5es"},ticketReports:{msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",title:"Relat\xf3rio de Atendimento"},exportExcel:{title:"Relat\xf3rios de Atendimentos",startDate:"Data inicial",endDate:"Data final",notInformed:"N\xe3o informado",columns:{id:"ID",connection:"Conex\xe3o",contact:"Contato",user:"Usu\xe1rio",queue:"Fila",status:"Status",lastMessage:"\xdaltima Mensagem",openDate:"Data Abertura",openTime:"Hora Abertura",closeDate:"Data Fechamento",closeTime:"Hora Fechamento",supportTime:"Tempo de Atendimento",nps:"NPS"}},pdf:{title:"Rela\xe7\xe3o de Atendimentos Realizados",exportTitle:"Rela\xe7\xe3o de Atendimentos em Grupos Realizados"}},todo:{newTask:"Nova Tarefa",add:"Adicionar",task:"Tarefas"},contactImportWpModal:{title:"Exportar Contatos para o Excel",buttons:{downloadModel:"Download modelo do excel para importa\xe7\xe3o",closed:"Fechar",import:"Selecione o arquivo do excel para importar Contatos"}},connections:{title:"Conex\xf5es",waitConnection:"Aguarde... Suas conex\xf5es ser\xe3o reiniciadas!",newConnection:"Nova Conex\xe3o",restartConnections:"Reiniciar Conex\xf5es",callSupport:"Chamar Suporte",newConnection:"Nova Conex\xe3o",connectYourServiceChannelsToReceiveMessagesAndStartConversationsWithYourCustomers:" Conecte seus canais de atendimento para receber mensagens e iniciar conversas com seus clientes.",client:"Cliente",connectedConnections:" Conex\xf5es conectadas ",disconnectedConnections:"Conex\xf5es desconectadas ",totalConnections:" Total de Conex\xf5es",total:"Total",connections:"Conex\xf5es de:",toasts:{deleted:"Conex\xe3o exclu\xedda com sucesso!",closedimported:"Estamos fechando os tickets importados, por favor aguarde uns instantes"},confirmationModal:{closedImportedTitle:"Fechar tickets importados",closedImportedMessage:"Se voc\xea confirmar todos os tickets importados ser\xe3o fechados",deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar Conex\xe3o",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",closedImported:"Fechar todos os tickets Importados",preparing:"Preparando mensagens para importa\xe7\xe3o",importing:"Importando Mensagens do WhatsApp",newQr:"Novo QR CODE",processed:"Processado",in:"de",connecting:"Conectando"},typography:{processed:"Processado",in:"de",date:"Data da mensagem"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o",number:"N\xfamero do Whatsapp",color:"Cor"}},showTicketOpenModal:{title:{header:"Atendimento Existente"},form:{message:"Este contato j\xe1 est\xe1 em atendimento:",user:"Atendente",queue:"Fila",messageWait:"Este contato j\xe1 est\xe1 aguardando atendimento. Veja na aba Aguardando!"}},showTicketLogModal:{title:{header:"Logs"},options:{create:"Ticket criado.",chatBot:"ChatBot iniciado.",queue:" - Fila definida.",open:" iniciou o atendimento.",access:"acessou o ticket.",transfered:"transferiu o ticket.",receivedTransfer:"recebeu o ticket transferido.",pending:"devolveu a fila.",closed:"fechou o ticket",reopen:"reabriu o ticket",redirect:"- redirecionado",clientClosed:"Cliente fechou o ticket"}},whatsappModal:{title:{add:"Adicionar Conex\xe3o",edit:"Editar Conex\xe3o"},tabs:{general:"Geral",messages:"Mensagens",assessments:"NPS",integrations:"Integra\xe7\xf5es",schedules:"Hor\xe1rio de expediente"},form:{importOldMessagesEnable:"Importar mensagens do aparelho",importOldMessages:"Data de inicio da importa\xe7\xe3o",importRecentMessages:"Data de termino da importa\xe7\xe3o",importOldMessagesGroups:"Importar mensagens de grupo",closedTicketsPostImported:"Encerrar tickets ap\xf3s importa\xe7\xe3o",name:"Nome",queueRedirection:"Redirecionamento de Fila",queueRedirectionDesc:"Selecione uma fila para os contatos que n\xe3o possuem fila serem redirecionados",default:"Padr\xe3o",group:"Permitir grupos",timeSendQueue:"Tempo em minutos para redirecionar para fila",importAlert:"ATEN\xc7\xc3O: Ao salvar, sua conex\xe3o ser\xe1 encerrada, ser\xe1 necess\xe1rio ler novamente o QR Code para importar as mensagens",groupAsTicket:"Tratar grupos como ticket",timeCreateNewTicket:"Criar novo ticket em x minutos",maxUseBotQueues:"Enviar bot x vezes",maxUseInactiveTime:"Enviar flow de inatividade x vezes",timeUseBotQueues:"Enviar bot em x minutos",timeToReturnQueue:"Tempo para retornar a fila em minutos",timeAwaitActiveFlow:"Tempo para aguardar ativa\xe7\xe3o do fluxo",expiresTicket:"Encerrar chats abertos ap\xf3s x minutos",expiresTicketNPS:"Encerrar chats aguardando avalia\xe7\xe3o ap\xf3s x minutos",maxUseBotQueuesNPS:"Quantidade m\xe1xima de vezes que a avalia\xe7ao vai ser enviada",closeLastMessageOptions1:"Do atendente/Cliente",closeLastMessageOptions2:"Do atendente",outOfHoursMessage:"Mensagem de fora de expediente",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",lgpdLinkPrivacy:"Link para pol\xedtica de privacidade",lgpdMessage:"Mensagem de sauda\xe7ao LGPD",lgpdDeletedMessages:"Ofuscar mensagem apagada pelo contato",lgpdSendMessage:"Sempre solicitar confirma\xe7\xe3o do contato",ratingMessage:"Mensagem de avalia\xe7ao - Escala deve ser de 0 a 10",token:"Token para integra\xe7\xe3o externa",sendIdQueue:"Fila",inactiveMessage:"Mensagem de inatividade",timeInactiveMessage:"Tempo em minutos para envio do aviso de inatividade",flowInactiveTime:"Tempo em minutos para envio do flow de inatividade",whenExpiresTicket:"Encerrar chats abertos quando \xfaltima mensagem for",expiresInactiveMessage:"Mensagem de encerramento por inatividade",prompt:"Prompt",collectiveVacationEnd:"Data final",collectiveVacationStart:"Data inicial",collectiveVacationMessage:"Mensagem de f\xe9rias coletivas",queueIdImportMessages:"Fila para importar as mensagens",isOficial:"Oficial",phone_number_id:"ID N\xfamero de telefone",waba_id:"Waba ID",send_token:"Token de envio",business_id:"ID do neg\xf3cio",phone_number:"N\xfamero de telefone",triggerIntegrationOnClose:"Disparar Integra\xe7\xe3o ao Encerrar Ticket",enableIntegration:"Habilitar Integra\xe7\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},menuItem:{enabled:"Habilitado",disabled:"Desabilitado",minutes:"minutos"},success:"Conex\xe3o salvo com sucesso.",errorSendQueue:"Foi informado tempo para redirecionar fila, por\xe9m n\xe3o foi selecionada fila para redirecionar. Os dois campos precisam estar preenchidos",errorExpiresNPS:"\xc9 obrigado informar um tempo para avalia\xe7\xe3o quando se utiliza o NPS.",errorRatingMessage:"\xc9 obrigado informar uma mensagem de avalia\xe7\xe3o quando se utiliza o NPS."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",conversationFlows:" Fluxos de Conversa",addFlow:"Adicionar Fluxo",editFlow:"Editar Fluxo ",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",exportContact:"Exportar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados ser\xe3o perdidos.",blockContact:"Tem certeza que deseja bloquear este contato?",unblockContact:"Tem certeza que deseja desbloquear este contato?",importMessage:"Deseja importar todos os contatos do telefone?",importChat:"Importar Conversas",wantImport:"Deseja importar todas as conversas do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato",export:"Exportar Contato"},table:{name:"Nome",whatsapp:"Conex\xe3o",email:"Email",actions:"A\xe7\xf5es",lastMessage:"\xdaltima Mensagem",wallet:"Carteira"},menu:{importYourPhone:"Importar do aparelho padr\xe3o",importToExcel:"Importar / Exportar do Excel",importexport:"IMPORTAR / EXPORTAR"}},forwardMessage:{text:"Encaminhada"},forwardMessageModal:{title:"Encaminhar mensagem",buttons:{ok:"Encaminhar"}},promptModal:{form:{name:"Nome",prompt:"Prompt",voice:"Voz",max_tokens:"M\xe1ximo de Tokens na resposta",temperature:"Temperatura",apikey:"API Key",max_messages:"M\xe1ximo de mensagens no Hist\xf3rico",voiceKey:"Chave da API de Voz",voiceRegion:"Regi\xe3o de Voz"},success:"Prompt salvo com sucesso!",title:{add:"Adicionar Prompt",edit:"Editar Prompt"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},prompts:{title:"Prompts",table:{name:"Nome",queue:"Setor/Fila",max_tokens:"M\xe1ximo Tokens Resposta",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida!"},buttons:{add:"Adicionar Prompt"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor",chatBotContact:"Desabilitar chatbot",termsLGDP:"Termos LGPD aceito em:",whatsapp:"Conex\xe3o Origem: ",assignWallet:"Carteira de Cliente"},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso.",walletLinked:"Contato vinculado \xe0 sua carteira com sucesso!",walletError:"Usu\xe1rio n\xe3o possui filas associadas",saveFirst:"Contato deve ser salvo primeiro"},wallets:{title:"Carteiras de Contatos",searchPlaceholder:"Buscar contatos...",filterByUser:"Filtrar por Usu\xe1rio",allUsers:"Todos os usu\xe1rios",contact:"Contato",user:"Usu\xe1rio",queue:"Fila",phone:"Telefone",email:"Email",actions:"A\xe7\xf5es",editWallet:"Editar Carteira",selectUser:"Selecionar Usu\xe1rio",selectQueue:"Selecionar Fila",selectUserAndQueue:"Selecione um usu\xe1rio e uma fila",cancel:"Cancelar",save:"Salvar",confirmDeleteTitle:"Confirmar Exclus\xe3o",confirmDeleteMessage:"Tem certeza que deseja remover este contato da carteira?",deleteSuccess:"Contato removido da carteira com sucesso!",updateSuccess:"Carteira atualizada com sucesso!",wallet:"Carteira"},queueModal:{title:{queueData:"Dados da fila",text:"Hor\xe1rios de atendimento",add:"Adicionar fila",edit:"Editar fila",confirmationDelete:"Tem certeza? Todas as op\xe7\xf5es de integra\xe7\xf5es ser\xe3o deletadas."},form:{name:"Nome",color:"Cor",orderQueue:"Ordem da fila (Bot)",rotate:"Rod\xedzio",timeRotate:"Tempo de Rod\xedzio",typeRandomMode:"Tipo de rod\xedzio",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",outOfHoursMessage:"Mensagem de fora de expediente",token:"Token",integrationId:"Integra\xe7\xe3o",fileListId:"Lista de arquivos",closeTicket:"Fechar ticket",queueType:"Tipo de menu",message:"Mensagem de retorno",queue:"Fila para transfer\xeancia",integration:"Integra\xe7\xe3o",file:"Lista de arquivos"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},bot:{title:"Op\xe7\xf5es",toolTipTitle:"Adicione op\xe7\xf5es para construir um chatbot",toolTip:"Se houver apenas uma op\xe7\xe3o, ela ser\xe1 escolhida automaticamente, fazendo com que o bot responda com a mensagem da op\xe7\xe3o e siga adiante",selectOption:"Selecione uma op\xe7\xe3o",text:"Texto",attendent:"Atendente",queue:"Fila",integration:"Integra\xe7\xe3o",file:"Arquivo",toolTipMessageTitle:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",toolTipMessageContent:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",selectUser:"Selecione um Usu\xe1rio",selectQueue:"Selecione uma Fila",selectIntegration:"Selecione uma Integra\xe7\xe3o",addOptions:"Adicionar op\xe7\xf5es"},serviceHours:{dayWeek:"Dia da semana",startTimeA:"Hora Inicial - Turno A",endTimeA:"Hora Final - Turno A",startTimeB:"Hora Inicial - Turno B",endTimeB:"Hora Final - Turno B",monday:"Segunda-feira",tuesday:"Ter\xe7a-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"S\xe1bado",sunday:"Domingo"}},queueIntegrationModal:{title:{add:"Adicionar projeto",edit:"Editar projeto"},form:{id:"ID",type:"Tipo",name:"Nome",projectName:"Nome do Projeto",language:"Linguagem",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Tempo em minutos para expirar uma conversa",typebotKeywordFinish:"Palavra para finalizar o ticket",typebotKeywordRestart:"Palavra para reiniciar o fluxo",typebotRestartMessage:"Mensagem ao reiniciar a conversa",typebotUnknownMessage:"Mensagem de op\xe7\xe3o inv\xe1lida",typebotDelayMessage:"Intervalo (ms) entre mensagens"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",test:"Testar Bot"},messages:{testSuccess:"Integra\xe7\xe3o testada com sucesso!",addSuccess:"Integra\xe7\xe3o adicionada com sucesso.",editSuccess:"Integra\xe7\xe3o editada com sucesso."}},userModal:{warning:"Para fazer a importa\xe7\xe3o das mensagens \xe9 necess\xe1rio ler o qrCode novamente !!!",title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio",updateImage:"Atualizar imagem",removeImage:"Excluir imagem"},form:{name:"Nome",email:"Email",password:"Senha",farewellMessage:"Mensagem de despedida",profile:"Perfil",startWork:"Inicio de trabalho",endWork:"Fim de trabalho",whatsapp:"Conex\xe3o Padr\xe3o",allTicketEnable:"Habilitado",allTicketDisable:"Desabilitado",allTicket:"Visualizar chamados sem fila",allowGroup:"Permitir Grupos",defaultMenuOpen:"Aberto",defaultMenuClosed:"Fechado",defaultMenu:"Menu padr\xe3o",defaultTheme:"Tema Padr\xe3o",defaultThemeDark:"Escuro",defaultThemeLight:"Claro",allHistoric:"Ver conversas de outras filas",allHistoricEnabled:"Habilitado",allHistoricDisabled:"Desabilitado",allUserChat:"Ver conversas de outros usu\xe1rios",userClosePendingTicket:"Permitir fechar tickets pendentes",allowSeeMessagesInPendingTickets:"Permitir ver tickets pendentes",showDashboard:"Ver Dashboard",allowRealTime:"Ver Painel de Atendimentos",allowConnections:"Permitir a\xe7\xf5es nas conex\xf5es",showContacts:"Ver contatos",showCampaign:"Ver campanhas",showFlow:"Ver fluxos"},tabs:{general:"Geral",permissions:"Permiss\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",addImage:"Adicionar Imagem",editImage:"Editar Imagem"},success:"Usu\xe1rio salvo com sucesso."},companyModal:{title:{add:"Adicionar empresa",edit:"Editar empresa"},form:{name:"Nome",email:"Email",passwordDefault:"Senha",numberAttendants:"Usu\xe1rios",numberConections:"Conex\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Empresa salvo com sucesso."},scheduleModal:{title:{add:"Novo Agendamento",edit:"Editar Agendamento",message:"Mensagem"},form:{body:"Mensagem",contact:"Contato",sendAt:"Data de Agendamento",sentAt:"Data de Envio",assinar:"Enviar Assinatura"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",addSchedule:"Adicionar agendamento"},success:"Agendamento salvo com sucesso."},tagModal:{title:{add:"Nova Tag",edit:"Editar Tag",addKanban:"Nova Lane",editKanban:"Editar Lane"},form:{name:"Nome",color:"Cor",timeLane:"Tempo em minutos para redirecionar para lane",nextLaneId:"Lane",greetingMessageLane:"Mensagem de sauda\xe7\xe3o da lane",rollbackLaneId:"Voltar para Lane ap\xf3s retomar atendimento"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Tag salva com sucesso.",successKanban:"Lane salva com sucesso."},fileModal:{title:{add:"Adicionar lista de arquivos",edit:"Editar lista de arquivos"},buttons:{okAdd:"Salvar",okEdit:"Editar",cancel:"Cancelar",fileOptions:"Adicionar arquivo"},form:{name:"Nome da lista de arquivos",message:"Detalhes da lista",fileOptions:"Lista de arquivos",extraName:"Mensagem para enviar com arquivo",extraValue:"Valor da op\xe7\xe3o"},success:"Lista de arquivos salva com sucesso!"},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},uploads:{titles:{titleUploadMsgDragDrop:"\u2b07\ufe0f ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO \u2b07\ufe0f",titleFileList:"Lista de arquivo(s)"}},chatInternal:{new:"Criar grupo",modal:{conversation:"Conversa",title:"Nome",filterUsers:"Selecione integrantes",cancel:"Fechar",save:"Salvar"},modalDelete:{title:"Excluir Conversa",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"}},ticketsManager:{questionCloseTicket:"VOC\xca DESEJA FECHAR TODOS OS TICKETS?",yes:"SIM",not:"N\xc3O",buttons:{newTicket:"Novo",resolveAll:"Resolver Todos",close:"Fechar",new:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{messageHidden:"Mensagem oculta",inbox:{closedAllTickets:"Fechar todos os tickets?",closedAll:"Fechar Todos",newTicket:"Novo Ticket",yes:"SIM",no:"N\xc3O",open:"Abertos",resolverd:"Resolvidos"},toasts:{deleted:"O atendimento que voc\xea estava foi deletado."},notification:{message:"Mensagem de",messageHidden:"Mensagem oculta"},tabs:{open:{title:"Abertas"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar atendimento e mensagens",filterConections:"Filtro por Conex\xe3o",filterConectionsOptions:{open:"Aberto",closed:"Fechado",pending:"Pendente"},filterUsers:"Filtro por Usuarios",filterContacts:"Filtro por Contatos",ticketsPerPage:"Tickets por p\xe1gina"},buttons:{showAll:"Todos",returnQueue:"Devolver a Fila",scredule:"Agendamento",deleteTicket:"Deletar Ticket"},closedTicket:{closedMessage:"Fechar Ticket Com Mensagem de Despedida",closedNotMessage:"Fechar Ticket Sem Mensagem de Despedida"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione uma fila",fieldWhatsapp:"Selecione um whatsapp",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",msgTransfer:"Observa\xe7\xf5es - mensagem interna, n\xe3o vai para o cliente",buttons:{ok:"Transferir",cancel:"Cancelar"}},chatInternal:{new:"Criar grupo",modal:{conversation:"Conversa",title:"Nome",filterUsers:"Selecione integrantes",cancel:"Fechar",save:"Salvar"},modalDelete:{title:"Excluir Conversa",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"}},ticketsList:{called:"Chamado",today:"Hoje",missedCall:"Chamada de voz/v\xeddeo perdida \xe0s",pendingHeader:"Aguardando",assignedHeader:"Atendendo",groupingHeader:"Grupos",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum atendimento encontrado com esse status ou termo pesquisado",noQueue:"Sem Fila",buttons:{accept:"Aceitar",cancel:"Cancelar",start:"iniciar",closed:"Fechar",reopen:"Reabrir",transfer:"Transferir",ignore:"Ignorar",exportAsPDF:"Exportar para PDF",kanbanActions:"Op\xe7\xf5es de Kanban"},acceptModal:{title:"Aceitar Chat",queue:"Selecionar setor"}},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},SendContactModal:{title:"Enviar contato",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Enviar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",chatsTempoReal:"Painel",tickets:"Atendimentos",quickMessages:"Respostas r\xe1pidas",contacts:"Contatos",wallets:"Carteiras",queues:"Filas & Chatbot",tags:"Tags",administration:"Administra\xe7\xe3o",companies:"Empresas",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es",files:"Lista de arquivos",helps:"Ajuda",messagesAPI:"API",schedules:"Agendamentos",campaigns:"Campanhas",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financeiro",queueIntegration:"Integra\xe7\xf5es",version:"Vers\xe3o",kanban:"Kanban",prompts:"Talk.Ai",allConnections:"Gerenciar conex\xf5es",reports:"Relat\xf3rios",management:"Ger\xeancia"},appBar:{user:{profile:"Perfil",logout:"Sair",message:"Ol\xe1",messageEnd:"seja bem-vindo a",active:"Ativo at\xe9",goodMorning:"Oi,",myName:"meu nome \xe9",continuity:"e darei continuidade em seu atendimento.",virtualAssistant:"Assistente Virtual",token:"Token inv\xe1lido, por favor entre em contato com o administrador da plataforma."},message:{location:"Localiza\xe7\xe3o",contact:"Contato"},notRegister:"Nenhum registro",refresh:"Atualizar"}},languages:{undefined:"Idioma","pt-BR":"Portugu\xeas",es:"Espa\xf1ol",en:"English",tr:"T\xfcrk\xe7e"},messagesAPI:{title:"API",toSend:"ENVIAR",textMessage:{number:"N\xfamero",body:"Mensagem",token:"Token cadastrado",userId:"ID do usu\xe1rio/atendente",queueId:"ID da Fila"},mediaMessage:{number:"N\xfamero",body:"Nome do arquivo",media:"Arquivo",token:"Token cadastrado"},API:{title:"Documenta\xe7\xe3o para envio de mensagens",methods:{title:"M\xe9todos de Env\xedo",messagesText:"Mensagens de Texto",messagesMidia:"Mensagens de Media"},instructions:{title:"Instru\xe7\xf5es",comments:"Observa\xe7\xf5es Importantes",comments1:"Antes de enviar mensagens, \xe9 necess\xe1rio o cadastro do token vinculado \xe0 conex\xe3o que enviar\xe1 as mensagens. <br />Para realizar o cadastro acesse o menu 'Conex\xf5es', clique no bot\xe3o editar da conex\xe3o e insira o token no devido campo.",comments2:"O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:",codeCountry:"C\xf3digo do Pa\xeds",code:"DDD",number:"N\xfamero"},text:{title:"1. Mensagens de Texto",instructions:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"},media:{title:"2. Mensagens de Media",instructions:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"}}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o.",messageHidden:"Mensagem oculta",newMessage:"Nova mensagem de"},triggerFlowModal:{title:"Disparar Fluxo",description:"Selecione um fluxo para executar neste ticket. O ticket ser\xe1 alterado para status 'chatbot' durante a execu\xe7\xe3o.",selectFlow:"Escolha um fluxo",selectedFlow:"Fluxo selecionado",flowId:"ID do fluxo",noFlows:"Nenhum fluxo ativo encontrado",cancel:"Cancelar",trigger:"Disparar Fluxo",triggering:"Disparando...",success:"Fluxo disparado com sucesso!",error:"Erro ao disparar fluxo"},quickMessages:{title:"Respostas R\xe1pidas",searchPlaceholder:"Pesquisar...",noAttachment:"Sem anexo",confirmationModal:{deleteTitle:"Exclus\xe3o",deleteMessage:"Esta a\xe7\xe3o \xe9 irrevers\xedvel! Deseja prosseguir?"},selectMessage:"Selecionar Resposta R\xe1pida",hasMedia:"Com m\xeddia",global:"Global",noResultsFound:"Nenhuma resposta r\xe1pida encontrada para sua busca",noQuickMessages:"Nenhuma resposta r\xe1pida dispon\xedvel",buttons:{add:"Adicionar",attach:"Anexar Arquivo",cancel:"Cancelar",edit:"Editar"},toasts:{success:"Atalho adicionado com sucesso!",deleted:"Atalho removido com sucesso!"},dialog:{title:"Mensagem R\xe1pida",shortcode:"Atalho",message:"Resposta",save:"Salvar",cancel:"Cancelar",geral:"Permitir editar",add:"Adicionar",edit:"Editar",general:"Geral",visao:"Permitir vis\xe3o"},table:{shortcode:"Atalho",message:"Mensagem",actions:"A\xe7\xf5es",mediaName:"Nome do Arquivo",status:"Status"}},contactLists:{title:"Listas de Contatos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lista"},dialog:{name:"Nome",company:"Empresa",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contatos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo",lists:"Listas",import:"Importar"},dialog:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida.",importMessage:"Deseja importar os contatos desta planilha? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},kanban:{title:"Kanban",searchPlaceholder:"Pesquisa",subMenus:{list:"Painel",tags:"Lanes"}},campaigns:{title:"Campanhas",searchPlaceholder:"Pesquisa",subMenus:{list:"Listagem",listContacts:"Lista de contatos",settings:"Configura\xe7\xf5es"},settings:{randomInterval:"Intervalo Rand\xf4mico de Disparo",noBreak:"Sem Intervalo",intervalGapAfter:"Intervalo maior ap\xf3s",undefined:"N\xe3o definido",messages:"mensagens",laggerTriggerRange:"Intervalo de disparo maior",addVar:"Adicionar vari\xe1vel",save:"Salvar",close:"Fechar",add:"Adicionar",shortcut:"Atalho",content:"Conte\xfado"},buttons:{add:"Nova Campanha",contactLists:"Listas de Contatos"},table:{name:"Nome",whatsapp:"Conex\xe3o",contactList:"Lista de Contatos",option:"Nenhuma",disabled:"Desabilitada",enabled:"Habilitada",status:"Status",scheduledAt:"Agendamento",completedAt:"Conclu\xedda",confirmation:"Confirma\xe7\xe3o",actions:"A\xe7\xf5es"},dialog:{new:"Nova Campanha",update:"Editar Campanha",readonly:"Apenas Visualiza\xe7\xe3o",help:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalizadas.",form:{name:"Nome",message1:"Mensagem 1",message2:"Mensagem 2",message3:"Mensagem 3",message4:"Mensagem 4",message5:"Mensagem 5",confirmationMessage1:"Mensagem de Confirma\xe7\xe3o 1",confirmationMessage2:"Mensagem de Confirma\xe7\xe3o 2",confirmationMessage3:"Mensagem de Confirma\xe7\xe3o 3",confirmationMessage4:"Mensagem de Confirma\xe7\xe3o 4",confirmationMessage5:"Mensagem de Confirma\xe7\xe3o 5",messagePlaceholder:"Conte\xfado da mensagem",whatsapp:"Conex\xe3o",status:"Status",scheduledAt:"Agendamento",confirmation:"Confirma\xe7\xe3o",contactList:"Lista de Contato",tagList:"Tags",statusTicket:"Status do Ticket",openTicketStatus:"Aberto",pendingTicketStatus:"Pendente",closedTicketStatus:"Fechado",enabledOpenTicket:"Habilitado",disabledOpenTicket:"Desabilitado",openTicket:"Abrir ticket"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar Disparos",restart:"Reiniciar Disparos",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",cancel:"Campanha cancelada",restart:"Campanha reiniciada",deleted:"Registro exclu\xeddo"}},campaignReport:{title:"Relat\xf3rio de",inactive:"Inativa",scheduled:"Programada",process:"Em Andamento",cancelled:"Cancelada",finished:"Finalizada",campaign:"Campanha",validContacts:"Contatos V\xe1lidos",confirmationsRequested:"Confirma\xe7\xf5es Solicitadas",confirmations:"Confirma\xe7\xf5es",deliver:"Entregues",connection:"Conex\xe3o",contactLists:"Lista de Contatos",schedule:"Agendamento",conclusion:"Conclus\xe3o"},announcements:{title:"Informativos",searchPlaceholder:"Pesquisa",active:"Ativo",inactive:"Inativo",buttons:{add:"Novo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridade",title:"Title",text:"Texto",mediaName:"Arquivo",status:"Status",actions:"A\xe7\xf5es"},dialog:{edit:"Edi\xe7\xe3o de Informativo",add:"Novo Informativo",update:"Editar Informativo",readonly:"Apenas Visualiza\xe7\xe3o",form:{priority:"Prioridade",title:"Title",text:"Texto",mediaPath:"Arquivo",status:"Status",high:"Alta",medium:"M\xe9dia",low:"Baixa",active:"Ativo",inactive:"Inativo"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",deleted:"Registro exclu\xeddo"}},campaignsConfig:{title:"Configura\xe7\xf5es de Campanhas"},queues:{title:"Filas & Chatbot",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",orderQueue:"Ordena\xe7\xe3o da fila (bot)",actions:"A\xe7\xf5es",ID:"ID"},buttons:{add:"Adicionar fila"},toasts:{success:"Fila salva com sucesso",deleted:"Fila exclu[ida com sucesso"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os atendimentos dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queue:{queueData:"Dados"},queueSelect:{inputLabel:"Filas",inputLabelRO:"Filas somente leitura",withoutQueue:"Sem fila"},reports:{title:"Relat\xf3rios de Atendimentos",startDate:"Data Inicial",endDate:"Data final",table:{id:"Ticket",user:"Usu\xe1rio",dateOpen:"Data Abertura",dateClose:"Data Fechamento",NPS:"NPS",status:"Status",whatsapp:"Conex\xe3o",queue:"Fila",actions:"A\xe7\xf5es",lastMessage:"\xdalt. Mensagem",contact:"Cliente",supportTime:"Tempo de Atendimento"},buttons:{filter:"Aplicar Filtro",onlyRated:"Apenas Avaliados"},searchPlaceholder:"Pesquisar..."},queueIntegration:{title:"Integra\xe7\xf5es",table:{id:"ID",type:"Tipo",name:"Nome",projectName:"Nome do Projeto",language:"Linguagem",lastUpdate:"Ultima atualiza\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar Projeto"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! e ser\xe1 removida das filas e conex\xf5es vinculadas"}},users:{title:"Usu\xe1rios",table:{status:"Status",name:"Nome",email:"Email",profile:"Perfil",startWork:"Inicio de trabalho",endWork:"Fim de trabalho",actions:"A\xe7\xf5es",ID:"ID"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os atendimento abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},compaies:{title:"Empresas",table:{ID:"ID",status:"Ativo",name:"Nome",email:"Email",password:"Senha",phone:"Telefone",plan:"Plano",active:"Ativo",numberAttendants:"Atendentes",numberConections:"Conex\xf5es",value:"Valor",namePlan:"Nome Plano",numberQueues:"Filas",useCampaigns:"Campanhas",useExternalApi:"Rest API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"Whatsapp",useInternalChat:"Chat Interno",useSchedules:"Agendamento",createdAt:"Criada Em",dueDate:"Vencimento",lastLogin:"Ult. Login",folderSize:"Tamanho da pasta ",totalFiles:" Total de arquivos",lastUpdate:"Ultimo update",actions:"A\xe7\xf5es",money:"R$",yes:"Sim",no:"N\xe3o",document:"CNPJ/CPF",recurrence:"Recorr\xeancia",monthly:"Mensal",bimonthly:"Bimestral",quarterly:"Trimestral",semester:"Semestral",yearly:"Anual",clear:"Limpar",delete:"Excluir",user:"Usu\xe1rio",save:"Salvar",generateInvoice:"Gerar Fatura"},buttons:{add:"Adicionar empresa"},toasts:{deleted:"Empresa exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados da empresa ser\xe3o perdidos. Os tickets abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},plans:{form:{name:"Nome",users:"Usu\xe1rios",connections:"Conex\xf5es",campaigns:"Campanhas",schedules:"Agendamentos",enabled:"Habilitadas",disabled:"Desabilitadas",clear:"Cancelar",delete:"Excluir",save:"Salvar",yes:"Sim",no:"N\xe3o",money:"R$",public:"P\xfablico",trial:"Trial",trialDays:"Dias Trial"}},helps:{title:"Central de Ajuda",settings:{codeVideo:"C\xf3digo do Video",description:"Descri\xe7\xe3o",clear:"Limpar",delete:"Excluir",save:"Salvar"}},schedules:{title:"Agendamentos",date:"Data",time:"Hora",event:"Evento",allDay:"Dia Todo",week:"Semana",work_week:"Agendamentos",day:"Dia",month:"M\xeas",previous:"Anterior",next:"Pr\xf3ximo",yesterday:"Ontem",tomorrow:"Amanh\xe3",today:"Hoje",agenda:"Agenda",noEventsInRange:"N\xe3o h\xe1 agendamentos no per\xedodo.",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir este Agendamento?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{contact:"Contato",body:"Mensagem",sendAt:"Data de Agendamento",sentAt:"Data de Envio",status:"Status",actions:"A\xe7\xf5es"},buttons:{add:"Novo Agendamento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},tags:{title:"Tags",addColumns:"+ ADICIONAR COLUNAS",search:"BUSCAR",seeTicket:"VER TICKET",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Tag?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{id:"ID",name:"Nome",kanban:"Kanban",color:"Cor",tickets:"Registros Tags",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Tag"},toasts:{deleted:"Tag exclu\xeddo com sucesso."}},tagsKanban:{title:"Lanes",laneDefault:"Em aberto",backToKanban:"VOLTAR PARA O KANBAN",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Lane?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{name:"Nome",color:"Cor",tickets:"Tickets",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lane"},toasts:{deleted:"Lane exclu\xedda com sucesso."}},files:{title:"Lista de arquivos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xe3o"},toasts:{deleted:"Lista exclu\xedda com sucesso!",deletedAll:"Todas as listas foram exclu\xeddas com sucesso!"},buttons:{add:"Adicionar",deleteAll:"Deletar Todos"},confirmationModal:{deleteTitle:"Deletar",deleteAllTitle:"Deletar Todos",deleteMessage:"Tem certeza que deseja deletar esta lista?",deleteAllMessage:"Tem certeza que deseja deletar todas as listas?"}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",tabs:{options:"Op\xe7\xf5es",plans:"Planos",helps:"Ajuda",companies:"Empresas"},settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}},tabs:{options:"Op\xe7\xf5es",schedules:"Hor\xe1rios",plans:"Planos",help:"Ajuda"},options:{disabled:"Desabilitado",enabled:"Habilitado",updating:"Atualizando...",creationCompanyUser:"Cria\xe7\xe3o de Company/Usu\xe1rio",evaluations:"Avalia\xe7\xf5es",officeScheduling:"Agendamento de Expediente",queueManagement:"Gerenciamento por Fila",companyManagement:"Gerenciamento por Empresa",connectionManagement:"Gerenciamento por Conex\xe3o",sendGreetingAccepted:"Enviar sauda\xe7\xe3o ao aceitar o ticket",sendMsgTransfTicket:"Enviar mensagem transfer\xeancia de setor/atendente",checkMsgIsGroup:"Ignorar Mensagens de Grupos",chatBotType:"Tipo do Bot",userRandom:"Escolher atendente aleat\xf3rio",buttons:"Bot\xf5es",acceptCallWhatsapp:"Informar que n\xe3o aceita liga\xe7\xe3o no whatsapp?",sendSignMessage:"Permite atendente escolher ENVIAR Assinatura",sendGreetingMessageOneQueues:"Enviar sauda\xe7\xe3o quando houver somente 1 fila",sendQueuePosition:"Enviar mensagem com a posi\xe7\xe3o da fila",sendFarewellWaitingTicket:"Enviar mensagem de despedida no Aguardando",acceptAudioMessageContact:"Aceita receber audio de todos contatos?",enableLGPD:"Habilitar tratamento LGPD",requiredTag:"Tag obrigatoria para fechar ticket",closeTicketOnTransfer:"Fechar ticket ao transferir para outra fila",DirectTicketsToWallets:"Mover automaticamente cliente para carteira",showNotificationPending:"Mostrar notifica\xe7\xe3o para tickets pendentes",copyContactPrefix:"Sigla para C\xf3pia de Contatos",copyContactPrefixPlaceholder:"Ex: COPIA_"},customMessages:{sendQueuePositionMessage:"Mensagem de posi\xe7\xe3o na fila",AcceptCallWhatsappMessage:"Mensagem para informar que n\xe3o aceita liga\xe7\xf5es",greetingAcceptedMessage:"Mensagem de Sauda\xe7\xe3o ao aceitar ticket",transferMessage:"Mensagem de transfer\xeancia - ${queue.name} = fila destino"},LGPD:{title:"LGPD",welcome:"Mensagem de boas vindas(LGPD)",linkLGPD:"Link da pol\xedtica de privacidade",obfuscateMessageDelete:"Ofuscar mensagem apagada",alwaysConsent:"Sempre solicitar consentimento",obfuscatePhoneUser:"Ofuscar n\xfamero telefone para usu\xe1rios",enabled:"Habilitado",disabled:"Desabilitado"}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",dialogRatingTitle:"Deseja deixar uma avalia\xe7\xe3o de atendimento para o cliente?",dialogClosingTitle:"Finalizando o atendimento com o cliente!",dialogRatingCancel:"Resolver COM Mensagem de Despedida",dialogRatingSuccess:"Resolver e Enviar Avalia\xe7\xe3o",dialogRatingWithoutFarewellMsg:"Resolver SEM Mensagem de Despedida",ratingTitle:"Escolha um menu de avalia\xe7\xe3o",notMessage:"Nenhuma mensagem selecionada",amount:"Valor de prospec\xe7\xe3o",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar",rating:"Enviar Avalia\xe7\xe3o",enableIntegration:"Habilitar integra\xe7\xe3o",disableIntegration:"Desabilitar integra\xe7\xe3o",logTicket:"Logs do Ticket",requiredTag:"Voc\xea deve atribuir uma tag antes de fechar o ticket.",greetingAcceptedMessage:"Voc\xea deve configurar uma mensagem de sauda\xe7\xe3o ao aceitar o ticket."}}},messagesInput:{placeholderPrivateMessage:"Digite uma mensagem ou aperte / para respostas r\xe1pidas",placeholderOpen:"Digite uma mensagem ou aperte / para respostas r\xe1pidas",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar",privateMessage:"Mensagem Privada"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato",block:"Bloquear",unblock:"Desbloquear"},extraInfo:"Outras informa\xe7\xf5es"},messageVariablesPicker:{label:"Variav\xe9is dispon\xedveis",vars:{contactFirstName:"Primeiro Nome",contactName:"Nome",user:"Atendente",greeting:"Sauda\xe7\xe3o",protocolNumber:"Protocolo",date:"Data",hour:"Hora",ticket_id:"N\xba do Chamado",queue:"Setor",connection:"Conex\xe3o"}},ticketOptionsMenu:{schedule:"Agendamento",delete:"Deletar",transfer:"Transferir",registerAppointment:"Observa\xe7\xf5es do Contato",resolveWithNoFarewell:"Finalizar sem despedida",acceptAudioMessage:"Aceitar \xe1udios do contato?",appointmentsModal:{title:"Observa\xe7\xf5es do Ticket",textarea:"Observa\xe7\xe3o",placeholder:"Insira aqui a informa\xe7\xe3o que deseja registrar"},confirmationModal:{title:"Deletar o ticket do contato",titleFrom:"do contato ",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageInput:{tooltip:{signature:"Habilitar/Desabilitar Assinatura",privateMessage:"Habilitar/Desabilitar Mensagem Privada",meet:"Enviar link para videoconferencia",triggerFlow:"Disparar Fluxo"},type:{imageVideo:"Fotos e v\xeddeos",cam:"C\xe2mera",contact:"Contato",meet:"V\xeddeo chamada",template:"Template Meta"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",edit:"Editar",forward:"Encaminhar",toForward:"Encaminhar",talkTo:"Conversar Com",transcription:"Transcrever \xc1udio",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},invoices:{table:{invoices:"Faturas",details:"Detalhes",users:"Usu\xe1rios",connections:"Conex\xf5es",queue:"Filas",value:"Valor",expirationDate:"Data Venc.",action:"A\xe7\xe3o"}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila.",ERR_OUT_OF_HOURS:"Fora do Hor\xe1rio de Expediente!"},messagesAPIInstructions:{endpoint:"Endpoint:",method:"M\xe9todo:",post:"POST",headers:"Headers:",headerAuthorization:"Authorization Bearer (token registrado) e Content-Type (application/json)",body:"Body:",fieldNumber:'"number": "558599999999"',fieldBody:'"body": "Mensagem"',fieldUserId:'"userId": ID do usu\xe1rio ou ""',fieldQueueId:'"queueId": ID da Fila ou ""',fieldSendSignature:'"sendSignature": Assinar mensagem - true/false',fieldCloseTicket:'"closeTicket": Encerrar o ticket - true/false',singMessage:"Assinar mensagem - true/false",closeTicket:"Encerrar o ticket - true/false",testSend:"Teste de envio"},recurrenceSection:{title:"Recorr\xeancia",description:"Voc\xea pode escolher enviar a mensagem de forma recorrente e escolher o intervalo. Caso seja uma mensagem a ser enviada uma \xfanica vez, n\xe3o altere nada nesta se\xe7\xe3o.",labelInterval:"Intervalo",intervalFilterValue:"Valor do Intervalo",sendAsManyTimes:" Enviar quantas vezes",shipNormallyOnNonbusinessDays:" Enviar normalmente em dias n\xe3o \xfateis",sendOneBusinessDayBefore:"Enviar um dia \xfatil antes",sendOneBusinessDayLater:"Enviar um dia \xfatil depois",options:{days:"Dias",weeks:"Semanas",months:"Meses",minutes:"Minutos"}},servicePanel:{allowRealTime:"Painel de Atendimentos"},financial:{invoices:"Faturas",details:"Detalhes",users:"Usu\xe1rios",connections:"Conex\xf5es",queues:"Filas",value:"Valor",expirationDate:"Data Venc.",status:"Status",action:"A\xe7\xe3o"},statusFilter:{statusFilter:"Filtro por Status"},momentsUser:{services:"Atendimentos:",pending:"Pendentes",noqueue:"SEM FILA"},campaignsPhrase:{campaignsFlow:"Fluxo de Campanhas",campaigns:"Campanhas",name:"Nome",status:"Status",newCampaignWithFlowByPhrase:"Nova campanha com fluxo por frase",editCampaignWithFlowByPhrase:"Editar campanha com fluxo por frase",phraseTriggerName:"Nome do disparo por frase",chooseAStream:"Escolha um fluxo",whichPhraseTriggersTheFlow:" Qual frase dispara o fluxo?",selectAConnection:" Selecione uma Conex\xe3o",chooseAStream:" Escolha um fluxo",status:" Status",cancel:"CANCELAR",createCampaign:"CRIAR CAMPANHA ",saveCampaign:"Salvar Campanha"},whatsappModalRel:{form:{isOficial:"Relat\xf3rio do Atendimento",ticketId:"ID do Ticket",client:"Cliente",number:"N\xfamero",agent:"Atendente",date:"Data",lastMessage:"\xdaltima Mensagem",fullReport:"O relat\xf3rio completo foi anexado acima",resolveAndTriggerIntegration:"Resolver e Disparar Integra\xe7\xe3o",elementNotFoundForExport:"Elemento n\xe3o encontrado para exportar.",reportFilename:"relat\xf3rio_atendimento"}},chatList:{noMessages:"Nenhuma mensagem",admin:"Administrador",member:"Membro",searchChat:"Procurar chat...",createNewChat:"Criar novo chat",searchUser:"Procurar usu\xe1rio...",noUserFound:"Nenhum usu\xe1rio encontrado",noUserAvailable:"Nenhum usu\xe1rio dispon\xedvel",cancel:"Cancelar",details:"Detalhes",deleteChat:"Excluir Conversa",deleteChatConfirm:"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?",detailsTitle:"Detalhes",edit:"Editar",delete:"Excluir",now:"agora",minutesAgo:"{{count}}m atr\xe1s",hoursAgo:"{{count}}h atr\xe1s"},chatMessages:{deleted:"Esta mensagem foi apagada",deletedAdmin:"Mensagem apagada - vis\xedvel apenas para administradores",reply:"Responder",edit:"Editar",delete:"Excluir",forward:"Encaminhar",editMessage:"Editar Mensagem",save:"Salvar",cancel:"Cancelar",deleteMessage:"Deletar Mensagem",deleteMessageConfirm:"Tem certeza que deseja deletar esta mensagem?",forwardMessage:"Encaminhar Mensagem",selectChat:"Selecione o chat",doubleClickToReply:"Clique duas vezes para responder",edited:"(editada)",forwarded:"(encaminhada)",typeMessage:"Digite uma mensagem...",send:"Enviar",noMessages:"Nenhuma mensagem",loading:"Carregando...",replyingTo:"Respondendo a",clickToGoToOriginal:"Clique para ir at\xe9 a mensagem original"},chatPopover:{reply:"Responder",edit:"Editar",delete:"Excluir",forward:"Encaminhar",cancel:"Cancelar",confirmDelete:"Confirmar Exclus\xe3o",confirm:"Confirmar",deleteMessage:"Tem certeza que deseja excluir esta mensagem?",editMessage:"Editar Mensagem",save:"Salvar",forwardMessage:"Encaminhar Mensagem",selectChat:"Selecione o chat",forward:"Encaminhar",noChats:"Nenhum chat dispon\xedvel"},chatIndex:{chats:"Chats",groups:"Grupos",new:"Novo",messages:"Mensagens",search:"Buscar...",noChats:"Nenhum chat encontrado",noGroups:"Nenhum grupo encontrado",noMessages:"Nenhuma mensagem",loading:"Carregando...",error:"Erro ao carregar dados",addGroupPhoto:"Adicionar Foto do Grupo",changeGroupPhoto:"Alterar Foto do Grupo",groupName:"Nome do Grupo",groupDescription:"Descri\xe7\xe3o do Grupo",save:"Salvar",cancel:"Cancelar",createGroup:"Criar Grupo",editGroup:"Editar Grupo",deleteGroup:"Deletar Grupo",deleteGroupConfirm:"Tem certeza que deseja deletar este grupo?",edit:"Editar",delete:"Excluir",details:"Detalhes",groupDetails:"Detalhes do Grupo",title:"T\xedtulo",description:"Descri\xe7\xe3o",modal:{title:"Criar grupo",name:"Nome do grupo",description:"Descri\xe7\xe3o do grupo",create:"Criar",cancel:"Cancelar",save:"Salvar",edit:"Editar"},modal:{title:"Criar Grupo",editTitle:"Editar Grupo",save:"Salvar",cancel:"Cancelar"}},whitelabel:{primaryColorLight:"Cor Prim\xe1ria (Tema Claro)",primaryColorDark:"Cor Prim\xe1ria (Tema Escuro)",appName:"Nome da Aplica\xe7\xe3o",logoLight:"Logo (Tema Claro)",logoDark:"Logo (Tema Escuro)",favicon:"Favicon",backgroundLight:"Imagem de Fundo (Tema Claro)",backgroundDark:"Imagem de Fundo (Tema Escuro)",preview:"Visualizar",delete:"Excluir",upload:"Enviar",availableLanguages:"Idiomas Dispon\xedveis",atLeastOneLanguage:"Pelo menos um idioma deve estar habilitado",sections:{general:"Configura\xe7\xf5es Gerais",generalDescription:"Configure o nome e informa\xe7\xf5es b\xe1sicas da aplica\xe7\xe3o",colors:"Cores e Temas",colorsDescription:"Personalize as cores prim\xe1rias para temas claro e escuro",logos:"Logos e Imagens",logosDescription:"Carregue os logos e imagens de fundo da aplica\xe7\xe3o",languages:"Idiomas Dispon\xedveis",languagesDescription:"Selecione quais idiomas estar\xe3o dispon\xedveis no sistema"}}}}}),{en:{translations:{signup:{title:"Sign Up",toasts:{success:"User successfully created! Please log in!",disabled:"User registration is currently disabled. Please try again later.",fail:"Error creating user. Please check the provided data."},form:{name:"Name",email:"Email",password:"Password",company:"Organization Name",phone:"WhatsApp (Area Code + Number)"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",welcome:"Welcome back",loginInstruction:"Enter your credentials to access your account",form:{email:"Email",password:"Password",button:"Access"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},companies:{title:"Register Company",form:{name:"Company Name",plan:"Plan",token:"Token",submit:"Register",success:"Company successfully created!"}},auth:{toasts:{success:"Login successful!"},dueDate:{expiration:"Your subscription expires in",days:"days!",day:"day!",expirationToday:"Your subscription expires today!"},token:"Token"},dashboard:{filters:"Filters",filter:"FILTER ",tabs:{indicators:"Indicators",assessments:"NPS",attendants:"Agents"},charts:{perDay:{title:"Attendances today: "}},cards:{inAttendance:"In Attendance",waiting:"Waiting",activeAttendants:"Active Agents",finalized:"Finalized",newContacts:"New Contacts",totalReceivedMessages:"Received Messages",totalSentMessages:"Sent Messages",averageServiceTime:"Average Service Time",averageWaitingTime:"Average Waiting Time",status:"Status (Current)",activeTickets:"Active Tickets",passiveTickets:"Passive Tickets",groups:"Groups"},users:{name:"Name",numberAppointments:"Number of Attendances",statusNow:"Current Status",totalCallsUser:"Total Attendances per User",totalAttendances:"Total Attendances"},date:{initialDate:"Start Date",finalDate:"End Date"},licence:{available:"Available until"},assessments:{totalCalls:"Total Attendances",callsWaitRating:"Attendances Waiting for Rating",callsWithoutRating:"Attendances Without Rating",ratedCalls:"Rated Attendances",evaluationIndex:"Evaluation Index",score:"Score",prosecutors:"Promoters",neutral:"Neutral",detractors:"Detractors"}},reports:{title:"Research Reports",operator:"Operator",period:"Period",until:"Until",date:"Date",reportTitle:"Reports",calls:"Attendances",search:"Surveys",durationCalls:"Attendance Duration",grupoSessions:"Group Attendances",groupTicketsReports:{timezone:"America/Sao_Paulo",msgToast:"Generating compressed report, please wait.",errorToast:"Error generating report",back:"Back",groupServiceReport:"Group Attendance Report",loading:"Loading...",contact:"Contact",dateOpen:"Opening Date",dateLastUpdated:"Last Update Date",agent:"Agent",agentClosed:"Agent who closed",waitingAssistance:"Waiting for Service",process:"In Service"},researchReports:{response:"Response",active:"(Active)",inactive:"(Inactive)",quantity:"Quantity",percentage:"Percentage",title:"Research Reports",activeSearch:"Active Survey",inactiveSearch:"Inactive Survey"},ticketDurationDetail:{msgToast:"Generating compressed report, please wait.",title:"Attendance Duration Report",startService:"Start of Attendance",lastUpdated:"Last Updated",lastAgent:"Last Agent",durationFinished:"Duration After Closing"},ticketDuration:{title:"Attendance Duration Report",contact:"Contact",open:"Open",pending:"Pending",finished:"Finished",durationFinished:"Duration of Finished Attendances",durationAfterFinished:"Duration After Closing",actions:"Actions"},ticketReports:{msgToast:"Generating compressed report, please wait.",title:"Attendance Report"},exportExcel:{title:"Attendance Reports",startDate:"Start date",endDate:"End date",notInformed:"Not informed",columns:{id:"ID",connection:"Connection",contact:"Contact",user:"User",queue:"Queue",status:"Status",lastMessage:"Last Message",openDate:"Open Date",openTime:"Open Time",closeDate:"Close Date",closeTime:"Close Time",supportTime:"Support Time",nps:"NPS"}},pdf:{title:"List of Completed Attendances",exportTitle:"List of Completed Group Attendances"}},todo:{newTask:"New Task",add:"Add",task:"Tasks"},contactImportWpModal:{title:"Export Contacts to Excel",buttons:{downloadModel:"Download Excel template for import",closed:"Close",import:"Select Excel file to import Contacts"}},connections:{title:"Connections",waitConnection:"Please wait... Your connections will be restarted!",newConnection:"New Connection",restartConnections:"Restart Connections",callSupport:"Call Support",connectYourServiceChannelsToReceiveMessagesAndStartConversationsWithYourCustomers:" Connect your service channels to receive messages and start conversations with your customers.",client:"Client",connectedConnections:"Connected connections",disconnectedConnections:"Disconnected connections",totalConnections:"Total connections",total:"Total",connections:" Connections:",toasts:{deleted:"Connection successfully deleted!",closedimported:"Closing imported tickets, please wait a few moments."},confirmationModal:{closedImportedTitle:"Close imported tickets",closedImportedMessage:"If you confirm, all imported tickets will be closed.",deleteTitle:"Delete",deleteMessage:"Are you sure? This action cannot be undone.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You will need to scan the QR Code again."},buttons:{add:"Add Connection",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",closedImported:"Close all imported tickets",preparing:"Preparing messages for import",importing:"Importing WhatsApp Messages",processed:"Processed",in:"of",connecting:"Connecting"},typography:{processed:"Processed",in:"of",date:"Message Date"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your phone is connected to the internet and try again, or request a new QR Code."},qrcode:{title:"Waiting for QR Code scan",content:"Click the 'QR CODE' button and scan the QR Code with your phone to start the session."},connected:{title:"Connection established!"},timeout:{title:"Connection with the phone was lost",content:"Make sure your phone is connected to the internet and WhatsApp is open, or click 'Disconnect' to get a new QR Code."}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session",number:"WhatsApp Number",color:"Color"}},showTicketOpenModal:{title:{header:"Existing Attendance"},form:{message:"This contact is already being attended to:",user:"Agent",queue:"Queue",messageWait:"This contact is already waiting for service. Check the Waiting tab!"}},showTicketLogModal:{title:{header:"Logs"},options:{create:"Ticket created.",chatBot:"ChatBot started.",queue:" - Queue assigned.",open:" started the service.",access:"accessed the ticket.",transfered:"transferred the ticket.",receivedTransfer:"received the transferred ticket.",pending:"returned to the queue.",closed:"closed the ticket.",reopen:"reopened the ticket.",redirect:"- redirected",clientClosed:"Client closed the ticket."}},whatsappModal:{title:{add:"Add Connection",edit:"Edit Connection"},tabs:{general:"General",messages:"Messages",assessments:"NPS",integrations:"Integrations",schedules:"Business Hours"},form:{importOldMessagesEnable:"Import messages from device",importOldMessages:"Start date of import",importRecentMessages:"End date of import",importOldMessagesGroups:"Import group messages",closedTicketsPostImported:"Close tickets after import",name:"Name",queueRedirection:"Queue Redirection",queueRedirectionDesc:"Select a queue for contacts without an assigned queue",default:"Default",group:"Allow groups",timeSendQueue:"Time in minutes to redirect to queue",importAlert:"WARNING: Saving will terminate your connection. You will need to scan the QR Code again to import messages.",groupAsTicket:"Treat groups as ticket",timeCreateNewTicket:"Create a new ticket after X minutes",maxUseBotQueues:"Send bot X times",maxUseInactiveTime:"Send inactivity flow X times",timeUseBotQueues:"Send bot in X minutes",timeToReturnQueue:"Time to return to queue in minutes",timeAwaitActiveFlow:"Time to wait for active flow",expiresTicket:"Close open chats after X minutes",expiresTicketNPS:"Close chats awaiting evaluation after X minutes",maxUseBotQueuesNPS:"Max times evaluation is sent",closeLastMessageOptions1:"From agent/client",closeLastMessageOptions2:"From agent only",outOfHoursMessage:"Out-of-hours message",greetingMessage:"Greeting message",complationMessage:"Completion message",lgpdLinkPrivacy:"Privacy policy link",lgpdMessage:"LGPD greeting message",lgpdDeletedMessages:"Obfuscate messages deleted by contact",lgpdSendMessage:"Always request contact confirmation",ratingMessage:"Evaluation message - Scale must be from 0 to 10",token:"Token for external integration",sendIdQueue:"Queue",inactiveMessage:"Inactivity warning message",timeInactiveMessage:"Time in minutes to send inactivity warning",flowInactiveTime:"Time in minutes to send inactivity flow",whenExpiresTicket:"Close chats when the last message is",expiresInactiveMessage:"Inactivity closure message",prompt:"Prompt",collectiveVacationEnd:"End date",collectiveVacationStart:"Start date",collectiveVacationMessage:"Collective vacation message",queueIdImportMessages:"Queue for message import",isOficial:"Official",phone_number_id:"Phone Number ID",waba_id:"WABA ID",send_token:"Sending token",business_id:"Business ID",phone_number:"Phone number",triggerIntegrationOnClose:"Trigger Integration on Ticket Close",enableIntegration:"Habilited Integration"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},menuItem:{enabled:"Enabled",disabled:"Disabled",minutes:"minutes"},success:"Connection saved successfully.",errorSendQueue:"You set a redirection time but no queue was selected. Both fields are required.",errorExpiresNPS:"A timeout must be set for NPS evaluation.",errorRatingMessage:"An evaluation message must be provided for NPS."},qrCode:{message:"Scan the QR Code to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact successfully deleted!"},searchPlaceholder:"Search...",conversationFlows:" Conversation Flows",addFlow:"Add Flow",editFlow:"Edit Flow ",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import Contacts",exportContact:"Export Contacts",deleteMessage:"Are you sure you want to delete this contact? All related attendances will be lost.",blockContact:"Are you sure you want to block this contact?",unblockContact:"Are you sure you want to unblock this contact?",importMessage:"Do you want to import all contacts from the phone?",importChat:"Import Chats",wantImport:"Do you want to import all chats from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact",export:"Export Contact"},table:{name:"Name",whatsapp:"Connection",email:"Email",actions:"Actions",lastMessage:"Last Message"},menu:{importYourPhone:"Import from default device",importToExcel:"Import/Export from Excel",importexport:"IMPORT / EXPORT "}},forwardMessage:{text:"Forwarded"},forwardMessageModal:{title:"Forward Message",buttons:{ok:"Forward"}},promptModal:{form:{name:"Name",prompt:"Prompt",voice:"Voice",max_tokens:"Maximum Tokens in Response",temperature:"Temperature",apikey:"API Key",max_messages:"Maximum Messages in History",voiceKey:"Voice API Key",voiceRegion:"Voice Region"},success:"Prompt saved successfully!",title:{add:"Add Prompt",edit:"Edit Prompt"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},prompts:{title:"Prompts",table:{name:"Name",queue:"Sector/Queue",max_tokens:"Max Tokens in Response",actions:"Actions"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? This action cannot be undone!"},buttons:{add:"Add Prompt"}},contactModal:{title:{add:"Add Contact",edit:"Edit Contact"},form:{mainInfo:"Contact Data",extraInfo:"Additional Information",name:"Name",number:"WhatsApp Number",email:"Email",extraName:"Field Name",extraValue:"Value",chatBotContact:"Disable Chatbot",termsLGDP:"LGPD Terms accepted on:",whatsapp:"Origin Connection:"},buttons:{addExtraInfo:"Add Information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully.",walletLinked:"Contact linked to your wallet successfully!",walletError:"User has no associated queues",saveFirst:"Contact must be saved first"},wallets:{title:"Contact Wallets",searchPlaceholder:"Search contacts...",filterByUser:"Filter by User",allUsers:"All users",contact:"Contact",user:"User",queue:"Queue",phone:"Phone",email:"Email",actions:"Actions",editWallet:"Edit Wallet",selectUser:"Select User",selectQueue:"Select Queue",selectUserAndQueue:"Select a user and queue",cancel:"Cancel",save:"Save",confirmDeleteTitle:"Confirm Deletion",confirmDeleteMessage:"Are you sure you want to remove this contact from the wallet?",deleteSuccess:"Contact removed from wallet successfully!",updateSuccess:"Wallet updated successfully!"},queueModal:{title:{queueData:"Queue Data",text:"Business Hours",add:"Add Queue",edit:"Edit Queue",confirmationDelete:"Are you sure? All integration options will be deleted."},form:{name:"Name",color:"Color",orderQueue:"Queue Order (Bot)",rotate:"Rotation",timeRotate:"Rotation Time",typeRandomMode:"Rotation Type",greetingMessage:"Greeting Message",complationMessage:"Completion Message",outOfHoursMessage:"Out-of-Hours Message",token:"Token",integrationId:"Integration",fileListId:"File List",closeTicket:"Close Ticket",queueType:"Menu Type",message:"Return Message",queue:"Transfer Queue",integration:"Integration",file:"File List"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},bot:{title:"Options",toolTipTitle:"Add options to build a chatbot",toolTip:"If there is only one option, it will be automatically chosen, and the bot will respond with the message and proceed",selectOption:"Select an Option",text:"Text",attendent:"Agent",queue:"Queue",integration:"Integration",file:"File",toolTipMessageTitle:"Message is required to proceed to the next level",toolTipMessageContent:"Message is required to proceed to the next level",selectUser:"Select a User",selectQueue:"Select a Queue",selectIntegration:"Select an Integration",addOptions:"Add Options"},serviceHours:{dayWeek:"Day of the Week",startTimeA:"Start Time - Shift A",endTimeA:"End Time - Shift A",startTimeB:"Start Time - Shift B",endTimeB:"End Time - Shift B",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}},queueIntegrationModal:{title:{add:"Add Project",edit:"Edit Project"},form:{id:"ID",type:"Type",name:"Name",projectName:"Project Name",language:"Language",jsonContent:"JSON Content",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Expiration time in minutes",typebotKeywordFinish:"Keyword to finish the ticket",typebotKeywordRestart:"Keyword to restart the flow",typebotRestartMessage:"Message when restarting the conversation",typebotUnknownMessage:"Invalid option message",typebotDelayMessage:"Delay (ms) between messages"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel",test:"Test Bot"},messages:{testSuccess:"Integration tested successfully!",addSuccess:"Integration added successfully.",editSuccess:"Integration edited successfully."}},userModal:{warning:"To import messages, you must scan the QR Code again!",title:{add:"Add User",edit:"Edit User",updateImage:"Update Image",removeImage:"Delete Image"},form:{name:"Name",email:"Email",password:"Password",farewellMessage:"Farewell Message",profile:"Profile",startWork:"Work Start Time",endWork:"Work End Time",whatsapp:"Default Connection",allTicketEnable:"Enabled",allTicketDisable:"Disabled",allTicket:"View Tickets Without Queue",allowGroup:"Allow Groups",defaultMenuOpen:"Open",defaultMenuClosed:"Closed",defaultMenu:"Default Menu",defaultTheme:"Default Theme",defaultThemeDark:"Dark",defaultThemeLight:"Light",allHistoric:"View Conversations from Other Queues",allHistoricEnabled:"Enabled",allHistoricDisabled:"Disabled",allUserChat:"View Other Users' Conversations",userClosePendingTicket:"Allow Closing Pending Tickets",showDashboard:"View Dashboard",allowRealTime:"View Real-Time Panel",allowConnections:"Allow Actions on Connections",showContacts:"View Contacts",showCampaign:"View Campaigns"},tabs:{general:"General",permissions:"Permissions"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel",addImage:"Add Image",editImage:"Edit Image"},success:"User saved successfully."},companyModal:{title:{add:"Add Company",edit:"Edit Company"},form:{name:"Name",email:"Email",passwordDefault:"Password",numberAttendants:"Users",numberConections:"Connections"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Company saved successfully."},scheduleModal:{title:{add:"New Schedule",edit:"Edit Schedule",message:"Message"},form:{body:"Message",contact:"Contact",sendAt:"Scheduled Date",sentAt:"Sent Date",assinar:"Send Signature"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel",addSchedule:"Add Schedule"},success:"Schedule saved successfully."},tagModal:{title:{add:"New Tag",edit:"Edit Tag",addKanban:"New Lane",editKanban:"Edit Lane",backToKanban:"BACK TO KANBAN"},form:{name:"Name",color:"Color",timeLane:"Time in minutes to redirect to lane",nextLaneId:"Lane",greetingMessageLane:"Lane Greeting Message",rollbackLaneId:"Return to Lane after resuming attendance"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Tag saved successfully.",successKanban:"Lane saved successfully."},fileModal:{title:{add:"Add File List",edit:"Edit File List"},buttons:{okAdd:"Save",okEdit:"Edit",cancel:"Cancel",fileOptions:"Add File"},form:{name:"File List Name",message:"List Details",fileOptions:"File List",extraName:"Message to send with file",extraValue:"Option Value"},success:"File list saved successfully!"},chat:{noTicketMessage:"Select a ticket to start chatting."},uploads:{titles:{titleUploadMsgDragDrop:"\u2b07\ufe0f DRAG AND DROP FILES BELOW \u2b07\ufe0f",titleFileList:"File List"}},chatInternal:{new:"New group",modal:{conversation:"Conversation",title:"Title",filterUsers:"Filter by Users",cancel:"Close",save:"Save"},modalDelete:{title:"Delete Conversation",message:"This action cannot be undone, confirm?"}},ticketsManager:{questionCloseTicket:"DO YOU WANT TO CLOSE ALL TICKETS?",yes:"YES",not:"NO",buttons:{newTicket:"New",resolveAll:"Resolve All",close:"Close",new:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{inbox:{closedAllTickets:"Close all tickets?",closedAll:"Close All",newTicket:"New Ticket",yes:"YES",no:"NO",open:"Open",resolverd:"Resolved"},toasts:{deleted:"The attendance you were handling has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Open"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search attendance and messages",filterConections:"Filter by Connection",filterConectionsOptions:{open:"Open",closed:"Closed",pending:"Pending"},filterUsers:"Filter by Users",filterContacts:"Filter by Contacts",ticketsPerPage:"Tickets per page"},buttons:{showAll:"All",returnQueue:"Return to Queue",scredule:"Schedule",deleteTicket:"Delete Ticket"},closedTicket:{closedMessage:"Close Ticket With Farewell Message",closedNotMessage:"Close Ticket Without Farewell Message"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",fieldQueueLabel:"Transfer to Queue",fieldQueuePlaceholder:"Select a queue",fieldWhatsapp:"Select a WhatsApp",noOptions:"No users found with that name",msgTransfer:"Notes - internal message, will not be sent to the client",buttons:{ok:"Transfer",cancel:"Cancel"}},chatInternal:{new:"New group",modal:{conversation:"Conversation",title:"Title",filterUsers:"Filter by Users",cancel:"Close",save:"Save"},modalDelete:{title:"Delete Conversation",message:"This action cannot be undone, confirm?"}},ticketsList:{called:"Call",today:"Today",missedCall:"Missed voice/video call at",pendingHeader:"Waiting",assignedHeader:"In Attendance",groupingHeader:"Groups",noTicketsTitle:"Nothing here!",noTicketsMessage:"No attendances found with this status or search term",noQueue:"No Queue",buttons:{accept:"Accept",cancel:"Cancel",start:"Start",closed:"Close",reopen:"Reopen",transfer:"Transfer",ignore:"Ignore",exportAsPDF:"Export to PDF",kanbanActions:"Kanban Options"},acceptModal:{title:"Accept Chat",queue:"Select Sector"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},SendContactModal:{title:"Send Contact",fieldLabel:"Type to search for contact",add:"Add",buttons:{ok:"Send",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",chatsTempoReal:"Real-Time Panel",tickets:"Attendances",quickMessages:"Quick Replies",contacts:"Contacts",wallets:"Wallets",queues:"Queues & Chatbot",tags:"Tags",administration:"Administration",companies:"Companies",users:"Users",settings:"Settings",files:"File Lists",helps:"Help Center",messagesAPI:"API",schedules:"Schedules",campaigns:"Campaigns",annoucements:"Announcements",chats:"Internal Chat",financeiro:"Financial",queueIntegration:"Integrations",version:"Version",kanban:"Kanban",prompts:"Talk.AI",allConnections:"Manage Connections",reports:"Reports",management:"Management"},appBar:{user:{profile:"Profile",logout:"Logout",message:"Hello",messageEnd:"welcome to",active:"Active until",goodMorning:"Hi,",myName:"my name is",continuity:"and I will continue your service.",virtualAssistant:"Virtual Assistant",token:"Invalid token, please contact the platform administrator."},message:{location:"Location",contact:"Contact"},notRegister:"No records found",refresh:"Refresh"}},languages:{undefined:"Language","pt-BR":"Portuguese",es:"Spanish",en:"English",tr:"Turkish"},messagesAPI:{title:"API",toSend:"TO SEND",textMessage:{number:"Number",body:"Message",token:"Registered Token",userId:"User/Agent ID",queueId:"Queue ID"},mediaMessage:{number:"Number",body:"File Name",media:"File",token:"Registered Token"},API:{title:"Message Sending Documentation",methods:{title:"Sending Methods",messagesText:"Text Messages",messagesMidia:"Media Messages"},instructions:{title:"Instructions",comments:"Important Notes",comments1:"Before sending messages, it is necessary to register the token linked to the connection that will send the messages. <br />To register, access the 'Connections' menu, click the edit button on the connection, and insert the token in the appropriate field.",comments2:"The sending number must not have a mask or special characters and must be composed of:",codeCountry:"Country Code",code:"Area Code (DDD)",number:"Phone Number"},text:{title:"1. Text Messages",instructions:"Below is the list of required information to send text messages:"},media:{title:"2. Media Messages",instructions:"Below is the list of required information to send media messages:"}}},notifications:{noTickets:"No notifications."},quickMessages:{title:"Quick Replies",searchPlaceholder:"Search...",noAttachment:"No attachment",confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action is irreversible! Do you want to proceed?"},buttons:{add:"Add",attach:"Attach File",cancel:"Cancel",edit:"Edit"},toasts:{success:"Shortcut added successfully!",deleted:"Shortcut removed successfully!"},dialog:{title:"Quick Message",shortcode:"Shortcut",message:"Response",save:"Save",cancel:"Cancel",general:"General",geral:"Allow Editing",add:"Add",edit:"Edit",visao:"Allow Viewing"},table:{shortcode:"Shortcut",message:"Message",actions:"Actions",mediaName:"File Name",status:"Status"}},contactLists:{title:"Contact Lists",table:{name:"Name",contacts:"Contacts",actions:"Actions"},buttons:{add:"New List"},dialog:{name:"Name",company:"Company",okEdit:"Edit",okAdd:"Add",add:"Add",edit:"Edit",cancel:"Cancel"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action cannot be undone."},toasts:{deleted:"Record deleted successfully."}},contactListItems:{title:"Contacts",searchPlaceholder:"Search",buttons:{add:"New",lists:"Lists",import:"Import"},dialog:{name:"Name",number:"Number",whatsapp:"WhatsApp",email:"Email",okEdit:"Edit",okAdd:"Add",add:"Add",edit:"Edit",cancel:"Cancel"},table:{name:"Name",number:"Number",whatsapp:"WhatsApp",email:"Email",actions:"Actions"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action cannot be undone.",importMessage:"Do you want to import the contacts from this spreadsheet?",importTitlte:"Import"},toasts:{deleted:"Record deleted successfully."}},kanban:{title:"Kanban",searchPlaceholder:"Search",subMenus:{list:"Board",tags:"Lanes"}},campaigns:{title:"Campaigns",searchPlaceholder:"Search",subMenus:{list:"Listing",listContacts:"Contact List",settings:"Settings"},settings:{randomInterval:"Random Sending Interval",noBreak:"No Interval",intervalGapAfter:"Longer interval after",undefined:"Undefined",messages:"messages",laggerTriggerRange:"Larger Sending Interval",addVar:"Add Variable",save:"Save",close:"Close",add:"Add",shortcut:"Shortcut",content:"Content"},buttons:{add:"New Campaign",contactLists:"Contact Lists"},table:{name:"Name",whatsapp:"Connection",contactList:"Contact List",option:"None",disabled:"Disabled",enabled:"Enabled",status:"Status",scheduledAt:"Scheduled",completedAt:"Completed",confirmation:"Confirmation",actions:"Actions"},dialog:{new:"New Campaign",update:"Edit Campaign",readonly:"View Only",help:"Use variables like {name}, {number}, {email}, or define custom variables.",form:{name:"Name",message1:"Message 1",message2:"Message 2",message3:"Message 3",message4:"Message 4",message5:"Message 5",confirmationMessage1:"Confirmation Message 1",confirmationMessage2:"Confirmation Message 2",confirmationMessage3:"Confirmation Message 3",confirmationMessage4:"Confirmation Message 4",confirmationMessage5:"Confirmation Message 5",messagePlaceholder:"Message content",whatsapp:"Connection",status:"Status",scheduledAt:"Schedule",confirmation:"Confirmation",contactList:"Contact List",tagList:"Tags",statusTicket:"Ticket Status",openTicketStatus:"Open",pendingTicketStatus:"Pending",closedTicketStatus:"Closed",enabledOpenTicket:"Enabled",disabledOpenTicket:"Disabled",openTicket:"Open Ticket"},buttons:{add:"Add",edit:"Update",okadd:"Ok",cancel:"Cancel Sending",restart:"Restart Sending",close:"Close",attach:"Attach File"}},confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action cannot be undone."},toasts:{success:"Operation completed successfully.",cancel:"Campaign canceled.",restart:"Campaign restarted.",deleted:"Record deleted successfully."}},campaignReport:{title:"Campaign Report",inactive:"Inactive",scheduled:"Scheduled",process:"In Progress",cancelled:"Canceled",finished:"Completed",campaign:"Campaign",validContacts:"Valid Contacts",confirmationsRequested:"Confirmations Requested",confirmations:"Confirmations",deliver:"Delivered",connection:"Connection",contactLists:"Contact List",schedule:"Schedule",conclusion:"Conclusion"},announcements:{title:"Announcements",searchPlaceholder:"Search",active:"Active",inactive:"Inactive",buttons:{add:"New Announcement",contactLists:"Announcement Lists"},table:{priority:"Priority",title:"Title",text:"Text",mediaName:"File",status:"Status",actions:"Actions"},dialog:{edit:"Edit Announcement",add:"New Announcement",update:"Edit Announcement",readonly:"View Only",form:{priority:"Priority",title:"Title",text:"Text",mediaPath:"File",status:"Status",high:"High",medium:"Medium",low:"Low",active:"Active",inactive:"Inactive"},buttons:{add:"Add",edit:"Update",okadd:"Ok",cancel:"Cancel",close:"Close",attach:"Attach File"}},confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action cannot be undone."},toasts:{success:"Operation completed successfully.",deleted:"Record deleted successfully."}},campaignsConfig:{title:"Campaign Settings"},queues:{title:"Queues & Chatbot",table:{name:"Name",color:"Color",greeting:"Greeting Message",orderQueue:"Queue Order (Bot)",actions:"Actions",ID:"ID"},buttons:{add:"Add Queue"},toasts:{success:"Queue saved successfully.",deleted:"Queue deleted successfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? This action cannot be undone! Attendances from this queue will still exist but will no longer be assigned to a queue."}},queue:{queueData:"Queue Data"},queueSelect:{inputLabel:"Queues",inputLabelRO:"Read-Only Queues",withoutQueue:"No Queue"},reports:{title:"Attendance Reports",startDate:"Start date ",endDate:"End date",table:{id:"Ticket",user:"User",dateOpen:"Opening Date",dateClose:"Closing Date",NPS:"NPS",status:"Status",whatsapp:"Connection",queue:"Queue",actions:"Actions",lastMessage:"Last Message",contact:"Customer",supportTime:"Attendance Time"},buttons:{filter:"Apply Filter",onlyRated:"Only Rated"},searchPlaceholder:"Search..."},queueIntegration:{title:"Integrations",table:{id:"ID",type:"Type",name:"Name",projectName:"Project Name",language:"Language",lastUpdate:"Last Update",actions:"Actions"},buttons:{add:"Add Project"},searchPlaceholder:"Search...",confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? This action cannot be undone and will be removed from linked queues and connections."}},users:{title:"Users",table:{status:"Status",name:"Name",email:"Email",profile:"Profile",startWork:"Work Start Time",endWork:"Work End Time",actions:"Actions",ID:"ID"},buttons:{add:"Add User"},toasts:{deleted:"User deleted successfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Open tickets for this user will be moved to the queue."}},compaies:{title:"Companies",table:{ID:"ID",status:"Active",name:"Name",email:"Email",password:"Password",phone:"Phone",plan:"Plan",active:"Active",numberAttendants:"Agents",numberConections:"Connections",value:"Value",namePlan:"Plan Name",numberQueues:"Queues",useCampaigns:"Campaigns",useExternalApi:"REST API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"WhatsApp",useInternalChat:"Internal Chat",useSchedules:"Scheduling",createdAt:"Created At",dueDate:"Expiration Date",lastLogin:"Last Login",folderSize:"Folder size ",totalFiles:" Total Files",lastUpdate:"Last update",actions:"Actions",money:"$",yes:"Yes",no:"No",document:"CNPJ/CPF",recurrence:"Recurrence",monthly:"Monthly",bimonthly:"Bimonthly",quarterly:"Quarterly",semester:"Semiannual",yearly:"Annual",clear:"Clear",delete:"Delete",user:"User",save:"Save"},buttons:{add:"Add Company"},toasts:{deleted:"Company deleted successfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All company data will be lost. Open tickets for users in this company will be moved to the queue."}},plans:{form:{name:"Name",users:"Users",connections:"Connections",campaigns:"Campaigns",schedules:"Schedules",enabled:"Enabled",disabled:"Disabled",clear:"Cancel",delete:"Delete",save:"Save",yes:"Yes",no:"No",money:"$",public:"Public",trial:"Trial",trialDays:"Trial Days"}},helps:{title:"Help Center",settings:{codeVideo:"Video Code",description:"Description",clear:"Clear",delete:"Delete",save:"Save"}},schedules:{title:"Schedules",date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Previous",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"No events in this range.",confirmationModal:{deleteTitle:"Are you sure you want to delete this Schedule?",deleteMessage:"This action cannot be undone."},table:{contact:"Contact",body:"Message",sendAt:"Scheduled Date",sentAt:"Sent Date",status:"Status",actions:"Actions"},buttons:{add:"New Schedule"},toasts:{deleted:"Schedule deleted successfully."}},tags:{title:"Tags",addColumns:"+ ADD COLUMNS",search:"SEARCH",seeTicket:"SEE TICKET",confirmationModal:{deleteTitle:"Are you sure you want to delete this Tag?",deleteMessage:"This action cannot be undone."},table:{id:"ID",name:"Name",kanban:"Kanban",color:"Color",tickets:"Tag Records",contacts:"Contacts",actions:"Actions"},buttons:{add:"New Tag"},toasts:{deleted:"Tag deleted successfully."}},tagsKanban:{title:"Lanes",laneDefault:"Open",backToKanban:"BACK TO KANBAN",confirmationModal:{deleteTitle:"Are you sure you want to delete this Lane?",deleteMessage:"This action cannot be undone."},table:{name:"Name",color:"Color",tickets:"Tickets",actions:"Actions"},buttons:{add:"New Lane"},toasts:{deleted:"Lane deleted successfully."}},files:{title:"File Lists",table:{name:"Name",contacts:"Contacts",actions:"Action"},toasts:{deleted:"File list deleted successfully!",deletedAll:"All file lists were deleted successfully!"},buttons:{add:"Add",deleteAll:"Delete All"},confirmationModal:{deleteTitle:"Delete",deleteAllTitle:"Delete All",deleteMessage:"Are you sure you want to delete this list?",deleteAllMessage:"Are you sure you want to delete all lists?"}},settings:{success:"Settings saved successfully.",title:"Settings",tabs:{options:"Options",plans:"Plans",helps:"Help",companies:"Companies"},settings:{userCreation:{name:"User Creation",options:{enabled:"Enabled",disabled:"Disabled"}},tabs:{options:"Options",schedules:"Schedules",plans:"Plans",help:"Help"},options:{disabled:"Disabled",enabled:"Enabled",updating:"Updating...",creationCompanyUser:"Company/User Creation",evaluations:"Evaluations",officeScheduling:"Office Scheduling",queueManagement:"Queue Management",companyManagement:"Company Management",connectionManagement:"Connection Management",sendGreetingAccepted:"Send Greeting on Accepting Ticket",sendMsgTransfTicket:"Send Transfer Message between Departments/Agents",checkMsgIsGroup:"Ignore Group Messages",chatBotType:"Bot Type",userRandom:"Random Agent Selection",buttons:"Buttons",acceptCallWhatsapp:"Notify that WhatsApp call is not accepted?",sendSignMessage:"Allow agent to choose to send Signature",sendGreetingMessageOneQueues:"Send Greeting when only one queue exists",sendQueuePosition:"Send Queue Position Message",sendFarewellWaitingTicket:"Send Farewell Message while Waiting",acceptAudioMessageContact:"Accept Audio Messages from All Contacts?",enableLGPD:"Enable LGPD Processing",requiredTag:"Required Tag to Close Ticket",closeTicketOnTransfer:"Close Ticket when Transferring to Another Queue",DirectTicketsToWallets:"Automatically Move Client to Wallet",showNotificationPending:"Show Notification for Pending Tickets"},customMessages:{sendQueuePositionMessage:"Queue Position Message",AcceptCallWhatsappMessage:"Message to Inform Call Not Accepted",greetingAcceptedMessage:"Greeting Message When Accepting Ticket",transferMessage:"Transfer Message - ${queue.name} = destination queue"},LGPD:{title:"LGPD",welcome:"Welcome Message (LGPD)",linkLGPD:"Privacy Policy Link",obfuscateMessageDelete:"Obfuscate Deleted Message",alwaysConsent:"Always Request Consent",obfuscatePhoneUser:"Obfuscate User Phone Number",enabled:"Enabled",disabled:"Disabled"}}},messagesList:{header:{assignedTo:"Assigned to:",dialogRatingTitle:"Would you like to leave a service rating for the client?",dialogClosingTitle:"Closing the service with the client!",dialogRatingCancel:"Resolve WITH Farewell Message",dialogRatingSuccess:"Resolve and Send Rating",dialogRatingWithoutFarewellMsg:"Resolve WITHOUT Farewell Message",ratingTitle:"Choose a rating menu",notMessage:"No message selected",amount:"Prospecting Value",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept",rating:"Send Rating",enableIntegration:"Enable Integration",disableIntegration:"Disable Integration",logTicket:"Ticket Logs",requiredTag:"You must assign a tag before closing the ticket.",greetingAcceptedMessage:"You must configure a greeting message when accepting the ticket."}}},messagesInput:{placeholderPrivateMessage:"Type a message or press / for quick replies",placeholderOpen:"Type a message or press / for quick replies",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign",privateMessage:"Private Message"},contactDrawer:{header:"Contact Details",buttons:{edit:"Edit Contact",block:"Block",unblock:"Unblock"},extraInfo:"Additional Information"},messageVariablesPicker:{label:"Available Variables",vars:{contactFirstName:"First Name",contactName:"Name",user:"Agent",greeting:"Greeting",protocolNumber:"Protocol Number",date:"Date",hour:"Hour",ticket_id:"Ticket Number",queue:"Sector",connection:"Connection"}},ticketOptionsMenu:{schedule:"Schedule",delete:"Delete",transfer:"Transfer",registerAppointment:"Contact Notes",resolveWithNoFarewell:"Resolve without Farewell",acceptAudioMessage:"Accept audio messages from contact?",appointmentsModal:{title:"Ticket Notes",textarea:"Note",placeholder:"Enter the information you want to register here"},confirmationModal:{title:"Delete the contact's ticket",titleFrom:"from contact",message:"Attention! All messages related to this ticket will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},messageInput:{tooltip:{signature:"Enable/Disable Signature",privateMessage:"Enable/Disable Private Message",meet:"Send video conference link"},type:{imageVideo:"Photos and Videos",cam:"Camera",contact:"Contact",meet:"Video Call",template:"Meta Template"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",edit:"Edit",forward:"Forward",toForward:"Forward",talkTo:"Talk To",confirmationModal:{title:"Delete message?",message:"This action cannot be undone."}},invoices:{table:{invoices:"Invoices",details:"Details",users:"Users",connections:"Connections",queue:"Queues",value:"Value",expirationDate:"Expiration Date",action:"Action"}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue.",ERR_OUT_OF_HOURS:"Outside Business Hours!"},messagesAPIInstructions:{endpoint:"Endpoint:",method:"Method:",post:"POST",headers:"Headers:",headerAuthorization:"Authorization Bearer (registered token) and Content-Type (application/json)",body:"Body:",fieldNumber:'"number": "558599999999"',fieldBody:'"body": "Message"',fieldUserId:'"userId": User ID or ""',fieldQueueId:'"queueId": Queue ID or ""',fieldSendSignature:'"sendSignature": Sign message - true/false',fieldCloseTicket:'"closeTicket": Close the ticket - true/false',singMessage:"Sign message - true/false",closeTicket:"Close the ticket - true/false",testSend:"The Test Send"},recurrenceSection:{title:"Recurrence",description:"You can choose to send the message recurrently and select the interval. If it is a one-time message, do not change anything in this section.",labelInterval:"Interval",intervalFilterValue:"Interval filter value",sendAsManyTimes:" Send as many times",shipNormallyOnNonbusinessDays:"Ship normally on non-business days",sendOneBusinessDayBefore:"Send one business day before",sendOneBusinessDayLater:"Send one business day later",options:{days:"Days",weeks:"Weeks",months:"Months",minutes:"Minutes"},servicePanel:{allowRealTime:"Service Panel"}},servicePanel:{allowRealTime:"Service Panel  "},financial:{invoices:"Invoices",details:"Details",users:"Users",connections:"Connections",queues:"Queues",value:"Value",expirationDate:"Due Date",status:"Status",action:"Action"},statusFilter:{statusFilter:"Filter by Status"},momentsUser:{services:"Services:",pending:"Pending",noqueue:"NO QUEUE"},campaignsPhrase:{campaignsFlow:"Campaigns Flow",campaigns:"Campaign",name:"Name",status:"Status",newCampaignWithFlowByPhrase:"New campaign with flow by phrase",editCampaignWithFlowByPhrase:"Edit campaign with flow by phrase",phraseTriggerName:"Phrase trigger name",chooseAStream:"Choose a stream",whichPhraseTriggersTheFlow:" Which phrase triggers the flow?",selectAConnection:" Select a Connection",chooseAStream:"Choose a stream",status:" Status",cancel:"CANCEL",createCampaign:"CREATE CAMPAIGN ",saveCampaign:"Sale Campaign"},chatList:{noMessages:"No messages",admin:"Admin",member:"Member",searchChat:"Search chat...",createNewChat:"Create new chat",searchUser:"Search user...",noUserFound:"No user found",noUserAvailable:"No user available",cancel:"Cancel",details:"Details",deleteChat:"Delete Chat",deleteChatConfirm:"This action cannot be undone, confirm?",detailsTitle:"Details",edit:"Edit",delete:"Delete",now:"now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago"},chatMessages:{deleted:"This message was deleted",deletedAdmin:"Deleted message - visible only to administrators",reply:"Reply",edit:"Edit",delete:"Delete",forward:"Forward",editMessage:"Edit Message",save:"Save",cancel:"Cancel",deleteMessage:"Delete Message",deleteMessageConfirm:"Are you sure you want to delete this message?",forwardMessage:"Forward Message",selectChat:"Select chat",doubleClickToReply:"Double click to reply",edited:"(edited)",forwarded:"(forwarded)",typeMessage:"Type a message...",send:"Send",noMessages:"No messages",loading:"Loading...",replyingTo:"Replying to",clickToGoToOriginal:"Click to go to original message"},chatPopover:{reply:"Reply",edit:"Edit",delete:"Delete",forward:"Forward",cancel:"Cancel",confirmDelete:"Confirm Delete",confirm:"Confirm",deleteMessage:"Are you sure you want to delete this message?",editMessage:"Edit Message",save:"Save",forwardMessage:"Forward Message",selectChat:"Select chat",forward:"Forward",noChats:"No chat available"},chatIndex:{chats:"Chats",groups:"Groups",new:"New",messages:"Messages",search:"Search...",noChats:"No chat found",noGroups:"No group found",noMessages:"No messages",loading:"Loading...",error:"Error loading data",addGroupPhoto:"Add Group Photo",changeGroupPhoto:"Change Group Photo",groupName:"Group Name",groupDescription:"Group Description",save:"Save",cancel:"Cancel",createGroup:"Create Group",editGroup:"Edit Group",deleteGroup:"Delete Group",deleteGroupConfirm:"Are you sure you want to delete this group?",edit:"Edit",delete:"Delete",details:"Details",groupDetails:"Group Details",title:"Title",description:"Description",modal:{title:"Create Group",editTitle:"Edit Group",save:"Save",cancel:"Cancel",name:"Group Name",description:"Group Description",create:"Create",edit:"Edit"}},whitelabel:{primaryColorLight:"Primary Color (Light Theme)",primaryColorDark:"Primary Color (Dark Theme)",appName:"Application Name",logoLight:"Logo (Light Theme)",logoDark:"Logo (Dark Theme)",favicon:"Favicon",backgroundLight:"Background Image (Light Theme)",backgroundDark:"Background Image (Dark Theme)",preview:"Preview",delete:"Delete",upload:"Upload",availableLanguages:"Available Languages",atLeastOneLanguage:"At least one language must be enabled",sections:{general:"General Settings",generalDescription:"Configure the application name and basic information",colors:"Colors and Themes",colorsDescription:"Customize primary colors for light and dark themes",logos:"Logos and Images",logosDescription:"Upload application logos and background images",languages:"Available Languages",languagesDescription:"Select which languages will be available in the system"}}},whatsappModalRel:{form:{isOficial:"Support Report",ticketId:"Ticket ID",client:"Customer",number:"Number",agent:"Agent",date:"Date",lastMessage:"Last Message",fullReport:"The full report is attached above",resolveAndTriggerIntegration:"Resolve and Trigger Integration",elementNotFoundForExport:"Element not found for export.",reportFilename:"support_report"}}}}),{es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",company:"Nombre de la Empresa",phone:"Whatsapp (COD + N\xdaMERO)"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",welcome:"Bienvenido de nuevo",loginInstruction:"Introduce tus datos para acceder a tu cuenta",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a",button:"Ingresar"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},companies:{title:"Registrar Empresa",form:{name:"Nombre de la Empresa",plan:"Plan",token:"Token",submit:"Registrar",success:"Empresa creada con \xe9xito!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"},dueDate:{expiration:"Suscripci\xf3n caducar\xe1 en",days:"d\xedas!",day:"d\xeda!",expirationToday:"Su suscripci\xf3n termina hoy!"},token:"Token"},dashboard:{filters:"Filtros",filter:"FILTRAR ",tabs:{indicators:"Indicadores",assessments:"Evaluaciones",attendants:"Agentes"},charts:{perDay:{title:"Tickets hoy: "}},cards:{inAttendance:"Atenci\xf3n actual",waiting:"Esperando",activeAttendants:"Agentes Activos",finalized:"Finalizados",newContacts:"Nuevos Contactos",totalReceivedMessages:"Total de Mensajes Recibidas",totalSentMessages:"Total de Mensajes Enviadas",averageServiceTime:"T.P. de Atenci\xf3n",averageWaitingTime:"T.P. de Espera",status:"Status (Actual)"},users:{name:"Nombre",numberAppointments:"Total de tickets",statusNow:"Actual",totalCallsUser:"Total de atenci\xf3n por usuario",totalAttendances:"Total de atenciones"},date:{initialDate:"Fecha Inicial",finalDate:"Fecha Final"},licence:{available:"Dispon\xedble hasta"},assessments:{totalCalls:"Total de Tickets",callsWaitRating:"Tickets aguardando evaluaci\xf3n",callsWithoutRating:"Ticket sin evaluaci\xf3n",ratedCalls:"Tickets evaluados",evaluationIndex:"\xcdndice de evaluaci\xf3n",score:"Puntaje",prosecutors:"Promotores",neutral:"Neutrales",detractors:"Dectratores"}},reports:{title:"Reporte de Pesquisas Realizadas",operator:"Agente",period:"Per\xedodo",until:"Hasta",date:"Fecha",reportTitle:"Relatorios",calls:"Atenciones",search:"Pesquisas",durationCalls:"Duraci\xf3n de la atenci\xf3n",grupoSessions:"Atenci\xf3n en grupos grupos",startDate:"Fecha de inicio",endDate:"Fecha de finalizaci\xf3n",table:{id:"Ticket",user:"Usuario",dateOpen:"Fecha de Apertura",dateClose:"Fecha de Cierre",NPS:"NPS",status:"Estado",whatsapp:"Conexi\xf3n",queue:"Cola",actions:"Acciones",lastMessage:"\xdalt. Mensaje",contact:"Cliente",supportTime:"Tiempo de Atenci\xf3n"},buttons:{filter:"Aplicar Filtro",onlyRated:"Solo Evaluados"},groupTicketsReports:{timezone:"America/Monterrey",msgToast:"Generando relatorio compactado, por favor espere.",errorToast:"Erro ao generar relatorio",back:"Volver",groupServiceReport:"Relatorio de Atenci\xf3n en Grupos",loading:"Cargando...",contact:"Contacto",dateOpen:"Fecha de Apertura",dateLastUpdated:"Fecha Ultima Actualizaci\xf3n",agent:"Agente",agentClosed:"Agente(cerr\xf3)",waitingAssistance:"Esperando atenci\xf3n",process:"En proceso"},researchReports:{response:"respuesta",active:"(Activa)",inactive:"(Inactiva)",quantity:"Cantidade",percentage:"porcentaje",title:"Relatorio de Pesquisas Realizadas",activeSearch:"Pesquisa activa",inactiveSearch:"Pesquisa inactiva"},ticketDurationDetail:{msgToast:"Generando relatorio compactado, por favor espere.",title:"Relatorio de Duraci\xf3n de la Atenci\xf3n",startService:"In\xedcio de la Atenci\xf3n",lastUpdated:"\xdaltima actualizaci\xf3n",lastAgent:"\xdaltimo agente",durationFinished:"Duraci\xf3n despu\xe9s de finalizado"},ticketDuration:{title:"Relatorio de Duraci\xf3n de Atenci\xf3n",contact:"Contacto",open:"Abiertos",pending:"Pendientes",finished:"Finalizados",durationFinished:"Duraci\xf3n de los finalizados",durationAfterFinished:"Duraci\xf3n despu\xe9s de finalizado",actions:"Acciones"},ticketReports:{msgToast:"Generando relatorio compactado, por favor aguarde.",title:"Relatrio de Atenci\xf3n"},exportExcel:{title:"Reportes de Atenci\xf3n",startDate:"Fecha inicial",endDate:"Fecha final",notInformed:"No informado",columns:{id:"ID",connection:"Conexi\xf3n",contact:"Contacto",user:"Usuario",queue:"Fila",status:"Estado",lastMessage:"\xdaltimo Mensaje",openDate:"Fecha Apertura",openTime:"Hora Apertura",closeDate:"Fecha Cierre",closeTime:"Hora Cierre",supportTime:"Tiempo de Atenci\xf3n",nps:"NPS"}},pdf:{title:"Relaci\xf3n de Atenciones Realizadas",exportTitle:"Relaci\xf3n de Atenciones en Grupos Realizadas"}},todo:{newTask:"Nueva Tarea",add:"Agregar",task:"Tareas"},contactImportWpModal:{title:"Exportar Contactos para Excel",buttons:{downloadModel:"Download - modelo de excel para importaci\xf3n",closed:"Cerrar",import:"Seleccione el archivo de excel para importar los Contactos"}},connections:{title:"Conexiones",waitConnection:"Espere... Las conexiones ser\xe1n reiniciadas!",newConnection:"Nueva Conexi\xf3n",restartConnections:"Reiniciar Conexiones",callSupport:"Soporte",newConnection:"Nueva Conexi\xf3n",connectYourServiceChannelsToReceiveMessagesAndStartConversationsWithYourCustomers:" Conecta tus canales de atenci\xf3n para recibir mensajes e iniciar conversaciones con tus clientes.",client:"Cliente",connectedConnections:"Conexiones conectadas",disconnectedConnections:"Conexiones desconectadas",totalConnections:"Total de conexiones",total:"Total",connections:" Conexiones:",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!",closedimported:"Estamos cerrando los tickets importados, por favor espere."},confirmationModal:{closedImportedTitle:"Cerrar tickets importados",closedImportedMessage:"\xbfSeguro? Todos los tickets importados seran cerrados.",deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",closedImported:"Cerrar todos los tickets Importados",preparing:"Preparando mensajes para importaci\xf3n",importing:"Importando Mensajes del WhatsApp",newQr:"Nuevo QR CODE",processed:"Processado",in:"de",connecting:"Conectando"},typography:{processed:"Processado",in:"de",date:"Fecha del mensaje"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n",number:"N\xfamero de Whatsapp"}},showTicketOpenModal:{title:{header:"Servicio existente"},form:{message:"Hay un ticket abierto para este contacto:",user:"Agente",queue:"Fila",messageWait:"Este contacto ya est\xe1 en espera."}},showTicketLogModal:{title:{header:"Historico"},options:{create:"Ticket creado.",chatBot:"ChatBot iniciado.",queue:" - Fila definida.",open:"iniciou la atenci\xf3n.",access:"acces\xf3 el ticket.",transfered:"transferi\xf3 el ticket.",receivedTransfer:"recibi\xf3 el ticket transferido.",pending:"regres\xf3 a la fila.",closed:"cerr\xf3 el ticket",reopen:"abri\xf3 el ticket"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},tabs:{general:"Geral",messages:"Mensajes",assessments:"Evaluaciones",integrations:"Integraciones",schedules:"Horario de trabajo"},form:{importOldMessagesEnable:"Importar mensajes del celular",importOldMessages:"Fecha de inicio",importRecentMessages:"Fecha Final",importOldMessagesGroups:"Importar mensajes de grupo",closedTicketsPostImported:"Cerrar tickets despu\xe9s de la importaci\xf3n",name:"Nombre",queueRedirection:"Redirecci\xf3n de Fila",queueRedirectionDesc:"Seleccione una fila para los contactos que no tienen una fila para redirigir",default:"Por Defecto",group:"Permitir grupos",timeSendQueue:"Tiempo en minutos para redireccionar a la fila",importAlert:"ATENCI\xd3N: Guardando, su conexi\xf3n ser\xe1 cerrada, usted tendr\xe1 que volver a leer el QR Code para importar los mensajes",groupAsTicket:"Grupos como Ticket",timeCreateNewTicket:"Iniciar un nuevo ticket en *n* minutos",maxUseBotQueues:"Cantidad m\xe1xima de veces que el chatbot va a ser enviado",timeUseBotQueues:"Tiempo en minutos para nuevo env\xedo del chatbot",expiresTicket:"Cerrar chats abiertos ap\xf3s *n* horas",expiresTicketNPS:"Cerrar chats aguardando la evaluacion luego de x minutos",maxUseBotQueuesNPS:"Cantidad m\xe1xima de veces que la evaluaci\xf3n ser\xe1 enviada",closeLastMessageOptions1:"Del Agente/Cliente",closeLastMessageOptions2:"Del Agente",outOfHoursMessage:"Mensaje fuera de horario de atenci\xf3n",greetingMessage:"Mensaje de saludo",complationMessage:"Mensaje de conclusi\xf3n",lgpdLinkPrivacy:"Link para pol\xedticas de privacidad",lgpdMessage:"Mensaje inicial de LPD",lgpdDeletedMessages:"Ofuscar mensaje borrada por el contacto",lgpdSendMessage:"Siempre solicitar confirmaci\xf3n del contacto",ratingMessage:"Mensaje de evaluaci\xf3n - Rango de 0 a 10",token:"Token para integraci\xf3n externa",sendIdQueue:"Fila",inactiveMessage:"Mensaje de inactividad",timeInactiveMessage:"Tiempo em minutos para el env\xedo del aviso de inactividad",whenExpiresTicket:"Cerrar chats abiertos cuando el \xfaltimo mensaje sea",expiresInactiveMessage:"Mensaje al cerrar por inactividade",prompt:"Prompt",triggerIntegrationOnClose:"Integraci\xf3n de activadores al cerrar un ticket",enableIntegration:"Activadore Integraci\xf3n"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},menuItem:{enabled:"Activado",disabled:"Desactivado",minutes:"minutos"},success:"WhatsApp guardado satisfactoriamente.",errorSendQueue:"Adem\xe1s del tiempo debes seleccinar una fila para redirecionar. Se necesitan los dos campos.",errorExpiresNPS:"Es necesario llenar el tiempo para la evaluaci\xf3n para el NPS."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",conversationFlows:"La conversaci\xf3n fluye",addFlow:"Agregar Flujo",editFlow:"Editar Flujo ",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",exportContact:"Exportar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",blockContact:"\xbfEst\xe1s seguro que quieres bloquear este contacto?",unblockContact:"\xbfEst\xe1s seguro que quieres desbloquear este contacto?",importMessage:"\xbfQuieres importar todos los contactos del tel\xe9fono?",importChat:"Importar Conversaciones",wantImport:"\xbfQuieres importar todas las conversaciones del tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto",export:"Exportar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones",lastMessage:"Ultimo Mensaje"},menu:{importYourPhone:"Importar del celular por default",importToExcel:"Importar / Exportar del Excel",importexport:"IMPORTAR / EXPORTAR"}},forwardMessage:{text:"Reenviada"},forwardMessageModal:{title:"Reenviar mensaje",buttons:{ok:"Reenviar"}},promptModal:{form:{name:"Nombre",prompt:"Prompt",voice:"Voz",max_tokens:"M\xe1ximo de Tokens en la respuesta",temperature:"Temperatura",apikey:"API Key",max_messages:"M\xe1ximo de mensajes del Historico",voiceKey:"Llave de la API de la Voz",voiceRegion:"Regi\xf3n de la Voz"},success:"Prompt guardado",title:{add:"Agregar Prompt",edit:"Editar Prompt"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"}},prompts:{title:"Prompts",table:{name:"Nombre",queue:"Sector/Fila",max_tokens:"M\xe1ximo Tokens Respuestas",actions:"Acciones"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir!"},buttons:{add:"Agregar Prompt"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor",chatBotContact:"Desactivar chatbot para este contacto",termsLGDP:"T\xe9rminos P.P. aceptados en:",allTicket:"Visualizar tickets sin fila",allowGroup:"Permitir grupos"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente.",walletLinked:"\xa1Contacto vinculado a su billetera exitosamente!",walletError:"El usuario no tiene colas asociadas",saveFirst:"El contacto debe guardarse primero"},wallets:{title:"Billeteras de Contactos",searchPlaceholder:"Buscar contactos...",filterByUser:"Filtrar por Usuario",allUsers:"Todos los usuarios",contact:"Contacto",user:"Usuario",queue:"Cola",phone:"Tel\xe9fono",email:"Email",actions:"Acciones",editWallet:"Editar Billetera",selectUser:"Seleccionar Usuario",selectQueue:"Seleccionar Cola",selectUserAndQueue:"Seleccione un usuario y una cola",cancel:"Cancelar",save:"Guardar",confirmDeleteTitle:"Confirmar Eliminaci\xf3n",confirmDeleteMessage:"\xbfEst\xe1 seguro de que desea eliminar este contacto de la billetera?",deleteSuccess:"\xa1Contacto eliminado de la billetera exitosamente!",updateSuccess:"\xa1Billetera actualizada exitosamente!"},queueModal:{title:{queueData:"Datos de la fila",text:"Horarios de atenci\xf3n",add:"Agregar fila",edit:"Editar fila",confirmationDelete:"\xbfEst\xe1 seguro? Todas las opciones integradas tambi\xe9n se eliminar\xe1n."},form:{name:"Nombre",color:"Color",orderQueue:"Orden de la fila (Bot)",rotate:"Rotativo",timeRotate:"Tiempo de Rotaci\xf3n",greetingMessage:"Mensaje de saludo",complationMessage:"Mensaje de cierre",outOfHoursMessage:"Mensaje fuera de horario de atenci\xf3n",token:"Token",integrationId:"Integraci\xf3n",fileListId:"Listado de archivos",closeTicket:"Cerrar ticket",queueType:"Tipo de menu",message:"Mensaje de respuesta",queue:"Fila para transferencia",integration:"Integraci\xf3n",file:"Listado de archivos"},buttons:{okAdd:"Agregar",okEdit:"Editar",cancel:"Cancelar"},bot:{title:"Opciones",toolTipTitle:"Agregue las opciones para construir un chatbot",toolTip:"Si solo hay una opci\xf3n, se elegir\xe1 autom\xe1ticamente, lo que har\xe1 que el bot responda con el mensaje de la opci\xf3n y avance.",selectOption:"Seleccione una opci\xf3n",text:"Texto",attendent:"Agente",queue:"Fila",integration:"Integranci\xf3n",file:"Archivo",toolTipMessageTitle:"El mensaje es obligatorio para pasar al siguiente nivel",toolTipMessageContent:"El mensaje es obligatorio para pasar al siguiente nivel",selectUser:"Seleccione un Usuario",selectQueue:"Seleccione una Fila",selectIntegration:"Seleccione um Integraci\xf3n",addOptions:"Agregar opciones"},serviceHours:{dayWeek:"D\xeda",startTimeA:"Hora de Inicio",endTimeA:"Hora del t\xe9rmino",startTimeB:"Hora de Inicio",endTimeB:"Hora del t\xe9rmino",monday:"Lunes",tuesday:"Martes",wednesday:"Mi\xe9rcoles",thursday:"Jueves",friday:"Viernes",saturday:"Sabado",sunday:"Domingo"}},queueIntegrationModal:{title:{add:"Agregar proyecto",edit:"Editar proyecto"},form:{id:"ID",type:"Tipo",name:"Nombre",projectName:"Nombre del Proyecto",language:"Idioma",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Tiempo en minutos para expirar una conversaci\xf3n",typebotKeywordFinish:"Palabra para finalizar la conversaci\xf3n",typebotUnknownMessage:"Mensaje de opci\xf3n invalida"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar",test:"Probar Bot"},messages:{testSuccess:"\xa1Integraci\xf3n testada con \xe9xito!",addSuccess:"\xa1Integraci\xf3n agregada con \xe9xito!",editSuccess:"\xa1Integraci\xf3n editada con \xe9xito!"}},userModal:{warning:"Para importar los mensajes por favor vuelva a leer el QRCode.",title:{add:"Agregar usuario",edit:"Editar usuario",updateImage:"Actualizar Imagen",removeImage:"Excluir Imagen"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",farewellMessage:"Mensaje de despedida",profile:"Perfil",startWork:"Inicio del Horario",endWork:"Final del Horario",whatsapp:"Conexi\xf3n Defautl",allTicketEnable:"Activado",allTicketDisable:"Desactivado",allTicket:"Visualizar mensajes sin fila",allowGroup:"Permitir Grupos",defaultMenuOpen:"Abierto",defaultMenuClosed:"Cerrado",defaultMenu:"Menu Est\xe1ndar",defaultTheme:"Tema Est\xe1ndar",defaultThemeDark:"Oscuro",defaultThemeLight:"Claro",allHistoric:"Ver historicos",allHistoricEnabled:"Activado",allHistoricDisabled:"Desactivado",allUserChat:"Ver conversaci\xf3n de otros usuarios",userClosePendingTicket:"Permitir cerrar tickets pendientes",showDashboard:"Ver Dashboard"},tabs:{general:"General",permissions:"Permissos"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar",addImage:"Agregar Imagen",editImage:"Editar Imagen"},success:"Usuario guardado satisfactoriamente."},companyModal:{title:{add:"Agregar empresa",edit:"Editar empresa"},form:{name:"Nombre",email:"Correo electr\xf3nico",passwordDefault:"Contrase\xf1a",numberAttendants:"Usuarios",numberConections:"Conexiones"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"La Empresa fue guardada satisfactoriamente."},scheduleModal:{title:{add:"Nuevo Programa",edit:"Editar Programa",message:"Mensaje"},form:{body:"Mensaje",contact:"Contacto",sendAt:"Fecha del Programa",sentAt:"Fecha de Env\xedo"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Programa guardado satisfactoriamente."},tagModal:{title:{add:"Nueva Tag",edit:"Editar Tag",addKanban:"Nueva Lane",backToKanban:"VOLVER A KANBAN",editKanban:"Editar Lane"},form:{name:"Nombre",color:"Color"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Tag guardada satisfactoriamente.",successKanban:"Lane guardada satisfactoriamente."},fileModal:{title:{add:"Agregar men\xfa de evaluaci\xf3n",edit:"Editar men\xfa de evaluaci\xf3n"},buttons:{okAdd:"Guardar",okEdit:"Editar",cancel:"Cancelar",fileOptions:"Agregar archivo"},form:{name:"Nombre",message:"Mensaje de Evaluaci\xf3n",options:"Opciones de Evaluaci\xf3n",extraName:"Nombre de la opci\xf3n",extraValue:"Valor de la opci\xf3n"},success:"Evaluaci\xf3n guardada satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},uploads:{titles:{titleUploadMsgDragDrop:"\u2b07\ufe0f ARRASTRE Y SUELTE LOS ARCHIVOS EN EL CAMPO \u2b07\ufe0f",titleFileList:"Listado de archivo(s)"}},chatInternal:{new:"Nuevo grup",modal:{conversation:"Inicio",title:"T\xedtulo",filterUsers:"Filtro por Usuarios",cancel:"Cerrar",save:"Guardar"},modalDelete:{title:"Excluir Chat",message:"Esta acci\xf3n no se puede revertir, \xbfconfirmar?"}},ticketsManager:{questionCloseTicket:"\xbfQuieres cerrar todos los tickets?",yes:"SI",not:"NO",buttons:{newTicket:"Nuevo",resolvAll:"Resolver Todos",close:"Cerrar",new:"Nuevo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{inbox:{closedAllTickets:"\xbfCerrar todos los tickets?",closedAll:"Cerrar Todos",newTicket:"Nuevo Ticket",yes:"SI",no:"NO",open:"Abiertos",resolverd:"Resueltos"},toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes.",filterConections:"Filtro por Conexi\xf3n",filterConectionsOptions:{open:"Abierto",closed:"Cerrado",pending:"Pendiente"},filterUsers:"Filtro por usuarios",filterContacts:"Filtrar por Contactos",ticketsPerPage:"Entradas por p\xe1gina"},buttons:{showAll:"Todos",returnQueue:"Regresar a la Fila",scredule:"Programar",deleteTicket:"Borrar Ticket"},closedTicket:{closedMessage:"Cerrar CON un mensaje de despedida",closedNotMessage:"Cerrar SIN un mensaje de despedida"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Seleccione una fila",fieldWhatsapp:"Seleccione un whatsapp",noOptions:"No se encontraron usuarios con ese nombre",msgTransfer:"Observaci\xf3n - los mensajes internos, no ser\xe1n visualizados por el cliente.",buttons:{ok:"Transferir",cancel:"Cancelar"}},chatInternal:{new:"Nuevo grup",modal:{conversation:"Inicio",title:"T\xedtulo",filterUsers:"Filtro por Usuarios",cancel:"Cerrar",save:"Guardar"},modalDelete:{title:"Excluir Chat",message:"Esta acci\xf3n no se puede revertir, \xbfconfirmar?"}},ticketsList:{called:"Entradas",today:"Hoy",missedCall:"Llamada de voz/v\xeddeo perdida a las",pendingHeader:"Esperando",assignedHeader:"Trabajando en",groupingHeader:"Grupos",noTicketsTitle:"\xa1Nada ac\xe1!",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",noQueue:"Sin Fila",buttons:{accept:"Aceptar",cancel:"Cancelar",start:"Iniciar",closed:"Cerrar",reopen:"Reabrir",transfer:"Transferir",ignore:"Ignorar",exportAsPDF:"Exportar para PDF"},acceptModal:{title:"Aceptar Chat",queue:"Seleccionar tag"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"Agregar",buttons:{ok:"Guardar",cancel:"Cancelar"}},SendContactModal:{title:"Enviar contacto",fieldLabel:"Buscar contacto",add:"Agregar",buttons:{ok:"Enviar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",chatsTempoReal:"Panel de Asistencia",tickets:"Inbox",quickMessages:"Respuestas R\xe1pidas",contacts:"Contactos",wallets:"Billeteras",queues:"Filas",tags:"Tags",administration:"Administraci\xf3n",companies:"Empresas",users:"Usuarios",settings:"Configuraci\xf3n",ratings:"Regist. Evaluaciones",helps:"Ayuda",messagesAPI:"API",schedules:"Programa",campaigns:"Campa\xf1as",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financiero",queueIntegration:"Integraciones",version:"Versi\xf3n",kanban:"Kanban",prompts:"Talk.Ai",allConnections:"Admin conexiones"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n",message:"Hola",messageEnd:"bienvenido a",active:"Activo hasta",goodMorning:"Hola,",myName:"mi nombre es",continuity:"y te seguir\xe9 apoyando.",virtualAssistant:"Asistente Virtual",token:"Token inv\xe1lido, favor comunicarse con el administrador de la plataforma."},message:{location:"Localizaci\xf3n",contact:"Contacto"},notRegister:"No hay registros",refresh:"Atuaclizar"}},languages:{undefined:"Idioma","es-Mx":"Espa\xf1ol",es:"Espa\xf1ol",en:"English",tr:"T\xfcrk\xe7e"},messagesAPI:{title:"API",toSend:"ENVIAR",textMessage:{number:"N\xfamero",body:"Mensaje",token:"Token registrado",userId:"ID usuario/agente",queueId:"ID Fila"},mediaMessage:{number:"N\xfamero",body:"Nombre del archivo",media:"Archivo",token:"Token registrado"},API:{title:"Documentaci\xf3n para env\xedo de mensajes",methods:{title:"M\xe9todos de Env\xedo",messagesText:"Mensajes de Texto",messagesMidia:"Mensajes de Midia"},instructions:{title:"Instrucciones",comments:"Observaciones Importantes",comments1:"Antes de enviar mensajes, es necesario registrar el token vinculado a la conexi\xf3n que enviar\xe1 los mensajes. <br />Para registrarse, acceda al men\xfa 'Conexiones', haga clic en el bot\xf3n de edici\xf3n de la conexi\xf3n e inserte el token en el campo correspondiente.",comments2:"El n\xfamero de env\xedo no debe tener m\xe1scara ni caracteres especiales y debe constar de:",codeCountry:"C\xf3digo del Pa\xeds",code:"C\xf3digo del Estado",number:"Numero"},text:{title:"1. Mensajes de Texto",instructions:"A continuaci\xf3n se muestra la lista de informaci\xf3n necesaria para enviar mensajes de texto:"},media:{title:"2. Mensagens de Media",instructions:"A continuaci\xf3n se muestra la lista de informaci\xf3n necesaria para enviar mensajes con archivos:"}}},notifications:{noTickets:"Sin notificaciones."},quickMessages:{title:"Respuestas R\xe1pidas",searchPlaceholder:"Buscar...",noAttachment:"No hay",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir. \xbfContinuar?"},buttons:{add:"Agregar",attach:"Adjuntar Archivo",cancel:"Cancelar",edit:"Editar"},toasts:{success:"Atajo agregado satisfactoriamente.",deleted:"Atajo excluido satisfactoriamente."},dialog:{title:"Mensaje R\xe1pida",shortcode:"Atajo",message:"Respuesta",save:"Guardar",cancel:"Cancelar",general:"General",geral:"Global",add:"Agregar",edit:"Editar",visao:"Permitir visi\xf3n"},table:{shortcode:"Atajo",message:"Mensaje",actions:"Acciones",mediaName:"Nombre del Archivo",status:"Status"}},contactLists:{title:"Listado de Contactos",table:{name:"Nombre",contacts:"Contactos",actions:"Acciones"},buttons:{add:"Nuevo Listado"},dialog:{name:"Nombre",company:"Empresa",okEdit:"Editar",okAdd:"Agregar",add:"Agregar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contactos",searchPlaceholder:"B\xfasqueda",buttons:{add:"Nuevo",lists:"Listados",import:"Importar"},dialog:{name:"Nombre",number:"N\xfamero",whatsapp:"Whatsapp",email:"Correo electr\xf3nico",okEdit:"Editar",okAdd:"Agregar",add:"Agregar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nombre",number:"N\xfamero",whatsapp:"Whatsapp",email:"Correo electr\xf3nico",actions:"Acciones"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir.",importMessage:"\xbfQuieres importar esta plantilla? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},kanban:{title:"Kanban",searchPlaceholder:"B\xfasqueda",subMenus:{list:"Admin",tags:"Lanes"}},campaigns:{title:"Campa\xf1as",searchPlaceholder:"B\xfasqueda",subMenus:{list:"Listados",listContacts:"Listados de contatos",settings:"Configuraciones"},settings:{randomInterval:"Intervalo de disparo aleatorio",noBreak:"Sin Intervalo",intervalGapAfter:"Intervalo mayor despu\xe9s de",undefined:"No definido",messages:"mensajes",laggerTriggerRange:"Intervalo de env\xedo m\xe1s grande",addVar:"Agregar variable",save:"Guardar",close:"Cerrar",add:"Agregar",shortcut:"Atajo",content:"Contenido"},buttons:{add:"Nueva Campa\xf1a",contactLists:"Listado de Contactos"},table:{name:"Nombre",whatsapp:"Conexi\xf3n",contactList:"Listado de Contactos",option:"Ninguna",disabled:"Activada",enabled:"Desactivada",status:"Status",scheduledAt:"Programa",completedAt:"Finalizada",confirmation:"Confirmaci\xf3n",actions:"Acciones"},dialog:{new:"Nueva Campa\xf1a",update:"Editar Campa\xf1a",readonly:"Solo Visualizar",help:"Use variables como {nombre}, {numero}, {email} o defina variables personalizadas.",form:{name:"Nombre",message1:"Mensaje 1",message2:"Mensaje 2",message3:"Mensaje 3",message4:"Mensaje 4",message5:"Mensaje 5",confirmationMessage1:"Mensaje de Confirmaci\xf3n 1",confirmationMessage2:"Mensaje de Confirmaci\xf3n 2",confirmationMessage3:"Mensaje de Confirmaci\xf3n 3",confirmationMessage4:"Mensaje de Confirmaci\xf3n 4",confirmationMessage5:"Mensaje de Confirmaci\xf3n 5",messagePlaceholder:"Contenido del Mensaje",whatsapp:"Conexi\xf3n",status:"Status",scheduledAt:"Programa",confirmation:"Confirmaci\xf3n",contactList:"Listado de Contacto",tagList:"Tags",statusTicket:"Status del Ticket",openTicketStatus:"Abierto",closedTicketStatus:"Cerrado",enabledOpenTicket:"Activado",disabledOpenTicket:"Desactivado",openTicket:"Abrir ticket"},buttons:{add:"Agregar",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar Env\xedos",restart:"Reiniciar Env\xedos",close:"Cerrar",attach:"Anexar Archivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{success:"Acci\xf3n realizada satisfactoriamente",cancel:"Campa\xf1a cancelada",restart:"Campa\xf1a reiniciada",deleted:"Registro excluido"}},campaignReport:{title:"Reporte de",inactive:"Inactiva",scheduled:"Programada",process:"En Proceso",cancelled:"Cancelada",finished:"Finalizada",campaign:"Campa\xf1a",validContacts:"Contactos V\xe1lidos",confirmationsRequested:"Confirmaciones Solicitadas",confirmations:"Confirmaciones",deliver:"Entregadas",connection:"Conexi\xf3n",contactLists:"Listado de Contactos",schedule:"Programados",conclusion:"Conclusi\xf3n"},announcements:{title:"Boletines",searchPlaceholder:"B\xfasqueda",active:"Activo",inactive:"Inactivo",buttons:{add:"Nuevo Boletin",contactLists:"Listados de Boletines"},table:{priority:"Prioridad",title:"T\xedtulo",text:"Texto",mediaName:"Archivo",status:"Status",actions:"Acciones"},dialog:{edit:"Editar Boletin",add:"Nuevo Boletin",update:"Editar Boletin",readonly:"Solo visualizar",form:{priority:"Prioridad",title:"T\xedtulo",text:"Texto",mediaPath:"Archivo",status:"Status",high:"Alta",medium:"Mediana",low:"Baja",active:"Activo",inactive:"Inactivo"},buttons:{add:"Agregar",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar",close:"Cerrar",attach:"Anexar Archivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{success:"Acci\xf3n realizada satisfactoriamente",deleted:"Registro excluido"}},campaignsConfig:{title:"Configuraciones de Campa\xf1as"},queues:{title:"Filas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",orderQueue:"Orden de la fila (bot)",actions:"Acciones",ID:"ID"},buttons:{add:"Agregar fila"},toasts:{success:"Fila guardada",deleted:"Fila excluida"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa fila seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna fila asignada."}},queue:{queueData:"Datos"},queueSelect:{inputLabel:"Filas",inputLabelRO:"Filas solo para lectura",withoutQueue:"Sin cola"},queueIntegration:{title:"Integraciones",table:{id:"ID",type:"Tipo",name:"Nombre",projectName:"Nombre del Proyecto",language:"Idioma",lastUpdate:"Ultima actualizaci\xf3n",actions:"Acciones"},buttons:{add:"Agregar Proyecto"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Se eliminar\xe1n las filas y conexiones enlazadas"}},users:{title:"Usuarios",table:{status:"Status",name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",startWork:"Inicio del trabajo",endWork:"Final de trabajo",actions:"Acciones",ID:"ID"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la fila."}},compaies:{title:"Empresas",table:{ID:"ID",status:"Activo",name:"Nombre",email:"Correo",password:"Contrase\xf1a",phone:"Tel\xe9fono",plan:"Plan",active:"Activo",numberAttendants:"Agentes",numberConections:"Conexiones",value:"Valor",namePlan:"Nombre del Plan",numberQueues:"Filas",useCampaigns:"Campa\xf1as",useExternalApi:"Rest API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"Whatsapp",useInternalChat:"Chat Interno",useSchedules:"Programa",createdAt:"F.Creaci\xf3n",dueDate:"Caducidad",lastLogin:"Ult. Login",folderSize:" Tama\xf1o de carpeta ",totalFiles:"  Archivos totales",lastUpdate:"\xdaltima actualizaci\xf3n",actions:"Acciones",money:"MXN",yes:"Si",no:"No",document:"CURP/RFC",recurrence:"Recurencia",monthly:"Mensual",bimonthly:"Bimestral",quarterly:"Trimestral",semester:"Semestral",yearly:"Anual",clear:"Limpiar",delete:"Eliminar",user:"Usuario",save:"Guardar"},buttons:{add:"Agregar empresa"},toasts:{deleted:"Empresa excluida satisfactoriamente."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todas las informaciones de la empresa ser\xe1n eliminadas. Los tickets abiertos de este usu\xe1rio ser\xe1n movidos a la fila."}},plans:{form:{name:"Nombre",users:"Usuarios",connections:"Conexiones",campaigns:"Campa\xf1as",schedules:"Programas",enabled:"Activada",disabled:"Desactivada",clear:"Limpiar",delete:"Eliminar",save:"Guardar",yes:"Si",no:"No",money:"MXN"}},helps:{title:"Ayuda",settings:{codeVideo:"C\xf3digo del Video",description:"Descripci\xf3n",clear:"Limpiar",delete:"Eliminar",save:"Guardar"}},schedules:{title:"Programas",date:"Fecha",time:"Hora",event:"Evento",allDay:"Todo el D\xeda",week:"Semana",work_week:"Programaciones",day:"D\xeda",month:"Mes",previous:"Anterior",next:"Siguiente",yesterday:"Ayer",tomorrow:"Ma\xf1ana",today:"Hoy",agenda:"Agenda",noEventsInRange:"No hay eventos en este per\xedodo.",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir este Programa?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{contact:"Contacto",body:"Mensaje",sendAt:"Fecha del Programa",sentAt:"Fecha de Env\xedo",status:"Status",actions:"Acciones"},buttons:{add:"Nuevo Programa"},toasts:{deleted:"Programa eliminado satisfactoriamente."}},tags:{title:"Tags",addColumns:"+ AGREGAR COLUMMAS",search:"BUSCAR",seeTicket:"VER BILLETE",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir esta Tag?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{name:"Nombre",kanban:"Kanban",color:"Color",tickets:"Registros Tags",contacts:"Contactos",actions:"Acciones"},buttons:{add:"Nueva Tag"},toasts:{deleted:"Tag eliminada satisfactoriamente."}},tagsKanban:{title:"Lanes",laneDefault:"Abierto(s)",backToKanban:"VOLVER A KANBAN",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir esta Lane?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{name:"Nombre",color:"Color",tickets:"Tickets",actions:"Acciones"},buttons:{add:"Nueva Lane"},toasts:{deleted:"Lane eliminada satisfactoriamente."}},files:{title:"Listado de archivos",table:{name:"Nombre",contacts:"Contactos",actions:"Acci\xf3n"},toasts:{deleted:"Listado borrado satisfactoriamente!",deletedAll:"Todos los listados fueron borrados satisfactoriamente!"},buttons:{add:"Agregar",deleteAll:"Borrar Todos"},confirmationModal:{deleteTitle:"Borrar",deleteAllTitle:"Borrar Todos",deleteMessage:"Est\xe1s seguro de borrar este listado?",deleteAllMessage:"Est\xe1s seguro de borrar todos los listado?"}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",tabs:{options:"Opciones",plans:"Planes",helps:"Ayuda",companies:"Empresas"},settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}},tabs:{options:"Opciones",schedules:"Horarios",plans:"Planes",help:"Ayuda"},options:{disabled:"Deshabilitado",enabled:"Habilitado",updating:"Actualizando...",creationCompanyUser:"Creaci\xf3n de Empresa/Usuario",evaluations:"Evaluaciones",officeScheduling:"Programaci\xf3n de Horario",queueManagement:"Gesti\xf3n por Cola",companyManagement:"Gesti\xf3n por Empresa",connectionManagement:"Gesti\xf3n por Conexi\xf3n",sendGreetingAccepted:"Enviar saludo al aceptar el ticket",sendMsgTransfTicket:"Enviar mensaje de transferencia de sector/agente",checkMsgIsGroup:"Ignorar mensajes de grupos",chatBotType:"Tipo de Bot",userRandom:"Elegir agente aleatorio",buttons:"Botones",acceptCallWhatsapp:"\xbfInformar que no se aceptan llamadas por WhatsApp?",sendSignMessage:"Permitir al agente elegir ENVIAR firma",sendGreetingMessageOneQueues:"Enviar saludo cuando haya solo una cola",sendQueuePosition:"Enviar mensaje con la posici\xf3n en la fila",sendFarewellWaitingTicket:"Enviar mensaje de despedida al estar en espera",acceptAudioMessageContact:"\xbfAceptar audios de todos los contactos?",enableLGPD:"Habilitar tratamiento de datos (LGPD)",requiredTag:"Etiqueta obligatoria para cerrar el ticket",closeTicketOnTransfer:"Cerrar ticket al transferir a otra cola",DirectTicketsToWallets:"Mover autom\xe1ticamente al cliente a la cartera",showNotificationPending:"Mostrar notificaci\xf3n para tickets pendientes"},customMessages:{sendQueuePositionMessage:"Mensaje de posici\xf3n en la fila",AcceptCallWhatsappMessage:"Mensaje para informar que no se aceptan llamadas",greetingAcceptedMessage:"Mensaje de saludo al aceptar el ticket",transferMessage:"Mensaje de transferencia - ${queue.name} = cola de destino"},LGPD:{title:"Politica de Privacidad",welcome:"Mensaje de bienvenida (PP)",linkLGPD:"Link de la pol\xedtica de privacidad",obfuscateMessageDelete:"Ofuscar mensaje borrada",alwaysConsent:"Requerir siempre el consentimiento",obfuscatePhoneUser:"Ofuscar n\xfamero de telefono para usuarios",enabled:"Activado",disabled:"Desactivado"}}},messagesList:{header:{assignedTo:"Asignado a:",dialogRatingTitle:"\xbfQuieres dejar un mensaje de evaluaci\xf3n para el cliente?",dialogClosingTitle:"Finalizando la atenci\xf3n al cliente!",dialogRatingCancel:"Cerrar CON Mensaje de Despedida",dialogRatingSuccess:"Cerrar y Enviar Evaluaci\xf3n",dialogRatingWithoutFarewellMsg:"Cerrar SIN Mensaje de Despedida",ratingTitle:"Elegir men\xfa de evaluaci\xf3n",notMessage:"No hay mensaje seleccionado",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar",rating:"Enviar Evaluaci\xf3n",enableIntegration:"Activar/Desactivar integraci\xf3n",logTicket:"Logs del Ticket",requiredTag:"Opps! Debes asignar una tag antes de cerrar el ticket."}}},messagesInput:{placeholderPrivateMessage:"Entre como un mensaje o con / para respuestas r\xe1pidas",placeholderOpen:"Entre como un mensaje o con / para respuestas r\xe1pidas",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar",privateMessage:"Mensaje Privada"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto",block:"Bloquear",unblock:"Desbloquear"},extraInfo:"Otras informaciones"},messageVariablesPicker:{label:"Variables disponibles",vars:{contactFirstName:"Primer Nombre",contactName:"Nombre",user:"Agente",greeting:"Saludos",protocolNumber:"Protocolo",date:"Fecha",hour:"Hora",ticket_id:"N\xba del Ticket",queue:"Sector",connection:"Conexi\xf3n"}},ticketOptionsMenu:{schedule:"Programa",delete:"Borrar",transfer:"Transferir",registerAppointment:"Observaciones del Contacto",resolveWithNoFarewell:"Cerrar sin despedida",acceptAudioMessage:"\xbfAceptar audios del contacto?",appointmentsModal:{title:"Observaciones del Contacto",textarea:"Observaci\xf3n",placeholder:"Agregue aqui la informaci\xf3n"},confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageInput:{tooltip:{signature:"Activar/Desactivar firma",privateMessage:"Activar/Desactivar mensaje privado",meet:"Enviar link para videollamada"},type:{imageVideo:"Fotos y videos",cam:"C\xe1mara",contact:"Contacto",meet:"Link Jitsi Meet"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",edit:"Editar",forward:"Enviar",toForward:"Enviar",talkTo:"Platicar Con",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},invoices:{table:{invoices:"Facturas",details:"Detalles",users:"Usuarios",connections:"Conexiones",queue:"Filas",value:"Valor",expirationDate:"Fecha Venc.",action:"Acci\xf3n"}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una fila.",ERR_OUT_OF_HOURS:"\xa1Fuera del horario de oficina!"},messagesAPIInstructions:{endpoint:"Endpoint:",method:"M\xe9todo:",post:"POST",headers:"Headers:",headerAuthorization:"Authorization Bearer (token registrado) y Content-Type (application/json)",body:"Body:",fieldNumber:'"number": "558599999999"',fieldBody:'"body": "Mensaje"',fieldUserId:'"userId": ID de usuario o ""',fieldQueueId:'"queueId": ID de la Cola o ""',fieldSendSignature:'"sendSignature": Firmar mensaje - true/false',fieldCloseTicket:'"closeTicket": Cerrar el ticket - true/false',singMessage:"Firmar mensaje - true/false",closeTicket:"Cerrar el ticket - true/false",testSend:"la test del envio"},recurrenceSection:{title:"Recurrence",description:"You can choose to send the message recurrently and select the interval. If it is a one-time message, do not change anything in this section.",labelInterval:"Interval",intervalFilterValue:"Valor del filtro de intervalo",sendAsManyTimes:" Enviar tantas veces",shipNormallyOnNonbusinessDays:"Env\xedo normal en d\xedas no laborables",sendOneBusinessDayBefore:"Enviar un d\xeda h\xe1bil antes",sendOneBusinessDayLater:"Enviar un d\xeda h\xe1bil despu\xe9s",options:{days:"Days",weeks:"Weeks",months:"Months",minutes:"Minutes"}},servicePanel:{allowRealTime:"Panel de servicio"},financial:{invoices:"Facturas",details:"Detalles",users:"Usuarios",connections:"Conexiones",queues:"Colas",value:"Valor",expirationDate:"Fecha de Vencimiento",status:"Estado",action:"Acci\xf3n"},statusFilter:{statusFilter:"Filtrar por estado"},momentsUser:{services:"Servicios:",pending:"Pendiente",noqueue:"SIN COLA"},campaignsPhrase:{campaignsFlow:"Flujo de Campa\xf1a",campaigns:"Campa\xf1a",name:"Nombre",status:"Estado",newCampaignWithFlowByPhrase:"Nueva campa\xf1a con flujo por frase",editCampaignWithFlowByPhrase:"Editar campa\xf1a con flujo por frase",phraseTriggerName:"Nombre del disparador de frase",chooseAStream:"Elige una transmisi\xf3n",whichPhraseTriggersTheFlow:" \xbfQu\xe9 frase desencadena el flujo?",selectAConnection:"Seleccione una conexi\xf3n",chooseAStream:"Elige una transmisi\xf3n",status:" Estado",cancel:"CANCELAR",createCampaign:"CREAR CAMPA\xd1A ",saveCampaign:"Guardar Campa\xf1a"},whatsappModalRel:{form:{isOficial:"Informe de Soporte",ticketId:"ID del Ticket",client:"Cliente",number:"N\xfamero",agent:"Agente",date:"Fecha",lastMessage:"\xdaltimo Mensaje",fullReport:"El informe completo est\xe1 adjunto arriba",resolveAndTriggerIntegration:"Resolver y Disparar Integraci\xf3n",elementNotFoundForExport:"Elemento no encontrado para exportar.",reportFilename:"informe_soporte"}},chatList:{noMessages:"Sin mensajes",admin:"Administrador",member:"Miembro",searchChat:"Buscar chat...",createNewChat:"Crear nuevo chat",searchUser:"Buscar usuario...",noUserFound:"No se encontr\xf3 usuario",noUserAvailable:"No hay usuarios disponibles",cancel:"Cancelar",details:"Detalles",deleteChat:"Eliminar Chat",deleteChatConfirm:"Esta acci\xf3n no se puede deshacer, \xbfconfirmar?",detailsTitle:"Detalles",edit:"Editar",delete:"Eliminar",now:"ahora",minutesAgo:"hace {{count}}m",hoursAgo:"hace {{count}}h"},chatMessages:{deleted:"Este mensaje fue eliminado",deletedAdmin:"Mensaje eliminado - visible solo para administradores",reply:"Responder",edit:"Editar",delete:"Eliminar",forward:"Reenviar",editMessage:"Editar Mensaje",save:"Guardar",cancel:"Cancelar",deleteMessage:"Eliminar Mensaje",deleteMessageConfirm:"\xbfEst\xe1 seguro de que desea eliminar este mensaje?",forwardMessage:"Reenviar Mensaje",selectChat:"Seleccione el chat",doubleClickToReply:"Doble clic para responder",edited:"(editado)",forwarded:"(reenviado)",typeMessage:"Escribe un mensaje...",send:"Enviar",noMessages:"Sin mensajes",loading:"Cargando...",replyingTo:"Respondiendo a",clickToGoToOriginal:"Haga clic para ir al mensaje original"},chatPopover:{reply:"Responder",edit:"Editar",delete:"Eliminar",forward:"Reenviar",cancel:"Cancelar",confirmDelete:"Confirmar Eliminaci\xf3n",confirm:"Confirmar",editMessage:"Editar Mensaje",save:"Guardar",forwardMessage:"Reenviar Mensaje",selectChat:"Seleccione el chat",forward:"Reenviar",noChats:"No hay chats disponibles"},chatIndex:{chats:"Chats",groups:"Grupos",new:"Nuevo",messages:"Mensajes",search:"Buscar...",noChats:"No se encontraron chats",noGroups:"No se encontraron grupos",noMessages:"Sin mensajes",loading:"Cargando...",error:"Error al cargar los datos",addGroupPhoto:"Agregar Foto de Grupo",changeGroupPhoto:"Cambiar Foto de Grupo",groupName:"Nombre del Grupo",groupDescription:"Descripci\xf3n del Grupo",save:"Guardar",cancel:"Cancelar",createGroup:"Crear Grupo",editGroup:"Editar Grupo",deleteGroup:"Eliminar Grupo",deleteGroupConfirm:"\xbfEst\xe1 seguro de que desea eliminar este grupo?",edit:"Editar",delete:"Eliminar",details:"Detalles",groupDetails:"Detalles del Grupo",title:"T\xedtulo",description:"Descripci\xf3n",modal:{title:"Crear Grupo",editTitle:"Editar Grupo",save:"Guardar",cancel:"Cancelar",description:"Ingrese el nombre y la descripci\xf3n del grupo.",name:"Group Name",create:"Create",edit:"Editar"}},whitelabel:{primaryColorLight:"Color Primario (Tema Claro)",primaryColorDark:"Color Primario (Tema Oscuro)",appName:"Nombre de la Aplicaci\xf3n",logoLight:"Logo (Tema Claro)",logoDark:"Logo (Tema Oscuro)",favicon:"Favicon",backgroundLight:"Imagen de Fondo (Tema Claro)",backgroundDark:"Imagen de Fondo (Tema Oscuro)",preview:"Vista Previa",delete:"Eliminar",upload:"Subir",availableLanguages:"Idiomas Disponibles",atLeastOneLanguage:"Al menos un idioma debe estar habilitado",sections:{general:"Configuraciones Generales",generalDescription:"Configura el nombre y la informaci\xf3n b\xe1sica de la aplicaci\xf3n",colors:"Colores y Temas",colorsDescription:"Personaliza los colores primarios para los temas claro y oscuro",logos:"Logos e Im\xe1genes",logosDescription:"Sube los logos e im\xe1genes de fondo de la aplicaci\xf3n",languages:"Idiomas Disponibles",languagesDescription:"Selecciona qu\xe9 idiomas estar\xe1n disponibles en el sistema"}}}}}),{ar:{translations:{signup:{title:"\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628",toasts:{success:"\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d! \u0642\u0645 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644!!!.",disabled:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639\u0637\u0644 \u062d\u0627\u0644\u064a\u0627\u064b. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0644\u0627\u062d\u0642\u0627\u064b.",fail:"\u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645. \u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062f\u062e\u0644\u0629."},form:{name:"\u0627\u0644\u0627\u0633\u0645",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",company:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u0638\u0645\u0629",phone:"\u0648\u0627\u062a\u0633 \u0627\u0628 (\u0643\u0648\u062f \u0627\u0644\u062f\u0648\u0644\u0629 + \u0627\u0644\u0631\u0642\u0645)"},buttons:{submit:"\u062a\u0633\u062c\u064a\u0644",login:"\u0644\u062f\u064a\u0643 \u062d\u0633\u0627\u0628 \u0628\u0627\u0644\u0641\u0639\u0644\u061f \u0627\u062f\u062e\u0644!"}},ticketInfo:{copyPhone:"\u0646\u0633\u062e \u0627\u0644\u0647\u0627\u062a\u0641",quickMessages:"\u0627\u0644\u0631\u062f\u0648\u062f \u0627\u0644\u0633\u0631\u064a\u0639\u0629",phonecopied:"\u062a\u0645 \u0646\u0633\u062e \u0627\u0644\u0647\u0627\u062a\u0641 \u0625\u0644\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629!",noPhone:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0647\u0627\u062a\u0641 \u0645\u062a\u0627\u062d \u0644\u0644\u0646\u0633\u062e",copyError:"\u062e\u0637\u0623 \u0641\u064a \u0646\u0633\u062e \u0627\u0644\u0647\u0627\u062a\u0641"},login:{title:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",form:{email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",button:"\u0627\u0644\u0648\u0635\u0648\u0644"},buttons:{submit:"\u062f\u062e\u0648\u0644",register:"\u0644\u064a\u0633 \u0644\u062f\u064a\u0643 \u062d\u0633\u0627\u0628\u061f \u0623\u0646\u0634\u0626 \u062d\u0633\u0627\u0628\u0627\u064b!"}},companies:{title:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0634\u0631\u0643\u0629",form:{name:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629",plan:"\u0627\u0644\u062e\u0637\u0629",token:"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0645\u064a\u0632",submit:"\u062a\u0633\u062c\u064a\u0644",success:"\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062c\u0627\u062d!"}},auth:{toasts:{success:"\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0646\u062c\u0627\u062d!"},dueDate:{expiration:"\u064a\u0646\u062a\u0647\u064a \u0627\u0634\u062a\u0631\u0627\u0643\u0643 \u0641\u064a",days:"\u0623\u064a\u0627\u0645!",day:"\u064a\u0648\u0645!",expirationToday:"\u064a\u0646\u062a\u0647\u064a \u0627\u0634\u062a\u0631\u0627\u0643\u0643 \u0627\u0644\u064a\u0648\u0645!"},token:"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0645\u064a\u0632"},dashboard:{filters:"\u0627\u0644\u0645\u0631\u0634\u062d\u0627\u062a",filter:"\u062a\u0635\u0641\u064a\u0629 ",tabs:{indicators:"\u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062a",assessments:"NPS",attendants:"\u0627\u0644\u0645\u0634\u063a\u0644\u064a\u0646"},charts:{perDay:{title:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u064a\u0648\u0645: "}},cards:{inAttendance:"\u0641\u064a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",waiting:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",activeAttendants:"\u0627\u0644\u0645\u0634\u063a\u0644\u064a\u0646 \u0627\u0644\u0646\u0634\u0637\u064a\u0646",finalized:"\u0645\u0646\u062a\u0647\u064a\u0629",newContacts:"\u062c\u0647\u0627\u062a \u0627\u062a\u0635\u0627\u0644 \u062c\u062f\u064a\u062f\u0629",totalReceivedMessages:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u0633\u062a\u0644\u0645\u0629",totalSentMessages:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u0631\u0633\u0644\u0629",averageServiceTime:"\u0645\u062a\u0648\u0633\u0637 \u0648\u0642\u062a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",averageWaitingTime:"\u0645\u062a\u0648\u0633\u0637 \u0648\u0642\u062a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",status:"\u0627\u0644\u062d\u0627\u0644\u0629 (\u0627\u0644\u062d\u0627\u0644\u064a\u0629)",activeTickets:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0646\u0634\u0637\u0629",passiveTickets:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u063a\u064a\u0631 \u0627\u0644\u0646\u0634\u0637\u0629",groups:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a"},users:{name:"\u0627\u0644\u0627\u0633\u0645",numberAppointments:"\u0639\u062f\u062f \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",statusNow:"\u0627\u0644\u062d\u0627\u0644\u064a\u0629",totalCallsUser:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0644\u0643\u0644 \u0645\u0633\u062a\u062e\u062f\u0645",totalAttendances:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"},date:{initialDate:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0623\u0648\u0644\u064a",finalDate:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0646\u0647\u0627\u0626\u064a"},licence:{available:"\u0645\u062a\u0627\u062d \u062d\u062a\u0649"},assessments:{totalCalls:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",callsWaitRating:"\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u062a\u0646\u062a\u0638\u0631 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",callsWithoutRating:"\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0628\u062f\u0648\u0646 \u062a\u0642\u064a\u064a\u0645",ratedCalls:"\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0645\u0642\u064a\u0645\u0629",evaluationIndex:"\u0645\u0624\u0634\u0631 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",score:"\u0627\u0644\u0646\u062a\u064a\u062c\u0629",prosecutors:"\u0627\u0644\u062f\u0627\u0639\u0645\u064a\u0646",neutral:"\u0627\u0644\u0645\u062d\u0627\u064a\u062f\u064a\u0646",detractors:"\u0627\u0644\u0645\u0646\u062a\u0642\u062f\u064a\u0646"}},reports:{title:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0627\u0633\u062a\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0644\u0645\u0646\u062c\u0632\u0629",operator:"\u0627\u0644\u0645\u0634\u063a\u0644",period:"\u0627\u0644\u0641\u062a\u0631\u0629",until:"\u062d\u062a\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",reportTitle:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",calls:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",search:"\u0627\u0644\u0627\u0633\u062a\u0637\u0644\u0627\u0639\u0627\u062a",durationCalls:"\u0645\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",grupoSessions:"\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",groupTicketsReports:{timezone:"Asia/Riyadh",msgToast:"\u062c\u0627\u0631\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0636\u063a\u0648\u0637\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631.",errorToast:"\u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062a\u0642\u0631\u064a\u0631",back:"\u0627\u0644\u0639\u0648\u062f\u0629",groupServiceReport:"\u062a\u0642\u0631\u064a\u0631 \u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",contact:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",dateOpen:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0641\u062a\u062d",dateLastUpdated:"\u062a\u0627\u0631\u064a\u062e \u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",agent:"\u0645\u0646 \u0642\u0627\u0645 \u0628\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",agentClosed:"\u0645\u0646 \u0623\u063a\u0644\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",waitingAssistance:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",process:"\u0641\u064a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"},researchReports:{response:"\u0625\u062c\u0627\u0628\u0629",active:"(\u0646\u0634\u0637)",inactive:"(\u063a\u064a\u0631 \u0646\u0634\u0637)",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",percentage:"\u0646\u0633\u0628\u0629 \u0645\u0626\u0648\u064a\u0629",title:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0627\u0633\u062a\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0644\u0645\u0646\u062c\u0632\u0629",activeSearch:"\u0628\u062d\u062b \u0646\u0634\u0637",inactiveSearch:"\u0628\u062d\u062b \u063a\u064a\u0631 \u0646\u0634\u0637"},ticketDurationDetail:{msgToast:"\u062c\u0627\u0631\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0636\u063a\u0648\u0637\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631.",title:"\u062a\u0642\u0631\u064a\u0631 \u0645\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",startService:"\u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",lastUpdated:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",lastAgent:"\u0622\u062e\u0631 \u0645\u0634\u063a\u0644",durationFinished:"\u0627\u0644\u0645\u062f\u0629 \u0628\u0639\u062f \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"},ticketDuration:{title:"\u062a\u0642\u0631\u064a\u0631 \u0645\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",contact:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",open:"\u0645\u0641\u062a\u0648\u062d\u0629",pending:"\u0645\u0639\u0644\u0642\u0629",finished:"\u0645\u0646\u062a\u0647\u064a\u0629",durationFinished:"\u0645\u062f\u0629 \u0627\u0644\u0645\u0646\u062a\u0647\u064a\u0629",durationAfterFinished:"\u0627\u0644\u0645\u062f\u0629 \u0628\u0639\u062f \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},ticketReports:{msgToast:"\u062c\u0627\u0631\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0636\u063a\u0648\u0637\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631.",title:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"},exportExcel:{title:"\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",startDate:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0623\u0648\u0644\u064a",endDate:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0646\u0647\u0627\u0626\u064a",notInformed:"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f",columns:{id:"\u0627\u0644\u0645\u0639\u0631\u0641",connection:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644",contact:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",user:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",queue:"\u0627\u0644\u0637\u0627\u0628\u0648\u0631",status:"\u0627\u0644\u062d\u0627\u0644\u0629",lastMessage:"\u0622\u062e\u0631 \u0631\u0633\u0627\u0644\u0629",openDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0641\u062a\u062d",openTime:"\u0648\u0642\u062a \u0627\u0644\u0641\u062a\u062d",closeDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u063a\u0644\u0627\u0642",closeTime:"\u0648\u0642\u062a \u0627\u0644\u0625\u063a\u0644\u0627\u0642",supportTime:"\u0648\u0642\u062a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",nps:"NPS"}},pdf:{title:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0646\u062c\u0632\u0629",exportTitle:"\u0642\u0627\u0626\u0645\u0629 \u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0646\u062c\u0632\u0629"}},todo:{newTask:"\u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f\u0629",add:"\u0625\u0636\u0627\u0641\u0629",task:"\u0627\u0644\u0645\u0647\u0627\u0645"},contactImportWpModal:{title:"\u062a\u0635\u062f\u064a\u0631 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0625\u0644\u0649 \u0625\u0643\u0633\u0644",buttons:{downloadModel:"\u062a\u062d\u0645\u064a\u0644 \u0646\u0645\u0648\u0630\u062c \u0625\u0643\u0633\u0644 \u0644\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f",closed:"\u0625\u063a\u0644\u0627\u0642",import:"\u0627\u062e\u062a\u0631 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644 \u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}},connections:{title:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",waitConnection:"\u0627\u0646\u062a\u0638\u0631... \u0633\u064a\u062a\u0645 \u0625\u0639\u0627\u062f\u0629 \u062a\u0634\u063a\u064a\u0644 \u0627\u062a\u0635\u0627\u0644\u0627\u062a\u0643!",newConnection:"\u0627\u062a\u0635\u0627\u0644 \u062c\u062f\u064a\u062f",restartConnections:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",callSupport:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u062f\u0639\u0645",newConnection:"\u0627\u062a\u0635\u0627\u0644 \u062c\u062f\u064a\u062f",connectYourServiceChannelsToReceiveMessagesAndStartConversationsWithYourCustomers:" \u0627\u0631\u0628\u0637 \u0642\u0646\u0648\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643 \u0644\u0627\u0633\u062a\u0642\u0628\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0648\u0628\u062f\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0645\u0639 \u0639\u0645\u0644\u0627\u0626\u0643.",client:"\u0627\u0644\u0639\u0645\u064a\u0644",connectedConnections:" \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0635\u0644\u0629 ",disconnectedConnections:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a \u0627\u0644\u0645\u0646\u0642\u0637\u0639\u0629 ",totalConnections:" \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",total:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",connections:"\u0627\u062a\u0635\u0627\u0644\u0627\u062a:",toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0646\u062c\u0627\u062d!",closedimported:"\u0646\u062d\u0646 \u0646\u063a\u0644\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0648\u0631\u062f\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631 \u0642\u0644\u064a\u0644\u0627\u064b"},confirmationModal:{closedImportedTitle:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0648\u0631\u062f\u0629",closedImportedMessage:"\u0625\u0630\u0627 \u0623\u0643\u062f\u062a \u0633\u064a\u062a\u0645 \u0625\u063a\u0644\u0627\u0642 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0648\u0631\u062f\u0629",deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621.",disconnectTitle:"\u0642\u0637\u0639 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",disconnectMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f \u0633\u062a\u062d\u062a\u0627\u062c \u0625\u0644\u0649 \u0642\u0631\u0627\u0621\u0629 \u0631\u0645\u0632 QR \u0645\u0631\u0629 \u0623\u062e\u0631\u0649."},buttons:{add:"\u0625\u0636\u0627\u0641\u0629 \u0627\u062a\u0635\u0627\u0644",disconnect:"\u0642\u0637\u0639 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",tryAgain:"\u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649",qrcode:"\u0631\u0645\u0632 QR",newQr:"\u0631\u0645\u0632 QR \u062c\u062f\u064a\u062f",closedImported:"\u0625\u063a\u0644\u0627\u0642 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0648\u0631\u062f\u0629",preparing:"\u062a\u062c\u0647\u064a\u0632 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0644\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f",importing:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628",newQr:"\u0631\u0645\u0632 QR \u062c\u062f\u064a\u062f",processed:"\u062a\u0645\u062a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629",in:"\u0645\u0646",connecting:"\u062c\u0627\u0631\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"},typography:{processed:"\u062a\u0645\u062a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629",in:"\u0645\u0646",date:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0631\u0633\u0627\u0644\u0629"},toolTips:{disconnected:{title:"\u0641\u0634\u0644 \u0641\u064a \u0628\u062f\u0621 \u062c\u0644\u0633\u0629 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628",content:"\u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646 \u0647\u0627\u062a\u0641\u0643 \u0645\u062a\u0635\u0644 \u0628\u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a \u0648\u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649\u060c \u0623\u0648 \u0627\u0637\u0644\u0628 \u0631\u0645\u0632 QR \u062c\u062f\u064a\u062f"},qrcode:{title:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0642\u0631\u0627\u0621\u0629 \u0631\u0645\u0632 QR",content:"\u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0632\u0631 '\u0631\u0645\u0632 QR' \u0648\u0627\u0642\u0631\u0623 \u0631\u0645\u0632 QR \u0628\u0647\u0627\u062a\u0641\u0643 \u0644\u0628\u062f\u0621 \u0627\u0644\u062c\u0644\u0633\u0629"},connected:{title:"\u062a\u0645 \u062a\u0623\u0633\u064a\u0633 \u0627\u0644\u0627\u062a\u0635\u0627\u0644!"},timeout:{title:"\u0641\u064f\u0642\u062f \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0645\u0639 \u0627\u0644\u0647\u0627\u062a\u0641",content:"\u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646 \u0647\u0627\u062a\u0641\u0643 \u0645\u062a\u0635\u0644 \u0628\u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a \u0648\u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628 \u0645\u0641\u062a\u0648\u062d\u060c \u0623\u0648 \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0632\u0631 '\u0642\u0637\u0639 \u0627\u0644\u0627\u062a\u0635\u0627\u0644' \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0631\u0645\u0632 QR \u062c\u062f\u064a\u062f"}},table:{name:"\u0627\u0644\u0627\u0633\u0645",status:"\u0627\u0644\u062d\u0627\u0644\u0629",lastUpdate:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",default:"\u0627\u0641\u062a\u0631\u0627\u0636\u064a",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",session:"\u0627\u0644\u062c\u0644\u0633\u0629",number:"\u0631\u0642\u0645 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628",color:"\u0627\u0644\u0644\u0648\u0646"}},showTicketOpenModal:{title:{header:"\u0645\u062d\u0627\u062f\u062b\u0629 \u0645\u0648\u062c\u0648\u062f\u0629"},form:{message:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0647\u0630\u0647 \u0641\u064a \u0645\u062d\u0627\u062f\u062b\u0629 \u0628\u0627\u0644\u0641\u0639\u0644:",user:"\u0627\u0644\u0645\u0634\u063a\u0644",queue:"\u0627\u0644\u0637\u0627\u0628\u0648\u0631",messageWait:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0647\u0630\u0647 \u062a\u0646\u062a\u0638\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0628\u0627\u0644\u0641\u0639\u0644. \u0627\u0637\u0644\u0639 \u0639\u0644\u0649 \u062a\u0628\u0648\u064a\u0628 \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631!"}},showTicketLogModal:{title:{header:"\u0627\u0644\u0633\u062c\u0644\u0627\u062a"},options:{create:"\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629.",chatBot:"\u062a\u0645 \u0628\u062f\u0621 \u0627\u0644\u0628\u0648\u062a.",queue:" - \u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0637\u0627\u0628\u0648\u0631.",open:" \u0628\u062f\u0623 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629.",access:"\u062f\u062e\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629.",transfered:"\u0646\u0642\u0644 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629.",receivedTransfer:"\u0627\u0633\u062a\u0644\u0645 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0627\u0644\u0645\u0646\u0642\u0648\u0644\u0629.",pending:"\u0623\u0639\u0627\u062f \u0625\u0644\u0649 \u0627\u0644\u0637\u0627\u0628\u0648\u0631.",closed:"\u0623\u063a\u0644\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",reopen:"\u0623\u0639\u0627\u062f \u0641\u062a\u062d \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",redirect:"- \u062a\u0645 \u0627\u0644\u062a\u0648\u062c\u064a\u0647",clientClosed:"\u0627\u0644\u0639\u0645\u064a\u0644 \u0623\u063a\u0644\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"}},whatsappModal:{title:{add:"\u0625\u0636\u0627\u0641\u0629 \u0627\u062a\u0635\u0627\u0644",edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"},tabs:{general:"\u0639\u0627\u0645",messages:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644",assessments:"NPS",integrations:"\u0627\u0644\u062a\u0643\u0627\u0645\u0644\u0627\u062a",schedules:"\u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644"},form:{importOldMessagesEnable:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u062c\u0647\u0627\u0632",importOldMessages:"\u062a\u0627\u0631\u064a\u062e \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f",importRecentMessages:"\u062a\u0627\u0631\u064a\u062e \u0646\u0647\u0627\u064a\u0629 \u0627\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f",importOldMessagesGroups:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",closedTicketsPostImported:"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0628\u0639\u062f \u0627\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f",name:"\u0627\u0644\u0627\u0633\u0645",queueRedirection:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647 \u0627\u0644\u0637\u0627\u0628\u0648\u0631",queueRedirectionDesc:"\u0627\u062e\u062a\u0631 \u0637\u0627\u0628\u0648\u0631\u0627\u064b \u0644\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u062a\u064a \u0644\u0627 \u062a\u0645\u0644\u0643 \u0637\u0627\u0628\u0648\u0631\u0627\u064b \u0644\u064a\u062a\u0645 \u062a\u0648\u062c\u064a\u0647\u0647\u0627",default:"\u0627\u0641\u062a\u0631\u0627\u0636\u064a",group:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",timeSendQueue:"\u0627\u0644\u0648\u0642\u062a \u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642 \u0644\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0648\u062c\u064a\u0647 \u0644\u0644\u0637\u0627\u0628\u0648\u0631",importAlert:"\u062a\u0646\u0628\u064a\u0647: \u0639\u0646\u062f \u0627\u0644\u062d\u0641\u0638\u060c \u0633\u064a\u062a\u0645 \u0625\u0646\u0647\u0627\u0621 \u0627\u062a\u0635\u0627\u0644\u0643\u060c \u0648\u0633\u062a\u062d\u062a\u0627\u062c \u0644\u0642\u0631\u0627\u0621\u0629 \u0631\u0645\u0632 QR \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644",groupAsTicket:"\u0627\u0644\u062a\u0639\u0627\u0645\u0644 \u0645\u0639 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0643\u0645\u062d\u0627\u062f\u062b\u0629",timeCreateNewTicket:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629 \u0641\u064a x \u062f\u0642\u0627\u0626\u0642",maxUseBotQueues:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u0648\u062a x \u0645\u0631\u0627\u062a",maxUseInactiveTime:"\u0625\u0631\u0633\u0627\u0644 \u062a\u062f\u0641\u0642 \u0639\u062f\u0645 \u0627\u0644\u0646\u0634\u0627\u0637 x \u0645\u0631\u0627\u062a",timeUseBotQueues:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u0648\u062a \u0641\u064a x \u062f\u0642\u0627\u0626\u0642",timeToReturnQueue:"\u0627\u0644\u0648\u0642\u062a \u0644\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0637\u0627\u0628\u0648\u0631 \u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642",timeAwaitActiveFlow:"\u0627\u0644\u0648\u0642\u062a \u0644\u0627\u0646\u062a\u0638\u0627\u0631 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u062f\u0641\u0642",expiresTicket:"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0641\u062a\u0648\u062d\u0629 \u0628\u0639\u062f x \u062f\u0642\u0627\u0626\u0642",expiresTicketNPS:"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u0638\u0631\u0629 \u0644\u0644\u062a\u0642\u064a\u064a\u0645 \u0628\u0639\u062f x \u062f\u0642\u0627\u0626\u0642",maxUseBotQueuesNPS:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0639\u062f\u062f \u0645\u0631\u0627\u062a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",closeLastMessageOptions1:"\u0645\u0646 \u0627\u0644\u0645\u0634\u063a\u0644/\u0627\u0644\u0639\u0645\u064a\u0644",closeLastMessageOptions2:"\u0645\u0646 \u0627\u0644\u0645\u0634\u063a\u0644",outOfHoursMessage:"\u0631\u0633\u0627\u0644\u0629 \u062e\u0627\u0631\u062c \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644",greetingMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0631\u062d\u064a\u0628",complationMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0625\u0646\u0647\u0627\u0621",lgpdLinkPrivacy:"\u0631\u0627\u0628\u0637 \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",lgpdMessage:"\u0631\u0633\u0627\u0644\u0629 \u062a\u0631\u062d\u064a\u0628 LGPD",lgpdDeletedMessages:"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0645\u062d\u0630\u0648\u0641\u0629 \u0645\u0646 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",lgpdSendMessage:"\u0637\u0644\u0628 \u062a\u0623\u0643\u064a\u062f \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u062f\u0627\u0626\u0645\u0627\u064b",ratingMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0642\u064a\u064a\u0645 - \u0627\u0644\u0645\u0642\u064a\u0627\u0633 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0645\u0646 0 \u0625\u0644\u0649 10",token:"\u0631\u0645\u0632 \u0644\u0644\u062a\u0643\u0627\u0645\u0644 \u0627\u0644\u062e\u0627\u0631\u062c\u064a",sendIdQueue:"\u0627\u0644\u0637\u0627\u0628\u0648\u0631",inactiveMessage:"\u0631\u0633\u0627\u0644\u0629 \u0639\u062f\u0645 \u0627\u0644\u0646\u0634\u0627\u0637",timeInactiveMessage:"\u0627\u0644\u0648\u0642\u062a \u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642 \u0644\u0625\u0631\u0633\u0627\u0644 \u062a\u0646\u0628\u064a\u0647 \u0639\u062f\u0645 \u0627\u0644\u0646\u0634\u0627\u0637",flowInactiveTime:"\u0627\u0644\u0648\u0642\u062a \u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642 \u0644\u0625\u0631\u0633\u0627\u0644 \u062a\u062f\u0641\u0642 \u0639\u062f\u0645 \u0627\u0644\u0646\u0634\u0627\u0637",whenExpiresTicket:"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0641\u062a\u0648\u062d\u0629 \u0639\u0646\u062f\u0645\u0627 \u062a\u0643\u0648\u0646 \u0622\u062e\u0631 \u0631\u0633\u0627\u0644\u0629 \u0645\u0646",expiresInactiveMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0625\u0646\u0647\u0627\u0621 \u0628\u0633\u0628\u0628 \u0639\u062f\u0645 \u0627\u0644\u0646\u0634\u0627\u0637",prompt:"\u0627\u0644\u0645\u0648\u062c\u0647",collectiveVacationEnd:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0646\u0647\u0627\u0626\u064a",collectiveVacationStart:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0623\u0648\u0644\u064a",collectiveVacationMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0625\u062c\u0627\u0632\u0629 \u0627\u0644\u062c\u0645\u0627\u0639\u064a\u0629",queueIdImportMessages:"\u0637\u0627\u0628\u0648\u0631 \u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644",isOficial:"\u0631\u0633\u0645\u064a",phone_number_id:"\u0645\u0639\u0631\u0641 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",waba_id:"\u0645\u0639\u0631\u0641 Waba",send_token:"\u0631\u0645\u0632 \u0627\u0644\u0625\u0631\u0633\u0627\u0644",business_id:"\u0645\u0639\u0631\u0641 \u0627\u0644\u0639\u0645\u0644",phone_number:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",triggerIntegrationOnClose:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u0643\u0627\u0645\u0644 \u0639\u0646\u062f \u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",enableIntegration:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u0643\u0627\u0645\u0644"},buttons:{okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"},menuItem:{enabled:"\u0645\u0641\u0639\u0644",disabled:"\u0645\u0639\u0637\u0644",minutes:"\u062f\u0642\u0627\u0626\u0642"},success:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0646\u062c\u0627\u062d.",errorSendQueue:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0648\u0642\u062a \u0644\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647 \u0627\u0644\u0637\u0627\u0628\u0648\u0631\u060c \u0644\u0643\u0646 \u0644\u0645 \u064a\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u0637\u0627\u0628\u0648\u0631 \u0644\u0644\u062a\u0648\u062c\u064a\u0647. \u064a\u062c\u0628 \u0645\u0644\u0621 \u0627\u0644\u062d\u0642\u0644\u064a\u0646 \u0645\u0639\u0627\u064b",errorExpiresNPS:"\u0645\u0637\u0644\u0648\u0628 \u062a\u062d\u062f\u064a\u062f \u0648\u0642\u062a \u0644\u0644\u062a\u0642\u064a\u064a\u0645 \u0639\u0646\u062f \u0627\u0633\u062a\u062e\u062f\u0627\u0645 NPS.",errorRatingMessage:"\u0645\u0637\u0644\u0648\u0628 \u062a\u062d\u062f\u064a\u062f \u0631\u0633\u0627\u0644\u0629 \u062a\u0642\u064a\u064a\u0645 \u0639\u0646\u062f \u0627\u0633\u062a\u062e\u062f\u0627\u0645 NPS."},qrCode:{message:"\u0627\u0642\u0631\u0623 \u0631\u0645\u0632 QR \u0644\u0628\u062f\u0621 \u0627\u0644\u062c\u0644\u0633\u0629"},contacts:{title:"\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0646\u062c\u0627\u062d!"},searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b...",conversationFlows:" \u062a\u062f\u0641\u0642\u0627\u062a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",addFlow:"\u0625\u0636\u0627\u0641\u0629 \u062a\u062f\u0641\u0642",editFlow:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u062f\u0641\u0642 ",confirmationModal:{deleteTitle:"\u062d\u0630\u0641 ",importTitlte:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",exportContact:"\u062a\u0635\u062f\u064a\u0631 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",deleteMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0647\u0630\u0647\u061f \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0631\u062a\u0628\u0637\u0629 \u0633\u062a\u0641\u0642\u062f.",blockContact:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0638\u0631 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0647\u0630\u0647\u061f",unblockContact:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0647\u0630\u0647\u061f",importMessage:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0633\u062a\u064a\u0631\u0627\u062f \u062c\u0645\u064a\u0639 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0645\u0646 \u0627\u0644\u0647\u0627\u062a\u0641\u061f",importChat:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",wantImport:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0633\u062a\u064a\u0631\u0627\u062f \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0645\u0646 \u0627\u0644\u0647\u0627\u062a\u0641\u061f"},buttons:{import:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",add:"\u0625\u0636\u0627\u0641\u0629 \u062c\u0647\u0629 \u0627\u062a\u0635\u0627\u0644",export:"\u062a\u0635\u062f\u064a\u0631 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"},table:{name:"\u0627\u0644\u0627\u0633\u0645",whatsapp:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",lastMessage:"\u0622\u062e\u0631 \u0631\u0633\u0627\u0644\u0629",wallet:"\u0627\u0644\u0645\u062d\u0641\u0638\u0629"},menu:{importYourPhone:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u0645\u0646 \u0627\u0644\u062c\u0647\u0627\u0632 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a",importToExcel:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f / \u062a\u0635\u062f\u064a\u0631 \u0645\u0646 \u0625\u0643\u0633\u0644",importexport:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f / \u062a\u0635\u062f\u064a\u0631"}},forwardMessage:{text:"\u0645\u0639\u0627\u062f \u0627\u0644\u062a\u0648\u062c\u064a\u0647"},forwardMessageModal:{title:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",buttons:{ok:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647"}},promptModal:{form:{name:"\u0627\u0644\u0627\u0633\u0645",prompt:"\u0627\u0644\u0645\u0648\u062c\u0647",voice:"\u0627\u0644\u0635\u0648\u062a",max_tokens:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0631\u0645\u0648\u0632 \u0641\u064a \u0627\u0644\u0625\u062c\u0627\u0628\u0629",temperature:"\u062f\u0631\u062c\u0629 \u0627\u0644\u062d\u0631\u0627\u0631\u0629",apikey:"\u0645\u0641\u062a\u0627\u062d API",max_messages:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0631\u0633\u0627\u0626\u0644 \u0641\u064a \u0627\u0644\u062a\u0627\u0631\u064a\u062e",voiceKey:"\u0645\u0641\u062a\u0627\u062d API \u0627\u0644\u0635\u0648\u062a",voiceRegion:"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0635\u0648\u062a"},success:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0645\u0648\u062c\u0647 \u0628\u0646\u062c\u0627\u062d!",title:{add:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u062c\u0647",edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0648\u062c\u0647"},buttons:{okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"}},prompts:{title:"\u0627\u0644\u0645\u0648\u062c\u0647\u0627\u062a",table:{name:"\u0627\u0644\u0627\u0633\u0645",queue:"\u0627\u0644\u0642\u0633\u0645/\u0627\u0644\u0637\u0627\u0628\u0648\u0631",max_tokens:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0631\u0645\u0648\u0632 \u0627\u0644\u0625\u062c\u0627\u0628\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621!"},buttons:{add:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u062c\u0647"}},contactModal:{title:{add:"\u0625\u0636\u0627\u0641\u0629 \u062c\u0647\u0629 \u0627\u062a\u0635\u0627\u0644",edit:"\u062a\u0639\u062f\u064a\u0644 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"},form:{mainInfo:"\u0628\u064a\u0627\u0646\u0627\u062a \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",extraInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629",name:"\u0627\u0644\u0627\u0633\u0645",number:"\u0631\u0642\u0645 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",extraName:"\u0627\u0633\u0645 \u0627\u0644\u062d\u0642\u0644",extraValue:"\u0627\u0644\u0642\u064a\u0645\u0629",chatBotContact:"\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u0628\u0648\u062a",termsLGDP:"\u062a\u0645 \u0642\u0628\u0648\u0644 \u0634\u0631\u0648\u0637 LGPD \u0641\u064a:",whatsapp:"\u0645\u0635\u062f\u0631 \u0627\u0644\u0627\u062a\u0635\u0627\u0644: ",assignWallet:"\u0645\u062d\u0641\u0638\u0629 \u0627\u0644\u0639\u0645\u064a\u0644"},buttons:{addExtraInfo:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0639\u0644\u0648\u0645\u0629",okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"},success:"\u062a\u0645 \u062d\u0641\u0638 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0646\u062c\u0627\u062d.",walletLinked:"\u062a\u0645 \u0631\u0628\u0637 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0645\u062d\u0641\u0638\u062a\u0643 \u0628\u0646\u062c\u0627\u062d!",walletError:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0644\u0627 \u064a\u0645\u0644\u0643 \u0637\u0648\u0627\u0628\u064a\u0631 \u0645\u0631\u062a\u0628\u0637\u0629",saveFirst:"\u064a\u062c\u0628 \u062d\u0641\u0638 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0623\u0648\u0644\u0627\u064b"},wallets:{title:"\u0645\u062d\u0627\u0641\u0638 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644...",filterByUser:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",allUsers:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",contact:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",user:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",queue:"\u0627\u0644\u0637\u0627\u0628\u0648\u0631",phone:"\u0627\u0644\u0647\u0627\u062a\u0641",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",editWallet:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u062d\u0641\u0638\u0629",selectUser:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",selectQueue:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0637\u0627\u0628\u0648\u0631",selectUserAndQueue:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645\u0627\u064b \u0648\u0637\u0627\u0628\u0648\u0631\u0627\u064b",cancel:"\u0625\u0644\u063a\u0627\u0621",save:"\u062d\u0641\u0638",confirmDeleteTitle:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",confirmDeleteMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u0632\u0627\u0644\u0629 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0647\u0630\u0647 \u0645\u0646 \u0627\u0644\u0645\u062d\u0641\u0638\u0629\u061f",deleteSuccess:"\u062a\u0645 \u0625\u0632\u0627\u0644\u0629 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0645\u0646 \u0627\u0644\u0645\u062d\u0641\u0638\u0629 \u0628\u0646\u062c\u0627\u062d!",updateSuccess:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u062d\u0641\u0638\u0629 \u0628\u0646\u062c\u0627\u062d!",wallet:"\u0627\u0644\u0645\u062d\u0641\u0638\u0629"},queueModal:{title:{queueData:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0637\u0627\u0628\u0648\u0631",text:"\u0633\u0627\u0639\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0629",add:"\u0625\u0636\u0627\u0641\u0629 \u0637\u0627\u0628\u0648\u0631",edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0637\u0627\u0628\u0648\u0631",confirmationDelete:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f \u062c\u0645\u064a\u0639 \u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u062a\u0643\u0627\u0645\u0644\u0627\u062a \u0633\u062a\u062d\u0630\u0641."},form:{name:"\u0627\u0644\u0627\u0633\u0645",color:"\u0627\u0644\u0644\u0648\u0646",orderQueue:"\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0637\u0627\u0628\u0648\u0631 (\u0627\u0644\u0628\u0648\u062a)",rotate:"\u0627\u0644\u062a\u0646\u0627\u0648\u0628",timeRotate:"\u0648\u0642\u062a \u0627\u0644\u062a\u0646\u0627\u0648\u0628",typeRandomMode:"\u0646\u0648\u0639 \u0627\u0644\u062a\u0646\u0627\u0648\u0628",greetingMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0631\u062d\u064a\u0628",complationMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0625\u0646\u0647\u0627\u0621",outOfHoursMessage:"\u0631\u0633\u0627\u0644\u0629 \u062e\u0627\u0631\u062c \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644",token:"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0645\u064a\u0632",integrationId:"\u0627\u0644\u062a\u0643\u0627\u0645\u0644",fileListId:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062a",closeTicket:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",queueType:"\u0646\u0648\u0639 \u0627\u0644\u0642\u0627\u0626\u0645\u0629",message:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0625\u0631\u062c\u0627\u0639",queue:"\u0637\u0627\u0628\u0648\u0631 \u0627\u0644\u0646\u0642\u0644",integration:"\u0627\u0644\u062a\u0643\u0627\u0645\u0644",file:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062a"},buttons:{okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"},bot:{title:"\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a",toolTipTitle:"\u0623\u0636\u0641 \u062e\u064a\u0627\u0631\u0627\u062a \u0644\u0628\u0646\u0627\u0621 \u0628\u0648\u062a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",toolTip:"\u0625\u0630\u0627 \u0643\u0627\u0646 \u0647\u0646\u0627\u0643 \u062e\u064a\u0627\u0631 \u0648\u0627\u062d\u062f \u0641\u0642\u0637\u060c \u0633\u064a\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631\u0647 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b\u060c \u0645\u0645\u0627 \u064a\u062c\u0639\u0644 \u0627\u0644\u0628\u0648\u062a \u064a\u062c\u064a\u0628 \u0628\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062e\u064a\u0627\u0631 \u0648\u064a\u062a\u0627\u0628\u0639",selectOption:"\u0627\u062e\u062a\u0631 \u062e\u064a\u0627\u0631\u0627\u064b",text:"\u0627\u0644\u0646\u0635",attendent:"\u0627\u0644\u0645\u0634\u063a\u0644",queue:"\u0627\u0644\u0637\u0627\u0628\u0648\u0631",integration:"\u0627\u0644\u062a\u0643\u0627\u0645\u0644",file:"\u0627\u0644\u0645\u0644\u0641",toolTipMessageTitle:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629 \u0644\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a",toolTipMessageContent:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629 \u0644\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a",selectUser:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645\u0627\u064b",selectQueue:"\u0627\u062e\u062a\u0631 \u0637\u0627\u0628\u0648\u0631\u0627\u064b",selectIntegration:"\u0627\u062e\u062a\u0631 \u062a\u0643\u0627\u0645\u0644\u0627\u064b",addOptions:"\u0625\u0636\u0627\u0641\u0629 \u062e\u064a\u0627\u0631\u0627\u062a"},serviceHours:{dayWeek:"\u064a\u0648\u0645 \u0627\u0644\u0623\u0633\u0628\u0648\u0639",startTimeA:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0623\u0648\u0644\u064a - \u0627\u0644\u062f\u0648\u0627\u0645 \u0623",endTimeA:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0646\u0647\u0627\u0626\u064a - \u0627\u0644\u062f\u0648\u0627\u0645 \u0623",startTimeB:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0623\u0648\u0644\u064a - \u0627\u0644\u062f\u0648\u0627\u0645 \u0628",endTimeB:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0646\u0647\u0627\u0626\u064a - \u0627\u0644\u062f\u0648\u0627\u0645 \u0628",monday:"\u0627\u0644\u0627\u062b\u0646\u064a\u0646",tuesday:"\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621",wednesday:"\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621",thursday:"\u0627\u0644\u062e\u0645\u064a\u0633",friday:"\u0627\u0644\u062c\u0645\u0639\u0629",saturday:"\u0627\u0644\u0633\u0628\u062a",sunday:"\u0627\u0644\u0623\u062d\u062f"}},queueIntegrationModal:{title:{add:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0634\u0631\u0648\u0639",edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0634\u0631\u0648\u0639"},form:{id:"\u0627\u0644\u0645\u0639\u0631\u0641",type:"\u0627\u0644\u0646\u0648\u0639",name:"\u0627\u0644\u0627\u0633\u0645",projectName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",language:"\u0627\u0644\u0644\u063a\u0629",jsonContent:"\u0645\u062d\u062a\u0648\u0649 Json",urlN8N:"\u0627\u0644\u0631\u0627\u0628\u0637",typebotSlug:"Typebot - Slug",typebotExpires:"\u0627\u0644\u0648\u0642\u062a \u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642 \u0644\u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",typebotKeywordFinish:"\u0643\u0644\u0645\u0629 \u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",typebotKeywordRestart:"\u0643\u0644\u0645\u0629 \u0625\u0639\u0627\u062f\u0629 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u062a\u062f\u0641\u0642",typebotRestartMessage:"\u0631\u0633\u0627\u0644\u0629 \u0639\u0646\u062f \u0625\u0639\u0627\u062f\u0629 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",typebotUnknownMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062e\u064a\u0627\u0631 \u063a\u064a\u0631 \u0627\u0644\u0635\u062d\u064a\u062d",typebotDelayMessage:"\u0627\u0644\u0641\u0627\u0635\u0644 \u0627\u0644\u0632\u0645\u0646\u064a (\u0645\u0644\u0644\u064a \u062b\u0627\u0646\u064a\u0629) \u0628\u064a\u0646 \u0627\u0644\u0631\u0633\u0627\u0626\u0644"},buttons:{okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",test:"\u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u0628\u0648\u062a"},messages:{testSuccess:"\u062a\u0645 \u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u062a\u0643\u0627\u0645\u0644 \u0628\u0646\u062c\u0627\u062d!",addSuccess:"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062a\u0643\u0627\u0645\u0644 \u0628\u0646\u062c\u0627\u062d.",editSuccess:"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0643\u0627\u0645\u0644 \u0628\u0646\u062c\u0627\u062d."}},userModal:{warning:"\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u064a\u062c\u0628 \u0642\u0631\u0627\u0621\u0629 \u0631\u0645\u0632 QR \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 !!!",title:{add:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645",edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",updateImage:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0648\u0631\u0629",removeImage:"\u062d\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629"},form:{name:"\u0627\u0644\u0627\u0633\u0645",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",farewellMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u0627\u0639",profile:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",startWork:"\u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0639\u0645\u0644",endWork:"\u0646\u0647\u0627\u064a\u0629 \u0627\u0644\u0639\u0645\u0644",whatsapp:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a",allTicketEnable:"\u0645\u0641\u0639\u0644",allTicketDisable:"\u0645\u0639\u0637\u0644",allTicket:"\u0639\u0631\u0636 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0628\u062f\u0648\u0646 \u0637\u0627\u0628\u0648\u0631",allowGroup:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",defaultMenuOpen:"\u0645\u0641\u062a\u0648\u062d",defaultMenuClosed:"\u0645\u063a\u0644\u0642",defaultMenu:"\u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a\u0629",defaultTheme:"\u0627\u0644\u0645\u0638\u0647\u0631 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a",defaultThemeDark:"\u062f\u0627\u0643\u0646",defaultThemeLight:"\u0641\u0627\u062a\u062d",allHistoric:"\u0639\u0631\u0636 \u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631 \u0627\u0644\u0623\u062e\u0631\u0649",allHistoricEnabled:"\u0645\u0641\u0639\u0644",allHistoricDisabled:"\u0645\u0639\u0637\u0644",allUserChat:"\u0639\u0631\u0636 \u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0622\u062e\u0631\u064a\u0646",userClosePendingTicket:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0639\u0644\u0642\u0629",showDashboard:"\u0639\u0631\u0636 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",allowRealTime:"\u0639\u0631\u0636 \u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",allowConnections:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",showContacts:"\u0639\u0631\u0636 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",showCampaign:"\u0639\u0631\u0636 \u0627\u0644\u062d\u0645\u0644\u0627\u062a",showFlow:"\u0639\u0631\u0636 \u0627\u0644\u062a\u062f\u0641\u0642\u0627\u062a"},tabs:{general:"\u0639\u0627\u0645",permissions:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"},buttons:{okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",addImage:"\u0625\u0636\u0627\u0641\u0629 \u0635\u0648\u0631\u0629",editImage:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0635\u0648\u0631\u0629"},success:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d."},companyModal:{title:{add:"\u0625\u0636\u0627\u0641\u0629 \u0634\u0631\u0643\u0629",edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0634\u0631\u0643\u0629"},form:{name:"\u0627\u0644\u0627\u0633\u0645",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",passwordDefault:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",numberAttendants:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646",numberConections:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a"},buttons:{okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"},success:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062c\u0627\u062d."},scheduleModal:{title:{add:"\u062c\u062f\u0648\u0644\u0629 \u062c\u062f\u064a\u062f\u0629",edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062c\u062f\u0648\u0644\u0629",message:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629"},form:{body:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629",contact:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",sendAt:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062c\u062f\u0648\u0644\u0629",sentAt:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0631\u0633\u0627\u0644",assinar:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0648\u0642\u064a\u0639"},buttons:{okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",addSchedule:"\u0625\u0636\u0627\u0641\u0629 \u062c\u062f\u0648\u0644\u0629"},success:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u062c\u062f\u0648\u0644\u0629 \u0628\u0646\u062c\u0627\u062d."},tagModal:{title:{add:"\u0639\u0644\u0627\u0645\u0629 \u062c\u062f\u064a\u062f\u0629",edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0629",addKanban:"\u0645\u0633\u0627\u0631 \u062c\u062f\u064a\u062f",editKanban:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u0627\u0631"},form:{name:"\u0627\u0644\u0627\u0633\u0645",color:"\u0627\u0644\u0644\u0648\u0646",timeLane:"\u0627\u0644\u0648\u0642\u062a \u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642 \u0644\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0648\u062c\u064a\u0647 \u0644\u0644\u0645\u0633\u0627\u0631",nextLaneId:"\u0627\u0644\u0645\u0633\u0627\u0631",greetingMessageLane:"\u0631\u0633\u0627\u0644\u0629 \u062a\u0631\u062d\u064a\u0628 \u0627\u0644\u0645\u0633\u0627\u0631",rollbackLaneId:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0645\u0633\u0627\u0631 \u0628\u0639\u062f \u0627\u0633\u062a\u0626\u0646\u0627\u0641 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"},buttons:{okAdd:"\u0625\u0636\u0627\u0641\u0629",okEdit:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"},success:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0628\u0646\u062c\u0627\u062d.",successKanban:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0645\u0633\u0627\u0631 \u0628\u0646\u062c\u0627\u062d."},fileModal:{title:{add:"\u0625\u0636\u0627\u0641\u0629 \u0642\u0627\u0626\u0645\u0629 \u0645\u0644\u0641\u0627\u062a",edit:"\u062a\u0639\u062f\u064a\u0644 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062a"},buttons:{okAdd:"\u062d\u0641\u0638",okEdit:"\u062a\u0639\u062f\u064a\u0644",cancel:"\u0625\u0644\u063a\u0627\u0621",fileOptions:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u0641"},form:{name:"\u0627\u0633\u0645 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062a",message:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0642\u0627\u0626\u0645\u0629",fileOptions:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062a",extraName:"\u0631\u0633\u0627\u0644\u0629 \u0644\u0625\u0631\u0633\u0627\u0644\u0647\u0627 \u0645\u0639 \u0627\u0644\u0645\u0644\u0641",extraValue:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u064a\u0627\u0631"},success:"\u062a\u0645 \u062d\u0641\u0638 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0628\u0646\u062c\u0627\u062d!"},chat:{noTicketMessage:"\u0627\u062e\u062a\u0631 \u0645\u062d\u0627\u062f\u062b\u0629 \u0644\u0628\u062f\u0621 \u0627\u0644\u0645\u0631\u0627\u0633\u0644\u0629."},uploads:{titles:{titleUploadMsgDragDrop:"\u2b07\ufe0f \u0627\u0633\u062d\u0628 \u0648\u0623\u0641\u0644\u062a \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0641\u064a \u0627\u0644\u062d\u0642\u0644 \u0623\u062f\u0646\u0627\u0647 \u2b07\ufe0f",titleFileList:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641(\u0627\u062a)"}},chatInternal:{new:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629",modal:{conversation:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",title:"\u0627\u0644\u0627\u0633\u0645",filterUsers:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0623\u0639\u0636\u0627\u0621",cancel:"\u0625\u063a\u0644\u0627\u0642",save:"\u062d\u0641\u0638"},modalDelete:{title:"\u062d\u0630\u0641 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",message:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621\u060c \u062a\u0623\u0643\u064a\u062f\u061f"}},ticketsManager:{questionCloseTicket:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0625\u063a\u0644\u0627\u0642 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a\u061f",yes:"\u0646\u0639\u0645",not:"\u0644\u0627",buttons:{newTicket:"\u062c\u062f\u064a\u062f\u0629",resolveAll:"\u062d\u0644 \u0627\u0644\u0643\u0644",close:"\u0625\u063a\u0644\u0627\u0642",new:"\u062c\u062f\u064a\u062f\u0629"}},ticketsQueueSelect:{placeholder:"\u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631"},tickets:{inbox:{closedAllTickets:"\u0625\u063a\u0644\u0627\u0642 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a\u061f",closedAll:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0643\u0644",newTicket:"\u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629",yes:"\u0646\u0639\u0645",no:"\u0644\u0627",open:"\u0645\u0641\u062a\u0648\u062d\u0629",resolverd:"\u0645\u062d\u0644\u0648\u0644\u0629"},toasts:{deleted:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0627\u0644\u062a\u064a \u0643\u0646\u062a \u0641\u064a\u0647\u0627 \u062a\u0645 \u062d\u0630\u0641\u0647\u0627."},notification:{message:"\u0631\u0633\u0627\u0644\u0629 \u0645\u0646"},tabs:{open:{title:"\u0645\u0641\u062a\u0648\u062d\u0629"},closed:{title:"\u0645\u062d\u0644\u0648\u0644\u0629"},search:{title:"\u0627\u0644\u0628\u062d\u062b"}},search:{placeholder:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0648\u0627\u0644\u0631\u0633\u0627\u0626\u0644",filterConections:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",filterConectionsOptions:{open:"\u0645\u0641\u062a\u0648\u062d",closed:"\u0645\u063a\u0644\u0642",pending:"\u0645\u0639\u0644\u0642"},filterUsers:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",filterContacts:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",ticketsPerPage:"\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0644\u0643\u0644 \u0635\u0641\u062d\u0629"},buttons:{showAll:"\u0627\u0644\u0643\u0644",returnQueue:"\u0625\u0631\u062c\u0627\u0639 \u0644\u0644\u0637\u0627\u0628\u0648\u0631",scredule:"\u062c\u062f\u0648\u0644\u0629",deleteTicket:"\u062d\u0630\u0641 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"},closedTicket:{closedMessage:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0645\u0639 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u0627\u0639",closedNotMessage:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0628\u062f\u0648\u0646 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u0627\u0639"}},transferTicketModal:{title:"\u0646\u0642\u0644 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",fieldLabel:"\u0627\u0643\u062a\u0628 \u0644\u0644\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",fieldQueueLabel:"\u0627\u0644\u0646\u0642\u0644 \u0644\u0644\u0637\u0627\u0628\u0648\u0631",fieldQueuePlaceholder:"\u0627\u062e\u062a\u0631 \u0637\u0627\u0628\u0648\u0631\u0627\u064b",fieldWhatsapp:"\u0627\u062e\u062a\u0631 \u0648\u0627\u062a\u0633 \u0627\u0628",noOptions:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645",msgTransfer:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a - \u0631\u0633\u0627\u0644\u0629 \u062f\u0627\u062e\u0644\u064a\u0629\u060c \u0644\u0646 \u062a\u0630\u0647\u0628 \u0644\u0644\u0639\u0645\u064a\u0644",buttons:{ok:"\u0646\u0642\u0644",cancel:"\u0625\u0644\u063a\u0627\u0621"}},chatInternal:{new:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629",modal:{conversation:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",title:"\u0627\u0644\u0627\u0633\u0645",filterUsers:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0623\u0639\u0636\u0627\u0621",cancel:"\u0625\u063a\u0644\u0627\u0642",save:"\u062d\u0641\u0638"},modalDelete:{title:"\u062d\u0630\u0641 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",message:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621\u060c \u062a\u0623\u0643\u064a\u062f\u061f"}},ticketsList:{called:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",today:"\u0627\u0644\u064a\u0648\u0645",missedCall:"\u0645\u0643\u0627\u0644\u0645\u0629 \u0635\u0648\u062a\u064a\u0629/\u0641\u064a\u062f\u064a\u0648 \u0641\u0627\u0626\u062a\u0629 \u0641\u064a",pendingHeader:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",assignedHeader:"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",groupingHeader:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",noTicketsTitle:"\u0644\u0627 \u0634\u064a\u0621 \u0647\u0646\u0627!",noTicketsMessage:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062d\u0627\u062f\u062b\u0629 \u0628\u0647\u0630\u0647 \u0627\u0644\u062d\u0627\u0644\u0629 \u0623\u0648 \u0627\u0644\u0645\u0635\u0637\u0644\u062d \u0627\u0644\u0645\u0628\u062d\u0648\u062b \u0639\u0646\u0647",noQueue:"\u0628\u062f\u0648\u0646 \u0637\u0627\u0628\u0648\u0631",buttons:{accept:"\u0642\u0628\u0648\u0644",cancel:"\u0625\u0644\u063a\u0627\u0621",start:"\u0628\u062f\u0621",closed:"\u0625\u063a\u0644\u0627\u0642",reopen:"\u0625\u0639\u0627\u062f\u0629 \u0641\u062a\u062d",transfer:"\u0646\u0642\u0644",ignore:"\u062a\u062c\u0627\u0647\u0644",exportAsPDF:"\u062a\u0635\u062f\u064a\u0631 \u0643\u0640 PDF",kanbanActions:"\u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0643\u0627\u0646\u0628\u0627\u0646"},acceptModal:{title:"\u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",queue:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0642\u0633\u0645"}},newTicketModal:{title:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062d\u0627\u062f\u062b\u0629",fieldLabel:"\u0627\u0643\u062a\u0628 \u0644\u0644\u0628\u062d\u062b \u0639\u0646 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",add:"\u0625\u0636\u0627\u0641\u0629",buttons:{ok:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"}},SendContactModal:{title:"\u0625\u0631\u0633\u0627\u0644 \u062c\u0647\u0629 \u0627\u062a\u0635\u0627\u0644",fieldLabel:"\u0627\u0643\u062a\u0628 \u0644\u0644\u0628\u062d\u062b \u0639\u0646 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",add:"\u0625\u0636\u0627\u0641\u0629",buttons:{ok:"\u0625\u0631\u0633\u0627\u0644",cancel:"\u0625\u0644\u063a\u0627\u0621"}},mainDrawer:{listItems:{dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",connections:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",chatsTempoReal:"\u0627\u0644\u0644\u0648\u062d\u0629",tickets:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",quickMessages:"\u0627\u0644\u0631\u062f\u0648\u062f \u0627\u0644\u0633\u0631\u064a\u0639\u0629",contacts:"\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",wallets:"\u0627\u0644\u0645\u062d\u0627\u0641\u0638",queues:"\u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631 \u0648\u0627\u0644\u0628\u0648\u062a",tags:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a",administration:"\u0627\u0644\u0625\u062f\u0627\u0631\u0629",companies:"\u0627\u0644\u0634\u0631\u0643\u0627\u062a",users:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",files:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062a",helps:"\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",messagesAPI:"API",schedules:"\u0627\u0644\u062c\u062f\u0648\u0644\u0629",campaigns:"\u0627\u0644\u062d\u0645\u0644\u0627\u062a",annoucements:"\u0627\u0644\u0625\u0639\u0644\u0627\u0646\u0627\u062a",chats:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0627\u0644\u062f\u0627\u062e\u0644\u064a\u0629",financeiro:"\u0627\u0644\u0645\u0627\u0644\u064a\u0629",queueIntegration:"\u0627\u0644\u062a\u0643\u0627\u0645\u0644\u0627\u062a",version:"\u0627\u0644\u0625\u0635\u062f\u0627\u0631",kanban:"\u0627\u0644\u0643\u0627\u0646\u0628\u0627\u0646",prompts:"Talk.Ai",allConnections:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",management:"\u0627\u0644\u0625\u062f\u0627\u0631\u0629"},appBar:{user:{profile:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",logout:"\u062e\u0631\u0648\u062c",message:"\u0645\u0631\u062d\u0628\u0627\u064b",messageEnd:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0643 \u0641\u064a",active:"\u0646\u0634\u0637 \u062d\u062a\u0649",goodMorning:"\u0645\u0631\u062d\u0628\u0627\u064b\u060c",myName:"\u0627\u0633\u0645\u064a",continuity:"\u0648\u0633\u0623\u062a\u0627\u0628\u0639 \u0645\u062d\u0627\u062f\u062b\u062a\u0643.",virtualAssistant:"\u0627\u0644\u0645\u0633\u0627\u0639\u062f \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a",token:"\u0631\u0645\u0632 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0645\u0633\u0624\u0648\u0644 \u0627\u0644\u0645\u0646\u0635\u0629."},message:{location:"\u0627\u0644\u0645\u0648\u0642\u0639",contact:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"},notRegister:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0633\u062c\u0644",refresh:"\u062a\u062d\u062f\u064a\u062b"}},languages:{undefined:"\u0627\u0644\u0644\u063a\u0629","pt-BR":"\u0627\u0644\u0628\u0631\u062a\u063a\u0627\u0644\u064a\u0629",es:"\u0627\u0644\u0625\u0633\u0628\u0627\u0646\u064a\u0629",en:"\u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629",tr:"\u0627\u0644\u062a\u0631\u0643\u064a\u0629",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},messagesAPI:{title:"API",toSend:"\u0625\u0631\u0633\u0627\u0644",textMessage:{number:"\u0627\u0644\u0631\u0642\u0645",body:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629",token:"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0633\u062c\u0644",userId:"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645/\u0627\u0644\u0645\u0634\u063a\u0644",queueId:"\u0645\u0639\u0631\u0641 \u0627\u0644\u0637\u0627\u0628\u0648\u0631"},mediaMessage:{number:"\u0627\u0644\u0631\u0642\u0645",body:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",media:"\u0627\u0644\u0645\u0644\u0641",token:"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0633\u062c\u0644"},API:{title:"\u0648\u062b\u0627\u0626\u0642 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644",methods:{title:"\u0637\u0631\u0642 \u0627\u0644\u0625\u0631\u0633\u0627\u0644",messagesText:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0646\u0635\u064a\u0629",messagesMidia:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0648\u0633\u0627\u0626\u0637\u064a\u0629"},instructions:{title:"\u0627\u0644\u062a\u0639\u0644\u064a\u0645\u0627\u062a",comments:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0645\u0647\u0645\u0629",comments1:"\u0642\u0628\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644\u060c \u064a\u062c\u0628 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0631\u062a\u0628\u0637 \u0628\u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u0630\u064a \u0633\u064a\u0631\u0633\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644. <br />\u0644\u0644\u062a\u0633\u062c\u064a\u0644\u060c \u0627\u062f\u062e\u0644 \u0625\u0644\u0649 \u0642\u0627\u0626\u0645\u0629 '\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a'\u060c \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0632\u0631 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0648\u0623\u062f\u062e\u0644 \u0627\u0644\u0631\u0645\u0632 \u0641\u064a \u0627\u0644\u062d\u0642\u0644 \u0627\u0644\u0645\u062e\u0635\u0635.",comments2:"\u0631\u0642\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644 \u064a\u062c\u0628 \u0623\u0644\u0627 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0642\u0646\u0627\u0639 \u0623\u0648 \u0631\u0645\u0648\u0632 \u062e\u0627\u0635\u0629 \u0648\u064a\u062c\u0628 \u0623\u0646 \u064a\u062a\u0643\u0648\u0646 \u0645\u0646:",codeCountry:"\u0643\u0648\u062f \u0627\u0644\u062f\u0648\u0644\u0629",code:"\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u0637\u0642\u0629",number:"\u0627\u0644\u0631\u0642\u0645"},text:{title:"1. \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0646\u0635\u064a\u0629",instructions:"\u0641\u064a\u0645\u0627 \u064a\u0644\u064a \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0644\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0646\u0635\u064a\u0629:"},media:{title:"2. \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0648\u0633\u0627\u0626\u0637\u064a\u0629",instructions:"\u0641\u064a\u0645\u0627 \u064a\u0644\u064a \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0644\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0646\u0635\u064a\u0629:"}}},notifications:{noTickets:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0625\u0634\u0639\u0627\u0631\u0627\u062a."},triggerFlowModal:{title:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u062f\u0641\u0642",description:"\u0627\u062e\u062a\u0631 \u062a\u062f\u0641\u0642\u0627\u064b \u0644\u062a\u0646\u0641\u064a\u0630\u0647 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629. \u0633\u062a\u062a\u063a\u064a\u0631 \u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0625\u0644\u0649 '\u0628\u0648\u062a' \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0646\u0641\u064a\u0630.",selectFlow:"\u0627\u062e\u062a\u0631 \u062a\u062f\u0641\u0642\u0627\u064b",selectedFlow:"\u0627\u0644\u062a\u062f\u0641\u0642 \u0627\u0644\u0645\u062e\u062a\u0627\u0631",flowId:"\u0645\u0639\u0631\u0641 \u0627\u0644\u062a\u062f\u0641\u0642",noFlows:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u062f\u0641\u0642\u0627\u062a \u0646\u0634\u0637\u0629",cancel:"\u0625\u0644\u063a\u0627\u0621",trigger:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u062f\u0641\u0642",triggering:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0641\u0639\u064a\u0644...",success:"\u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u062f\u0641\u0642 \u0628\u0646\u062c\u0627\u062d!",error:"\u062e\u0637\u0623 \u0641\u064a \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u062f\u0641\u0642"},quickMessages:{title:"\u0627\u0644\u0631\u062f\u0648\u062f \u0627\u0644\u0633\u0631\u064a\u0639\u0629",searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b...",noAttachment:"\u0628\u062f\u0648\u0646 \u0645\u0631\u0641\u0642",confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647! \u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629\u061f"},selectMessage:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0631\u062f \u0627\u0644\u0633\u0631\u064a\u0639",hasMedia:"\u0645\u0639 \u0648\u0633\u0627\u0626\u0637",global:"\u0639\u0627\u0645",noResultsFound:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0631\u062f \u0633\u0631\u064a\u0639 \u0644\u0628\u062d\u062b\u0643",noQuickMessages:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0631\u062f\u0648\u062f \u0633\u0631\u064a\u0639\u0629 \u0645\u062a\u0627\u062d\u0629",buttons:{add:"\u0625\u0636\u0627\u0641\u0629",attach:"\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641",cancel:"\u0625\u0644\u063a\u0627\u0621",edit:"\u062a\u0639\u062f\u064a\u0644"},toasts:{success:"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0627\u062e\u062a\u0635\u0627\u0631 \u0628\u0646\u062c\u0627\u062d!",deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0627\u062e\u062a\u0635\u0627\u0631 \u0628\u0646\u062c\u0627\u062d!"},dialog:{title:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0633\u0631\u064a\u0639\u0629",shortcode:"\u0627\u0644\u0627\u062e\u062a\u0635\u0627\u0631",message:"\u0627\u0644\u0631\u062f",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",geral:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u062a\u0639\u062f\u064a\u0644",add:"\u0625\u0636\u0627\u0641\u0629",general:"\u0639\u0627\u0645",visao:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u0639\u0631\u0636"},table:{shortcode:"\u0627\u0644\u0627\u062e\u062a\u0635\u0627\u0631",message:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",mediaName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",status:"\u0627\u0644\u062d\u0627\u0644\u0629"}},contactLists:{title:"\u0642\u0648\u0627\u0626\u0645 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",table:{name:"\u0627\u0644\u0627\u0633\u0645",contacts:"\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},buttons:{add:"\u0642\u0627\u0626\u0645\u0629 \u062c\u062f\u064a\u062f\u0629"},dialog:{name:"\u0627\u0644\u0627\u0633\u0645",company:"\u0627\u0644\u0634\u0631\u0643\u0629",okEdit:"\u062a\u0639\u062f\u064a\u0644",okAdd:"\u0625\u0636\u0627\u0641\u0629",add:"\u0625\u0636\u0627\u0641\u0629",edit:"\u062a\u0639\u062f\u064a\u0644",cancel:"\u0625\u0644\u063a\u0627\u0621"},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621."},toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0633\u062c\u0644"}},contactListItems:{title:"\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b",buttons:{add:"\u062c\u062f\u064a\u062f",lists:"\u0627\u0644\u0642\u0648\u0627\u0626\u0645",import:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f"},dialog:{name:"\u0627\u0644\u0627\u0633\u0645",number:"\u0627\u0644\u0631\u0642\u0645",whatsapp:"\u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",okEdit:"\u062a\u0639\u062f\u064a\u0644",okAdd:"\u0625\u0636\u0627\u0641\u0629",add:"\u0625\u0636\u0627\u0641\u0629",edit:"\u062a\u0639\u062f\u064a\u0644",cancel:"\u0625\u0644\u063a\u0627\u0621"},table:{name:"\u0627\u0644\u0627\u0633\u0645",number:"\u0627\u0644\u0631\u0642\u0645",whatsapp:"\u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621.",importMessage:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0633\u062a\u064a\u0631\u0627\u062f \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0645\u0646 \u0647\u0630\u0627 \u0627\u0644\u0645\u0644\u0641\u061f ",importTitlte:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f"},toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0633\u062c\u0644"}},kanban:{title:"\u0627\u0644\u0643\u0627\u0646\u0628\u0627\u0646",searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b",subMenus:{list:"\u0627\u0644\u0644\u0648\u062d\u0629",tags:"\u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a"}},campaigns:{title:"\u0627\u0644\u062d\u0645\u0644\u0627\u062a",searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b",subMenus:{list:"\u0627\u0644\u0642\u0627\u0626\u0645\u0629",listContacts:"\u0642\u0627\u0626\u0645\u0629 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"},settings:{randomInterval:"\u0641\u0627\u0635\u0644 \u0632\u0645\u0646\u064a \u0639\u0634\u0648\u0627\u0626\u064a \u0644\u0644\u0625\u0631\u0633\u0627\u0644",noBreak:"\u0628\u062f\u0648\u0646 \u0641\u0627\u0635\u0644",intervalGapAfter:"\u0641\u0627\u0635\u0644 \u0623\u0643\u0628\u0631 \u0628\u0639\u062f",undefined:"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f",messages:"\u0631\u0633\u0627\u0626\u0644",laggerTriggerRange:"\u0641\u0627\u0635\u0644 \u0625\u0631\u0633\u0627\u0644 \u0623\u0643\u0628\u0631",addVar:"\u0625\u0636\u0627\u0641\u0629 \u0645\u062a\u063a\u064a\u0631",save:"\u062d\u0641\u0638",close:"\u0625\u063a\u0644\u0627\u0642",add:"\u0625\u0636\u0627\u0641\u0629",shortcut:"\u0627\u062e\u062a\u0635\u0627\u0631",content:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649"},buttons:{add:"\u062d\u0645\u0644\u0629 \u062c\u062f\u064a\u062f\u0629",contactLists:"\u0642\u0648\u0627\u0626\u0645 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"},table:{name:"\u0627\u0644\u0627\u0633\u0645",whatsapp:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644",contactList:"\u0642\u0627\u0626\u0645\u0629 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",option:"\u0644\u0627 \u0634\u064a\u0621",disabled:"\u0645\u0639\u0637\u0644",enabled:"\u0645\u0641\u0639\u0644",status:"\u0627\u0644\u062d\u0627\u0644\u0629",scheduledAt:"\u0627\u0644\u062c\u062f\u0648\u0644\u0629",completedAt:"\u0645\u0643\u062a\u0645\u0644\u0629",confirmation:"\u0627\u0644\u062a\u0623\u0643\u064a\u062f",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},dialog:{new:"\u062d\u0645\u0644\u0629 \u062c\u062f\u064a\u062f\u0629",update:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062d\u0645\u0644\u0629",readonly:"\u0639\u0631\u0636 \u0641\u0642\u0637",help:"\u0627\u0633\u062a\u062e\u062f\u0645 \u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0645\u062b\u0644 {\u0627\u0644\u0627\u0633\u0645}\u060c {\u0627\u0644\u0631\u0642\u0645}\u060c {\u0627\u0644\u0628\u0631\u064a\u062f} \u0623\u0648 \u062d\u062f\u062f \u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0645\u062e\u0635\u0635\u0629.",form:{name:"\u0627\u0644\u0627\u0633\u0645",message1:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 1",message2:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 2",message3:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 3",message4:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 4",message5:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 5",confirmationMessage1:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0623\u0643\u064a\u062f 1",confirmationMessage2:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0623\u0643\u064a\u062f 2",confirmationMessage3:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0623\u0643\u064a\u062f 3",confirmationMessage4:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0623\u0643\u064a\u062f 4",confirmationMessage5:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0623\u0643\u064a\u062f 5",messagePlaceholder:"\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",whatsapp:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644",status:"\u0627\u0644\u062d\u0627\u0644\u0629",scheduledAt:"\u0627\u0644\u062c\u062f\u0648\u0644\u0629",confirmation:"\u0627\u0644\u062a\u0623\u0643\u064a\u062f",contactList:"\u0642\u0627\u0626\u0645\u0629 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",tagList:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a",statusTicket:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",openTicketStatus:"\u0645\u0641\u062a\u0648\u062d\u0629",pendingTicketStatus:"\u0645\u0639\u0644\u0642\u0629",closedTicketStatus:"\u0645\u063a\u0644\u0642\u0629",enabledOpenTicket:"\u0645\u0641\u0639\u0644",disabledOpenTicket:"\u0645\u0639\u0637\u0644",openTicket:"\u0641\u062a\u062d \u0645\u062d\u0627\u062f\u062b\u0629"},buttons:{add:"\u0625\u0636\u0627\u0641\u0629",edit:"\u062a\u062d\u062f\u064a\u062b",okadd:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0625\u0631\u0633\u0627\u0644",restart:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0625\u0631\u0633\u0627\u0644",close:"\u0625\u063a\u0644\u0627\u0642",attach:"\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641"}},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621."},toasts:{success:"\u062a\u0645 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d",cancel:"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062d\u0645\u0644\u0629",restart:"\u062a\u0645 \u0625\u0639\u0627\u062f\u0629 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u062d\u0645\u0644\u0629",deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0633\u062c\u0644"}},campaignReport:{title:"\u062a\u0642\u0631\u064a\u0631",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637\u0629",scheduled:"\u0645\u062c\u062f\u0648\u0644\u0629",process:"\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630",cancelled:"\u0645\u0644\u063a\u0627\u0629",finished:"\u0645\u0646\u062a\u0647\u064a\u0629",campaign:"\u0627\u0644\u062d\u0645\u0644\u0629",validContacts:"\u062c\u0647\u0627\u062a \u0627\u062a\u0635\u0627\u0644 \u0635\u0627\u0644\u062d\u0629",confirmationsRequested:"\u062a\u0623\u0643\u064a\u062f\u0627\u062a \u0645\u0637\u0644\u0648\u0628\u0629",confirmations:"\u062a\u0623\u0643\u064a\u062f\u0627\u062a",deliver:"\u0645\u0633\u0644\u0645\u0629",connection:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644",contactLists:"\u0642\u0627\u0626\u0645\u0629 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",schedule:"\u0627\u0644\u062c\u062f\u0648\u0644\u0629",conclusion:"\u0627\u0644\u062e\u0644\u0627\u0635\u0629"},announcements:{title:"\u0627\u0644\u0625\u0639\u0644\u0627\u0646\u0627\u062a",searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b",active:"\u0646\u0634\u0637",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637",buttons:{add:"\u0625\u0639\u0644\u0627\u0646 \u062c\u062f\u064a\u062f",contactLists:"\u0642\u0648\u0627\u0626\u0645 \u0627\u0644\u0625\u0639\u0644\u0627\u0646\u0627\u062a"},table:{priority:"\u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0629",title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0646\u0635",mediaName:"\u0627\u0644\u0645\u0644\u0641",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},dialog:{edit:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0625\u0639\u0644\u0627\u0646",add:"\u0625\u0639\u0644\u0627\u0646 \u062c\u062f\u064a\u062f",update:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0625\u0639\u0644\u0627\u0646",readonly:"\u0639\u0631\u0636 \u0641\u0642\u0637",form:{priority:"\u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0629",title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0646\u0635",mediaPath:"\u0627\u0644\u0645\u0644\u0641",status:"\u0627\u0644\u062d\u0627\u0644\u0629",high:"\u0639\u0627\u0644\u064a\u0629",medium:"\u0645\u062a\u0648\u0633\u0637\u0629",low:"\u0645\u0646\u062e\u0641\u0636\u0629",active:"\u0646\u0634\u0637",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637"},buttons:{add:"\u0625\u0636\u0627\u0641\u0629",edit:"\u062a\u062d\u062f\u064a\u062b",okadd:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621",close:"\u0625\u063a\u0644\u0627\u0642",attach:"\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641"}},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621."},toasts:{success:"\u062a\u0645 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d",deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0633\u062c\u0644"}},campaignsConfig:{title:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062d\u0645\u0644\u0627\u062a"},queues:{title:"\u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631 \u0648\u0627\u0644\u0628\u0648\u062a",table:{name:"\u0627\u0644\u0627\u0633\u0645",color:"\u0627\u0644\u0644\u0648\u0646",greeting:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0631\u062d\u064a\u0628",orderQueue:"\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0637\u0627\u0628\u0648\u0631 (\u0627\u0644\u0628\u0648\u062a)",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",ID:"\u0627\u0644\u0645\u0639\u0631\u0641"},buttons:{add:"\u0625\u0636\u0627\u0641\u0629 \u0637\u0627\u0628\u0648\u0631"},toasts:{success:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0637\u0627\u0628\u0648\u0631 \u0628\u0646\u062c\u0627\u062d",deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0637\u0627\u0628\u0648\u0631 \u0628\u0646\u062c\u0627\u062d"},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621! \u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u0637\u0627\u0628\u0648\u0631 \u0633\u062a\u0628\u0642\u0649 \u0645\u0648\u062c\u0648\u062f\u0629\u060c \u0644\u0643\u0646 \u0644\u0646 \u064a\u0643\u0648\u0646 \u0644\u0647\u0627 \u0637\u0627\u0628\u0648\u0631 \u0645\u062e\u0635\u0635."}},queue:{queueData:"\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"},queueSelect:{inputLabel:"\u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631",inputLabelRO:"\u0637\u0648\u0627\u0628\u064a\u0631 \u0644\u0644\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637",withoutQueue:"\u0628\u062f\u0648\u0646 \u0637\u0627\u0628\u0648\u0631"},reports:{title:"\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",startDate:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0623\u0648\u0644\u064a",endDate:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0646\u0647\u0627\u0626\u064a",table:{id:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",user:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",dateOpen:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0641\u062a\u062d",dateClose:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u063a\u0644\u0627\u0642",NPS:"NPS",status:"\u0627\u0644\u062d\u0627\u0644\u0629",whatsapp:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644",queue:"\u0627\u0644\u0637\u0627\u0628\u0648\u0631",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",lastMessage:"\u0622\u062e\u0631 \u0631\u0633\u0627\u0644\u0629",contact:"\u0627\u0644\u0639\u0645\u064a\u0644",supportTime:"\u0648\u0642\u062a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"},buttons:{filter:"\u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0645\u0631\u0634\u062d",onlyRated:"\u0627\u0644\u0645\u0642\u064a\u0645\u0629 \u0641\u0642\u0637"},searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b..."},queueIntegration:{title:"\u0627\u0644\u062a\u0643\u0627\u0645\u0644\u0627\u062a",table:{id:"\u0627\u0644\u0645\u0639\u0631\u0641",type:"\u0627\u0644\u0646\u0648\u0639",name:"\u0627\u0644\u0627\u0633\u0645",projectName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",language:"\u0627\u0644\u0644\u063a\u0629",lastUpdate:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},buttons:{add:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0634\u0631\u0648\u0639"},searchPlaceholder:"\u0627\u0644\u0628\u062d\u062b...",confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621! \u0648\u0633\u064a\u062a\u0645 \u0625\u0632\u0627\u0644\u062a\u0647 \u0645\u0646 \u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631 \u0648\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a \u0627\u0644\u0645\u0631\u062a\u0628\u0637\u0629"}},users:{title:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646",table:{status:"\u0627\u0644\u062d\u0627\u0644\u0629",name:"\u0627\u0644\u0627\u0633\u0645",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",profile:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",startWork:"\u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0639\u0645\u0644",endWork:"\u0646\u0647\u0627\u064a\u0629 \u0627\u0644\u0639\u0645\u0644",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",ID:"\u0627\u0644\u0645\u0639\u0631\u0641"},buttons:{add:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645"},toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d."},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u062c\u0645\u064a\u0639 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0633\u062a\u0641\u0642\u062f. \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0641\u062a\u0648\u062d\u0629 \u0644\u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0633\u062a\u0646\u0642\u0644 \u0644\u0644\u0637\u0627\u0628\u0648\u0631."}},compaies:{title:"\u0627\u0644\u0634\u0631\u0643\u0627\u062a",table:{ID:"\u0627\u0644\u0645\u0639\u0631\u0641",status:"\u0646\u0634\u0637",name:"\u0627\u0644\u0627\u0633\u0645",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",phone:"\u0627\u0644\u0647\u0627\u062a\u0641",plan:"\u0627\u0644\u062e\u0637\u0629",active:"\u0646\u0634\u0637",numberAttendants:"\u0627\u0644\u0645\u0634\u063a\u0644\u064a\u0646",numberConections:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",value:"\u0627\u0644\u0642\u064a\u0645\u0629",namePlan:"\u0627\u0633\u0645 \u0627\u0644\u062e\u0637\u0629",numberQueues:"\u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631",useCampaigns:"\u0627\u0644\u062d\u0645\u0644\u0627\u062a",useExternalApi:"Rest API",useFacebook:"\u0641\u064a\u0633\u0628\u0648\u0643",useInstagram:"\u0625\u0646\u0633\u062a\u062c\u0631\u0627\u0645",useWhatsapp:"\u0648\u0627\u062a\u0633 \u0627\u0628",useInternalChat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0627\u0644\u062f\u0627\u062e\u0644\u064a\u0629",useSchedules:"\u0627\u0644\u062c\u062f\u0648\u0644\u0629",createdAt:"\u062a\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621 \u0641\u064a",dueDate:"\u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642",lastLogin:"\u0622\u062e\u0631 \u062f\u062e\u0648\u0644",folderSize:"\u062d\u062c\u0645 \u0627\u0644\u0645\u062c\u0644\u062f ",totalFiles:" \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0644\u0641\u0627\u062a",lastUpdate:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",money:"\u0631.\u0633",yes:"\u0646\u0639\u0645",no:"\u0644\u0627",document:"\u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a/\u0627\u0644\u0647\u0648\u064a\u0629",recurrence:"\u0627\u0644\u062a\u0643\u0631\u0627\u0631",monthly:"\u0634\u0647\u0631\u064a",bimonthly:"\u0634\u0647\u0631\u064a\u0646",quarterly:"\u0631\u0628\u0639 \u0633\u0646\u0648\u064a",semester:"\u0646\u0635\u0641 \u0633\u0646\u0648\u064a",yearly:"\u0633\u0646\u0648\u064a",clear:"\u0645\u0633\u062d",delete:"\u062d\u0630\u0641",user:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",save:"\u062d\u0641\u0638",generateInvoice:"\u0625\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629"},buttons:{add:"\u0625\u0636\u0627\u0641\u0629 \u0634\u0631\u0643\u0629"},toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062c\u0627\u062d."},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteMessage:"\u062c\u0645\u064a\u0639 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629 \u0633\u062a\u0641\u0642\u062f. \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0641\u062a\u0648\u062d\u0629 \u0644\u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0633\u062a\u0646\u0642\u0644 \u0644\u0644\u0637\u0627\u0628\u0648\u0631."}},plans:{form:{name:"\u0627\u0644\u0627\u0633\u0645",users:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646",connections:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",campaigns:"\u0627\u0644\u062d\u0645\u0644\u0627\u062a",schedules:"\u0627\u0644\u062c\u062f\u0648\u0644\u0629",enabled:"\u0645\u0641\u0639\u0644",disabled:"\u0645\u0639\u0637\u0644",clear:"\u0625\u0644\u063a\u0627\u0621",delete:"\u062d\u0630\u0641",save:"\u062d\u0641\u0638",yes:"\u0646\u0639\u0645",no:"\u0644\u0627",money:"\u0631.\u0633",public:"\u0639\u0627\u0645",trial:"\u062a\u062c\u0631\u064a\u0628\u064a",trialDays:"\u0623\u064a\u0627\u0645 \u0627\u0644\u062a\u062c\u0631\u0628\u0629"}},helps:{title:"\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",settings:{codeVideo:"\u0643\u0648\u062f \u0627\u0644\u0641\u064a\u062f\u064a\u0648",description:"\u0627\u0644\u0648\u0635\u0641",clear:"\u0645\u0633\u062d",delete:"\u062d\u0630\u0641",save:"\u062d\u0641\u0638"}},schedules:{title:"\u0627\u0644\u062c\u062f\u0648\u0644\u0629",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",time:"\u0627\u0644\u0648\u0642\u062a",event:"\u0627\u0644\u062d\u062f\u062b",allDay:"\u0627\u0644\u064a\u0648\u0645 \u0643\u0644\u0647",week:"\u0627\u0644\u0623\u0633\u0628\u0648\u0639",work_week:"\u0627\u0644\u062c\u062f\u0648\u0644\u0629",day:"\u0627\u0644\u064a\u0648\u0645",month:"\u0627\u0644\u0634\u0647\u0631",previous:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062a\u0627\u0644\u064a",yesterday:"\u0623\u0645\u0633",tomorrow:"\u063a\u062f\u0627\u064b",today:"\u0627\u0644\u064a\u0648\u0645",agenda:"\u0627\u0644\u0623\u062c\u0646\u062f\u0629",noEventsInRange:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062c\u062f\u0648\u0644\u0629 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0641\u062a\u0631\u0629.",confirmationModal:{deleteTitle:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u062c\u062f\u0648\u0644\u0629\u061f",deleteMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621."},table:{contact:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",body:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629",sendAt:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062c\u062f\u0648\u0644\u0629",sentAt:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0631\u0633\u0627\u0644",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},buttons:{add:"\u062c\u062f\u0648\u0644\u0629 \u062c\u062f\u064a\u062f\u0629"},toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u062c\u062f\u0648\u0644\u0629 \u0628\u0646\u062c\u0627\u062d."}},tags:{title:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a",addColumns:"+ \u0625\u0636\u0627\u0641\u0629 \u0623\u0639\u0645\u062f\u0629",search:"\u0627\u0644\u0628\u062d\u062b",seeTicket:"\u0639\u0631\u0636 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",confirmationModal:{deleteTitle:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0644\u0627\u0645\u0629\u061f",deleteMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621."},table:{id:"\u0627\u0644\u0645\u0639\u0631\u0641",name:"\u0627\u0644\u0627\u0633\u0645",kanban:"\u0627\u0644\u0643\u0627\u0646\u0628\u0627\u0646",color:"\u0627\u0644\u0644\u0648\u0646",tickets:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a",contacts:"\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},buttons:{add:"\u0639\u0644\u0627\u0645\u0629 \u062c\u062f\u064a\u062f\u0629"},toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0628\u0646\u062c\u0627\u062d."}},tagsKanban:{title:"\u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a",laneDefault:"\u0645\u0641\u062a\u0648\u062d\u0629",backToKanban:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0643\u0627\u0646\u0628\u0627\u0646",confirmationModal:{deleteTitle:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u0627\u0631\u061f",deleteMessage:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621."},table:{name:"\u0627\u0644\u0627\u0633\u0645",color:"\u0627\u0644\u0644\u0648\u0646",tickets:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},buttons:{add:"\u0645\u0633\u0627\u0631 \u062c\u062f\u064a\u062f"},toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u0627\u0631 \u0628\u0646\u062c\u0627\u062d."}},files:{title:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062a",table:{name:"\u0627\u0644\u0627\u0633\u0645",contacts:"\u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},toasts:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0628\u0646\u062c\u0627\u062d!",deletedAll:"\u062a\u0645 \u062d\u0630\u0641 \u062c\u0645\u064a\u0639 \u0627\u0644\u0642\u0648\u0627\u0626\u0645 \u0628\u0646\u062c\u0627\u062d!"},buttons:{add:"\u0625\u0636\u0627\u0641\u0629",deleteAll:"\u062d\u0630\u0641 \u0627\u0644\u0643\u0644"},confirmationModal:{deleteTitle:"\u062d\u0630\u0641",deleteAllTitle:"\u062d\u0630\u0641 \u0627\u0644\u0643\u0644",deleteMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0642\u0627\u0626\u0645\u0629\u061f",deleteAllMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u062c\u0645\u064a\u0639 \u0627\u0644\u0642\u0648\u0627\u0626\u0645\u061f"}},settings:{success:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0628\u0646\u062c\u0627\u062d.",title:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",tabs:{options:"\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a",plans:"\u0627\u0644\u062e\u0637\u0637",helps:"\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",companies:"\u0627\u0644\u0634\u0631\u0643\u0627\u062a"},settings:{userCreation:{name:"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",options:{enabled:"\u0645\u0641\u0639\u0644",disabled:"\u0645\u0639\u0637\u0644"}},tabs:{options:"\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a",schedules:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f",plans:"\u0627\u0644\u062e\u0637\u0637",help:"\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629"},options:{disabled:"\u0645\u0639\u0637\u0644",enabled:"\u0645\u0641\u0639\u0644",updating:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...",creationCompanyUser:"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0634\u0631\u0643\u0629/\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",evaluations:"\u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a",officeScheduling:"\u062c\u062f\u0648\u0644\u0629 \u0627\u0644\u0645\u0643\u062a\u0628",queueManagement:"\u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0628\u0627\u0644\u0637\u0627\u0628\u0648\u0631",companyManagement:"\u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0628\u0627\u0644\u0634\u0631\u0643\u0629",connectionManagement:"\u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0628\u0627\u0644\u0627\u062a\u0635\u0627\u0644",sendGreetingAccepted:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0631\u062d\u064a\u0628 \u0639\u0646\u062f \u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",sendMsgTransfTicket:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0646\u0642\u0644 \u0627\u0644\u0642\u0633\u0645/\u0627\u0644\u0645\u0634\u063a\u0644",checkMsgIsGroup:"\u062a\u062c\u0627\u0647\u0644 \u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",chatBotType:"\u0646\u0648\u0639 \u0627\u0644\u0628\u0648\u062a",userRandom:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0634\u063a\u0644 \u0639\u0634\u0648\u0627\u0626\u064a",buttons:"\u0627\u0644\u0623\u0632\u0631\u0627\u0631",acceptCallWhatsapp:"\u0625\u0639\u0644\u0627\u0645 \u0639\u062f\u0645 \u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u0643\u0627\u0644\u0645\u0627\u062a \u0641\u064a \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628\u061f",sendSignMessage:"\u0627\u0644\u0633\u0645\u0627\u062d \u0644\u0644\u0645\u0634\u063a\u0644 \u0628\u0627\u062e\u062a\u064a\u0627\u0631 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0648\u0642\u064a\u0639",sendGreetingMessageOneQueues:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0631\u062d\u064a\u0628 \u0639\u0646\u062f \u0648\u062c\u0648\u062f \u0637\u0627\u0628\u0648\u0631 \u0648\u0627\u062d\u062f \u0641\u0642\u0637",sendQueuePosition:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0645\u0639 \u0645\u0648\u0642\u0639 \u0627\u0644\u0637\u0627\u0628\u0648\u0631",sendFarewellWaitingTicket:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u0627\u0639 \u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",acceptAudioMessageContact:"\u0642\u0628\u0648\u0644 \u0627\u0644\u0635\u0648\u062a\u064a\u0627\u062a \u0645\u0646 \u062c\u0645\u064a\u0639 \u062c\u0647\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u061f",enableLGPD:"\u062a\u0641\u0639\u064a\u0644 \u0645\u0639\u0627\u0645\u0644\u0629 LGPD",requiredTag:"\u0639\u0644\u0627\u0645\u0629 \u0625\u062c\u0628\u0627\u0631\u064a\u0629 \u0644\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",closeTicketOnTransfer:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0639\u0646\u062f \u0627\u0644\u0646\u0642\u0644 \u0644\u0637\u0627\u0628\u0648\u0631 \u0622\u062e\u0631",DirectTicketsToWallets:"\u0646\u0642\u0644 \u0627\u0644\u0639\u0645\u064a\u0644 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0644\u0644\u0645\u062d\u0641\u0638\u0629",showNotificationPending:"\u0625\u0638\u0647\u0627\u0631 \u0625\u0634\u0639\u0627\u0631 \u0644\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a \u0627\u0644\u0645\u0639\u0644\u0642\u0629"},customMessages:{sendQueuePositionMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0645\u0648\u0642\u0639 \u0641\u064a \u0627\u0644\u0637\u0627\u0628\u0648\u0631",AcceptCallWhatsappMessage:"\u0631\u0633\u0627\u0644\u0629 \u0625\u0639\u0644\u0627\u0645 \u0639\u062f\u0645 \u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u0643\u0627\u0644\u0645\u0627\u062a",greetingAcceptedMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0631\u062d\u064a\u0628 \u0639\u0646\u062f \u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",transferMessage:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0646\u0642\u0644 - ${queue.name} = \u0627\u0644\u0637\u0627\u0628\u0648\u0631 \u0627\u0644\u0645\u0642\u0635\u0648\u062f"},LGPD:{title:"LGPD",welcome:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0631\u062d\u064a\u0628 (LGPD)",linkLGPD:"\u0631\u0627\u0628\u0637 \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",obfuscateMessageDelete:"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0645\u062d\u0630\u0648\u0641\u0629",alwaysConsent:"\u0637\u0644\u0628 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u062f\u0627\u0626\u0645\u0627\u064b",obfuscatePhoneUser:"\u0625\u062e\u0641\u0627\u0621 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",enabled:"\u0645\u0641\u0639\u0644",disabled:"\u0645\u0639\u0637\u0644"}}},messagesList:{header:{assignedTo:"\u0645\u062e\u0635\u0635 \u0644\u0640:",dialogRatingTitle:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062a\u0631\u0643 \u062a\u0642\u064a\u064a\u0645 \u0644\u0644\u062e\u062f\u0645\u0629 \u0644\u0644\u0639\u0645\u064a\u0644\u061f",dialogClosingTitle:"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0645\u0639 \u0627\u0644\u0639\u0645\u064a\u0644!",dialogRatingCancel:"\u062d\u0644 \u0645\u0639 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u0627\u0639",dialogRatingSuccess:"\u062d\u0644 \u0648\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",dialogRatingWithoutFarewellMsg:"\u062d\u0644 \u0628\u062f\u0648\u0646 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u0627\u0639",ratingTitle:"\u0627\u062e\u062a\u0631 \u0642\u0627\u0626\u0645\u0629 \u062a\u0642\u064a\u064a\u0645",notMessage:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0631\u0633\u0627\u0644\u0629 \u0645\u062e\u062a\u0627\u0631\u0629",amount:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0627\u0633\u062a\u0637\u0644\u0627\u0639",buttons:{return:"\u0625\u0631\u062c\u0627\u0639",resolve:"\u062d\u0644",reopen:"\u0625\u0639\u0627\u062f\u0629 \u0641\u062a\u062d",accept:"\u0642\u0628\u0648\u0644",rating:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",enableIntegration:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u0643\u0627\u0645\u0644",disableIntegration:"\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u062a\u0643\u0627\u0645\u0644",logTicket:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",requiredTag:"\u064a\u062c\u0628 \u062a\u062e\u0635\u064a\u0635 \u0639\u0644\u0627\u0645\u0629 \u0642\u0628\u0644 \u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629.",greetingAcceptedMessage:"\u064a\u062c\u0628 \u0625\u0639\u062f\u0627\u062f \u0631\u0633\u0627\u0644\u0629 \u062a\u0631\u062d\u064a\u0628 \u0639\u0646\u062f \u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629."}}},messagesInput:{placeholderPrivateMessage:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u0629 \u0623\u0648 \u0627\u0636\u063a\u0637 / \u0644\u0644\u0631\u062f\u0648\u062f \u0627\u0644\u0633\u0631\u064a\u0639\u0629",placeholderOpen:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u0629 \u0623\u0648 \u0627\u0636\u063a\u0637 / \u0644\u0644\u0631\u062f\u0648\u062f \u0627\u0644\u0633\u0631\u064a\u0639\u0629",placeholderClosed:"\u0623\u0639\u062f \u0641\u062a\u062d \u0623\u0648 \u0627\u0642\u0628\u0644 \u0647\u0630\u0647 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0644\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629.",signMessage:"\u062a\u0648\u0642\u064a\u0639",privateMessage:"\u0631\u0633\u0627\u0644\u0629 \u062e\u0627\u0635\u0629"},contactDrawer:{header:"\u0628\u064a\u0627\u0646\u0627\u062a \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",buttons:{edit:"\u062a\u0639\u062f\u064a\u0644 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",block:"\u062d\u0638\u0631",unblock:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062d\u0638\u0631"},extraInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0623\u062e\u0631\u0649"},messageVariablesPicker:{label:"\u0627\u0644\u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629",vars:{contactFirstName:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644",contactName:"\u0627\u0644\u0627\u0633\u0645",user:"\u0627\u0644\u0645\u0634\u063a\u0644",greeting:"\u0627\u0644\u062a\u0631\u062d\u064a\u0628",protocolNumber:"\u0627\u0644\u0628\u0631\u0648\u062a\u0648\u0643\u0648\u0644",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",hour:"\u0627\u0644\u0633\u0627\u0639\u0629",ticket_id:"\u0631\u0642\u0645 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",queue:"\u0627\u0644\u0642\u0633\u0645",connection:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644"}},ticketOptionsMenu:{schedule:"\u062c\u062f\u0648\u0644\u0629",delete:"\u062d\u0630\u0641",transfer:"\u0646\u0642\u0644",registerAppointment:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",resolveWithNoFarewell:"\u0625\u0646\u0647\u0627\u0621 \u0628\u062f\u0648\u0646 \u0648\u062f\u0627\u0639",acceptAudioMessage:"\u0642\u0628\u0648\u0644 \u0635\u0648\u062a\u064a\u0627\u062a \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u061f",appointmentsModal:{title:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",textarea:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629",placeholder:"\u0623\u062f\u062e\u0644 \u0647\u0646\u0627 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0629 \u0627\u0644\u062a\u064a \u062a\u0631\u064a\u062f \u062a\u0633\u062c\u064a\u0644\u0647\u0627"},confirmationModal:{title:"\u062d\u0630\u0641 \u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",titleFrom:"\u0645\u0646 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 ",message:"\u062a\u0646\u0628\u064a\u0647! \u062c\u0645\u064a\u0639 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u062a\u0639\u0644\u0642\u0629 \u0628\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0633\u062a\u0641\u0642\u062f."},buttons:{delete:"\u062d\u0630\u0641",cancel:"\u0625\u0644\u063a\u0627\u0621"}},confirmationModal:{buttons:{confirm:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621"}},messageInput:{tooltip:{signature:"\u062a\u0641\u0639\u064a\u0644/\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u062a\u0648\u0642\u064a\u0639",privateMessage:"\u062a\u0641\u0639\u064a\u0644/\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062e\u0627\u0635\u0629",meet:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0645\u0624\u062a\u0645\u0631 \u0641\u064a\u062f\u064a\u0648",triggerFlow:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u062f\u0641\u0642"},type:{imageVideo:"\u0627\u0644\u0635\u0648\u0631 \u0648\u0627\u0644\u0641\u064a\u062f\u064a\u0648\u0647\u0627\u062a",cam:"\u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627",contact:"\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",meet:"\u0645\u0643\u0627\u0644\u0645\u0629 \u0641\u064a\u062f\u064a\u0648",template:"\u0642\u0627\u0644\u0628 \u0645\u064a\u062a\u0627"}},messageOptionsMenu:{delete:"\u062d\u0630\u0641",reply:"\u0631\u062f",edit:"\u062a\u0639\u062f\u064a\u0644",forward:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647",toForward:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647",talkTo:"\u0645\u062d\u0627\u062f\u062b\u0629 \u0645\u0639",confirmationModal:{title:"\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629\u061f",message:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621."}},invoices:{table:{invoices:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",details:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",users:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646",connections:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",queue:"\u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631",value:"\u0627\u0644\u0642\u064a\u0645\u0629",expirationDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642",action:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621"}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"\u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0647\u0646\u0627\u0643 \u0648\u0627\u062a\u0633 \u0627\u0628 \u0627\u0641\u062a\u0631\u0627\u0636\u064a \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644.",ERR_NO_DEF_WAPP_FOUND:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0648\u0627\u062a\u0633 \u0627\u0628 \u0627\u0641\u062a\u0631\u0627\u0636\u064a. \u062a\u062d\u0642\u0642 \u0645\u0646 \u0635\u0641\u062d\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a.",ERR_WAPP_NOT_INITIALIZED:"\u062c\u0644\u0633\u0629 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628 \u0647\u0630\u0647 \u0644\u0645 \u064a\u062a\u0645 \u062a\u0647\u064a\u0626\u062a\u0647\u0627. \u062a\u062d\u0642\u0642 \u0645\u0646 \u0635\u0641\u062d\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a.",ERR_WAPP_CHECK_CONTACT:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062c\u0647\u0629 \u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628. \u062a\u062d\u0642\u0642 \u0645\u0646 \u0635\u0641\u062d\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",ERR_WAPP_INVALID_CONTACT:"\u0647\u0630\u0627 \u0644\u064a\u0633 \u0631\u0642\u0645 \u0648\u0627\u062a\u0633 \u0627\u0628 \u0635\u0627\u0644\u062d.",ERR_WAPP_DOWNLOAD_MEDIA:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0648\u0633\u0627\u0626\u0637 \u0645\u0646 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628. \u062a\u062d\u0642\u0642 \u0645\u0646 \u0635\u0641\u062d\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a.",ERR_INVALID_CREDENTIALS:"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629. \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",ERR_SENDING_WAPP_MSG:"\u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628. \u062a\u062d\u0642\u0642 \u0645\u0646 \u0635\u0641\u062d\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a.",ERR_DELETE_WAPP_MSG:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062d\u0630\u0641 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628.",ERR_OTHER_OPEN_TICKET:"\u064a\u0648\u062c\u062f \u0645\u062d\u0627\u062f\u062b\u0629 \u0645\u0641\u062a\u0648\u062d\u0629 \u0644\u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0647\u0630\u0647 \u0628\u0627\u0644\u0641\u0639\u0644.",ERR_SESSION_EXPIRED:"\u0627\u0646\u062a\u0647\u062a \u0627\u0644\u062c\u0644\u0633\u0629. \u064a\u0631\u062c\u0649 \u0627\u0644\u062f\u062e\u0648\u0644.",ERR_USER_CREATION_DISABLED:"\u062a\u0645 \u062a\u0639\u0637\u064a\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u062f\u064a\u0631.",ERR_NO_PERMISSION:"\u0644\u064a\u0633 \u0644\u062f\u064a\u0643 \u0635\u0644\u0627\u062d\u064a\u0629 \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0647\u0630\u0627 \u0627\u0644\u0645\u0648\u0631\u062f.",ERR_DUPLICATED_CONTACT:"\u064a\u0648\u062c\u062f \u062c\u0647\u0629 \u0627\u062a\u0635\u0627\u0644 \u0628\u0647\u0630\u0627 \u0627\u0644\u0631\u0642\u0645 \u0628\u0627\u0644\u0641\u0639\u0644.",ERR_NO_SETTING_FOUND:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0625\u0639\u062f\u0627\u062f \u0628\u0647\u0630\u0627 \u0627\u0644\u0645\u0639\u0631\u0641.",ERR_NO_CONTACT_FOUND:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u062c\u0647\u0629 \u0627\u062a\u0635\u0627\u0644 \u0628\u0647\u0630\u0627 \u0627\u0644\u0645\u0639\u0631\u0641.",ERR_NO_TICKET_FOUND:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u062d\u0627\u062f\u062b\u0629 \u0628\u0647\u0630\u0627 \u0627\u0644\u0645\u0639\u0631\u0641.",ERR_NO_USER_FOUND:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0647\u0630\u0627 \u0627\u0644\u0645\u0639\u0631\u0641.",ERR_NO_WAPP_FOUND:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0648\u0627\u062a\u0633 \u0627\u0628 \u0628\u0647\u0630\u0627 \u0627\u0644\u0645\u0639\u0631\u0641.",ERR_CREATING_MESSAGE:"\u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0641\u064a \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a.",ERR_CREATING_TICKET:"\u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0641\u064a \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a.",ERR_FETCH_WAPP_MSG:"\u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0645\u0646 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628\u060c \u0631\u0628\u0645\u0627 \u062a\u0643\u0648\u0646 \u0642\u062f\u064a\u0645\u0629 \u062c\u062f\u0627\u064b.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"\u0647\u0630\u0627 \u0627\u0644\u0644\u0648\u0646 \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0641\u0639\u0644\u060c \u0627\u062e\u062a\u0631 \u0644\u0648\u0646\u0627\u064b \u0622\u062e\u0631.",ERR_WAPP_GREETING_REQUIRED:"\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u0631\u062d\u064a\u0628 \u0645\u0637\u0644\u0648\u0628\u0629 \u0639\u0646\u062f \u0648\u062c\u0648\u062f \u0623\u0643\u062b\u0631 \u0645\u0646 \u0637\u0627\u0628\u0648\u0631 \u0648\u0627\u062d\u062f.",ERR_OUT_OF_HOURS:"\u062e\u0627\u0631\u062c \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644!"},messagesAPIInstructions:{endpoint:"\u0646\u0642\u0637\u0629 \u0627\u0644\u0646\u0647\u0627\u064a\u0629:",method:"\u0627\u0644\u0637\u0631\u064a\u0642\u0629:",post:"POST",headers:"\u0627\u0644\u0631\u0624\u0648\u0633:",headerAuthorization:"Authorization Bearer (\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0633\u062c\u0644) \u0648 Content-Type (application/json)",body:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649:",fieldNumber:'"number": "966555999999"',fieldBody:'"body": "\u0627\u0644\u0631\u0633\u0627\u0644\u0629"',fieldUserId:'"userId": \u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0623\u0648 ""',fieldQueueId:'"queueId": \u0645\u0639\u0631\u0641 \u0627\u0644\u0637\u0627\u0628\u0648\u0631 \u0623\u0648 ""',fieldSendSignature:'"sendSignature": \u062a\u0648\u0642\u064a\u0639 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 - true/false',fieldCloseTicket:'"closeTicket": \u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 - true/false',singMessage:"\u062a\u0648\u0642\u064a\u0639 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 - true/false",closeTicket:"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 - true/false",testSend:"\u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u0625\u0631\u0633\u0627\u0644"},recurrenceSection:{title:"\u0627\u0644\u062a\u0643\u0631\u0627\u0631",description:"\u064a\u0645\u0643\u0646\u0643 \u0627\u062e\u062a\u064a\u0627\u0631 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0628\u0634\u0643\u0644 \u0645\u062a\u0643\u0631\u0631 \u0648\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0641\u0627\u0635\u0644 \u0627\u0644\u0632\u0645\u0646\u064a. \u0625\u0630\u0627 \u0643\u0627\u0646\u062a \u0631\u0633\u0627\u0644\u0629 \u0644\u0625\u0631\u0633\u0627\u0644\u0647\u0627 \u0645\u0631\u0629 \u0648\u0627\u062d\u062f\u0629\u060c \u0644\u0627 \u062a\u063a\u064a\u0631 \u0634\u064a\u0626\u0627\u064b \u0641\u064a \u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645.",labelInterval:"\u0627\u0644\u0641\u0627\u0635\u0644 \u0627\u0644\u0632\u0645\u0646\u064a",intervalFilterValue:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0641\u0627\u0635\u0644 \u0627\u0644\u0632\u0645\u0646\u064a",sendAsManyTimes:" \u0625\u0631\u0633\u0627\u0644 \u0643\u0645 \u0645\u0631\u0629",shipNormallyOnNonbusinessDays:" \u0625\u0631\u0633\u0627\u0644 \u0639\u0627\u062f\u064a \u0641\u064a \u0627\u0644\u0623\u064a\u0627\u0645 \u063a\u064a\u0631 \u0627\u0644\u0639\u0645\u0644",sendOneBusinessDayBefore:"\u0625\u0631\u0633\u0627\u0644 \u064a\u0648\u0645 \u0639\u0645\u0644 \u0642\u0628\u0644",sendOneBusinessDayLater:"\u0625\u0631\u0633\u0627\u0644 \u064a\u0648\u0645 \u0639\u0645\u0644 \u0628\u0639\u062f",options:{days:"\u0623\u064a\u0627\u0645",weeks:"\u0623\u0633\u0627\u0628\u064a\u0639",months:"\u0623\u0634\u0647\u0631",minutes:"\u062f\u0642\u0627\u0626\u0642"}},servicePanel:{allowRealTime:"\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"},financial:{invoices:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",details:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",users:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646",connections:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a",queues:"\u0627\u0644\u0637\u0648\u0627\u0628\u064a\u0631",value:"\u0627\u0644\u0642\u064a\u0645\u0629",expirationDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642",status:"\u0627\u0644\u062d\u0627\u0644\u0629",action:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621"},statusFilter:{statusFilter:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u062d\u0627\u0644\u0629"},momentsUser:{services:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a:",pending:"\u0645\u0639\u0644\u0642\u0629",noqueue:"\u0628\u062f\u0648\u0646 \u0637\u0627\u0628\u0648\u0631"},campaignsPhrase:{campaignsFlow:"\u062a\u062f\u0641\u0642 \u0627\u0644\u062d\u0645\u0644\u0627\u062a",campaigns:"\u0627\u0644\u062d\u0645\u0644\u0627\u062a",name:"\u0627\u0644\u0627\u0633\u0645",status:"\u0627\u0644\u062d\u0627\u0644\u0629",newCampaignWithFlowByPhrase:"\u062d\u0645\u0644\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0639 \u062a\u062f\u0641\u0642 \u0628\u0627\u0644\u0639\u0628\u0627\u0631\u0629",editCampaignWithFlowByPhrase:"\u062a\u0639\u062f\u064a\u0644 \u062d\u0645\u0644\u0629 \u0645\u0639 \u062a\u062f\u0641\u0642 \u0628\u0627\u0644\u0639\u0628\u0627\u0631\u0629",phraseTriggerName:"\u0627\u0633\u0645 \u0627\u0644\u062a\u0641\u0639\u064a\u0644 \u0628\u0627\u0644\u0639\u0628\u0627\u0631\u0629",chooseAStream:"\u0627\u062e\u062a\u0631 \u062a\u062f\u0641\u0642\u0627\u064b",whichPhraseTriggersTheFlow:" \u0623\u064a \u0639\u0628\u0627\u0631\u0629 \u062a\u0641\u0639\u0644 \u0627\u0644\u062a\u062f\u0641\u0642\u061f",selectAConnection:" \u0627\u062e\u062a\u0631 \u0627\u062a\u0635\u0627\u0644\u0627\u064b",chooseAStream:" \u0627\u062e\u062a\u0631 \u062a\u062f\u0641\u0642\u0627\u064b",status:" \u0627\u0644\u062d\u0627\u0644\u0629",cancel:"\u0625\u0644\u063a\u0627\u0621",createCampaign:"\u0625\u0646\u0634\u0627\u0621 \u062d\u0645\u0644\u0629 ",saveCampaign:"\u062d\u0641\u0638 \u0627\u0644\u062d\u0645\u0644\u0629"},whatsappModalRel:{form:{isOficial:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",ticketId:"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",client:"\u0627\u0644\u0639\u0645\u064a\u0644",number:"\u0627\u0644\u0631\u0642\u0645",agent:"\u0627\u0644\u0645\u0634\u063a\u0644",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",lastMessage:"\u0622\u062e\u0631 \u0631\u0633\u0627\u0644\u0629",fullReport:"\u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0643\u0627\u0645\u0644 \u0645\u0631\u0641\u0642 \u0623\u0639\u0644\u0627\u0647",resolveAndTriggerIntegration:"\u062d\u0644 \u0648\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u0643\u0627\u0645\u0644",elementNotFoundForExport:"\u0627\u0644\u0639\u0646\u0635\u0631 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f \u0644\u0644\u062a\u0635\u062f\u064a\u0631.",reportFilename:"\u062a\u0642\u0631\u064a\u0631_\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"}},chatList:{noMessages:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644",admin:"\u0627\u0644\u0645\u062f\u064a\u0631",member:"\u0639\u0636\u0648",searchChat:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629...",createNewChat:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629",searchUser:"\u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0645\u0633\u062a\u062e\u062f\u0645...",noUserFound:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u0633\u062a\u062e\u062f\u0645",noUserAvailable:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u062a\u0627\u062d",cancel:"\u0625\u0644\u063a\u0627\u0621",details:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",deleteChat:"\u062d\u0630\u0641 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",deleteChatConfirm:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621\u060c \u062a\u0623\u0643\u064a\u062f\u061f",detailsTitle:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",now:"\u0627\u0644\u0622\u0646",minutesAgo:"{{count}} \u062f \u0645\u0636\u062a",hoursAgo:"{{count}} \u0633 \u0645\u0636\u062a"},chatMessages:{deleted:"\u062a\u0645 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",deletedAdmin:"\u0631\u0633\u0627\u0644\u0629 \u0645\u062d\u0630\u0648\u0641\u0629 - \u0645\u0631\u0626\u064a\u0629 \u0644\u0644\u0645\u062f\u064a\u0631\u064a\u0646 \u0641\u0642\u0637",reply:"\u0631\u062f",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",forward:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647",editMessage:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",deleteMessage:"\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",deleteMessageConfirm:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629\u061f",forwardMessage:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",selectChat:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",doubleClickToReply:"\u0627\u0646\u0642\u0631 \u0645\u0631\u062a\u064a\u0646 \u0644\u0644\u0631\u062f",edited:"(\u0645\u0639\u062f\u0644\u0629)",forwarded:"(\u0645\u0639\u0627\u062f \u062a\u0648\u062c\u064a\u0647\u0647\u0627)",typeMessage:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u0629...",send:"\u0625\u0631\u0633\u0627\u0644",noMessages:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",replyingTo:"\u0631\u062f \u0639\u0644\u0649",clickToGoToOriginal:"\u0627\u0646\u0642\u0631 \u0644\u0644\u0630\u0647\u0627\u0628 \u0644\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0623\u0635\u0644\u064a\u0629"},chatPopover:{reply:"\u0631\u062f",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",forward:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647",cancel:"\u0625\u0644\u063a\u0627\u0621",confirmDelete:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",confirm:"\u062a\u0623\u0643\u064a\u062f",deleteMessage:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629\u061f",editMessage:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",save:"\u062d\u0641\u0638",forwardMessage:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",selectChat:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",forward:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647",noChats:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062d\u0627\u062f\u062b\u0629 \u0645\u062a\u0627\u062d\u0629"},chatIndex:{chats:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",groups:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",new:"\u062c\u062f\u064a\u062f",messages:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644",search:"\u0627\u0644\u0628\u062d\u062b...",noChats:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062d\u0627\u062f\u062b\u0629",noGroups:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0629",noMessages:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",error:"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",addGroupPhoto:"\u0625\u0636\u0627\u0641\u0629 \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",changeGroupPhoto:"\u062a\u063a\u064a\u064a\u0631 \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",groupName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",groupDescription:"\u0648\u0635\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",createGroup:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629",editGroup:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",deleteGroup:"\u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",deleteGroupConfirm:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",details:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",groupDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",description:"\u0627\u0644\u0648\u0635\u0641",modal:{title:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629",name:"\u0627\u0633\u0645 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",description:"\u0648\u0635\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",create:"\u0625\u0646\u0634\u0627\u0621",cancel:"\u0625\u0644\u063a\u0627\u0621",save:"\u062d\u0641\u0638",edit:"\u062a\u0639\u062f\u064a\u0644"},modal:{title:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629",editTitle:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"}}}}});ma.a.use(ua.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"pt",ns:["translations"],resources:pa});var ga=e=>{var a,t;const n=null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.error;return n?ma.a.exists("backendErrors.".concat(n))?void O.b.error(ma.a.t("backendErrors.".concat(n)),{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):void O.b.error(n,{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):Object(da.isString)(e)?void O.b.error(e):void O.b.error("An error occurred!")},ba=t(317);class Ea{constructor(e,a){const t=u.defaults.headers.Authorization;return Ea.instance||(this.companyId=e,this.userId=a,this.token=t,this.socket=null,this.configureSocket(),this.eventListeners={},Ea.instance=this),Ea.instance}configureSocket(){this.socket=Object(ba.a)("".concat("https://api.datamixsistemas.com.br","/").concat(null===this||void 0===this?void 0:this.companyId),{autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:1/0,query:{userId:this.userId,token:this.token}}),this.socket.on("connect",()=>{console.log("Conectado ao servidor Socket.IO")}),this.socket.on("disconnect",()=>{console.log("Desconectado do servidor Socket.IO"),this.reconnectAfterDelay()})}on(e,a){this.connect(),this.socket.on(e,a),this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(a)}emit(e,a){this.connect(),this.socket.emit(e,a)}off(e,a){this.connect(),this.eventListeners[e]&&(a?(this.socket.off(e,a),this.eventListeners[e]=this.eventListeners[e].filter(e=>e!==a)):(this.eventListeners[e].forEach(a=>this.socket.off(e,a)),delete this.eventListeners[e]))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.instance=null,console.log("Socket desconectado manualmente"))}reconnectAfterDelay(){setTimeout(()=>{this.socket&&this.socket.connected||(console.log("Tentando reconectar ap\xf3s desconex\xe3o"),this.connect())},1e3)}connect(){this.socket||this.configureSocket()}forceReconnect(){}}var ha=(e,a)=>new Ea(e,a);function fa(e){let a="",t="";var n,o;Object(da.isObject)(e)&&(t=null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.companyId,a=null===e||void 0===e||null===(o=e.user)||void 0===o?void 0:o.id);return ha(t,a)}var va=t(26),ya=t.n(va);var xa=()=>{const e=Object(T.useHistory)(),[a,t]=Object(n.useState)(!1),[o,l]=Object(n.useState)(!0),[r,i]=Object(n.useState)({}),[s,c]=Object(n.useState)(null),d=Object(n.useRef)(new Set);u.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(JSON.parse(a)),t(!0)),e},e=>{Promise.reject(e)}),u.interceptors.response.use(e=>e,async e=>{var a,n;const o=e.config;if(403===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&!o._retry){o._retry=!0;const{data:e}=await u.post("/auth/refresh_token");return e&&(localStorage.setItem("token",JSON.stringify(e.token)),u.defaults.headers.Authorization="Bearer ".concat(e.token)),u(o)}return 401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),u.defaults.headers.Authorization=void 0,t(!1)),Promise.reject(e)}),Object(n.useEffect)(()=>{const e=localStorage.getItem("token");(async()=>{if(e)try{const{data:e}=await u.post("/auth/refresh_token");u.defaults.headers.Authorization="Bearer ".concat(e.token),t(!0),i(e.user||e)}catch(a){ga(a)}l(!1)})()},[]),Object(n.useEffect)(()=>{if(Object.keys(r).length&&r.id>0){console.log("Configurando socket para user",r.id,"company",r.companyId),s&&(d.current.forEach(e=>{s.off&&s.off(e)}),d.current.clear());const e=fa({user:{companyId:r.companyId,id:r.id}});e&&(c(e),setTimeout(()=>{const a="company-".concat(r.companyId,"-user"),t=e=>{"update"===e.action&&e.user.id===r.id&&i(e.user)};e&&"function"===typeof e.on?(e.on(a,t),d.current.add(a),console.log("Listener adicionado para: ".concat(a))):console.error("Socket instance n\xe3o tem m\xe9todo 'on'",e)},100))}return()=>{s&&d.current.size>0&&(console.log("Limpando listeners do socket para user",r.id),d.current.forEach(e=>{s.off&&s.off(e)}),d.current.clear())}},[r.id,r.companyId]),Object(n.useEffect)(()=>{a&&(async()=>{try{const{data:e}=await u.get("/auth/me");i(e.user||e)}catch(e){console.log("Erro ao buscar usu\xe1rio atual:",e)}})()},[a]);return{isAuth:a,user:r,loading:o,handleLogin:async a=>{l(!0);try{const{data:s}=await u.post("/auth/login",a),{user:{company:c}}=s;if(Object(da.has)(c,"companieSettings")&&Object(da.isArray)(c.companieSettings[0])){const e=c.companieSettings[0].find(e=>"campaignsEnabled"===e.key);e&&"true"===e.value&&localStorage.setItem("cshow",null)}if(Object(da.has)(c,"companieSettings")&&Object(da.isArray)(c.companieSettings[0])){const e=c.companieSettings[0].find(e=>"sendSignMessage"===e.key),a="enable"===e.value;e&&"enabled"===e.value&&localStorage.setItem("sendSignMessage",a)}let d;localStorage.setItem("profileImage",s.user.profileImage),ya.a.locale("pt-br"),d=1===s.user.company.id?"2999-12-31T00:00:00.000Z":s.user.company.dueDate;ya()(ya()()).format("DD/MM/yyyy");const m=ya()(d).format("DD/MM/yyyy");var n=ya()(d).diff(ya()(ya()()).format()),o=ya()(ya()().format()).isBefore(d),r=ya.a.duration(n).asDays();!0===o?(localStorage.setItem("token",JSON.stringify(s.token)),localStorage.setItem("companyDueDate",m),u.defaults.headers.Authorization="Bearer ".concat(s.token),i(s.user||s),t(!0),O.b.success(ma.a.t("auth.toasts.success")),Math.round(r)<5&&O.b.warn("Sua assinatura vence em ".concat(Math.round(r)," ").concat(1===Math.round(r)?"dia":"dias"," ")),e.push("/tickets"),l(!1)):(u.defaults.headers.Authorization="Bearer ".concat(s.token),t(!0),ga("Opss! Sua assinatura venceu ".concat(m,".\nEntre em contato com o Suporte para mais informa\xe7\xf5es! ")),e.push("/financeiro-aberto"),l(!1))}catch(s){ga(s),l(!1)}},handleLogout:async()=>{l(!0);try{s&&(d.current.forEach(e=>{s.off&&s.off(e)}),d.current.clear(),"function"===typeof s.disconnect&&s.disconnect()),await u.delete("/auth/logout"),t(!1),i({}),c(null),localStorage.removeItem("token"),localStorage.removeItem("cshow"),u.defaults.headers.Authorization=void 0,l(!1),e.push("/login")}catch(a){ga(a),l(!1)}},getCurrentUserInfo:async()=>{try{const{data:e}=await u.get("/auth/me");return console.log(e),e}catch(e){return null}},socket:s}};const Ca=Object(n.createContext)(),ka=e=>{let{children:a}=e;const{loading:t,user:n,isAuth:l,handleLogin:r,handleLogout:i,socket:s}=xa();return o.a.createElement(Ca.Provider,{value:{loading:t,user:n,isAuth:l,handleLogin:r,handleLogout:i,socket:s}},a)},wa=(e,a)=>{if("LOAD_WHATSAPPS"===a.type){return[...a.payload]}if("UPDATE_WHATSAPPS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("UPDATE_SESSION"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n].status=t.status,e[n].updatedAt=t.updatedAt,e[n].qrcode=t.qrcode,e[n].retries=t.retries,[...e]):[...e]}if("DELETE_WHATSAPPS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var Aa=()=>{const[e,a]=Object(n.useReducer)(wa,[]),[t,o]=Object(n.useState)(!0),{user:l,socket:r}=Object(n.useContext)(Ca);return Object(n.useEffect)(()=>{o(!0);(async()=>{try{const{data:e}=await u.get("/whatsapp/?session=0");a({type:"LOAD_WHATSAPPS",payload:e}),o(!1)}catch(e){console.error("Erro ao carregar WhatsApps:",e),o(!1)}})()},[]),Object(n.useEffect)(()=>{if(console.log("useWhatsApps - Debug:",{userId:null===l||void 0===l?void 0:l.id,companyId:null===l||void 0===l?void 0:l.companyId,socket:r,socketType:typeof r,hasOnMethod:r&&"function"===typeof r.on,hasOffMethod:r&&"function"===typeof r.off}),(null===l||void 0===l?void 0:l.companyId)&&r&&"function"===typeof r.on&&"function"===typeof r.off){const e=l.companyId,t=e=>{console.log("Recebido evento whatsapp:",e),"update"===e.action&&a({type:"UPDATE_WHATSAPPS",payload:e.whatsapp}),"delete"===e.action&&a({type:"DELETE_WHATSAPPS",payload:e.whatsappId})},n=e=>{console.log("Recebido evento whatsapp session:",e),"update"===e.action&&a({type:"UPDATE_SESSION",payload:e.session})},o="company-".concat(e,"-whatsapp"),i="company-".concat(e,"-whatsappSession");return console.log("Registrando listeners WhatsApp:",{whatsappEvent:o,sessionEvent:i}),r.on(o,t),r.on(i,n),()=>{r&&"function"===typeof r.off&&(console.log("Removendo listeners WhatsApp:",{whatsappEvent:o,sessionEvent:i}),r.off(o,t),r.off(i,n))}}console.log("Condi\xe7\xf5es n\xe3o atendidas para listeners WhatsApp:",{hasCompanyId:!!(null===l||void 0===l?void 0:l.companyId),hasSocket:!!r,hasOnMethod:r&&"function"===typeof r.on,hasOffMethod:r&&"function"===typeof r.off})},[r,null===l||void 0===l?void 0:l.companyId]),{whatsApps:e,loading:t}};const Ta=Object(n.createContext)(),Oa=e=>{let{children:a}=e;const{loading:t,whatsApps:n}=Aa();return o.a.createElement(Ta.Provider,{value:{whatsApps:n,loading:t}},a)};var Sa={user:{static:[]},admin:{static:["dashboard:view","drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact","connections-page:actionButtons","connections-page:addConnection","connections-page:editOrDeleteConnection","tickets-manager:closeAll"]}};const ja=e=>{let{role:a,perform:t,data:n,yes:o,no:l}=e;return((e,a,t)=>{const n=Sa[e];if(!n)return!1;const o=n.static;if(o&&o.includes(a))return!0;const l=n.dynamic;if(l){const e=l[a];return!!e&&e(t)}return!1})(a,t,n)?o():l()};ja.defaultProps={yes:()=>null,no:()=>null};var Ia=()=>({getPlanList:async e=>{const{data:a}=await m.request({url:"/plans/list",method:"GET",params:e});return a},list:async e=>{const{data:a}=await u.request({url:"/plans/all",method:"GET",params:e});return a},save:async e=>{const{data:a}=await u.request({url:"/plans",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/plans/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await u.request({url:"/plans/".concat(e),method:"DELETE"});return a},getPlanCompany:async(e,a)=>{const{data:t}=await u.request({url:"/companies/listPlan/".concat(a),method:"GET",params:e});return t}});var Ma=()=>({getVersion:async()=>{const{data:e}=await u.request({url:"/version",method:"GET"});return e}}),Na=t(1368),Ra=t(1369);var Da=()=>({getAll:async e=>{const{data:a}=await u.request({url:"/companySettings/".concat(e),method:"GET"});return a},get:async e=>{const{data:a}=await u.request({url:"/companySettingOne",method:"GET",params:e});return a},update:async e=>{const{data:a}=await u.request({url:"/companySettings",method:"PUT",data:e});return a}});const Pa=Object(I.a)(e=>({listItem:{height:"44px",width:"auto","&:hover $iconHoverActive":{backgroundColor:e.palette.primary.main,color:"#fff",transform:"scale(1.05)"},"&:hover $listItemText":{color:e.palette.primary.main,fontWeight:600},transition:"all 0.3s ease"},listItemText:{fontSize:"14px",color:"light"===e.mode?"#666":"#FFF",transition:"color 0.3s ease",fontWeight:500,"& .MuiTypography-root":{fontFamily:"'Inter', 'Roboto', sans-serif"}},avatarActive:{backgroundColor:"transparent"},avatarHover:{backgroundColor:"transparent"},iconHoverActive:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",height:36,width:36,backgroundColor:"light"===e.mode?"rgba(120,120,120,0.1)":"rgba(120,120,120,0.5)",color:"light"===e.mode?"#666":"#FFF",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover, &.active":{backgroundColor:e.palette.primary.main,color:"#fff",boxShadow:"0 4px 12px ".concat(e.palette.primary.main,"30")},"& .MuiSvgIcon-root":{fontSize:"1.4rem",transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"scale(1.1)"}},badge:{"& .MuiBadge-badge":{backgroundColor:"#ef4444",color:"#fff",fontSize:"0.75rem",fontWeight:600,animation:"$pulse 2s infinite"}},"@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.7}},submenuContainer:{backgroundColor:"light"===e.mode?"rgba(0, 0, 0, 0.02)":"rgba(255, 255, 255, 0.02)"},customTooltip:{backgroundColor:"light"===e.mode?"#1e293b":"#374151",color:"#fff",fontSize:"0.875rem",fontWeight:500,borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiTooltip-arrow":{color:"light"===e.mode?"#1e293b":"#374151"}},versionContainer:{textAlign:"center",padding:"10px",color:e.palette.primary.main,fontSize:"12px",fontWeight:"bold",borderTop:"1px solid ".concat("light"===e.mode?"#f0f0f0":"#333"),marginTop:"auto"},adminSection:{"& .MuiListSubheader-root":{color:e.palette.primary.main,fontSize:"0.875rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"}},expandIcon:{transition:"transform 0.3s ease",color:e.palette.primary.main,"&.expanded":{transform:"rotate(180deg)"}},menuContainer:{overflowY:"auto","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"light"===e.mode?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)",borderRadius:"3px","&:hover":{background:"light"===e.mode?"rgba(0, 0, 0, 0.2)":"rgba(255, 255, 255, 0.2)"}}},activeItem:{"& $iconHoverActive":{backgroundColor:e.palette.primary.main,color:"#fff"},"& $listItemText":{color:e.palette.primary.main,fontWeight:700}}}));function Fa(e){const{icon:a,primary:t,to:n,tooltip:l,showBadge:r}=e,i=Pa(),{activeMenu:s}=v(),c=Object(T.useLocation)(),d=s===n||c.pathname===n,m=o.a.useMemo(()=>o.a.forwardRef((e,a)=>o.a.createElement(A.b,Object.assign({to:n,ref:a},e))),[n]),u=e=>{let{children:a,tooltipEnabled:n}=e;return n?o.a.createElement(de.a,{title:t,placement:"right"},a):a};return o.a.createElement(u,{tooltipEnabled:!!l},o.a.createElement("li",null,o.a.createElement(_.a,{button:!0,component:m,className:i.listItem},a?o.a.createElement(ie.a,null,r?o.a.createElement(N.a,{badgeContent:"!",color:"error",overlap:"circular",className:i.badge},o.a.createElement(R.a,{className:"".concat(i.iconHoverActive," ").concat(d?"active":"")},a)):o.a.createElement(R.a,{className:"".concat(i.iconHoverActive," ").concat(d?"active":"")},a)):null,o.a.createElement(J.a,{primary:o.a.createElement(z.a,{className:i.listItemText},t)}))))}const La=(e,a)=>{if("LOAD_CHATS"===a.type){const t=a.payload,n=[];return Object(da.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CHATS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CHAT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[];if("CHANGE_CHAT"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};var Wa=e=>{let{collapsed:a,drawerClose:t}=e;const l=Object(D.a)(),r=Pa(),{whatsApps:i}=Object(n.useContext)(Ta),{user:s,socket:c}=Object(n.useContext)(Ca),{setActiveMenu:d}=v(),m=Object(T.useLocation)(),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(!1),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)(!1),[w,A]=Object(n.useState)(!1),[O,S]=Object(n.useState)(!1),[j,I]=Object(n.useState)(!1),[M,P]=Object(n.useState)(!1),[F,B]=Object(n.useState)(!1),[q,U]=Object(n.useState)(!0),[V,H]=Object(n.useState)(1),[Q]=Object(n.useState)(""),[G,K]=Object(n.useReducer)(La,[]),[Y,X]=Object(n.useState)(!1),[Z,$]=Object(n.useState)(!1),[ee,ae]=Object(n.useState)(!1),{list:te}=re(),[ne,oe]=Object(n.useState)(!1),[le,me]=Object(n.useState)(!1),[pe,be]=Object(n.useState)(!1),{get:he}=Da(),[ve,xe]=Object(n.useState)(!1),ke=m.pathname.startsWith("/phrase-lists");m.pathname.startsWith("/flowbuilders"),Object(n.useEffect)(()=>{!async function(){const e=await te();oe(e.length>0)}()},[]),Object(n.useEffect)(()=>{(async()=>{try{const e=await he({column:"DirectTicketsToWallets"});xe(e.DirectTicketsToWallets)}catch(e){ga(e)}})()},[xe]);const Ae="/"===m.pathname||m.pathname.startsWith("/reports")||m.pathname.startsWith("/moments"),Oe="/campaigns"===m.pathname||m.pathname.startsWith("/contact-lists")||m.pathname.startsWith("/campaigns-config");Object(n.useEffect)(()=>{m.pathname.startsWith("/tickets")?d("/tickets"):d("")},[m,d]);const{getPlanCompany:je}=Ia(),{getVersion:Me}=Ma();Object(n.useEffect)(()=>{!async function(){const e=await Me();X(e.version)}()},[]),Object(n.useEffect)(()=>{K({type:"RESET"}),H(1)},[Q]),Object(n.useEffect)(()=>{!async function(){const e=s.companyId,a=await je(void 0,e);x(a.plan.useCampaigns),k(a.plan.useKanban),A(a.plan.useOpenAi),S(a.plan.useIntegrations),I(a.plan.useSchedules),P(a.plan.useInternalChat),B(a.plan.useExternalApi)}()},[]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{Re()},500);return()=>clearTimeout(e)},[Q,V]),Object(n.useEffect)(()=>{if(s.id&&c&&"function"===typeof c.on){const e=s.companyId,a=e=>{"new-message"===e.action&&K({type:"CHANGE_CHAT",payload:e}),"update"===e.action&&K({type:"CHANGE_CHAT",payload:e})},t="company-".concat(e,"-chat");return console.log("Registrando listener para:",t),c.on(t,a),()=>{c&&"function"===typeof c.off&&(console.log("Removendo listener para:",t),c.off(t,a))}}},[c,s.id,s.companyId]),Object(n.useEffect)(()=>{let e=0;if(G.length>0)for(let a of G)for(let t of a.users)t.userId===s.id&&(e+=t.unreads);U(!(e>0))},[G,s.id]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{if(i.length>0){i.filter(e=>"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status).length>0?g(!0):g(!1)}},2e3);return()=>clearTimeout(e)},[i]);const Re=async()=>{try{const{data:e}=await u.get("/chats/",{params:{searchParam:Q,pageNumber:V}});K({type:"LOAD_CHATS",payload:e.records})}catch(e){ga(e)}};return o.a.createElement("div",{onClick:t},o.a.createElement(ja,{role:"user"===s.profile&&"enabled"===s.showDashboard||"enabled"===s.allowRealTime?"admin":s.profile,perform:"drawer-admin-items:view",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{title:a?ma.a.t("mainDrawer.listItems.management"):"",placement:"right"},o.a.createElement(_.a,{dense:!0,button:!0,onClick:()=>f(e=>!e),onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1)},o.a.createElement(ie.a,null,o.a.createElement(R.a,{className:"".concat(r.iconHoverActive," ").concat(Ae||Z?"active":"")},o.a.createElement(na.a,null))),o.a.createElement(J.a,{primary:o.a.createElement(z.a,{className:r.listItemText},ma.a.t("mainDrawer.listItems.management"))}),h?o.a.createElement(Ue.a,null):o.a.createElement(He.a,null))),o.a.createElement(ce.a,{in:h,timeout:"auto",unmountOnExit:!0,style:{backgroundColor:"light"===l.mode?"rgba(120,120,120,0.1)":"rgba(120,120,120,0.5)"}},o.a.createElement(ja,{role:"user"===s.profile&&"enabled"===s.showDashboard?"admin":s.profile,perform:"drawer-admin-items:view",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Fa,{small:!0,to:"/",primary:"Dashboard",icon:o.a.createElement(ue.a,null),tooltip:a}),o.a.createElement(Fa,{small:!0,to:"/reports",primary:ma.a.t("mainDrawer.listItems.reports"),icon:o.a.createElement(oa.a,null),tooltip:a}))}),o.a.createElement(ja,{role:"user"===s.profile&&"enabled"===s.allowRealTime?"admin":s.profile,perform:"drawer-admin-items:view",yes:()=>o.a.createElement(Fa,{to:"/moments",primary:ma.a.t("mainDrawer.listItems.chatsTempoReal"),icon:o.a.createElement(la.a,null),tooltip:a})}),"admin"===s.profile&&ve&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Fa,{to:"/wallets",primary:ma.a.t("mainDrawer.listItems.wallets"),icon:o.a.createElement(we.a,null),tooltip:a}))))}),o.a.createElement(Fa,{to:"/tickets",primary:ma.a.t("mainDrawer.listItems.tickets"),icon:o.a.createElement(ge.a,null),tooltip:a}),o.a.createElement(Fa,{to:"/quick-messages",primary:ma.a.t("mainDrawer.listItems.quickMessages"),icon:o.a.createElement(Se.a,null),tooltip:a}),C&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Fa,{to:"/kanban",primary:ma.a.t("mainDrawer.listItems.kanban"),icon:o.a.createElement(De.a,null),tooltip:a})),"enabled"===s.showContacts&&o.a.createElement(Fa,{to:"/contacts",primary:ma.a.t("mainDrawer.listItems.contacts"),icon:o.a.createElement(Ce.a,null),tooltip:a}),j&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Fa,{to:"/schedules",primary:ma.a.t("mainDrawer.listItems.schedules"),icon:o.a.createElement(Fe.a,null),tooltip:a})),o.a.createElement(Fa,{to:"/tags",primary:ma.a.t("mainDrawer.listItems.tags"),icon:o.a.createElement(We.a,null),tooltip:a}),M&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Fa,{to:"/chats",primary:ma.a.t("mainDrawer.listItems.chats"),icon:o.a.createElement(N.a,{color:"secondary",variant:"dot",invisible:q},o.a.createElement(Ze.a,null)),tooltip:a})),ne&&o.a.createElement(Fa,{to:"/helps",primary:ma.a.t("mainDrawer.listItems.helps"),icon:o.a.createElement(Ie.a,null),tooltip:a}),"enabled"===(null===s||void 0===s?void 0:s.showCampaign)&&y&&o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{title:a?ma.a.t("mainDrawer.listItems.campaigns"):"",placement:"right"},o.a.createElement(_.a,{dense:!0,button:!0,onClick:()=>E(e=>!e),onMouseEnter:()=>ae(!0),onMouseLeave:()=>ae(!1)},o.a.createElement(ie.a,null,o.a.createElement(R.a,{className:"".concat(r.iconHoverActive," ").concat(Oe||ee?"active":"")},o.a.createElement(qe.a,null))),o.a.createElement(J.a,{primary:o.a.createElement(z.a,{className:r.listItemText},ma.a.t("mainDrawer.listItems.campaigns"))}),b?o.a.createElement(Ue.a,null):o.a.createElement(He.a,null))),o.a.createElement(ce.a,{in:b,timeout:"auto",unmountOnExit:!0,style:{backgroundColor:"light"===l.mode?"rgba(120,120,120,0.1)":"rgba(120,120,120,0.5)"}},o.a.createElement(L.a,{dense:!0,component:"div",disablePadding:!0},o.a.createElement(Fa,{to:"/campaigns",primary:ma.a.t("campaigns.subMenus.list"),icon:o.a.createElement(_e.a,null),tooltip:a}),o.a.createElement(Fa,{to:"/contact-lists",primary:ma.a.t("campaigns.subMenus.listContacts"),icon:o.a.createElement(Ge.a,null),tooltip:a}),o.a.createElement(Fa,{to:"/campaigns-config",primary:ma.a.t("campaigns.subMenus.settings"),icon:o.a.createElement(fe.a,null),tooltip:a}),o.a.createElement(ja,{role:s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Fa,{to:"/files",primary:ma.a.t("mainDrawer.listItems.files"),icon:o.a.createElement(ra.a,null),tooltip:a})})))),"enabled"===s.showFlow&&o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{title:a?ma.a.t("mainDrawer.listItems.campaigns"):"",placement:"right"},o.a.createElement(_.a,{dense:!0,button:!0,onClick:()=>me(e=>!e),onMouseEnter:()=>be(!0),onMouseLeave:()=>be(!1)},o.a.createElement(ie.a,null,o.a.createElement(R.a,{className:"".concat(r.iconHoverActive," ").concat(ke||pe?"active":"")},o.a.createElement(Na.a,null))),o.a.createElement(J.a,{primary:o.a.createElement(z.a,{className:r.listItemText},ma.a.t("Flowbuilder"))}),le?o.a.createElement(Ue.a,null):o.a.createElement(He.a,null))),o.a.createElement(ce.a,{in:le,timeout:"auto",unmountOnExit:!0,style:{backgroundColor:"light"===l.mode?"rgba(120,120,120,0.1)":"rgba(120,120,120,0.5)"}},o.a.createElement(L.a,{dense:!0,component:"div",disablePadding:!0},o.a.createElement(Fa,{to:"/phrase-lists",primary:"Fluxo de Campanha",icon:o.a.createElement(qe.a,null),tooltip:a}),o.a.createElement(Fa,{to:"/flowbuilders",primary:"Fluxo de conversa",icon:o.a.createElement(Ra.a,null)})))),o.a.createElement(ja,{role:"user"===s.profile&&"enabled"===s.allowConnections?"admin":s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,null),o.a.createElement(se.a,{inset:!0},ma.a.t("mainDrawer.listItems.administration")),s.super&&o.a.createElement(Fa,{to:"/announcements",primary:ma.a.t("mainDrawer.listItems.annoucements"),icon:o.a.createElement(Je.a,null),tooltip:a}),F&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ja,{role:s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Fa,{to:"/messages-api",primary:ma.a.t("mainDrawer.listItems.messagesAPI"),icon:o.a.createElement(Ne.a,null),tooltip:a})})),o.a.createElement(ja,{role:s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Fa,{to:"/users",primary:ma.a.t("mainDrawer.listItems.users"),icon:o.a.createElement(ye.a,null),tooltip:a})}),o.a.createElement(ja,{role:s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Fa,{to:"/queues",primary:ma.a.t("mainDrawer.listItems.queues"),icon:o.a.createElement(Te.a,null),tooltip:a})}),w&&o.a.createElement(ja,{role:s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Fa,{to:"/prompts",primary:ma.a.t("mainDrawer.listItems.prompts"),icon:o.a.createElement(ia.a,null),tooltip:a})}),O&&o.a.createElement(ja,{role:s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Fa,{to:"/queue-integration",primary:ma.a.t("mainDrawer.listItems.queueIntegration"),icon:o.a.createElement(sa.a,null),tooltip:a})}),o.a.createElement(ja,{role:"user"===s.profile&&"enabled"===s.allowConnections?"admin":s.profile,perform:"drawer-admin-items:view",yes:()=>o.a.createElement(Fa,{to:"/connections",primary:ma.a.t("mainDrawer.listItems.connections"),icon:o.a.createElement(Ee.a,null),showBadge:p,tooltip:a})}),s.super&&o.a.createElement(Fa,{to:"/allConnections",primary:ma.a.t("mainDrawer.listItems.allConnections"),icon:o.a.createElement(ca.a,null),tooltip:a}),o.a.createElement(ja,{role:s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Fa,{to:"/financeiro",primary:ma.a.t("mainDrawer.listItems.financeiro"),icon:o.a.createElement(ea.a,null),tooltip:a})}),o.a.createElement(ja,{role:s.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Fa,{to:"/settings",primary:ma.a.t("mainDrawer.listItems.settings"),icon:o.a.createElement(fe.a,null),tooltip:a})}),s.super&&o.a.createElement(Fa,{to:"/companies",primary:ma.a.t("mainDrawer.listItems.companies"),icon:o.a.createElement(ta.a,null),tooltip:a}))}),!a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,null),o.a.createElement(z.a,{style:{fontSize:"12px",padding:"10px",textAlign:"center",fontWeight:"bold"}},"".concat(Y))))},Ba=t(894),qa=t(479),za=t(904),Ua=t(485),Va=t.n(Ua),Ha=t(786),Qa=t(787),Ga=t(782),Ka=t(1589),_a=t(560),Ya=t(124),Ja=t.n(Ya),Xa=t(638),Za=t.n(Xa),$a=t(637),et=t.n($a),at=t(96),tt=t(783);const nt=["children"],ot=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lt=["a","b","strong","em","u","code","del"],rt=e=>{let{children:a}=e,t=Object(at.a)(e,nt);return o.a.createElement("a",Object.assign({},t,{target:"_blank",rel:"noopener noreferrer"}),a)};var it=e=>{let{children:a}=e;const t=/\*(.*?)\*/g,n=/~(.*?)~/g;a&&a.includes("***")&&(a=a.replace(/\*\*\*/g,"###PIX_MARKER###")),a&&t.test(a)&&(a=a.replace(t,"**$1**")),a&&a.includes("###PIX_MARKER###")&&(a=a.replace(new RegExp("###PIX_MARKER###","g"),"***")),a&&n.test(a)&&(a=a.replace(n,"~~$1~~"));const l=o.a.useMemo(()=>{const e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:rt}}};return ot.forEach(a=>{lt.includes(a)||(e.overrides[a]=e=>e.children||null)}),e},[]);return a?o.a.createElement(tt.a,{options:l},a):null},st=t(784),ct=t.n(st),dt=t(785),mt=t.n(dt),ut=t(636),pt=t.n(ut);const gt=Object(n.createContext)(),bt=e=>{let{children:a}=e;const[t,l]=Object(n.useState)({id:null,code:null}),[r,i]=Object(n.useState)("open"),s=Object(T.useHistory)();return Object(n.useEffect)(()=>{null!==t.id&&s.push("/tickets/".concat(t.uuid))},[t]),o.a.createElement(gt.Provider,{value:{currentTicket:t,setCurrentTicket:l,tabOpen:r,setTabOpen:i}},a)},Et=Object(I.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{position:"absolute",marginRight:5,right:20,bottom:30},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},bottomButton:{top:"12px"},badgeStyle:{color:"white",backgroundColor:_a.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},userTag:{position:"absolute",marginRight:110,right:20,bottom:30,backgroundColor:e.palette.background.default,color:e.palette.primary.main,border:"1px solid #CCC",padding:1,paddingLeft:5,paddingRight:5,borderRadius:10,fontSize:"0.9em"},divTags:{position:"absolute",marginRight:0,left:0,bottom:0,flexWrap:"wrap",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},tags:{color:"#FFF",border:"1px solid #CCC",padding:0,paddingLeft:5,paddingRight:5,borderRadius:0,fontSize:"0.6em",textAlign:"center"},divUser:{position:"absolute",marginRight:0,left:0,top:0,flexWrap:"wrap",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},user:{color:"#eee",border:"1px solid #CCC",padding:0,paddingLeft:5,paddingRight:5,borderRadius:0,fontSize:"0.6em",textAlign:"center"},tagsWrapper:{zIndex:500},badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}},imageModal:{display:"flex",alignItems:"center",justifyContent:"center"},imageModalContent:{outline:"none",maxWidth:"90vw",maxHeight:"90vh"},expandedImage:{width:"100%",height:"auto",maxWidth:"500px",borderRadius:e.spacing(1)},clickableAvatar:{cursor:"pointer","&:hover":{opacity:.8}}})),ht=Object(M.a)(e=>({root:{width:22,height:22,border:"2px solid ".concat(e.palette.background.paper)}}))(R.a);var ft=e=>{var a,t,l,r,i,s,c,d,m,p;let{ticket:g}=e;const b=Et(),E=Object(T.useHistory)(),[h,f]=Object(n.useState)(!1),{ticketId:v}=Object(T.useParams)(),y=Object(n.useRef)(!0),{user:x}=Object(n.useContext)(Ca),{setCurrentTicket:C,setTabOpen:k}=Object(n.useContext)(gt),[w,A]=Object(n.useState)(!1);Object(n.useEffect)(()=>()=>{y.current=!1},[]);const O=async e=>{f(!0);try{await u.put("/tickets/".concat(e.id),{status:"closed"})}catch(a){f(!1),ga(a)}y.current&&f(!1)},S=e=>e.replace(Object(Ga.a)(),"").trim().split(" ")[0];return o.a.createElement(o.a.Fragment,{key:g.id},o.a.createElement(_.a,{dense:!0,button:!0,onClick:e=>{(e=>{const a=Object(Ka.a)(),{id:t,uuid:n}=e;k(e.status),C({id:t,uuid:n,code:a})})(g)},selected:v&&+v===g.id,className:Object(j.a)(b.ticket,{[b.pendingTicket]:"pending"===g.status})},o.a.createElement(de.a,{arrow:!0,placement:"right",title:(null===(a=g.queue)||void 0===a?void 0:a.name)||"Sem departamento"},o.a.createElement("span",{style:{backgroundColor:(null===(t=g.queue)||void 0===t?void 0:t.color)||"#7C7C7C"},className:b.ticketQueueColor})),o.a.createElement(Y.a,null,o.a.createElement(N.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:o.a.createElement(ht,{alt:null===g||void 0===g?void 0:g.channel,src:(I=null===g||void 0===g?void 0:g.channel,"facebook"===I?ct.a:"whatsapp"===I||"whatsappapi"===I?pt.a:"instagram"===I?mt.a:void 0)})},o.a.createElement(R.a,{alt:null===g||void 0===g||null===(l=g.contact)||void 0===l?void 0:l.name,src:null===g||void 0===g||null===(r=g.contact)||void 0===r?void 0:r.urlPicture,className:b.clickableAvatar,onClick:e=>{var a;e.stopPropagation(),(null===g||void 0===g||null===(a=g.contact)||void 0===a?void 0:a.urlPicture)&&A(!0)}}))),o.a.createElement(J.a,{disableTypography:!0,primary:o.a.createElement("span",{className:b.contactNameWrapper},o.a.createElement(z.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},g.contact.name),o.a.createElement(z.a,{className:b.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(Ha.a)(Object(Qa.a)(g.updatedAt),new Date)?o.a.createElement(o.a.Fragment,null,Object(Ba.a)(Object(Qa.a)(g.updatedAt),"HH:mm")):o.a.createElement(o.a.Fragment,null,Object(Ba.a)(Object(Qa.a)(g.updatedAt),"dd/MM/yyyy"))),g.whatsappId&&o.a.createElement("div",{className:b.userTag,title:ma.a.t("ticketsList.connectionTitle")},null===(i=g.whatsapp)||void 0===i?void 0:i.name)),secondary:o.a.createElement("span",{className:b.contactNameWrapper},"closed"===g.status&&(null===g||void 0===g?void 0:g.userRating)?function(e){let a="";return 1===e?a="\ud83d\ude21":2===e?a="\ud83d\ude20":3===e?a="\ud83d\ude10":4===e?a="\ud83d\ude03":5===e&&(a="\ud83d\ude0d"),a}(null===g||void 0===g||null===(s=g.userRating)||void 0===s?void 0:s.rate):null,o.a.createElement(z.a,{className:b.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},g.lastMessage?o.a.createElement(it,null,g.lastMessage):o.a.createElement("br",null)),o.a.createElement(N.a,{overlap:"rectangular",className:b.newMessagesCount,badgeContent:g.unreadMessages,classes:{badge:b.badgeStyle}}))}),"pending"===g.status&&o.a.createElement(F.a,{className:b.bottomButton,color:"primary",loading:h.toString(),onClick:e=>g.isBot?(async e=>{f(!0);try{await u.put("/tickets/".concat(e.id),{status:"open",userId:null===x||void 0===x?void 0:x.id})}catch(a){f(!1),ga(a)}y.current&&f(!1),E.push("/tickets/".concat(e.uuid))})(g):(async e=>{f(!0);try{await u.put("/tickets/".concat(e.id),{status:"open",userId:null===x||void 0===x?void 0:x.id})}catch(a){f(!1),ga(a)}y.current&&f(!1),E.push("/tickets/".concat(e.uuid))})(g)},o.a.createElement(Ja.a,null)),o.a.createElement("div",{className:b.divTags},g.isGroup&&o.a.createElement("div",{className:b.tagsWrapper},o.a.createElement("div",{key:g.id,className:b.tags,style:{backgroundColor:"#7C7C7C"}},"Grupo")),(null===(c=g.user)||void 0===c?void 0:c.id)&&"ADMIN"===x.profile.toUpperCase()&&o.a.createElement("div",{className:b.tagsWrapper},o.a.createElement("div",{key:g.user.id,className:b.tags,title:S(g.user.name),style:{backgroundColor:""!==g.user.color&&g.user.color?g.user.color:"#7C7C7C"}},S(g.user.name))),(null===(d=g.tags)||void 0===d?void 0:d.length)>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:b.tagsWrapper},o.a.createElement("div",{key:g.tags[0].id,className:b.tags,title:g.tags[0].name,style:{backgroundColor:g.tags[0].color}},g.tags[0].name)),g.tags.length>1&&o.a.createElement("div",{key:g.tags[1].id,className:b.tags,title:g.tags[1].name,style:{backgroundColor:g.tags[1].color}},"+",g.tags.length-1))),"pending"===g.status&&("enabled"===x.showDashboard||"admin"===x.profile)&&o.a.createElement(F.a,{className:b.bottomButton,color:"primary",onClick:e=>O(g)},o.a.createElement(et.a,null)),"open"===g.status&&o.a.createElement(F.a,{className:b.bottomButton,color:"primary",onClick:e=>(async e=>{f(!0);try{await u.put("/tickets/".concat(e.id),{status:"pending"})}catch(a){f(!1),ga(a)}y.current&&f(!1),E.push("/tickets/".concat(e.uuid))})(g)},o.a.createElement(Za.a,null)),"open"===g.status&&o.a.createElement(F.a,{className:b.bottomButton,color:"primary",onClick:e=>O(g)},o.a.createElement(et.a,null)),"closed"===g.status&&o.a.createElement(F.a,{className:b.bottomButton,color:"primary",onClick:e=>(async e=>{f(!0);try{await u.put("/tickets/".concat(e.id),{status:"open",userId:null===x||void 0===x?void 0:x.id})}catch(a){f(!1),ga(a)}y.current&&f(!1),E.push("/tickets/".concat(e.uuid))})(g)},o.a.createElement(Za.a,null)),"closed"===g.status&&o.a.createElement(F.a,{className:b.bottomButton,color:"primary"})),o.a.createElement(W.a,{variant:"inset",component:"li"}),o.a.createElement(H.a,{open:w,onClose:()=>{A(!1)},className:b.imageModal,maxWidth:"md",fullWidth:!0},o.a.createElement(G.a,{className:b.imageModalContent},o.a.createElement("img",{src:null===g||void 0===g||null===(m=g.contact)||void 0===m?void 0:m.urlPicture,alt:(null===g||void 0===g||null===(p=g.contact)||void 0===p?void 0:p.name)||"Foto do contato",className:b.expandedImage}))));var I},vt=t(1601);var yt=e=>{let{searchParam:a,tags:t,users:o,pageNumber:l,status:r,date:i,updatedAt:s,showAll:c,queueIds:d,withUnreadMessages:m,whatsappIds:p,statusFilter:g,forceSearch:b,userFilter:E,sortTickets:h,searchOnMessages:f}=e;const[v,y]=Object(n.useState)(!0),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)([]),[A,T]=Object(n.useState)(0);return Object(n.useEffect)(()=>{y(!0);const e=setTimeout(()=>{(async()=>{if(void 0===E||null===E)try{const{data:e}=await u.get("/tickets",{params:{searchParam:a,pageNumber:l,tags:t,users:o,status:r,date:i,updatedAt:s,showAll:c,queueIds:d,withUnreadMessages:m,whatsapps:p,statusFilter:g,sortTickets:h,searchOnMessages:f}});let n=[];n=e.tickets,w(n),C(e.hasMore),T(e.count),y(!1)}catch(e){y(!1),ga(e)}else try{const{data:e}=await u.get("/dashboard/moments",{params:{status:r,showAll:c,queueIds:d,dateStart:Object(Ba.a)(Object(vt.a)(new Date,{days:30}),"yyyy-MM-dd"),dateEnd:Object(Ba.a)(new Date,"yyyy-MM-dd"),userId:E}});let a=[];a=e.filter(e=>e.userId==E),w(a),C(null),y(!1)}catch(e){y(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[a,t,o,l,r,i,s,c,d,m,p,g,b,h,f]),{tickets:k,loading:v,hasMore:x,count:A}},xt=t(788),Ct=t.n(xt),kt=t(219),wt=t.n(kt);const At=Object(I.a)(e=>({tabContainer:Object(S.a)({overflowY:"auto",maxHeight:350},e.scrollbarStyles),popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"}}));var Tt=e=>{const a=At(),t=Object(D.a)(),l=Object(T.useHistory)(),{user:r,socket:i}=Object(n.useContext)(Ca),{profile:s,queues:c}=r,d=+l.location.pathname.split("/")[2],m=Object(n.useRef)(d),u=Object(n.useRef)(),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)([]),{get:h}=(c.map(e=>e.id),Da()),{setCurrentTicket:f,setTabOpen:v}=Object(n.useContext)(gt),[y,x]=Object(n.useState)(!1),[k,w]=Object(n.useState)(!1),[A,O]=Object(n.useState)(!1),[,j]=Object(n.useState)([]),{tickets:I}=yt({withUnreadMessages:"true"}),[M]=Object(qa.a)(Ct.a,e),R=Object(n.useRef)(),P=Object(n.useRef)(l);Object(n.useEffect)(()=>{(async()=>{try{!0===(await h({column:"showNotificationPending"})).showNotificationPending&&w(!0),"enable"===r.allTicket&&x(!0),!0===r.allowGroup&&O(!0)}catch(e){ga(e)}})()},[x,w]),Object(n.useEffect)(()=>{R.current=M,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[M]),Object(n.useEffect)(()=>{E(I)},[I]),Object(n.useEffect)(()=>{m.current=d},[d]),Object(n.useEffect)(()=>{const e=r.companyId;if(r.id){c.map(e=>e.id);const a=()=>{i.emit("joinNotification")},t=e=>{"updateUnread"!==e.action&&"delete"!==e.action||(E(a=>{const t=a.findIndex(a=>a.id===e.ticketId);return-1!==t?(a.splice(t,1),[...a]):a}),j(a=>{const t=a.findIndex(a=>a.tag===String(e.ticketId));return-1!==t?(a[t].close(),a.splice(t,1),[...a]):a}))},n=e=>{var a,t,n,o,l,i,s,c;if("create"===e.action&&!e.message.fromMe&&!e.message.read&&((null===(a=e.ticket)||void 0===a?void 0:a.userId)===(null===r||void 0===r?void 0:r.id)||!(null===(t=e.ticket)||void 0===t?void 0:t.userId))&&((null===r||void 0===r||null===(n=r.queues)||void 0===n?void 0:n.some(a=>a.id===e.ticket.queueId))||!e.ticket.queueId&&!0===y)&&(!["pending","lgpd","nps","group"].includes(null===(o=e.ticket)||void 0===o?void 0:o.status)||"pending"===(null===(l=e.ticket)||void 0===l?void 0:l.status)&&!0===k||"group"===(null===(i=e.ticket)||void 0===i?void 0:i.status)&&"enabled"===(null===(s=e.ticket)||void 0===s||null===(c=s.whatsapp)||void 0===c?void 0:c.groupAsTicket)&&!0===A)){var d,u;const a="pending"===e.ticket.status&&"disabled"===r.allowSeeMessagesInPendingTickets,t=a?Object(S.a)(Object(S.a)({},e.ticket),{},{lastMessage:ma.a.t("notifications.messageHidden")}):e.ticket;E(e=>{const a=e.findIndex(e=>e.id===t.id);return-1!==a?(e[a]=t,[...e]):[t,...e]});if(!0===(e.message.ticketId===m.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===r||void 0===r?void 0:r.id)||e.ticket.isGroup&&"disabled"===(null===(d=e.ticket)||void 0===d||null===(u=d.whatsapp)||void 0===u?void 0:u.groupAsTicket)&&!1===A))return;const n=a?ma.a.t("notifications.messageHidden"):e.message.body;W(Object(S.a)(Object(S.a)({},e),{},{message:Object(S.a)(Object(S.a)({},e.message),{},{body:n})}))}};return i.on("connect",a),i.on("company-".concat(e,"-ticket"),t),i.on("company-".concat(e,"-appMessage"),n),()=>{i.off("connect",a),i.off("company-".concat(e,"-ticket"),t),i.off("company-".concat(e,"-appMessage"),n)}}},[r,s,c,y,i,k,A]);const W=e=>{const{message:a,contact:t,ticket:n}=e,o={body:"".concat(a.body," - ").concat(Object(Ba.a)(new Date,"HH:mm")),icon:t.urlPicture,tag:n.id,renotify:!0},l=new Notification("".concat(ma.a.t("tickets.notification.message")," ").concat(t.name),o);l.onclick=e=>{e.preventDefault(),window.focus(),v(n.status),P.current.push("/tickets/".concat(n.uuid))},j(e=>{const a=e.findIndex(e=>e.tag===l.tag);return-1!==a?(e[a]=l,[...e]):[l,...e]}),R.current()},B=()=>{g(!1)},q=e=>{let{children:a}=e;return o.a.createElement("div",{onClick:B},a)};return o.a.createElement(o.a.Fragment,null,(b.length>0?b.length<21?document.title="\u24ff\u278a\u278b\u278c\u278d\u278e\u278f\u2790\u2791\u2792\u2793\u24eb\u24ec\u24ed\u24ee\u24ef\u24f0\u24f1\u24f2\u24f3\u24f4".substring(b.length,b.length+1)+" - "+(t.appName||"..."):document.title="("+b.length+")"+(t.appName||"..."):document.title=t.appName||"...",o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{animated:!0,url:(null===t||void 0===t?void 0:t.appLogoFavicon)?t.appLogoFavicon:wt.a,alertCount:b.length,iconSize:195}))),o.a.createElement(F.a,{onClick:()=>{g(e=>!e)},ref:u,"aria-label":"Open Notifications",color:"inherit",style:{color:"white"}},o.a.createElement(N.a,{overlap:"rectangular",badgeContent:b.length,color:"secondary"},o.a.createElement(Va.a,null))),o.a.createElement(za.a,{disableScrollLock:!0,open:p,anchorEl:u.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:a.popoverPaper},onClose:B},o.a.createElement(L.a,{dense:!0,className:a.tabContainer},0===b.length?o.a.createElement(_.a,null,o.a.createElement(J.a,null,ma.a.t("notifications.noTickets"))):b.map(e=>o.a.createElement(q,{key:e.id},o.a.createElement(ft,{ticket:e}))))))},Ot=t(639),St=t.n(Ot),jt=t(789),It=t.n(jt),Mt=t(912);const Nt=Object(I.a)(e=>({tabContainer:{padding:e.spacing(2),minWidth:250},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"},icons:{color:"#fff"},customBadge:{backgroundColor:"#f44336",color:"#fff"},volumeSlider:{color:e.palette.primary.main,height:6,"& .MuiSlider-track":{border:"none",backgroundColor:e.palette.primary.main,height:6},"& .MuiSlider-thumb":{height:16,width:16,backgroundColor:"#fff",border:"2px solid currentColor",boxShadow:"0 2px 4px rgba(0,0,0,0.1)","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"0 3px 8px rgba(0,0,0,0.15)",height:18,width:18},"&:before":{display:"none"}},"& .MuiSlider-rail":{color:e.palette.grey[300],opacity:1,height:6}},volumeContainer:{alignItems:"center",display:"flex",gap:e.spacing(2)},volumeIcon:{color:e.palette.grey[600],fontSize:"1.25rem"},sliderContainer:{flex:1,paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}));var Rt=e=>{let{volume:a,setVolume:t}=e;const l=Nt(),r=Object(n.useRef)(),[i,s]=Object(n.useState)(!1);return o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,{className:l.icons,onClick:()=>{s(e=>!e)},ref:r,"aria-label":"Open Notifications"},o.a.createElement(St.a,{color:"inherit"})),o.a.createElement(za.a,{disableScrollLock:!0,open:i,anchorEl:r.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:l.popoverPaper},onClose:()=>{s(!1)}},o.a.createElement(L.a,{dense:!0,className:l.tabContainer},o.a.createElement("div",{className:l.volumeContainer},o.a.createElement(It.a,{className:l.volumeIcon}),o.a.createElement("div",{className:l.sliderContainer},o.a.createElement(Mt.a,{value:Number(a),className:l.volumeSlider,"aria-labelledby":"volume-slider",step:.1,min:0,max:1,onChange:(e,a)=>{t(a),localStorage.setItem("volume",a)}})),o.a.createElement(St.a,{className:l.volumeIcon})))))},Dt=t(13),Pt=t(7),Ft=t(577),Lt=t(1243),Wt=t(418),Bt=t(416),qt=t(272),zt=t(399),Ut=t.n(zt),Vt=t(1607);const Ht=Object(I.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var Qt=e=>{let{selectedQueueIds:a,onChange:t}=e;const l=Ht(),[r,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");i(e)}catch(e){ga(e)}})()},[]);return o.a.createElement("div",{style:{marginTop:6}},o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(Bt.a,null,ma.a.t("queueSelect.inputLabel")),o.a.createElement(Wt.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{t(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>o.a.createElement("div",{className:l.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const a=r.find(a=>a.id===e);return a?o.a.createElement(Vt.a,{key:e,style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:l.chip}):null}))},r.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))},Gt=t(271),Kt=t(1585),_t=t(1380),Yt=t(1381);const Jt=["children","value","name"];var Xt=e=>{let{children:a,value:t,name:n}=e,l=Object(at.a)(e,Jt);return t===n?o.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),o.a.createElement(o.a.Fragment,null,a)):null},Zt=t(486),$t=t.n(Zt),en=t(794),an=t.n(en),tn=t(906);const nn=w(),on=$t()(e=>({avatar:{width:e.spacing(12),height:e.spacing(12),margin:e.spacing(2),cursor:"pointer",borderRadius:"50%",border:"2px solid #ccc"}}));var ln=e=>{let{setAvatar:a,avatar:t,companyId:l}=e;on();const[r,i]=Object(n.useState)(null),[s,c]=Object(n.useState)(null),{user:d}=Object(n.useContext)(Ca);return o.a.createElement(tn.a,{display:"flex",flexDirection:"column",alignItems:"center"},o.a.createElement(R.a,{alt:"User Avatar",src:s||(t&&l?"".concat(nn,"/public/company").concat(l,"/user/").concat(t):"".concat(nn,"/public/app/noimage.png")),style:{width:120,height:120,cursor:"pointer"},onClick:()=>document.getElementById("avatar-upload").click(),onError:e=>{e.target.src="".concat(nn,"/public/app/noimage.png")}}),o.a.createElement("input",{accept:"image/*",type:"file",id:"avatar-upload",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(!t)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return void alert("Formato de arquivo n\xe3o suportado. Use apenas JPG, PNG, GIF ou WebP.");if(t.size>5242880)alert("Arquivo muito grande. Tamanho m\xe1ximo: 5MB");else if(i(t),a(t),t){const e=new FileReader;e.onload=()=>{c(e.result)},e.readAsDataURL(t)}}}),o.a.createElement("label",{htmlFor:"avatar-upload",style:{marginTop:10}},o.a.createElement(K.a,{variant:"contained",component:"span",startIcon:o.a.createElement(an.a,null)},t?"Alterar Avatar":"Upload Avatar")))};const rn=w(),sn=(t(614),Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},textField:{marginRight:e.spacing(1),flex:1},container:{display:"flex",flexWrap:"wrap"},avatar:{width:e.spacing(12),height:e.spacing(12),margin:e.spacing(2),cursor:"pointer",borderRadius:"50%",border:"2px solid #ccc"},updateDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},updateInput:{display:"none"},updateLabel:{padding:e.spacing(1),margin:e.spacing(1),textTransform:"uppercase",textAlign:"center",cursor:"pointer",border:"2px solid #ccc",borderRadius:"5px",minWidth:160,fontWeight:"bold",color:"#555"},errorUpdate:{border:"2px solid red"},errorText:{color:"red",fontSize:"0.8rem",fontWeight:"bold"}}))),cn=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Dt.f().min(5,"Too Short!").max(50,"Too Long!"),email:Dt.f().email("Invalid email").required("Required"),allHistoric:Dt.f().nullable()}),dn=e=>{if(!e)return"";const a=new Date(e);return a.setDate(a.getDate()+1),a.toISOString().split("T")[0]};var mn=e=>{let{open:a,onClose:t,userId:l}=e;const r=sn(),i={name:"",email:"",password:"",birthDate:"",profile:"user",startWork:"00:00",endWork:"23:59",farewellMessage:"",allTicket:"enable",allowGroup:!1,defaultTheme:"light",defaultMenu:"open",allHistoric:"enabled",allUserChat:"enabled",userClosePendingTicket:"enabled",showDashboard:"enabled",allowRealTime:"enabled",allowConnections:"enabled",showContacts:"enabled",showCampaign:"enabled",showFlow:"enabled",finalizacaoComValorVendaAtiva:"false",allowSeeMessagesInPendingTickets:"enabled"},{user:s}=Object(n.useContext)(Ca),[c,d]=Object(n.useState)(i),[m,p]=Object(n.useState)([]),[g,b]=Object(n.useState)(!1),{loading:E,whatsApps:h}=Aa(),[f,v]=Object(n.useState)(null),[y,x]=Object(n.useState)("general"),[C,k]=Object(n.useState)(null),w=Object(n.useRef)(),A=Object(n.useRef)();Object(n.useEffect)(()=>{(async()=>{if(l)try{var e;const{data:a}=await u.get("/users/".concat(l));d(e=>Object(S.a)(Object(S.a)(Object(S.a)({},e),a),{},{allTicket:"enable"===a.allTicket||"enabled"===a.allTicket?"enable":"disable",finalizacaoComValorVendaAtiva:a.finalizacaoComValorVendaAtiva?"true":"false",allowSeeMessagesInPendingTickets:"enabled"===a.allowSeeMessagesInPendingTickets?"enabled":"disabled",farewellMessage:a.farewellMessage||"",birthDate:dn(a.birthDate)}));const{profileImage:t}=a;v("".concat(rn,"/public/company").concat(a.companyId,"/user/").concat(t));const n=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);p(n),b(a.whatsappId?a.whatsappId:"")}catch(a){ga(a)}})()},[l,a]);const T=()=>{t(),d(i)},j=(e,a)=>{x(a)};return o.a.createElement("div",{className:r.root},o.a.createElement(H.a,{open:a,onClose:T,maxWidth:"sm",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("userModal.title.edit"):ma.a.t("userModal.title.add"))),o.a.createElement(Pt.e,{initialValues:c,enableReinitialize:!0,validationSchema:cn,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=async e=>{if(!C||"object"!==typeof C)return null;const a=new FormData;a.append("userId",e),a.append("typeArch","user"),a.append("profileImage",C);try{const{data:t}=await u.post("/users/".concat(e,"/media-upload"),a,{headers:{"Content-Type":"multipart/form-data"}});return t.user.profileImage}catch(t){throw console.error("Erro no upload da imagem:",t),t}},t=Object(S.a)(Object(S.a)({},e),{},{whatsappId:g,queueIds:m,finalizacaoComValorVendaAtiva:"true"===e.finalizacaoComValorVendaAtiva,birthDate:(n=e.birthDate,n||null),allowSeeMessagesInPendingTickets:"enabled"===e.allowSeeMessagesInPendingTickets?"enabled":"disabled"});var n;try{let e;if(l){const{data:n}=await u.put("/users/".concat(l),t);if(e=n,C&&"object"===typeof C){const t=await a(l);t&&(e.profileImage=t,l===s.id&&localStorage.setItem("profileImage",t))}}else{const{data:n}=await u.post("/users",t);if(e=n.user,C&&"object"===typeof C&&e.id){const t=await a(e.id);t&&(e.profileImage=t)}}T(),O.b.success(ma.a.t("userModal.success")),l===s.id&&setTimeout(()=>{window.location.reload()},1e3)}catch(o){ga(o)}})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,setFieldValue:i}=e;return o.a.createElement(Pt.d,null,o.a.createElement(Gt.a,{className:r.mainPaper,elevation:1},o.a.createElement(Kt.a,{value:y,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:j,className:r.tab},o.a.createElement(_t.a,{label:ma.a.t("userModal.tabs.general"),value:"general"}),o.a.createElement(_t.a,{label:ma.a.t("userModal.tabs.permissions"),value:"permissions"}))),o.a.createElement(Gt.a,{className:r.paper,elevation:0},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Xt,{className:r.container,value:y,name:"general"},o.a.createElement(Yt.a,{container:!0,spacing:1,alignContent:"center",alignItems:"center",justifyContent:"center"},o.a.createElement(qt.a,{className:r.updateDiv},o.a.createElement(ln,{setAvatar:k,avatar:c.profileImage,companyId:c.companyId}),c.profileImage&&o.a.createElement(K.a,{variant:"outlined",color:"secondary",onClick:()=>{c.profileImage=null,i("profileImage",null),k(null)}},ma.a.t("userModal.title.removeImage")))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.password"),type:"password",name:"password",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:"outlined",margin:"dense",fullWidth:!0}))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:8,xl:8},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:4,xl:4},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(ja,{role:s.profile,perform:"user-modal:editProfile",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,{id:"profile-selection-input-label"},ma.a.t("userModal.form.profile")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},o.a.createElement(V.a,{value:"admin"},"Admin"),o.a.createElement(V.a,{value:"user"},"User")))})))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(ja,{role:s.profile,perform:"user-modal:editQueues",yes:()=>o.a.createElement(Qt,{selectedQueueIds:m,onChange:e=>p(e),fullWidth:!0})}))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(ja,{role:s.profile,perform:"user-modal:editProfile",yes:()=>o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:r.maxWidth,fullWidth:!0},o.a.createElement(Bt.a,null,ma.a.t("userModal.form.whatsapp")),o.a.createElement(Pt.b,{as:Wt.a,value:g,onChange:e=>b(e.target.value),label:ma.a.t("userModal.form.whatsapp")},o.a.createElement(V.a,{value:""},"\xa0"),h.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))}))),o.a.createElement(ja,{role:s.profile,perform:"user-modal:editProfile",yes:()=>o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.startWork"),type:"time",ampm:"false",inputRef:w,InputLabelProps:{shrink:!0},inputProps:{step:600},fullWidth:!0,name:"startWork",error:a.startWork&&Boolean(t.startWork),helperText:a.startWork&&t.startWork,variant:"outlined",margin:"dense",className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.endWork"),type:"time",ampm:"false",inputRef:A,InputLabelProps:{shrink:!0},inputProps:{step:600},fullWidth:!0,name:"endWork",error:a.endWork&&Boolean(t.endWork),helperText:a.endWork&&t.endWork,variant:"outlined",margin:"dense",className:r.textField})))}),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:"Data de Nascimento",type:"date",name:"birthDate",InputLabelProps:{shrink:!0},fullWidth:!0,variant:"outlined",margin:"dense",className:r.textField,helperText:"Data de nascimento para notifica\xe7\xf5es de anivers\xe1rio"}))),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.farewellMessage"),type:"farewellMessage",multiline:!0,rows:4,fullWidth:!0,name:"farewellMessage",error:a.farewellMessage&&Boolean(t.farewellMessage),helperText:a.farewellMessage&&t.farewellMessage,variant:"outlined",margin:"dense"}),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.defaultTheme")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.defaultTheme"),name:"defaultTheme",type:"defaultTheme",required:!0},o.a.createElement(V.a,{value:"light"},ma.a.t("userModal.form.defaultThemeLight")),o.a.createElement(V.a,{value:"dark"},ma.a.t("userModal.form.defaultThemeDark")))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.defaultMenu")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.defaultMenu"),name:"defaultMenu",type:"defaultMenu",required:!0},o.a.createElement(V.a,{value:"open"},ma.a.t("userModal.form.defaultMenuOpen")),o.a.createElement(V.a,{value:"closed"},ma.a.t("userModal.form.defaultMenuClosed")))))))),o.a.createElement(Xt,{className:r.container,value:y,name:"permissions"},o.a.createElement(ja,{role:s.profile,perform:"user-modal:editProfile",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.allTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.allTicket"),name:"allTicket",type:"allTicket",required:!0},o.a.createElement(V.a,{value:"enable"},ma.a.t("userModal.form.allTicketEnable")),o.a.createElement(V.a,{value:"disable"},ma.a.t("userModal.form.allTicketDisable")))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.allowGroup")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.allowGroup"),name:"allowGroup",type:"allowGroup",required:!0},o.a.createElement(V.a,{value:!0},ma.a.t("userModal.form.allTicketEnable")),o.a.createElement(V.a,{value:!1},ma.a.t("userModal.form.allTicketDisable"))))))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.allHistoric")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.allHistoric"),name:"allHistoric",type:"allHistoric",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled")))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.allUserChat")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.allUserChat"),name:"allUserChat",type:"allUserChat",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled"))))))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.userClosePendingTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.userClosePendingTicket"),name:"userClosePendingTicket",type:"userClosePendingTicket",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled")))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.allowSeeMessagesInPendingTickets")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.allowSeeMessagesInPendingTickets"),name:"allowSeeMessagesInPendingTickets",type:"allowSeeMessagesInPendingTickets",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled"))))))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.allowConnections")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.allowConnections"),name:"allowConnections",type:"allowConnections",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled")))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.showDashboard")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.showDashboard"),name:"showDashboard",type:"showDashboard",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled"))))))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.allowRealTime")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.allowRealTime"),name:"allowRealTime",type:"allowRealTime",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled")))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.showContacts")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.showContacts"),name:"showContacts",type:"showContacts",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled"))))))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.showCampaign")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.showCampaign"),name:"showCampaign",type:"showCampaign",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled")))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,ma.a.t("userModal.form.showFlow")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.showFlow"),name:"showFlow",type:"showFlow",required:!0},o.a.createElement(V.a,{value:"disabled"},ma.a.t("userModal.form.allHistoricDisabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("userModal.form.allHistoricEnabled"))))))),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,null,"Finaliza\xe7\xe3o com Valor de Venda"),o.a.createElement(Pt.b,{as:Wt.a,label:"Finaliza\xe7\xe3o com Valor de Venda",name:"finalizacaoComValorVendaAtiva",type:"finalizacaoComValorVendaAtiva",required:!0},o.a.createElement(V.a,{value:"false"},"Desabilitado"),o.a.createElement(V.a,{value:"true"},"Habilitado")))))))})))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:T,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("userModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},"".concat(l?ma.a.t("userModal.buttons.okEdit"):ma.a.t("userModal.buttons.okAdd")),n&&o.a.createElement(Lt.a,{size:24,className:r.buttonProgress}))))})))},un=t(903);const pn=Object(I.a)(e=>({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}));var gn=()=>{const e=pn();return o.a.createElement(un.a,{className:e.backdrop,open:!0},o.a.createElement(Lt.a,{color:"inherit"}))},bn=t(1383);const En=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));function hn(e){let{announcement:a,open:t,handleClose:n}=e;return o.a.createElement(H.a,{open:t,onClose:()=>n(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Q.a,{id:"alert-dialog-title"},a.title),o.a.createElement(G.a,null,a.mediaPath&&o.a.createElement("div",{style:{border:"1px solid #f1f1f1",margin:"0 auto 20px",textAlign:"center",width:"95%",height:300,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}},o.a.createElement("img",{alt:"announcement image",src:a.mediaPath,style:{width:"95%",height:"100%"}})),o.a.createElement(bn.a,{id:"alert-dialog-description",style:{whiteSpace:"pre-line"}},a.text)),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:()=>n(),color:"primary",autoFocus:!0},"Fechar")))}const fn=(e,a)=>{if("LOAD_ANNOUNCEMENTS"===a.type){const t=a.payload,n=[];return Object(da.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_ANNOUNCEMENT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};function vn(){const e=En(),[a,t]=Object(n.useState)(!1),[l,r]=Object(n.useState)(null),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(fn,[]),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)({}),[v,y]=Object(n.useState)(!1),{user:x,socket:C}=Object(n.useContext)(Ca);Object(n.useEffect)(()=>{g({type:"RESET"}),s(1)},[m]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{k()},500);return()=>clearTimeout(e)},[m,i]),Object(n.useEffect)(()=>{if(x.companyId){x.companyId;const e=e=>{"update"!==e.action&&"create"!==e.action||(g({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),E(!1)),"delete"===e.action&&g({type:"DELETE_ANNOUNCEMENT",payload:+e.id})};return C.on("company-announcement",e),()=>{C.off("company-announcement",e)}}},[x]);const k=async()=>{try{const{data:e}=await u.get("/announcements/for-company",{params:{searchParam:m,pageNumber:i}});g({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),d(e.hasMore),t(!1)}catch(e){ga(e)}},w=Boolean(l),A=w?"simple-popover":void 0;return o.a.createElement("div",null,o.a.createElement(hn,{announcement:h,open:v,handleClose:()=>y(!1)}),o.a.createElement(F.a,{variant:"contained","aria-describedby":A,onClick:e=>{r(e.currentTarget),E(!0)},style:{color:"white"}},o.a.createElement(N.a,{color:"secondary",variant:"dot",invisible:b||p.length<1},o.a.createElement(Je.a,null))),o.a.createElement(za.a,{id:A,open:w,anchorEl:l,onClose:()=>{r(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Gt.a,{variant:"outlined",onScroll:e=>{if(!c||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&s(e=>e+1)},className:e.mainPaper},o.a.createElement(L.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(da.isArray)(p)&&p.map((e,a)=>{return o.a.createElement(_.a,{key:a,style:{background:a%2===0?"primary":"secondary",border:"1px solid #eee",borderLeft:(t=e.priority,1===t?"4px solid #b81111":2===t?"4px solid orange":3===t?"4px solid grey":void 0),cursor:"pointer"},onClick:()=>(f(e),y(!0),void r(null))},e.mediaPath&&o.a.createElement(Y.a,null,o.a.createElement(R.a,{src:e.mediaPath})),o.a.createElement(J.a,{primary:e.title,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{component:"span",style:{fontSize:12}},ya()(e.createdAt).format("DD/MM/YYYY")),o.a.createElement("span",{style:{marginTop:5,display:"block"}}),o.a.createElement(z.a,{component:"span",variant:"body2"},e.text))}));var t}),Object(da.isArray)(p)&&0===p.length&&o.a.createElement(J.a,{primary:ma.a.t("mainDrawer.appBar.notRegister")})))))}var yn=t(190),xn=t.n(yn),Cn=t(191),kn=t.n(Cn),wn=t(797);function An(){return{dateToClient:function(e){return ya()(e).isValid()?ya()(e).format("DD/MM/YYYY"):e},datetimeToClient:function(e){return ya()(e).isValid()?ya()(e).format("DD/MM/YYYY HH:mm"):e},dateToDatabase:function(e){return ya()(e,"DD/MM/YYYY").isValid()?ya()(e).format("YYYY-MM-DD HH:mm:ss"):e},returnDays:function(e){let a=new Date,t=new Date(e).getTime()-a.getTime(),n=Math.ceil(t/864e5);return-0===n&&(n=0),n}}}var Tn=t(796),On=t.n(Tn);const Sn=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)})),jn=(e,a)=>{if("LOAD_CHATS"===a.type){const t=a.payload,n=[];return Object(da.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CHATS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CHAT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[];if("CHANGE_CHAT"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};function In(e){const a=Sn(),{user:t,socket:l}=Object(n.useContext)(Ca),r=Object(T.useHistory)(),i=Object(n.useRef)(r),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(1),[b,E]=Object(n.useState)(!1),[h]=Object(n.useState)(""),[f,v]=Object(n.useReducer)(jn,[]),[y,x]=Object(n.useState)(!0),{datetimeToClient:C}=An(),[k]=Object(qa.a)(On.a,e),w=Object(n.useRef)();Object(n.useEffect)(()=>{w.current=k,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[k]),Object(n.useEffect)(()=>{v({type:"RESET"}),g(1)},[h]),Object(n.useEffect)(()=>{c(!0);const e=setTimeout(()=>{A()},500);return()=>clearTimeout(e)},[h,p]),Object(n.useEffect)(()=>{if(t.id){const e=t.companyId,a=fa({companyId:e,userId:t.id}),n=e=>{if("new-message"===e.action&&(v({type:"CHANGE_CHAT",payload:e}),console.log(e),e.newMessage.senderId!==t.id&&e.chat.users.find(e=>e.userId===t.id)&&(w.current(),"granted"===Notification.permission))){new Notification("Chat interno n\xba "+e.newMessage.chatId,{body:"".concat(e.newMessage.sender.name,": ").concat(e.newMessage.message," - ").concat(Object(Ba.a)(new Date,"HH:mm")),icon:e.newMessage.sender.profileImage}).onclick=a=>{a.preventDefault(),window.focus(),i.current.push("/chats/".concat(e.newMessage.chatId))}}"update"===e.action&&v({type:"CHANGE_CHAT",payload:e})};return a.on("company-".concat(e,"-chat"),n),()=>{a.off("company-".concat(e,"-chat"),n)}}},[t.id,t.companyId]),Object(n.useEffect)(()=>{let e=0;if(f.length>0)for(let a of f)for(let n of a.users)n.userId===t.id&&(e+=n.unreads);x(!(e>0))},[f,t.id]);const A=async()=>{try{const{data:e}=await u.get("/chats/",{params:{searchParam:h,pageNumber:p}});v({type:"LOAD_CHATS",payload:e.records}),E(e.hasMore),c(!1)}catch(e){ga(e)}},O=Boolean(d),S=O?"simple-popover":void 0;return o.a.createElement("div",null,o.a.createElement(F.a,{"aria-describedby":S,variant:"contained",color:y?"default":"inherit",onClick:e=>{m(e.currentTarget),x(!0)},style:{color:"white"},size:"large"},o.a.createElement(N.a,{color:"secondary",variant:"dot",invisible:y},o.a.createElement(wn.a,{size:18}))),o.a.createElement(za.a,{id:S,open:O,anchorEl:d,onClose:()=>{m(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Gt.a,{variant:"outlined",onScroll:e=>{if(!b||s)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&g(e=>e+1)},className:a.mainPaper},o.a.createElement(L.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(da.isArray)(f)&&f.map((e,a)=>{var t,n,l;return o.a.createElement(_.a,{key:a,style:{background:a%2===0?"#ededed":"white",border:"1px solid #eee",cursor:"pointer"},onClick:()=>{return a=e,void(window.location.href="/chats/".concat(a.uuid));var a},button:!0},o.a.createElement(J.a,{primary:o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement(z.a,{component:"span",style:{fontWeight:"bold",fontSize:13}},"string"===typeof e.lastMessage?e.title||"Chat":(null===(t=e.lastMessage)||void 0===t||null===(n=t.sender)||void 0===n?void 0:n.name)||e.title||"Chat"),o.a.createElement(z.a,{component:"span",style:{fontSize:12,color:"#666"}},"string"===typeof e.lastMessage?e.lastMessage:(null===(l=e.lastMessage)||void 0===l?void 0:l.message)||"Nenhuma mensagem")),secondary:o.a.createElement(z.a,{component:"span",style:{fontSize:12}},C(e.updatedAt))}))}),Object(da.isArray)(f)&&0===f.length&&o.a.createElement(J.a,{primary:ma.a.t("mainDrawer.appBar.notRegister")})))))}var Mn=t(497),Nn=t.n(Mn),Rn=t(496),Dn=t.n(Rn);var Pn=()=>({getAll:async e=>{const{data:a}=await u.request({url:"/settings",method:"GET",params:e});return a},update:async e=>{const{data:a}=await u.request({url:"/settings/".concat(e.key),method:"PUT",data:e});return console.log(a),a},get:async e=>{const{data:a}=await u.request({url:"/setting/".concat(e),method:"GET"});return a},getPublicSetting:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const t=a?{companyId:a}:{},{data:n}=await m.request({url:"/public-settings/".concat(e),method:"GET",params:t});return n}}),Fn=t(902),Ln=t(1384),Wn=t(1385),Bn=t(1386);const qn=t(1111).version,zn=Object(I.a)(e=>({banner:{position:"fixed",top:64,left:"50%",transform:"translateX(-50%)",zIndex:e.zIndex.drawer+2,borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",backgroundColor:e.palette.info.main,color:"white",padding:e.spacing(1.5,3),display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"600px",minWidth:"400px",width:"90%",[e.breakpoints.down("sm")]:{width:"95%",minWidth:"300px",padding:e.spacing(1,2)}},pulseIcon:{animation:"$pulse 2s infinite",color:e.palette.error.main},updateButton:{backgroundColor:e.palette.success.main,color:"white",fontWeight:"bold","&:hover":{backgroundColor:e.palette.success.dark}},bannerButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",border:"1px solid rgba(255, 255, 255, 0.3)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},iconContainer:{display:"flex",alignItems:"center",marginRight:e.spacing(1)},"@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"50%":{transform:"scale(1.1)",opacity:.8},"100%":{transform:"scale(1)",opacity:1}}}));var Un=()=>{const e=zn(),[a]=Object(n.useState)(window.localStorage.getItem("version")||"4.7.7"),[t,l]=Object(n.useState)(!1),[r,i]=Object(n.useState)(!1),s=a!==qn;Object(n.useEffect)(()=>{if(s){const e=setTimeout(()=>l(!0),2e3);return()=>clearTimeout(e)}},[s]);return s?o.a.createElement(o.a.Fragment,null,o.a.createElement(Fn.a,{in:t&&!r},o.a.createElement(Gt.a,{className:e.banner,elevation:4},o.a.createElement(tn.a,{display:"flex",alignItems:"center",flex:1},o.a.createElement("div",{className:e.iconContainer},o.a.createElement(Ln.a,null)),o.a.createElement(z.a,{variant:"body2"},o.a.createElement("strong",null,"Nova vers\xe3o ",qn," dispon\xedvel!")," Clique em atualizar para obter as \xfaltimas melhorias.")),o.a.createElement(tn.a,{display:"flex",gap:1,alignItems:"center",ml:2},r&&o.a.createElement(Lt.a,{size:20,style:{color:"white"}}),o.a.createElement(K.a,{size:"small",onClick:async()=>{i(!0);try{if(window.localStorage.setItem("version",qn),await u.post("/version",{version:qn}),"caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}setTimeout(()=>window.location.reload(),1e3)}catch(e){console.error("Erro na atualiza\xe7\xe3o:",e),i(!1)}},disabled:r,startIcon:!r&&o.a.createElement(Wn.a,null),className:e.updateButton},r?"Atualizando...":"Atualizar"),!r&&o.a.createElement(F.a,{size:"small",onClick:()=>l(!1),style:{color:"white"}},o.a.createElement(Bn.a,{fontSize:"small"})))))):null};var Vn=function(e,a,t,o){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(n.useEffect)(()=>{if((null===a||void 0===a?void 0:a.companyId)&&e&&"function"===typeof e.on){const n="company-".concat(a.companyId,"-").concat(t);return console.log("Registrando listener: ".concat(n)),e.on(n,o),()=>{e&&"function"===typeof e.off&&(console.log("Removendo listener: ".concat(n)),e.off(n,o))}}},[e,null===a||void 0===a?void 0:a.companyId,...l])},Hn=t(404);const Qn=w(),Gn=Object(I.a)(e=>({root:{display:"flex",height:"100vh",[e.breakpoints.down("sm")]:{height:"calc(100vh - 56px)"},backgroundColor:e.palette.fancyBackground,"& .MuiButton-outlinedPrimary":{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main,"40"),borderRadius:"8px",fontWeight:600,textTransform:"none",transition:"all 0.3s ease","&:hover":{backgroundColor:"".concat(e.palette.primary.main,"10"),borderColor:e.palette.primary.main,transform:"translateY(-1px)",boxShadow:"0 4px 12px ".concat(e.palette.primary.main,"30")}},"& .MuiTab-textColorPrimary.Mui-selected":{color:e.palette.primary.main,fontWeight:700}},chip:{background:"red",color:"white"},avatar:{width:"100%"},toolbar:{paddingRight:24,color:e.palette.dark.main,background:e.palette.primary.main,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px",minHeight:"48px",[e.breakpoints.down("sm")]:{height:"48px"},backgroundColor:"#ffffff",borderBottom:"1px solid ".concat(e.palette.divider),transition:"all 0.3s ease"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down("sm")]:{display:"none"}},menuButtonHidden:{display:"none"},title:{flexGrow:1,fontSize:14,color:"white",fontWeight:600,letterSpacing:"0.025em"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",overflowY:"hidden",borderRight:"1px solid ".concat("light"===e.mode?"#e0e0e0":"#424242"),boxShadow:"light"===e.mode?"2px 0 8px rgba(0, 0, 0, 0.1)":"2px 0 8px rgba(0, 0, 0, 0.3)"},drawerPaperClose:{overflowX:"hidden",overflowY:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto",padding:0,margin:0},container:{padding:0,margin:0,maxWidth:"none",width:"100%"},containerWithScroll:Object(S.a)(Object(S.a)({flex:1,overflowY:"scroll",overflowX:"hidden"},e.scrollbarStyles),{},{borderRadius:"8px",border:"2px solid transparent","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none"}),NotificationsPopOver:{},logo:{width:"100%",height:"45px",maxWidth:180,[e.breakpoints.down("sm")]:{width:"auto",height:"100%",maxWidth:180},logo:e.logo,content:"url("+("light"===e.mode?e.calculatedLogoLight():e.calculatedLogoDark())+")",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)"}},hideLogo:{display:"none"},avatar2:{width:e.spacing(4),height:e.spacing(4),cursor:"pointer",borderRadius:"50%",border:"2px solid #ccc",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)",borderColor:e.palette.primary.main}},updateDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},toolbarButton:{color:"rgba(255, 255, 255, 0.9)",borderRadius:"8px",padding:"8px",margin:"0 2px",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)",transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"}},menuButton:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"rotate(90deg)"}},languageSelector:{position:"relative",display:"inline-block","& > button":{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"18px",padding:"8px 12px",cursor:"pointer",transition:"all 0.3s ease","&:hover":{background:"rgba(255, 255, 255, 0.2)",transform:"translateY(-1px)"}},"& > div":{position:"absolute",top:"45px",left:"0",background:"#fff",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",borderRadius:"8px",padding:"8px",zIndex:1e3,minWidth:"120px","& button":{background:"none",border:"none",color:"#374151",display:"block",width:"100%",padding:"8px 12px",textAlign:"left",borderRadius:"6px",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease","&:hover":{background:"".concat(e.palette.primary.main,"10"),color:e.palette.primary.main,transform:"none"}}}},animatedBadge:{"& .MuiBadge-badge":{animation:"$heartbeat 2s infinite"}},"@keyframes heartbeat":{"0%":{transform:"scale(1)"},"14%":{transform:"scale(1.1)"},"28%":{transform:"scale(1)"},"42%":{transform:"scale(1.1)"},"70%":{transform:"scale(1)"}}})),Kn=Object(M.a)(e=>({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}))(N.a);Object(M.a)(e=>({root:{width:22,height:22,border:"2px solid ".concat(e.palette.background.paper)}}))(R.a);var _n=e=>{var a,t,l,r;let{children:i,themeToggle:s}=e;const c=Gn(),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[b,f]=Object(n.useState)(!1),{handleLogout:v,loading:y,user:x,socket:C}=Object(n.useContext)(Ca),[k,w]=Object(n.useState)(!1),[A,T]=Object(n.useState)("permanent"),[O,S]=Object(n.useState)(!1),[I,M]=Object(n.useState)(!1),[N,Z]=Object(n.useState)([]),[ee,te]=Object(n.useState)(null),oe=Object(D.a)(),{colorMode:re}=Object(n.useContext)(h),ie=Object(E.a)(oe.breakpoints.up("sm")),[se,ce]=Object(n.useState)(localStorage.getItem("volume")||1),{dateToClient:de}=An(),[me,ue]=Object(n.useState)(null),[pe,ge]=Object(n.useState)(!1);Object(n.useMemo)(()=>o.a.createElement(Wa,{drawerOpen:k,collapsed:!k}),[x,k]),Pn();Object(n.useEffect)(()=>{(null===x||void 0===x?void 0:x.id)&&(async()=>{try{const{data:e}=await u.get("/announcements/for-company",{params:{status:!0,pageNumber:"1"}}),a=e.records.filter(e=>{const a=!0===e.status||"true"===e.status,t=!e.expiresAt||new Date(e.expiresAt)>new Date;return a&&t});Z(a),a.length>0&&M(!0)}catch(e){ga(e)}})()},[null===x||void 0===x?void 0:x.id]),Object(n.useEffect)(()=>{document.body.offsetWidth>600&&("closed"===x.defaultMenu?w(!1):w(!0)),"dark"===x.defaultTheme&&"light"===oe.mode&&re.toggleColorMode()},[x.defaultMenu,document.body.offsetWidth]),Object(n.useEffect)(()=>{document.body.offsetWidth<600?T("temporary"):T("permanent")},[k]),Object(n.useEffect)(()=>{const e=null===x||void 0===x?void 0:x.companyId;if(e){ue((()=>{const a=localStorage.getItem("profileImage")||x.profileImage;return a?"".concat(Qn,"/public/company").concat(e,"/user/").concat(a):"".concat(Qn,"/public/app/noimage.png")})())}},[null===x||void 0===x?void 0:x.companyId,null===x||void 0===x?void 0:x.profileImage,Qn]);const be=Object(n.useCallback)(e=>{e.user.id===+(null===x||void 0===x?void 0:x.id)&&(ga("Sua conta foi acessada em outro computador."),setTimeout(()=>{localStorage.clear(),window.location.reload()},1e3))},[null===x||void 0===x?void 0:x.id]),Ee=Object(n.useCallback)(e=>{if("update"===e.action&&e.user.id===+(null===x||void 0===x?void 0:x.id)&&e.user.profileImage){const a="".concat(Qn,"/public/company").concat(null===x||void 0===x?void 0:x.companyId,"/user/").concat(e.user.profileImage);ue(a),localStorage.setItem("profileImage",e.user.profileImage)}},[null===x||void 0===x?void 0:x.companyId,null===x||void 0===x?void 0:x.id,Qn]);Vn(C,x,"auth",be),Vn(C,x,"user",Ee),Object(n.useEffect)(()=>{if((null===C||void 0===C?void 0:C.emit)&&(null===x||void 0===x?void 0:x.companyId)){C.emit("userStatus");const e=setInterval(()=>{(null===C||void 0===C?void 0:C.emit)&&C.emit("userStatus")},3e5);return()=>clearInterval(e)}},[C,null===x||void 0===x?void 0:x.companyId]);const he=()=>{g(null),f(!1)},[fe,ve]=Object(n.useState)(["pt-BR","en"]),{getAll:ye}=Pn();Object(n.useEffect)(()=>{!async function(){try{var e;const t=null===(e=(await ye()).find(e=>"enabledLanguages"===e.key))||void 0===e?void 0:e.value;let n=["pt-BR","en"];try{t&&(n=JSON.parse(t))}catch(a){}console.log("Layout - enabledLanguages carregadas:",n,"para companyId:",null===x||void 0===x?void 0:x.companyId),ve(n)}catch(t){console.log("Layout - erro ao carregar enabledLanguages:",t)}}()},[null===x||void 0===x?void 0:x.companyId]);const xe=[{code:"pt-BR",label:"Portugu\xeas"},{code:"en",label:"English"},{code:"es",label:"Spanish"},{code:"ar",label:"\u0639\u0631\u0628\u064a"}].filter(e=>fe.includes(e.code));return y||pe?o.a.createElement(gn,null):o.a.createElement("div",{className:Object(j.a)(c.root,"logged-in-layout")},o.a.createElement(P.a,{variant:A,className:k?c.drawerPaper:c.drawerPaperClose,classes:{paper:Object(j.a)(c.drawerPaper,!k&&c.drawerPaperClose)},open:k},o.a.createElement("div",{className:c.toolbarIcon},o.a.createElement("img",{className:k?c.logo:c.hideLogo,style:{display:"block",margin:"0 auto",height:"50px",width:"100%"},alt:"logo"}),o.a.createElement(F.a,{onClick:()=>w(!k)},o.a.createElement(ae.a,null))),o.a.createElement(L.a,{className:c.containerWithScroll},o.a.createElement(Wa,{collapsed:!k})),o.a.createElement(W.a,null)),o.a.createElement(B.a,{position:"absolute",className:Object(j.a)(c.appBar,k&&c.appBarShift),color:"primary"},o.a.createElement(q.a,{variant:"dense",className:c.toolbar},o.a.createElement(F.a,{edge:"start",variant:"contained","aria-label":"open drawer",style:{color:"white"},onClick:()=>w(!k),className:Object(j.a)(k&&c.menuButtonHidden)},o.a.createElement($.a,null)),o.a.createElement(z.a,{component:"h2",variant:"h6",color:"inherit",noWrap:!0,className:c.title},ie&&"admin"===(null===x||void 0===x?void 0:x.profile)&&(null===x||void 0===x||null===(a=x.company)||void 0===a?void 0:a.dueDate)?o.a.createElement(o.a.Fragment,null,ma.a.t("mainDrawer.appBar.user.message")," ",o.a.createElement("b",null,x.name),","," ",ma.a.t("mainDrawer.appBar.user.messageEnd")," ",o.a.createElement("b",null,null===x||void 0===x||null===(t=x.company)||void 0===t?void 0:t.name),"! (",ma.a.t("mainDrawer.appBar.user.active")," ",de(null===x||void 0===x||null===(l=x.company)||void 0===l?void 0:l.dueDate),")"):o.a.createElement(o.a.Fragment,null,ma.a.t("mainDrawer.appBar.user.message")," ",o.a.createElement("b",null,x.name),","," ",ma.a.t("mainDrawer.appBar.user.messageEnd")," ",o.a.createElement("b",null,null===x||void 0===x||null===(r=x.company)||void 0===r?void 0:r.name),"!")),o.a.createElement(Un,{onUpdateStart:()=>{ge(!0)},onUpdateComplete:()=>{ge(!1)}}),o.a.createElement("div",{style:{position:"relative",display:"inline-block"},className:"language-dropdown"},o.a.createElement("button",{onClick:()=>S(!O),style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"22px",paddingRight:"20px",paddingTop:"8px"}},o.a.createElement(Hn.c,null)),O&&o.a.createElement("div",{style:{position:"absolute",top:"35px",left:"0",background:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.2)",borderRadius:"8px",padding:"8px",zIndex:1e3,minWidth:"120px",maxWidth:"200px"}},xe.map(e=>o.a.createElement("button",{key:e.code,onClick:()=>{return a=e.code,ma.a.changeLanguage(a),localStorage.setItem("language",a),void window.location.reload();var a},style:{background:"none",border:"none",cursor:"pointer",display:"block",width:"100%",padding:"4px"}},e.label)))),o.a.createElement(F.a,{edge:"start",onClick:re.toggleColorMode},"dark"===oe.mode?o.a.createElement(Dn.a,{style:{color:"white"}}):o.a.createElement(Nn.a,{style:{color:"white"}})),o.a.createElement(Rt,{setVolume:ce,volume:se}),o.a.createElement(F.a,{onClick:()=>{window.location.reload(!1)},"aria-label":ma.a.t("mainDrawer.appBar.refresh"),color:"inherit"},o.a.createElement(le.a,{style:{color:"white"}})),x.id&&o.a.createElement(Tt,{volume:se}),o.a.createElement(vn,null),o.a.createElement(In,null),o.a.createElement("div",{className:"user-menu-wrapper"},o.a.createElement(Kn,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",onClick:e=>{g(e.currentTarget),f(!0)}},o.a.createElement(R.a,{alt:"Multi100",className:c.avatar2,src:me})),o.a.createElement(mn,{open:d,onClose:()=>m(!1),onImageUpdate:e=>ue(e),userId:null===x||void 0===x?void 0:x.id}),o.a.createElement(U.a,{id:"menu-appbar",anchorEl:p,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:he,PaperProps:{style:{minWidth:"150px",maxWidth:"200px",width:"auto"}}},o.a.createElement(V.a,{onClick:()=>{m(!0),he()}},ma.a.t("mainDrawer.appBar.user.profile")),o.a.createElement(V.a,{onClick:()=>{he(),v()}},ma.a.t("mainDrawer.appBar.user.logout")))))),o.a.createElement("main",{className:c.content},o.a.createElement("div",{className:c.appBarSpacer}),i||null),o.a.createElement(H.a,{open:I,onClose:()=>M(!1),maxWidth:"md",fullWidth:!0},o.a.createElement(Q.a,null,"Informativos"),o.a.createElement(G.a,{dividers:!0},ee?o.a.createElement("div",null,o.a.createElement(z.a,{variant:"h6",gutterBottom:!0},ee.title),o.a.createElement(z.a,{variant:"body1",style:{whiteSpace:"pre-line"}},ee.text),ee.mediaPath&&o.a.createElement("div",{style:{marginTop:16}},o.a.createElement("img",{src:"".concat(Qn,"/public/company").concat(x.companyId).concat(ee.mediaPath),alt:"Anexo",style:{maxWidth:"100%"}})),o.a.createElement(K.a,{onClick:()=>te(null),style:{marginTop:16},variant:"outlined"},"Voltar para lista")):o.a.createElement(L.a,null,N.map(e=>o.a.createElement(_.a,{button:!0,key:e.id,onClick:()=>te(e)},o.a.createElement(Y.a,null,o.a.createElement(R.a,null,o.a.createElement(ne.a,null))),o.a.createElement(J.a,{primary:e.title,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{component:"span",variant:"body2",color:"textPrimary"},"Prioridade: ",1===e.priority?"Alta":2===e.priority?"M\xe9dia":"Baixa")," \u2014 ".concat(new Date(e.createdAt).toLocaleDateString()))}))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:()=>M(!1),color:"primary"},"Fechar"))))},Yn=t(1408),Jn=t(642),Xn=t.n(Jn),Zn=t(341),$n=t.n(Zn),eo=t(805),ao=t.n(eo),to=t(643),no=t.n(to),oo=t(804),lo=t.n(oo),ro=t(518),io=t.n(ro),so=t(407),co=t.n(so),mo=t(626),uo=t.n(mo),po=t(806),go=t.n(po),bo=t(807),Eo=t.n(bo),ho=t(91),fo=t(1390);const vo=Object(I.a)(e=>({mainContainer:{flex:1,padding:e.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}));var yo=e=>{let{children:a}=e;const t=vo();return o.a.createElement(fo.a,{className:t.mainContainer},o.a.createElement("div",{className:t.contentWrapper},a))},xo=t(1394),Co=t(1396),ko=t(1392),wo=t(1393),Ao=t(1395),To=t(1391),Oo=t(1397),So=t(557),jo=t(405),Io=t.n(jo);t(1612);const Mo=Object(I.a)(e=>({on:{color:_a.a[600],fontSize:"20px"},off:{color:So.a[600],fontSize:"20px"},pointer:{cursor:"pointer"}}));function No(e){const{loading:a,attendants:t}=e,n=Mo();function l(e){return ya()().startOf("day").add(e,"minutes").format("HH[h] mm[m]")}return a?o.a.createElement(Oo.a,{variant:"rect",height:150}):o.a.createElement(wo.a,{component:Gt.a},o.a.createElement(xo.a,null,o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,null,ma.a.t("dashboard.users.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("dashboard.assessments.score")),o.a.createElement(ko.a,{align:"center"},ma.a.t("dashboard.assessments.ratedCalls")),o.a.createElement(ko.a,{align:"center"},ma.a.t("dashboard.assessments.totalCalls")),o.a.createElement(ko.a,{align:"center"},ma.a.t("dashboard.cards.averageWaitingTime")),o.a.createElement(ko.a,{align:"center"},ma.a.t("dashboard.cards.averageServiceTime")),o.a.createElement(ko.a,{align:"center"},ma.a.t("dashboard.cards.status")))),o.a.createElement(Co.a,null,t.map((e,a)=>o.a.createElement(To.a,{key:a},o.a.createElement(ko.a,null,e.name),o.a.createElement(ko.a,{align:"center"},e.rating),o.a.createElement(ko.a,{align:"center"},e.countRating),o.a.createElement(ko.a,{align:"center"},e.tickets),o.a.createElement(ko.a,{align:"center"},l(e.avgWaitTime)),o.a.createElement(ko.a,{align:"center"},l(e.avgSupportTime)),o.a.createElement(ko.a,{align:"center"},e.online?o.a.createElement(de.a,{title:"Online"},o.a.createElement(Ja.a,{className:n.on})):o.a.createElement(de.a,{title:"Offline"},o.a.createElement(Io.a,{className:n.off}))))))))}var Ro=()=>({find:async e=>{try{console.log("Buscando dados do dashboard com params:",e);const{data:a}=await u.request({url:"/dashboard",method:"GET",params:e});if(console.log("Dados recebidos do dashboard:",a),!a)throw new Error("Nenhum dado retornado do servidor");const t={avgSupportTime:0,avgWaitTime:0,supportFinished:0,supportHappening:0,supportPending:0,supportGroups:0,leads:0,activeTickets:0,passiveTickets:0,tickets:0,waitRating:0,withoutRating:0,withRating:0,percRating:0,npsPromotersPerc:0,npsPassivePerc:0,npsDetractorsPerc:0,npsScore:0},n={counters:Object(S.a)(Object(S.a)({},t),a.counters),attendants:Array.isArray(a.attendants)?a.attendants:[]};return console.log("Dados processados do dashboard:",n),n}catch(n){var a,t;return console.error("Erro ao buscar dados do dashboard:",n),(null===n||void 0===n||null===(a=n.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)?O.b.error(n.response.data.message):O.b.error("Erro ao carregar dados do dashboard"),{counters:{avgSupportTime:0,avgWaitTime:0,supportFinished:0,supportHappening:0,supportPending:0,supportGroups:0,leads:0,activeTickets:0,passiveTickets:0,tickets:0,waitRating:0,withoutRating:0,withRating:0,percRating:0,npsPromotersPerc:0,npsPassivePerc:0,npsDetractorsPerc:0,npsScore:0},attendants:[]}}},getReport:async e=>{try{console.log("Buscando relat\xf3rio com params:",e);const{data:a}=await u.request({url:"/ticketreport/reports",method:"GET",params:e});return console.log("Dados do relat\xf3rio recebidos:",a),a}catch(n){var a,t;return console.error("Erro ao buscar relat\xf3rio:",n),(null===n||void 0===n||null===(a=n.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)?O.b.error(n.response.data.message):O.b.error("Erro ao carregar relat\xf3rio"),{data:[]}}}});var Do=e=>{let{fromMe:a,dateStart:t,dateEnd:o}=e;const[l,r]=Object(n.useState)(!0),[i,s]=Object(n.useState)(0);return Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/messages-allMe",{params:{fromMe:a,dateStart:t,dateEnd:o}});s(e.count[0].count),r(!1)}catch(e){r(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[t,o]),{count:i}},Po=t(80),Fo=t(517),Lo=t(895),Wo=t(357),Bo=t(361),qo=t(896),zo=t(1579);t(733);const Uo=Object(I.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)}}));Po.f.register(Po.e,Po.j,Po.c,Po.p,Po.q,Po.h,Lo.a);const Vo={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:"Tickets",position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},Ho=()=>{Uo();const e=Object(D.a)(),[a,t]=Object(n.useState)(new Date),[l,r]=Object(n.useState)(new Date),[i,s]=Object(n.useState)({data:[]}),{user:c}=Object(n.useContext)(Ca),d=c.companyId;Object(n.useEffect)(()=>{d&&p()},[d]);const m={labels:i&&(null===i||void 0===i?void 0:i.data.length)>0&&(null===i||void 0===i?void 0:i.data.map(e=>e.nome)),datasets:[{data:(null===i||void 0===i?void 0:i.data.length)>0&&(null===i||void 0===i?void 0:i.data.map((e,a)=>e.quantidade)),backgroundColor:e.palette.primary.main}]},p=async()=>{try{const{data:e}=await u.get("/dashboard/ticketsUsers?initialDate=".concat(Object(Ba.a)(a,"yyyy-MM-dd"),"&finalDate=").concat(Object(Ba.a)(l,"yyyy-MM-dd"),"&companyId=").concat(d));s(e)}catch(e){O.b.error("Erro ao buscar informa\xe7\xf5es dos tickets")}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},ma.a.t("dashboard.users.totalCallsUser")),o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{item:!0},o.a.createElement(qo.a,{dateAdapter:Wo.a,adapterLocale:Bo.a},o.a.createElement(zo.a,{value:a,onChange:e=>{t(e)},label:ma.a.t("dashboard.date.initialDate"),renderInput:e=>o.a.createElement(Ft.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))}))),o.a.createElement(Yt.a,{item:!0},o.a.createElement(qo.a,{dateAdapter:Wo.a,adapterLocale:Bo.a},o.a.createElement(zo.a,{value:l,onChange:e=>{r(e)},label:ma.a.t("dashboard.date.finalDate"),renderInput:e=>o.a.createElement(Ft.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))}))),o.a.createElement(Yt.a,{item:!0},o.a.createElement(K.a,{style:{backgroundColor:e.palette.primary.main,top:"10px"},onClick:p,variant:"contained"},"Filtrar"))),o.a.createElement(Fo.a,{options:Vo,data:m,style:{maxWidth:"100%",maxHeight:"280px"}}))};var Qo=e=>o.a.createElement(z.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children);var Go=e=>{let{classes:a,setDateStartTicket:t,setDateEndTicket:n,dateStartTicket:l,dateEndTicket:r,setQueueTicket:i,queueTicket:s,fetchData:c}=e;const[d]=o.a.useState(s),[m,u]=o.a.useState(l),[p,g]=o.a.useState(r),[b,E]=o.a.useState(!1);return o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Gt.a,{className:a.customFixedHeightPaperLg,elevation:6},o.a.createElement(Qo,null,ma.a.t("dashboard.filters")," "),o.a.createElement(Yt.a,{container:!0,spacing:3},o.a.createElement(Yt.a,{item:!0,xs:12,sm:6,md:5},o.a.createElement(Ft.a,{fullWidth:!0,name:"dateStart",label:ma.a.t("dashboard.date.initialDate"),InputLabelProps:{shrink:!0},type:"date",defaultValue:m,onChange:e=>u(e.target.value)})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:6,md:5},o.a.createElement(Ft.a,{fullWidth:!0,name:"dateEnd",label:ma.a.t("dashboard.date.finalDate"),InputLabelProps:{shrink:!0},type:"date",defaultValue:p,onChange:e=>g(e.target.value)})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:6,md:2},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{i(d),t(m),n(p),E(!b),c(!b)}},ma.a.t("dashboard.filter"))))))};Po.f.register(Po.e,Po.j,Po.c,Po.p,Po.q,Po.h);const Ko={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:"Tickets",position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},_o=()=>{const e=Object(D.a)(),[a,t]=Object(n.useState)(new Date),[l,r]=Object(n.useState)(new Date),[i,s]=Object(n.useState)({data:[],count:0}),{user:c}=Object(n.useContext)(Ca),d=c.companyId;Object(n.useEffect)(()=>{d&&p()},[d]);const m={labels:i&&(null===i||void 0===i?void 0:i.data.length)>0&&(null===i||void 0===i?void 0:i.data.map(e=>e.hasOwnProperty("horario")?"Das ".concat(e.horario,":00 as ").concat(e.horario,":59"):e.data)),datasets:[{data:(null===i||void 0===i?void 0:i.data.length)>0&&(null===i||void 0===i?void 0:i.data.map((e,a)=>e.total)),backgroundColor:e.palette.primary.main}]},p=async()=>{try{const{data:e}=await u.get("/dashboard/ticketsDay?initialDate=".concat(Object(Ba.a)(a,"yyyy-MM-dd"),"&finalDate=").concat(Object(Ba.a)(l,"yyyy-MM-dd"),"&companyId=").concat(d));s(e)}catch(e){O.b.error("Erro ao buscar informa\xe7\xf5es dos tickets")}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},ma.a.t("dashboard.users.totalAttendances")," (",null===i||void 0===i?void 0:i.count,")"),o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{item:!0},o.a.createElement(qo.a,{dateAdapter:Wo.a,adapterLocale:Bo.a},o.a.createElement(zo.a,{value:a,onChange:e=>{t(e)},label:ma.a.t("dashboard.date.initialDate"),renderInput:e=>o.a.createElement(Ft.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))}))),o.a.createElement(Yt.a,{item:!0},o.a.createElement(qo.a,{dateAdapter:Wo.a,adapterLocale:Bo.a},o.a.createElement(zo.a,{value:l,onChange:e=>{r(e)},label:ma.a.t("dashboard.date.finalDate"),renderInput:e=>o.a.createElement(Ft.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))}))),o.a.createElement(Yt.a,{item:!0},o.a.createElement(K.a,{style:{backgroundColor:e.palette.primary.main,top:"10px"},onClick:p,variant:"contained"},"Filtrar"))),o.a.createElement(Fo.a,{options:Ko,data:m,style:{maxWidth:"100%",maxHeight:"280px"}}))};var Yo=t(1616),Jo=t(1592),Xo=t(1603),Zo=t(1617),$o=t(120);const el=Object(I.a)(e=>({container:{textAlign:"center",marginTop:e.spacing(8),flex:1},title:{marginBottom:e.spacing(4)},button:{marginTop:e.spacing(2),color:"#fff !important",boxShadow:"none",borderRadius:20},boxContainer:{background:e.palette.tabHeaderBackground,borderRadius:20,display:"flex",padding:20,display:"flex",alignItems:"center",width:"80%",justifyContent:"center",margin:"auto"}}));var al=()=>{const e=el();return o.a.createElement(fo.a,{className:e.container},o.a.createElement(tn.a,{className:e.boxContainer},o.a.createElement(tn.a,null,o.a.createElement(z.a,{variant:"h1",className:e.title,color:"error"},"403"),o.a.createElement(z.a,{variant:"h5",color:"textSecondary"},"Oops! Acesso Negado!"),o.a.createElement(K.a,{className:e.button,variant:"contained",color:"primary",href:"/tickets"},"Voltar"))))},tl=t(1409),nl=t(1410);const ol=Object(I.a)(e=>({overline:{fontSize:"0.9rem",fontWeight:700,color:e.palette.text.secondary,letterSpacing:"0.5px",lineHeight:2.5,textTransform:"uppercase",fontFamily:"'Plus Jakarta Sans', sans-serif'"},h4:{fontFamily:"'Plus Jakarta Sans', sans-serif'",fontWeight:500,fontSize:"2rem",lineHeight:1,color:e.palette.text.primary},tab:{minWidth:"auto",width:"auto",padding:e.spacing(.5,1),borderRadius:8,transition:"0.3s",borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing(.5),marginLeft:e.spacing(.5),[e.breakpoints.down("lg")]:{fontSize:"0.9rem",padding:e.spacing(.4,.8),marginRight:e.spacing(.4),marginLeft:e.spacing(.4)},[e.breakpoints.down("md")]:{fontSize:"0.8rem",padding:e.spacing(.3,.6),marginRight:e.spacing(.3),marginLeft:e.spacing(.3)},"&:hover":{backgroundColor:"rgba(6, 81, 131, 0.3)"},"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main}},tabIndicator:{borderWidth:"2px",borderStyle:"solid",height:6,bottom:0,color:"light"===e.palette.mode?e.palette.primary.main:e.palette.primary.contrastText},container:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},nps:{paddingTop:e.spacing(1),paddingBottom:e.padding},fixedHeightPaper:Object(S.a)({padding:e.spacing(2),display:"flex",flexDirection:"column",height:240,overflowY:"auto"},e.scrollbarStyles),cardAvatar:{fontSize:"55px",color:e.palette.text.primary,backgroundColor:e.palette.background.paper,width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:e.palette.primary.main},cardSubtitle:{color:e.palette.text.secondary,fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},iframeDashboard:{width:"100%",height:"calc(100vh - 64px)",border:"none"},customFixedHeightPaperLg:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%"},sectionTitle:{fontSize:"1.5rem",fontWeight:700,color:e.palette.primary.main,marginBottom:e.spacing(2)},mainPaper:Object(S.a)(Object(S.a)({flex:1,overflowY:"auto",overflowX:"hidden"},e.scrollbarStyles),{},{backgroundColor:"transparent !important",borderRadius:"10px"}),paper:{padding:e.spacing(2),borderRadius:12,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1]},barContainer:{display:"flex",alignItems:"center",marginBottom:e.spacing(1)},progressBar:{flex:1,marginRight:e.spacing(1),borderRadius:5,height:10},progressLabel:{minWidth:50,textAlign:"right",fontWeight:500,color:"light"===e.palette.mode?e.palette.text.secondary:e.palette.text.primary},infoCard:{padding:e.spacing(2),textAlign:"center",borderRadius:12,boxShadow:e.shadows[1],backgroundColor:e.palette.background.paper,marginBottom:e.spacing(2)},infoIcon:{fontSize:"2rem",color:e.palette.primary.main,marginBottom:e.spacing(1)}}));var ll=()=>{const e=Object(D.a)(),a=ol(),[t,l]=Object(n.useState)({}),[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(ya()("1","D").format("YYYY-MM-DD")),[g,b]=Object(n.useState)(ya()().format("YYYY-MM-DD")),[E,h]=Object(n.useState)(!1),{find:f}=Ro(),[v,y]=Object(n.useState)("Indicadores"),[x,C]=Object(n.useState)([]),[k,w]=Object(n.useState)([]);let A=new Date,T=A.getDate(),j=A.getMonth()+1,I=A.getFullYear(),M="".concat(I,"-").concat(j<10?"0".concat(j):"".concat(j),"-01"),N="".concat(I,"-").concat(j<10?"0".concat(j):"".concat(j),"-").concat(T<10?"0".concat(T):"".concat(T));const[R,P]=Object(n.useState)(!1),[F,L]=Object(n.useState)(M),[W,B]=Object(n.useState)(N),[q,U]=Object(n.useState)(!1),[V,H]=Object(n.useState)(!1),{user:Q}=Object(n.useContext)(Ca);Q.queues&&Q.queues.length>0&&Q.queues.map(e=>e.id),Object(n.useEffect)(()=>{let e=!0;async function a(){e&&(console.log("Executando firstLoad..."),await async function(){h(!0),console.log("Iniciando fetchData...");let e={};d>0?(e={days:d},console.log("Usando filtro por dias:",d)):(!Object(da.isEmpty)(F)&&ya()(F).isValid()&&(e=Object(S.a)(Object(S.a)({},e),{},{date_from:ya()(F).format("YYYY-MM-DD")}),console.log("Data de in\xedcio:",F)),!Object(da.isEmpty)(W)&&ya()(W).isValid()&&(e=Object(S.a)(Object(S.a)({},e),{},{date_to:ya()(W).format("YYYY-MM-DD")}),console.log("Data de fim:",W)));0===Object.keys(e).length&&(console.log("Nenhum filtro definido, usando 30 dias como padr\xe3o"),e={days:30});console.log("Par\xe2metros finais para busca:",e);try{const a=await f(e);console.log("Dados recebidos no componente:",a);const t=a.counters||{};console.log("Campo tickets recebido:",t.tickets),l(t),Object(da.isArray)(a.attendants)?i(a.attendants):(console.warn("Attendants n\xe3o \xe9 um array:",a.attendants),i([])),console.log("Estado atualizado - Counters:",t),console.log("Estado atualizado - Attendants:",a.attendants),console.log("Valor de tickets no estado:",t.tickets)}catch(a){console.error("Erro ao buscar dados:",a),O.b.error("Erro ao carregar dados do dashboard"),l({avgSupportTime:0,avgWaitTime:0,supportFinished:0,supportHappening:0,supportPending:0,supportGroups:0,leads:0,activeTickets:0,passiveTickets:0,tickets:0,waitRating:0,withoutRating:0,withRating:0,percRating:0,npsPromotersPerc:0,npsPassivePerc:0,npsDetractorsPerc:0,npsScore:0}),i([])}finally{h(!1)}}())}const t=setTimeout(()=>{a()},500);return()=>{e=!1,clearTimeout(t)}},[V]);function G(e){return ya()().startOf("day").add(e,"minutes").format("HH[h] mm[m]")}const K=(e,a)=>{let t={};t=e?a?{fromMe:!0}:{fromMe:!1}:a?{fromMe:!0,dateStart:F,dateEnd:W}:{fromMe:!1,dateStart:F,dateEnd:W};const{count:n}=Do(t);return n};return o.a.createElement(o.a.Fragment,null,"user"===Q.profile&&"disabled"===Q.showDashboard?o.a.createElement(al,null):o.a.createElement(yo,null,o.a.createElement(Gt.a,{className:a.mainPaper,variant:"outlined"},o.a.createElement(Yo.a,{maxWidth:!1,className:a.container,style:{padding:"16px 8px",maxWidth:"100%",overflowX:"hidden"}},o.a.createElement($o.a,{container:!0,spacing:2,className:a.container,style:{margin:0,width:"100%"}},o.a.createElement($o.a,{xs:12,container:!0,justifyContent:"flex-end"},o.a.createElement(Jo.a,{onClick:function(){P(!R)},color:"primary",startIcon:R?o.a.createElement(io.a,null):o.a.createElement(lo.a,null)},R?"Ocultar Filtros":"Mostrar Filtros")),R&&o.a.createElement($o.a,{item:!0,xs:12,style:{marginBottom:"20px"}},o.a.createElement(Go,{classes:a,setDateStartTicket:L,setDateEndTicket:B,dateStartTicket:F,dateEndTicket:W,setQueueTicket:U,queueTicket:q,fetchData:H})),o.a.createElement($o.a,{item:!0,xs:12,style:{marginTop:"20px",paddingLeft:"4px"}},o.a.createElement(z.a,{variant:"h5",style:{marginBottom:"10px",color:e.palette.primary.main}},"Indicadores")),[{label:"Em Atendimento",value:t.supportHappening||0,icon:o.a.createElement(Xn.a,{style:{color:"#01BBAC"}})},{label:"Aguardando",value:t.supportPending||0,icon:o.a.createElement(no.a,{style:{color:"#47606e"}})},{label:"Finalizados",value:t.supportFinished||0,icon:o.a.createElement(Ja.a,{style:{color:"#5852ab"}})},{label:"Grupos",value:t.supportGroups||0,icon:o.a.createElement(Yn.a,{style:{color:"#01BBAC"}})},{label:"Atendentes Ativos",value:"".concat((()=>{let e,a=0;return r.forEach(e=>{!0===e.online&&(a+=1)}),e=0===a?0:a,e})(),"/").concat(r.length),icon:o.a.createElement($n.a,{style:{color:"#805753"}})},{label:"Novos Contatos",value:t.leads||0,icon:o.a.createElement(ao.a,{style:{color:"#8c6b19"}})},{label:"Mensagens Recebidas",value:"".concat(K(!1,!1),"/").concat(K(!0,!1)),icon:o.a.createElement(uo.a,{style:{color:"#333133"}})},{label:"Mensagens Enviadas",value:"".concat(K(!1,!0),"/").concat(K(!0,!0)),icon:o.a.createElement(co.a,{style:{color:"#558a59"}})},{label:"T.M. de Atendimento",value:G(t.avgSupportTime),icon:o.a.createElement(go.a,{style:{color:"#F79009"}})},{label:"T.M. de Espera",value:G(t.avgWaitTime),icon:o.a.createElement(Eo.a,{style:{color:"#8a2c40"}})},{label:"Tickets Ativos",value:t.activeTickets||0,icon:o.a.createElement(tl.a,{style:{color:"#EE4512"}})},{label:"Tickets Passivos",value:t.passiveTickets||0,icon:o.a.createElement(nl.a,{style:{color:"#28C037"}})}].map((e,t)=>o.a.createElement($o.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:t},o.a.createElement(Gt.a,{className:a.paper},o.a.createElement(Xo.a,{display:"flex",alignItems:"center"},e.icon,o.a.createElement(Xo.a,{ml:2},o.a.createElement(z.a,{variant:"h6"},e.value),o.a.createElement(z.a,{variant:"body2"},e.label)))))),o.a.createElement($o.a,{item:!0,xs:12,style:{marginTop:"40px",paddingLeft:"4px"}},o.a.createElement(z.a,{variant:"h5",style:{marginBottom:"10px",color:e.palette.primary.main}},"Pesquisa de satisfa\xe7\xe3o")),["Score","Promotores","Neutros","Detratores"].map((e,n)=>o.a.createElement($o.a,{item:!0,xs:12,md:6,lg:3,key:n},o.a.createElement(Gt.a,{className:a.paper},o.a.createElement(Xo.a,{className:a.barContainer},o.a.createElement(z.a,{className:a.progressLabel},e),o.a.createElement(Zo.a,{variant:"determinate",value:"Score"===e?t.npsScore||0:"Promotores"===e?t.npsPromotersPerc||0:"Neutros"===e?t.npsPassivePerc||0:t.npsDetractorsPerc||0,className:a.progressBar,style:{backgroundColor:"Promotores"===e?"#2EA85A":"Neutros"===e?"#F7EC2C":"Detratores"===e?"#F73A2C":"#000"}}),o.a.createElement(z.a,{className:a.progressLabel},"Score"===e?t.npsScore||0:"Promotores"===e?t.npsPromotersPerc||0:"Neutros"===e?t.npsPassivePerc||0:t.npsDetractorsPerc||0,"%"))))),o.a.createElement($o.a,{item:!0,xs:12,style:{marginTop:"40px",paddingLeft:"4px"}},o.a.createElement(z.a,{variant:"h5",style:{marginBottom:"10px",color:e.palette.primary.main}},"Atendimentos")),[{label:"Total de Atendimentos",value:t.tickets||0,icon:o.a.createElement(Xn.a,{style:{color:"#01BBAC"}})},{label:"Atendimentos aguardando avalia\xe7\xe3o",value:t.waitRating||0,icon:o.a.createElement(no.a,{style:{color:"#47606e"}})},{label:"Atendimentos sem avalia\xe7\xe3o",value:t.withoutRating||0,icon:o.a.createElement($n.a,{style:{color:"#8a2c40"}})},{label:"Atendimentos avaliados",value:t.withRating||0,icon:o.a.createElement($n.a,{style:{color:"#805753"}})}].map((e,t)=>o.a.createElement($o.a,{item:!0,xs:12,sm:6,md:3,key:t},o.a.createElement(Gt.a,{className:a.infoCard,style:{height:"100%"}},o.a.createElement(Xo.a,{display:"flex",alignItems:"center"},e.icon,o.a.createElement(Xo.a,{ml:2},o.a.createElement(z.a,{variant:"h6"},e.value),o.a.createElement(z.a,{variant:"body2"},e.label)))))),o.a.createElement($o.a,{item:!0,xs:12,style:{marginTop:"40px",paddingLeft:"4px",paddingRight:"4px"}},o.a.createElement(z.a,{variant:"h6",style:{marginBottom:"15px",color:e.palette.primary.main}},"\xcdndice de avalia\xe7\xe3o"),o.a.createElement($o.a,{container:!0,alignItems:"center",spacing:2},o.a.createElement($o.a,{item:!0,xs:12,sm:2},o.a.createElement(Gt.a,{className:a.infoCard,style:{textAlign:"center",padding:"8px",backgroundColor:"#FFE3B3"}},o.a.createElement(z.a,{variant:"h6",style:{color:"#F79009"}},Number(t.percRating/100).toLocaleString(void 0,{style:"percent"})||"0%"))),o.a.createElement($o.a,{item:!0,xs:12,sm:10},o.a.createElement(Zo.a,{variant:"determinate",value:t.percRating||0,className:a.progressBar,style:{backgroundColor:"#e0e0e0",height:10,borderRadius:5}})))),o.a.createElement($o.a,{item:!0,xs:12,style:{marginTop:"40px",paddingLeft:"4px"}},o.a.createElement(z.a,{variant:"h5",style:{marginBottom:"10px",color:e.palette.primary.main}},"Atendentes"),o.a.createElement(Gt.a,{className:a.paper},o.a.createElement(No,{attendants:r,loading:E}))),o.a.createElement($o.a,{container:!0,spacing:3,item:!0,xs:12},o.a.createElement($o.a,{item:!0,xs:12,md:6},o.a.createElement(Gt.a,{className:a.paper,style:{marginBottom:"16px"}},o.a.createElement(Ho,null))),o.a.createElement($o.a,{item:!0,xs:12,md:6},o.a.createElement(Gt.a,{className:a.paper},o.a.createElement(_o,null)))))))))},rl=t(1454),il=t(1600),sl=t(578),cl=t(1251),dl=t(1424),ml=t(1428),ul=t(1430),pl=t(1431),gl=t(1432),bl=t(1433),El=t(1434),hl=t(1435),fl=t(1436),vl=t(230),yl=t.n(vl),xl=t(523),Cl=t.n(xl),kl=t(1427),wl=t(1425),Al=t(1426),Tl=t(1429),Ol=t(1411),Sl=t(1611);const jl=["loading","children"],Il=Object(I.a)(e=>({button:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Ml=e=>{let{loading:a,children:t}=e,n=Object(at.a)(e,jl);const l=Il();return o.a.createElement(K.a,Object.assign({className:l.button,disabled:a},n),t,a&&o.a.createElement(Lt.a,{size:24,className:l.buttonProgress}))},Nl=t(44),Rl=t.n(Nl),Dl=t(1602),Pl=t(1586),Fl=t(1618),Ll=t(1597),Wl=t(1593),Bl=t(1605);function ql(e){let{contact:a}=e;const[t,l]=Object(n.useState)([]),[r,i]=Object(n.useState)([]),s=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{s.current=!1},[]),Object(n.useEffect)(()=>{s.current&&d().then(()=>{Array.isArray(a.tags)?i(a.tags):i([])})},[a]);const c=async e=>{try{const{data:a}=await u.post("/tags",e);return a}catch(a){ga(a)}},d=async()=>{try{const{data:e}=await u.get("/tags/list",{params:{kanban:0}});l(e)}catch(e){ga(e)}},m=async(e,t)=>{let n=[];if("create-option"===t){if(Object(da.isArray)(e))for(let a of e){if(a.length<3)return void ga("Tag muito curta!");if(Object(da.isString)(a)){const e=await c({name:a,kanban:0,color:p()});n.push(e)}else n.push(a)}await d()}else n=e;i(n),await(async e=>{try{const{data:a}=await u.post("/tags/sync",e);return a}catch(a){ga(a)}})({contactId:a.id,tags:n})};function p(){const e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),t=Math.floor(256*Math.random());return"#".concat(e.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0")).concat(t.toString(16).padStart(2,"0"))}return o.a.createElement(Gt.a,{style:{padding:2}},o.a.createElement(Sl.a,{multiple:!0,size:"small",options:t,value:r,freeSolo:!0,onChange:(e,a,t)=>m(a,t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(Vt.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{variant:"outlined",placeholder:"Tags"})),PaperComponent:e=>{let{children:a}=e;return o.a.createElement(Gt.a,{style:{width:400,marginLeft:6}},a)}}))}const zl=["contactWallets"],Ul=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Vl=e=>{if(!e)return"";const a=new Date(e);return a.setDate(a.getDate()+1),a.toISOString().split("T")[0]},Hl=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(250,"Too Long!").required("Required"),number:Dt.f().min(8,"Too Short!").max(50,"Too Long!"),email:Dt.f().email("Invalid email")});var Ql=e=>{let{open:a,onClose:t,contactId:l,initialValues:r,onSave:i}=e;const s=Ul(),c=Object(n.useRef)(!0),d={name:"",number:"",email:"",disableBot:!1,lgpdAcceptedAt:"",birthDate:""},[m,p]=Object(n.useState)(d),[g,b]=Object(n.useState)(!1),[E,h]=Object(n.useState)(null),[f,v]=Object(n.useState)(null),[y,x]=Object(n.useState)([]),[C,k]=Object(n.useState)([]),[w,A]=Object(n.useState)([]),[T,j]=Object(n.useState)(!1),[I,M]=Object(n.useState)("");Object(n.useEffect)(()=>()=>{c.current=!1},[]),Object(n.useEffect)(()=>{if(!a||I.length<3)return j(!1),void v("");const e=setTimeout(()=>{j(!0);(async()=>{try{const{data:e}=await u.get("/users/",{params:{searchParam:I}});A(e.users),j(!1)}catch(e){j(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[I,a]),Object(n.useEffect)(()=>{(async()=>{if(r&&p(e=>Object(S.a)(Object(S.a)(Object(S.a)({},e),r),{},{birthDate:Vl(r.birthDate)})),l)try{const{data:e}=await u.get("/contacts/".concat(l));if(c.current)if(p(Object(S.a)(Object(S.a)({},e),{},{birthDate:Vl(e.birthDate)})),b(e.disableBot),e.contactWallets&&e.contactWallets.length>0){const a=e.contactWallets[0].wallet,t=e.contactWallets[0].queue;h({id:a.id,name:a.name}),v(t.id),x([{id:t.id,name:t.name}])}else h(null),v(null),x([])}catch(e){ga(e)}})()},[l,a,r]);const N=()=>{t(),p(d),h(null),v(null),x([])};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:a,onClose:N,maxWidth:"lg",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("contactModal.title.edit"):ma.a.t("contactModal.title.add"))),o.a.createElement(Pt.e,{initialValues:m,enableReinitialize:!0,validationSchema:Hl,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{const t=Object(S.a)(Object(S.a)({},e),{},{disableBot:g,birthDate:(a=e.birthDate,a||null)});if(l){E||f||(delete m.contactWallets,await u.delete("/contacts/wallet/".concat(l)));const{contactWallets:e}=t;Object(at.a)(t,zl);delete m.contactWallets,await u.put("/contacts/".concat(l),t),E&&f&&null!==E&&null!==f&&await u.put("/contacts/wallet/".concat(l),{wallets:{userId:E.id,queueId:f}}),N()}else{delete t.contactWallets;const{data:e}=await u.post("/contacts",t);e.id&&E&&f&&await u.put("/contacts/wallet/".concat(e.id),{wallets:{userId:E.id,queueId:f}}),i&&i(e),N()}O.b.success(ma.a.t("contactModal.success"))}catch(t){ga(t)}var a})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r,setFieldValue:i}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(z.a,{variant:"subtitle1",gutterBottom:!0},ma.a.t("contactModal.form.mainInfo")),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:s.textField}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:"Data de Nascimento",name:"birthDate",type:"date",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"dense",variant:"outlined",helperText:"Data de nascimento para mensagens autom\xe1ticas de anivers\xe1rio"})),o.a.createElement("div",null,o.a.createElement(ql,{contact:m,className:s.textField})),o.a.createElement(Dl.a,{item:!0},o.a.createElement(z.a,{variant:"subtitle1",gutterBottom:!0,style:{marginTop:24,marginBottom:8}},o.a.createElement("b",null,ma.a.t("contactModal.form.assignWallet")))),o.a.createElement(Dl.a,{container:!0,spacing:2},o.a.createElement(Dl.a,{xs:12,sm:6,xl:6,item:!0},o.a.createElement(Pl.a,{value:E,fullWidth:!0,getOptionLabel:e=>"".concat(e.name),onChange:(e,a)=>{h(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&v(a.queues[0].id),x(a.queues)):(x(C),v(null),h(null))},options:w,filterOptions:(e,a)=>{let{inputValue:t}=a;return e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))},freeSolo:!0,autoHighlight:!0,noOptionsText:ma.a.t("transferTicketModal.noOptions"),loading:T,renderOption:(e,a)=>o.a.createElement("li",e,o.a.createElement("span",{style:{marginLeft:8}},a.name)),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>M(e.target.value),InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,T?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})),o.a.createElement(Dl.a,{xs:12,sm:6,xl:6,item:!0},o.a.createElement(Fl.a,{variant:"outlined",fullWidth:!0},o.a.createElement(Ll.a,null,ma.a.t("transferTicketModal.fieldQueueLabel")),o.a.createElement(Wl.a,{value:f,onChange:e=>v(e.target.value),label:ma.a.t("transferTicketModal.fieldQueuePlaceholder")},y.map(e=>o.a.createElement(Bl.a,{key:e.id,value:e.id},e.name)))))),o.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},o.a.createElement(cl.a,{size:"small",checked:g,onChange:()=>b(!g),name:"disableBot"}),ma.a.t("contactModal.form.chatBotContact")),o.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},ma.a.t("contactModal.form.whatsapp")," ",(null===m||void 0===m?void 0:m.whatsapp)?null===m||void 0===m?void 0:m.whatsapp.name:""),o.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},ma.a.t("contactModal.form.termsLGDP")," ",(null===m||void 0===m?void 0:m.lgpdAcceptedAt)?Object(Ba.a)(new Date(null===m||void 0===m?void 0:m.lgpdAcceptedAt),"dd/MM/yyyy '\xe0s' HH:mm"):""),o.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},ma.a.t("contactModal.form.extraInfo")),o.a.createElement(Pt.c,{name:"extraInfo"},e=>{let{push:t,remove:n}=e;return o.a.createElement(o.a.Fragment,null,a.extraInfo&&a.extraInfo.length>0&&a.extraInfo.map((e,a)=>o.a.createElement("div",{className:s.extraAttr,key:"".concat(a,"-info")},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(a,"].name"),variant:"outlined",margin:"dense",className:s.textField}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(a,"].value"),variant:"outlined",margin:"dense",className:s.textField}),o.a.createElement(F.a,{size:"small",onClick:()=>n(a)},o.a.createElement(Rl.a,null)))),o.a.createElement("div",{className:s.extraAttr},o.a.createElement(K.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>t({name:"",value:""})},"+ ".concat(ma.a.t("contactModal.buttons.addExtraInfo")))))})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:N,color:"secondary",disabled:r,variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:s.btnWrapper},"".concat(l?ma.a.t("contactModal.buttons.okEdit"):ma.a.t("contactModal.buttons.okAdd")),r&&o.a.createElement(Lt.a,{size:24,className:s.buttonProgress}))))})))},Gl=t(1415),Kl=t(1416),_l=t(1417),Yl=t(1405),Jl=t(1414),Xl=t(1615),Zl=t(1620),$l=t(1614);var er=e=>{let{isOpen:a,handleClose:t,user:n,queue:l}=e;return o.a.createElement(Yl.a,{open:a,onClose:t},o.a.createElement(Jl.a,null,ma.a.t("showTicketOpenModal.title.header")),o.a.createElement(Xl.a,null,void 0!==n&&void 0!==l&&o.a.createElement(Zl.a,null,ma.a.t("showTicketOpenModal.form.message")," ",o.a.createElement("br",null),"".concat(ma.a.t("showTicketOpenModal.form.user"),": ").concat(n),o.a.createElement("br",null),"".concat(ma.a.t("showTicketOpenModal.form.queue"),": ").concat(l),o.a.createElement("br",null)),!n&&o.a.createElement(Zl.a,null,ma.a.t("showTicketOpenModal.form.messageWait")," ",o.a.createElement("br",null),l&&"".concat(ma.a.t("showTicketOpenModal.form.queue"),": ").concat(l),o.a.createElement("br",null))),o.a.createElement($l.a,null,o.a.createElement(Jo.a,{onClick:t,color:"primary"},"Fechar")))};const ar=Object(I.a)(e=>({online:{fontSize:11,color:"#25d366"},offline:{fontSize:11,color:"#e1306c"}})),tr=Object(Ol.a)({trim:!0});var nr=e=>{var a;let{modalOpen:t,onClose:l,initialContact:r}=e;const i=ar(),[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(""),[h,f]=Object(n.useState)(null),[v,y]=Object(n.useState)(""),[x,C]=Object(n.useState)(""),[k,w]=Object(n.useState)({}),[A,T]=Object(n.useState)([]),[j,I]=Object(n.useState)(!1),{user:M}=Object(n.useContext)(Ca),{companyId:N,whatsappId:R}=M,[D,P]=Object(n.useState)(!1),[F,L]=Object(n.useState)(""),[W,B]=Object(n.useState)("");Object(n.useEffect)(()=>{void 0!==(null===r||void 0===r?void 0:r.id)&&(c([r]),f(r))},[r]),Object(n.useEffect)(()=>{g(!0);const e=setTimeout(()=>{null!==R&&void 0!==R&&C(R),1===M.queues.length&&y(M.queues[0].id),(async()=>{u.get("/whatsapp",{params:{companyId:N,session:0}}).then(e=>{let{data:a}=e;return T(a)})})(),g(!1)},500);return()=>clearTimeout(e)},[h,d]),Object(n.useEffect)(()=>{if(!t||b.length<3)return void g(!1);g(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contacts",{params:{searchParam:b}});c(e.contacts),g(!1)}catch(e){g(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[b,t]);const q=e=>{switch(e){case"facebook":return o.a.createElement(Gl.a,{style:{color:"#3b5998",verticalAlign:"middle"}});case"instagram":return o.a.createElement(Kl.a,{style:{color:"#e1306c",verticalAlign:"middle"}});case"whatsapp":case"whatsapp_oficial":return o.a.createElement(_l.a,{style:{color:"#25d366",verticalAlign:"middle"}});default:return"error"}},U=()=>{l(),E(""),P(!1),L(""),B(""),f(null)},_=async e=>{if(e)if(""!==v){g(!0);try{const a=""!==v?v:null,t=""!==x?x:null,{data:n}=await u.post("/tickets",{contactId:e,queueId:a,whatsappId:t,userId:M.id,status:"open"});l(n)}catch(n){const e=JSON.parse(n.response.data.error);var a,t;if(e.userId!==(null===M||void 0===M?void 0:M.id))P(!0),L(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.name),B(null===e||void 0===e||null===(t=e.queue)||void 0===t?void 0:t.name);else P(!1),L(""),B(""),g(!1),l(e)}g(!1)}else O.b.error("Selecione uma fila")},Y=(e,a)=>{const t=tr(e,a);return""!==a.inputValue&&!p&&b.length>=3&&t.push({name:"".concat(a.inputValue)}),t},Z=e=>e.number?o.a.createElement(o.a.Fragment,null,q(e.channel),o.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):"".concat(ma.a.t("newTicketModal.add")," ").concat(e.name),$=e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name);return o.a.createElement(o.a.Fragment,null,o.a.createElement(H.a,{open:t,onClose:U},o.a.createElement(Q.a,{id:"form-dialog-title"},ma.a.t("newTicketModal.title")),o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{style:{width:300},container:!0,spacing:2},void 0===r||void 0===r.id?o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Sl.a,{fullWidth:!0,options:s,loading:p,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:$,renderOption:Z,filterOptions:Y,onChange:(e,a)=>{m(a?a.channel:"whatsapp"),((e,a)=>{(null===a||void 0===a?void 0:a.number)?f(a):(null===a||void 0===a?void 0:a.name)&&(w({name:a.name}),I(!0))})(0,a)},renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>E(e.target.value),onKeyPress:e=>{!p&&h&&"Enter"===e.key&&_(h.id)},InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,p?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})):null,o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Wt.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:v,onChange:e=>{y(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===v)return"Selecione uma fila";return M.queues.find(e=>e.id===v).name}},(null===(a=M.queues)||void 0===a?void 0:a.length)>0&&M.queues.map((e,a)=>o.a.createElement(V.a,{dense:!0,key:a,value:e.id},o.a.createElement(J.a,{primary:e.name}))))),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Wt.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:x,onChange:e=>{C(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===x)return"Selecione uma Conex\xe3o";const e=A.find(e=>e.id===x);return null===e||void 0===e?void 0:e.name}},(null===A||void 0===A?void 0:A.length)>0&&A.map((e,a)=>o.a.createElement(V.a,{dense:!0,key:a,value:e.id},o.a.createElement(J.a,{primary:o.a.createElement(o.a.Fragment,null,q(e.channel),o.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," \xa0 ",o.a.createElement("p",{className:"CONNECTED"===e.status?i.online:i.offline},"(",e.status,")")))}))))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:U,color:"secondary",disabled:p,variant:"outlined"},ma.a.t("newTicketModal.buttons.cancel")),o.a.createElement(Ml,{variant:"contained",type:"button",disabled:!h,onClick:()=>_(h.id),color:"primary",loading:p},ma.a.t("newTicketModal.buttons.ok"))),j&&o.a.createElement(Ql,{open:j,initialValues:k,onClose:()=>{I(!1)},onSave:e=>{f(e)}}),D&&o.a.createElement(er,{isOpen:D,handleClose:()=>{P(!1),g(!1),P(!1),L(""),B("")},user:F,queue:W})))},or=t(266),lr=t.n(or),rr=t(159);const ir=Object(rr.a)(e=>({tag:{padding:"1px 5px",borderRadius:"3px",fontSize:"0.8em",fontWeight:"bold",color:"#FFF",marginRight:"5px",whiteSpace:"nowrap"}}));var sr=e=>{let{tag:a}=e;const t=ir();return o.a.createElement("div",{className:t.tag,style:{backgroundColor:a.color,marginTop:"2px"}},a.name.toUpperCase())},cr=t(809),dr=t.n(cr),mr=t(810),ur=t.n(mr);var pr=e=>{let{connectionType:a}=e;return o.a.createElement(o.a.Fragment,null,"whatsapp"===a&&o.a.createElement(ge.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#25D366"}}),"instagram"===a&&o.a.createElement(dr.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#e1306c"}}),"facebook"===a&&o.a.createElement(ur.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#3b5998"}}))};const gr=Object(I.a)(e=>({autoComplete:{width:300},maxWidth:{width:"100%"},buttonColorError:{color:e.palette.error.main,borderColor:e.palette.error.main}}));var br=e=>{let{modalOpen:a,onClose:t,ticketId:l,ticket:r}=e;const i=Object(T.useHistory)(),s=gr(),[c,d]=Object(n.useState)(""),[m,p]=Object(n.useState)(!1),{user:g}=Object(n.useContext)(Ca),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(""),[v,y]=Object(n.useState)(""),{tabOpen:x,setTabOpen:C}=Object(n.useContext)(gt),k=Object(n.useRef)(!0),{get:w}=Da();Object(n.useEffect)(()=>()=>{k.current=!1},[]),Object(n.useEffect)(()=>{try{1===g.queues.length&&k.current&&d(g.queues[0].id)}catch(e){k.current&&p(!1),ga(e)}},[c]);const A=()=>{t(),k.current&&d("")},S=async e=>{k.current&&p(!0);try{const a=await u.put("/tickets/".concat(l),{status:r.isGroup&&"whatsapp"===r.channel?"group":"open",userId:(null===g||void 0===g?void 0:g.id)||null,queueId:e});a.data.id!==r.id?a.data.userId!==(null===g||void 0===g?void 0:g.id)?k.current&&(E(!0),f(a.data.user.name),y(a.data.queue.name)):(k.current&&(p(!1),C(a.isGroup?"group":"open")),i.push("/tickets/".concat(a.data.uuid))):((async e=>{var a;let t,n=!1;try{"enabled"===(await w({column:"sendGreetingAccepted"})).sendGreetingAccepted&&(n=!0)}catch(o){ga(o)}try{t=await w({column:"greetingAcceptedMessage"})}catch(o){ga(o)}if(n&&(!r.isGroup||"enabled"===(null===(a=r.whatsapp)||void 0===a?void 0:a.groupAsTicket))&&"pending"===r.status){const a="".concat(t.greetingAcceptedMessage);if(!t.greetingAcceptedMessage)return void O.b.warning(ma.a.t("messagesList.header.buttons.greetingAcceptedMessage"));const n={read:1,fromMe:!0,mediaUrl:"",body:"".concat(a.trim())};try{await u.post("/messages/".concat(e),n)}catch(o){ga(o)}}})(r.id),k.current&&(p(!1),C(r.isGroup?"group":"open")),i.push("/tickets/".concat(r.uuid)),A())}catch(a){k.current&&p(!1),ga(a)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(H.a,{open:a,onClose:A},o.a.createElement(Q.a,{id:"form-dialog-title"},ma.a.t("ticketsList.acceptModal.title")),o.a.createElement(G.a,{dividers:!0},o.a.createElement(qt.a,{variant:"outlined",className:s.maxWidth},o.a.createElement(Bt.a,null,ma.a.t("ticketsList.acceptModal.queue")),o.a.createElement(Wt.a,{value:c,className:s.autoComplete,onChange:e=>d(e.target.value),label:ma.a.t("ticketsList.acceptModal.queue")},o.a.createElement(V.a,{value:""},"\xa0"),g.queues.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:A,className:s.buttonColorError,disabled:m,variant:"outlined"},ma.a.t("ticketsList.buttons.cancel")),o.a.createElement(Ml,{variant:"contained",type:"button",disabled:""===c,onClick:()=>S(c),color:"primary",loading:m},ma.a.t("ticketsList.buttons.start"))),o.a.createElement(er,{isOpen:b,handleClose:()=>{k.current&&(E(!1),p(!1))},user:h,queue:v})))};var Er=()=>({findAll:async()=>{const{data:e}=await u.get("/queue");return e}});const hr=Object(I.a)(e=>({on:{color:_a.a[600],fontSize:"20px"},off:{color:So.a[600],fontSize:"20px"}}));var fr=e=>{let{user:a}=e;const t=hr();return a&&"undefined"!==typeof a.online?a.online?o.a.createElement(de.a,{title:"Online"},o.a.createElement(Ja.a,{className:t.on})):o.a.createElement(de.a,{title:"Offline"},o.a.createElement(Io.a,{className:t.off})):o.a.createElement(de.a,{title:"Desconhecido"},o.a.createElement(Io.a,{className:t.off}))};const vr=Object(I.a)(e=>({maxWidth:{width:"100%"}})),yr=Object(Ol.a)({trim:!0});var xr=e=>{let{modalOpen:a,onClose:t,ticketid:l,ticket:r}=e;const i=Object(T.useHistory)(),[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)([]),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(""),[v,y]=Object(n.useState)(null),[x,C]=Object(n.useState)(""),{findAll:k}=(vr(),Er()),w=Object(n.useRef)(!0),[A,O]=Object(n.useState)("");Object(n.useEffect)(()=>()=>{w.current=!1},[]),Object(n.useEffect)(()=>{if(w.current){(async()=>{const e=await k();g(e),m(e)})()}},[]),Object(n.useEffect)(()=>{if(!a||h.length<3)return E(!1),void C("");const e=setTimeout(()=>{E(!0);(async()=>{try{const{data:e}=await u.get("/users/",{params:{searchParam:h}});c(e.users),E(!1)}catch(e){E(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[h,a]);const j=()=>{t(),f(""),y(null)};return o.a.createElement(H.a,{open:a,onClose:j,maxWidth:"md",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},ma.a.t("transferTicketModal.title")),o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{item:!0,xs:12,sm:6,xl:6},o.a.createElement(Sl.a,{fullWidth:!0,getOptionLabel:e=>"".concat(e.name),onChange:(e,a)=>{y(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&C(a.queues[0].id),m(a.queues)):(m(p),C(""))},options:s,filterOptions:yr,freeSolo:!0,autoHighlight:!0,noOptionsText:ma.a.t("transferTicketModal.noOptions"),loading:b,renderOption:e=>o.a.createElement("span",null," ",o.a.createElement(fr,{user:e})," ",e.name),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("transferTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>f(e.target.value),InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,b?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})),o.a.createElement(Yt.a,{xs:12,sm:6,xl:6,item:!0},o.a.createElement(qt.a,{variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,null,ma.a.t("transferTicketModal.fieldQueueLabel")),o.a.createElement(Wt.a,{value:x,onChange:e=>C(e.target.value),label:ma.a.t("transferTicketModal.fieldQueuePlaceholder")},d.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{item:!0,xs:12,sm:12,xl:12},o.a.createElement(Ft.a,{label:ma.a.t("transferTicketModal.msgTransfer"),value:A,onChange:e=>{O(e.target.value)},variant:"outlined",multiline:!0,maxRows:5,minRows:5,fullWidth:!0})))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:j,color:"secondary",disabled:b,variant:"outlined"},ma.a.t("transferTicketModal.buttons.cancel")),o.a.createElement(Ml,{variant:"contained",type:"submit",color:"primary",loading:b,disabled:""===x,onClick:()=>(async e=>{if(l&&x&&""!==x){E(!0);try{let e={};e.userId=v?v.id:null,e.status=v?r.isGroup?"group":"open":"pending",e.queueId=x,e.msgTransfer=A||null,e.isTransfered=!0,await u.put("/tickets/".concat(l),e),E(!1),i.push("/tickets/"),j()}catch(a){E(!1),ga(a)}}})()},ma.a.t("transferTicketModal.buttons.ok"))))},Cr=t(1239),kr=t(1418),wr=t(1253),Ar=t(1588);var Tr=e=>{let{open:a,onClose:t,ticket:l,onFinalizar:r}=e;Object(T.useHistory)();const{user:i}=Object(n.useContext)(Ca),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!0),[p,g]=Object(n.useState)(""),[b,E]=Object(n.useState)(""),[h,f]=Object(n.useState)(""),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(!0),[A,S]=Object(n.useState)(!1),[j,I]=Object(n.useState)(null),M=()=>{t(),m(!0),g(""),E(""),f("")};Object(n.useEffect)(()=>{a&&(w(!0),Promise.all([N(),R()]).then(()=>w(!1)))},[a]);const N=async()=>{try{const{data:e}=await u.get("/ticketFinalizationReasons");y(e)}catch(e){console.error("Erro ao buscar motivos de finaliza\xe7\xe3o:",e)}},R=async()=>{try{const{data:e}=await u.get("/companySettings");C(e.informarValorVenda||!1)}catch(e){console.error("Erro ao buscar configura\xe7\xf5es da empresa:",e)}};return o.a.createElement(H.a,{open:a,onClose:M,maxWidth:"sm",fullWidth:!0},o.a.createElement(Q.a,null,"Finaliza\xe7\xe3o de Atendimento - Valor de Venda"),k?o.a.createElement(G.a,null,o.a.createElement(z.a,null,"Carregando configura\xe7\xf5es...")):o.a.createElement(G.a,null,o.a.createElement(Yt.a,{container:!0,spacing:2},x?o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(qt.a,{component:"fieldset"},o.a.createElement(Cr.a,{component:"legend"},"A venda foi conclu\xedda?"),o.a.createElement(kr.a,{value:d,onChange:e=>m("true"===e.target.value)},o.a.createElement(wr.a,{value:!0,control:o.a.createElement(Ar.a,null),label:"Sim, venda conclu\xedda"}),o.a.createElement(wr.a,{value:!1,control:o.a.createElement(Ar.a,null),label:"N\xe3o, venda n\xe3o conclu\xedda"})))),d?o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Ft.a,{label:"Valor da Venda (R$)",type:"number",value:p,onChange:e=>g(e.target.value),fullWidth:!0,variant:"outlined",margin:"dense",inputProps:{step:"0.01",min:"0"},placeholder:"0,00"})):o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(qt.a,{fullWidth:!0,variant:"outlined",margin:"dense",required:!0},o.a.createElement(Bt.a,null,"Motivo da N\xe3o Venda *"),o.a.createElement(Wt.a,{value:b,onChange:e=>E(e.target.value),label:"Motivo da N\xe3o Venda *"},o.a.createElement(V.a,{value:""},o.a.createElement("em",null,"Selecione um motivo")),v.map(e=>o.a.createElement(V.a,{key:e.id,value:e.name},e.name)))))):o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(qt.a,{fullWidth:!0,variant:"outlined",margin:"dense",required:!0},o.a.createElement(Bt.a,null,"Motivo da Finaliza\xe7\xe3o *"),o.a.createElement(Wt.a,{value:h,onChange:e=>f(e.target.value),label:"Motivo da Finaliza\xe7\xe3o *"},o.a.createElement(V.a,{value:""},o.a.createElement("em",null,"Selecione um motivo")),v.map(e=>o.a.createElement(V.a,{key:e.id,value:e.name},e.name))))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:M,color:"secondary",disabled:s},"Cancelar"),o.a.createElement(K.a,{onClick:async()=>{if(x){if(d){if(!p)return void O.b.error("Por favor, informe o valor da venda.")}else if(!b)return void O.b.error("Por favor, selecione o motivo da n\xe3o venda.")}else if(!h)return void O.b.error("Por favor, selecione o motivo da finaliza\xe7\xe3o.");const e={status:"closed",userId:(null===i||void 0===i?void 0:i.id)||null};x?(e.finalizadoComVenda=d,d?(e.valorVenda=parseFloat(p),e.motivoNaoVenda=null,e.motivoFinalizacao=null):(e.valorVenda=null,e.motivoNaoVenda=b,e.motivoFinalizacao=null)):(e.finalizadoComVenda=null,e.valorVenda=null,e.motivoNaoVenda=null,e.motivoFinalizacao=h),r&&r(e),M()},color:"primary",variant:"contained",disabled:s||k},s?"Finalizando...":"Finalizar Atendimento")))},Or=t(1420),Sr=t(1421),jr=t(1422),Ir=t(1423),Mr=t(1419);const Nr=Object(I.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},queueTag:{background:"#FCFCFC",color:"#000",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.5em",whiteSpace:"nowrap"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},newMessagesCount:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:0,color:"green",fontWeight:"bold",marginRight:"10px",borderRadius:0},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.6em"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between",marginLeft:"5px",fontWeight:"bold",color:"light"===e.mode?"black":"white"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-30,marginRight:"1px",color:"light"===e.mode?"black":So.a[400]},lastMessageTimeUnread:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-30,color:"green",fontWeight:"bold",marginRight:"1px"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:"0%",marginLeft:"5px",color:"light"===e.mode?"black":So.a[400]},contactLastMessageUnread:{paddingRight:20,fontWeight:"bold",color:"light"===e.mode?"black":So.a[400],width:"50%"},badgeStyle:{color:"white",backgroundColor:_a.a[500]},acceptButton:{position:"absolute",right:"1px"},ticketQueueColor:{flex:"none",height:"100%",position:"absolute",top:"0%",left:"0%"},ticketInfo:{position:"relative",top:-13},secondaryContentSecond:{display:"flex",alignItems:"flex-start",flexWrap:"nowrap",flexDirection:"row",alignContent:"flex-start"},ticketInfo1:{position:"relative",top:13,right:0},Radiusdot:{"& .MuiBadge-badge":{borderRadius:2,position:"inherit",height:16,margin:2,padding:3},"& .MuiBadge-anchorOriginTopRightRectangle":{transform:"scale(1) translate(0%, -40%)"}},connectionIcon:{marginRight:e.spacing(1)},imageModal:{display:"flex",alignItems:"center",justifyContent:"center"},imageModalContent:{outline:"none",maxWidth:"90vw",maxHeight:"90vh"},expandedImage:{width:"100%",height:"auto",maxWidth:"500px",borderRadius:e.spacing(1)},clickableAvatar:{cursor:"pointer","&:hover":{opacity:.8}}}));var Rr=e=>{var a,t,l,r,i,s,c,d,m,p,g,b;let{setTabOpen:E,ticket:h}=e;const f=Nr(),v=Object(D.a)(),y=Object(T.useHistory)(),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(!1),[A,I]=Object(n.useState)(!1),[M,P]=Object(n.useState)(!1),[F,L]=Object(n.useState)(""),[W,B]=Object(n.useState)(""),[q,U]=Object(n.useState)(!1),[V,Z]=Object(n.useState)(null),[$,ee]=Object(n.useState)(null),[ae,te]=Object(n.useState)(!1),[ne,oe]=Object(n.useState)(!1),{ticketId:le}=Object(T.useParams)(),re=Object(n.useRef)(!0),{setCurrentTicket:ie}=Object(n.useContext)(gt),{user:se}=Object(n.useContext)(Ca),{get:ce}=Da();Object(n.useEffect)(()=>()=>{re.current=!1},[]);const me=Object(n.useCallback)(()=>{w(!0)},[]),ue=(e,a)=>{if(!Object(da.isNil)(e))return e.length>a?e.substring(0,a)+"...":e},pe=Object(n.useCallback)(()=>{re.current&&I(!1)},[]),ge=async e=>{C(!0);try{const n=await u.put("/tickets/".concat(e),{status:h.isGroup&&"whatsapp"===h.channel?"group":"open",userId:null===se||void 0===se?void 0:se.id});if(n.data.id!==h.id)n.data.userId!==(null===se||void 0===se?void 0:se.id)?(P(!0),L(n.data.user.name),B(n.data.queue.name)):(C(!1),E(h.isGroup?"group":"open"),he(n.data),y.push("/tickets/".concat(n.uuid)));else{var a;let e;try{e=await ce({column:"sendGreetingAccepted"})}catch(t){ga(t)}"enabled"!==e.sendGreetingAccepted||h.isGroup&&"enabled"!==(null===(a=h.whatsapp)||void 0===a?void 0:a.groupAsTicket)||be(h.id),re.current&&C(!1),E(h.isGroup?"group":"open"),he(h),y.push("/tickets/".concat(h.uuid))}}catch(t){C(!1),ga(t)}},be=async e=>{let a;try{a=await ce({column:"greetingAcceptedMessage"})}catch(o){ga(o)}if(!a.greetingAcceptedMessage)return void O.b.warning(ma.a.t("messagesList.header.buttons.greetingAcceptedMessage"));const t="".concat(a.greetingAcceptedMessage),n={read:1,fromMe:!0,mediaUrl:"",body:"".concat(t.trim())};try{await u.post("/messages/".concat(e),n)}catch(o){ga(o)}},Ee=Object(n.useCallback)(()=>{P(!1),C(!1)},[]),he=e=>{const a=Object(Ka.a)(),{id:t,uuid:n}=e;ie({id:t,uuid:n,code:a})},fe=async(e,a,t)=>{try{await u.put("/tickets/".concat(h.id),Object(S.a)(Object(S.a)({},e),{},{sendFarewellMessage:a,finalizacaoMessage:t})),O.b.success("Ticket finalizado com sucesso!"),y.push("/tickets/")}catch(n){ga(n)}},ve="pending"===h.status&&"disabled"===(null===se||void 0===se?void 0:se.allowSeeMessagesInPendingTickets);return o.a.createElement(o.a.Fragment,{key:h.id},M&&o.a.createElement(er,{isOpen:M,handleClose:Ee,user:F,queue:W}),k&&o.a.createElement(br,{modalOpen:k,onClose:e=>w(!1),ticketId:h.id,ticket:h}),A&&o.a.createElement(xr,{modalOpen:A,onClose:pe,ticketid:h.id,ticket:h}),o.a.createElement(_.a,{button:!0,dense:!0,onClick:e=>{console.log("e",e);"input"===e.target.tagName.toLowerCase()&&"checkbox"===e.target.type||"svg"===e.target.tagName.toLowerCase()&&void 0===e.target.type||"path"===e.target.tagName.toLowerCase()&&void 0===e.target.type||he(h)},selected:le&&le===h.uuid,className:Object(j.a)(f.ticket,{[f.pendingTicket]:"pending"===h.status})},o.a.createElement(Y.a,{style:{marginLeft:"-15px"}},o.a.createElement(R.a,{style:{width:"50px",height:"50px",borderRadius:"50%"},src:"".concat(null===h||void 0===h||null===(a=h.contact)||void 0===a?void 0:a.urlPicture),className:f.clickableAvatar,onClick:e=>{var a;e.stopPropagation(),(null===h||void 0===h||null===(a=h.contact)||void 0===a?void 0:a.urlPicture)&&oe(!0)}})),o.a.createElement(J.a,{disableTypography:!0,primary:o.a.createElement("span",{className:f.contactNameWrapper},o.a.createElement(z.a,{noWrap:!0,component:"span",variant:"body2"},h.isGroup&&"whatsapp"===h.channel&&o.a.createElement(lr.a,{fontSize:"small",style:{color:So.a[700],marginBottom:"-1px",marginLeft:"5px"}})," ","\xa0",h.channel&&o.a.createElement(pr,{width:"20",height:"20",className:f.connectionIcon,connectionType:h.channel})," ","\xa0",ue(null===(t=h.contact)||void 0===t?void 0:t.name,60))),secondary:o.a.createElement("span",{className:f.contactNameWrapper},o.a.createElement(z.a,{className:Number(h.unreadMessages)>0?f.contactLastMessageUnread:f.contactLastMessage,noWrap:!0,component:"span",variant:"body2"},ve?o.a.createElement(it,null,ma.a.t("tickets.messageHidden")||"Mensagem oculta"):h.lastMessage?h.lastMessage.includes("data:image/png;base64")?o.a.createElement(it,null,"Localiza\xe7\xe3o"):h.lastMessage.includes("BEGIN:VCARD")?o.a.createElement(it,null,"Contato"):o.a.createElement(it,null,ue(h.lastMessage,40)):o.a.createElement("br",null),o.a.createElement("span",{className:f.secondaryContentSecond},(null===h||void 0===h?void 0:h.whatsapp)?o.a.createElement(N.a,{className:f.connectionTag,style:{backgroundColor:"whatsapp"===h.channel?(null===(l=h.whatsapp)||void 0===l?void 0:l.color)||"#25D366":"facebook"===h.channel?"#4267B2":"#E1306C"}},null===(r=h.whatsapp)||void 0===r?void 0:r.name.toUpperCase()):o.a.createElement("br",null),o.a.createElement(N.a,{style:{backgroundColor:(null===(i=h.queue)||void 0===i?void 0:i.color)||"#7c7c7c"},className:f.connectionTag},h.queueId?null===(s=h.queue)||void 0===s?void 0:s.name.toUpperCase():"lgpd"===h.status?"LGPD":"".concat(ma.a.t("momentsUser.noqueue"))),(null===h||void 0===h?void 0:h.user)&&o.a.createElement(N.a,{style:{backgroundColor:"#000000"},className:f.connectionTag},null===(c=h.user)||void 0===c?void 0:c.name.toUpperCase())),o.a.createElement("span",{className:f.secondaryContentSecond},null===h||void 0===h||null===(d=h.contact)||void 0===d||null===(m=d.tags)||void 0===m?void 0:m.map(e=>o.a.createElement(sr,{tag:e,key:"ticket-contact-tag-".concat(h.id,"-").concat(e.id)}))),o.a.createElement("span",{className:f.secondaryContentSecond},null===(p=h.tags)||void 0===p?void 0:p.map(e=>o.a.createElement(sr,{tag:e,key:"ticket-contact-tag-".concat(h.id,"-").concat(e.id)})))),o.a.createElement(N.a,{className:f.newMessagesCount,badgeContent:ve?"?":h.unreadMessages,classes:{badge:f.badgeStyle}}))}),o.a.createElement(Mr.a,null,h.lastMessage&&o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{className:Number(h.unreadMessages)>0?f.lastMessageTimeUnread:f.lastMessageTime,component:"span",variant:"body2"},Object(Ha.a)(Object(Qa.a)(h.updatedAt),new Date)?o.a.createElement(o.a.Fragment,null,Object(Ba.a)(Object(Qa.a)(h.updatedAt),"HH:mm")):o.a.createElement(o.a.Fragment,null,Object(Ba.a)(Object(Qa.a)(h.updatedAt),"dd/MM/yyyy"))),o.a.createElement("br",null))),o.a.createElement(Mr.a,null,"chatbot"===h.status&&o.a.createElement("span",{className:f.secondaryContentSecond},o.a.createElement(Ml,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===v.mode?"blue":"#FFF",padding:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:f.acceptButton,size:"small",loading:x,onClick:e=>{e.stopPropagation(),he(h),y.push("/tickets/".concat(h.uuid))}},o.a.createElement(de.a,{title:"Espiar conversa do chatbot"},o.a.createElement(yl.a,null)))),"chatbot"!==h.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:f.secondaryContentSecond},"pending"===h.status&&(null===h.queueId||void 0===h.queueId)&&o.a.createElement(Ml,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===v.mode?"green":"#FFF",padding:"0px",borderRadius:"50%",right:"51px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:f.acceptButton,size:"small",loading:x,onClick:e=>me()},o.a.createElement(de.a,{title:"".concat(ma.a.t("ticketsList.buttons.accept"))},o.a.createElement(Or.a,null)))),o.a.createElement("span",{className:f.secondaryContentSecond},"pending"===h.status&&null!==h.queueId&&o.a.createElement(Ml,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===v.mode?"green":"#FFF",padding:"0px",borderRadius:"50%",right:"51px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:f.acceptButton,size:"small",loading:x,onClick:e=>ge(h.id)},o.a.createElement(de.a,{title:"".concat(ma.a.t("ticketsList.buttons.accept"))},o.a.createElement(Or.a,null)))),o.a.createElement("span",{className:f.secondaryContentSecond1},("pending"===h.status||"open"===h.status||"group"===h.status)&&o.a.createElement(Ml,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===v.mode?"purple":"#FFF",padding:"0px",borderRadius:"50%",right:"26px",position:"absolute",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:f.acceptButton,size:"small",loading:x,onClick:()=>{C(!0),I(!0),re.current&&C(!1),he(h),y.push("/tickets/".concat(h.uuid))}},o.a.createElement(de.a,{title:"".concat(ma.a.t("ticketsList.buttons.transfer"))},o.a.createElement(Sr.a,null)))),o.a.createElement("span",{className:f.secondaryContentSecond},("open"===h.status||"group"===h.status)&&o.a.createElement(Ml,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===v.mode?"red":"#FFF",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:f.acceptButton,size:"small",loading:x,onClick:e=>(async e=>{if(!0===se.finalizacaoComValorVendaAtiva||"true"===se.finalizacaoComValorVendaAtiva)Z("comDespedida"),U(!0),he(h),y.push("/tickets/".concat(h.uuid));else{if("enabled"===(await ce({column:"requiredTag"})).requiredTag)try{(await u.get("/contactTags/".concat(h.contact.id))).data.tags?(await u.put("/tickets/".concat(e),{status:"closed",userId:(null===se||void 0===se?void 0:se.id)||null}),re.current&&C(!1),y.push("/tickets/")):O.b.warning(ma.a.t("messagesList.header.buttons.requiredTag"))}catch(a){C(!1),ga(a)}else{C(!0);try{await u.put("/tickets/".concat(e),{status:"closed",userId:(null===se||void 0===se?void 0:se.id)||null})}catch(a){C(!1),ga(a)}re.current&&C(!1),y.push("/tickets/")}}})(h.id)},o.a.createElement(de.a,{title:"".concat(ma.a.t("ticketsList.buttons.closed"))},o.a.createElement(jr.a,null)))),o.a.createElement("span",{className:f.secondaryContentSecond},("pending"===h.status||"lgpd"===h.status)&&("enabled"===se.userClosePendingTicket||"admin"===se.profile)&&o.a.createElement(Ml,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===v.mode?"red":"#FFF",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:f.acceptButton,size:"small",loading:x,onClick:e=>(async e=>{C(!0);try{await u.put("/tickets/".concat(e),{status:"closed",userId:(null===se||void 0===se?void 0:se.id)||null,sendFarewellMessage:!1,amountUsedBotQueues:0})}catch(a){C(!1),ga(a)}re.current&&C(!1),y.push("/tickets/")})(h.id)},o.a.createElement(de.a,{title:"".concat(ma.a.t("ticketsList.buttons.ignore"))},o.a.createElement(jr.a,null)))),o.a.createElement("span",{className:f.secondaryContentSecond},"closed"===h.status&&(null===h.queueId||void 0===h.queueId)&&o.a.createElement(Ml,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===v.mode?"orange":"#FFF",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:f.acceptButton,size:"small",loading:x,onClick:e=>me()},o.a.createElement(de.a,{title:"".concat(ma.a.t("ticketsList.buttons.reopen"))},o.a.createElement(Ir.a,null)))),o.a.createElement("span",{className:f.secondaryContentSecond},"closed"===h.status&&null!==h.queueId&&o.a.createElement(Ml,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===v.mode?"orange":"#FFF",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:f.acceptButton,size:"small",loading:x,onClick:e=>ge(h.id)},o.a.createElement(de.a,{title:"".concat(ma.a.t("ticketsList.buttons.reopen"))},o.a.createElement(Ir.a,null))))))),q&&o.a.createElement(Tr,{open:q,onClose:()=>U(!1),ticket:h,onFinalizar:e=>{U(!1),ee(e),te(!0)}}),ae&&o.a.createElement(H.a,{open:ae,onClose:()=>te(!1),"aria-labelledby":"finalizacao-options-title"},o.a.createElement(Q.a,{id:"finalizacao-options-title"},"Como deseja finalizar?"),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:async()=>{te(!1),await fe($,!1,null)},style:{background:v.palette.primary.main,color:"white"}},ma.a.t("messagesList.header.dialogRatingWithoutFarewellMsg")),o.a.createElement(K.a,{onClick:async()=>{te(!1),await fe($,!0,null)},style:{background:v.palette.primary.main,color:"white"}},ma.a.t("messagesList.header.dialogRatingCancel")))),o.a.createElement(H.a,{open:ne,onClose:()=>{oe(!1)},className:f.imageModal,maxWidth:"md",fullWidth:!0},o.a.createElement(G.a,{className:f.imageModalContent},o.a.createElement("img",{src:null===h||void 0===h||null===(g=h.contact)||void 0===g?void 0:g.urlPicture,alt:(null===h||void 0===h||null===(b=h.contact)||void 0===b?void 0:b.name)||"Foto do contato",className:f.expandedImage}))))};var Dr=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{dense:!0},o.a.createElement(Y.a,null,o.a.createElement(Oo.a,{animation:"wave",variant:"circle",width:40,height:40})),o.a.createElement(J.a,{primary:o.a.createElement(Oo.a,{animation:"wave",height:20,width:60}),secondary:o.a.createElement(Oo.a,{animation:"wave",height:20,width:90})})),o.a.createElement(W.a,{variant:"inset"}),o.a.createElement(_.a,{dense:!0},o.a.createElement(Y.a,null,o.a.createElement(Oo.a,{animation:"wave",variant:"circle",width:40,height:40})),o.a.createElement(J.a,{primary:o.a.createElement(Oo.a,{animation:"wave",height:20,width:70}),secondary:o.a.createElement(Oo.a,{animation:"wave",height:20,width:120})})),o.a.createElement(W.a,{variant:"inset"}),o.a.createElement(_.a,{dense:!0},o.a.createElement(Y.a,null,o.a.createElement(Oo.a,{animation:"wave",variant:"circle",width:40,height:40})),o.a.createElement(J.a,{primary:o.a.createElement(Oo.a,{animation:"wave",height:20,width:60}),secondary:o.a.createElement(Oo.a,{animation:"wave",height:20,width:90})})),o.a.createElement(W.a,{variant:"inset"}));const Pr=Object(I.a)(e=>({ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:Object(S.a)(Object(S.a)({flex:1,maxHeight:"100%",overflowY:"scroll"},e.scrollbarStyles),{},{borderTop:"2px solid rgba(0, 0, 0, 0.12)"}),ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}})),Fr=(e,a)=>e.updatedAt<a.updatedAt?-1:e.updatedAt>a.updatedAt?1:0,Lr=(e,a)=>e.updatedAt>a.updatedAt?-1:e.updatedAt<a.updatedAt?1:0,Wr=(e,a)=>{const t=a.sortDir;if("LOAD_TICKETS"===a.type){return a.payload.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?(e[t]=a,a.unreadMessages>0&&e.unshift(e.splice(t,1)[0])):e.push(a)}),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Fr):e.sort(Lr)),[...e]}if("RESET_UNREAD"===a.type){const n=a.payload,o=e.findIndex(e=>e.id===n);return-1!==o&&(e[o].unreadMessages=0),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Fr):e.sort(Lr)),[...e]}if("UPDATE_TICKET"===a.type){const n=a.payload,o=e.findIndex(e=>e.id===n.id);return-1!==o?e[o]=n:e.unshift(n),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Fr):e.sort(Lr)),[...e]}if("UPDATE_TICKET_UNREAD_MESSAGES"===a.type){const n=a.payload,o=e.findIndex(e=>e.id===n.id);return-1!==o?(e[o]=n,e.unshift(e.splice(o,1)[0])):a.status===a.payload.status&&e.unshift(n),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Fr):e.sort(Lr)),[...e]}if("UPDATE_TICKET_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.contactId===t.id);return-1!==n&&(e[n].contact=t),[...e]}if("DELETE_TICKET"===a.type){const n=a.payload,o=e.findIndex(e=>e.id===n);return-1!==o&&e.splice(o,1),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Fr):e.sort(Lr)),[...e]}if("RESET"===a.type)return[]};var Br=e=>{const{setTabOpen:a,status:t,searchParam:l,searchOnMessages:r,tags:i,users:s,showAll:c,selectedQueueIds:d,updateCount:m,style:u,whatsappIds:p,forceSearch:g,statusFilter:b,userFilter:E,sortTickets:h}=e,f=Pr(),[v,y]=Object(n.useState)(1);let[x,C]=Object(n.useReducer)(Wr,[]);const{user:k,socket:w}=Object(n.useContext)(Ca),{profile:A,queues:T}=k,O="enable"===k.allTicket,S=k.companyId;Object(n.useEffect)(()=>{C({type:"RESET"}),y(1)},[t,l,C,c,i,s,g,d,p,b,h,r]);const{tickets:j,hasMore:I,loading:M}=yt({pageNumber:v,searchParam:l,status:t,showAll:c,searchOnMessages:r?"true":"false",tags:JSON.stringify(i),users:JSON.stringify(s),queueIds:JSON.stringify(d),whatsappIds:JSON.stringify(p),statusFilter:JSON.stringify(b),userFilter:E,sortTickets:h});Object(n.useEffect)(()=>{S&&C({type:"LOAD_TICKETS",payload:j,status:t,sortDir:h})},[j]),Object(n.useEffect)(()=>{const e=e=>(!(null===e||void 0===e?void 0:e.userId)||(null===e||void 0===e?void 0:e.userId)===(null===k||void 0===k?void 0:k.id)||c)&&(!(null===e||void 0===e?void 0:e.queueId)&&O||d.indexOf(null===e||void 0===e?void 0:e.queueId)>-1),a=a=>{var n,o;("updateUnread"===a.action&&C({type:"RESET_UNREAD",payload:a.ticketId,status:t,sortDir:h}),"update"===a.action&&e(a.ticket)&&a.ticket.status===t&&C({type:"UPDATE_TICKET",payload:a.ticket,status:t,sortDir:h}),"update"===a.action&&((o=a.ticket).queueId&&-1===d.indexOf(o.queueId)))&&C({type:"DELETE_TICKET",payload:null===(n=a.ticket)||void 0===n?void 0:n.id,status:t,sortDir:h});"delete"===a.action&&C({type:"DELETE_TICKET",payload:null===a||void 0===a?void 0:a.ticketId,status:t,sortDir:h})},n=a=>{"create"===a.action&&e(a.ticket)&&a.ticket.status===t&&C({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:a.ticket,status:t,sortDir:h})},o=e=>{"update"===e.action&&e.contact&&C({type:"UPDATE_TICKET_CONTACT",payload:e.contact,status:t,sortDir:h})},l=()=>{t?w.emit("joinTickets",t):w.emit("joinNotification")};return w.on("connect",l),w.on("company-".concat(S,"-ticket"),a),w.on("company-".concat(S,"-appMessage"),n),w.on("company-".concat(S,"-contact"),o),()=>{t?w.emit("leaveTickets",t):w.emit("leaveNotification"),w.off("connect",l),w.off("company-".concat(S,"-ticket"),a),w.off("company-".concat(S,"-appMessage"),n),w.off("company-".concat(S,"-contact"),o)}},[t,c,k,d,i,s,A,T,h,O]),Object(n.useEffect)(()=>{"function"===typeof m&&m(x.length)},[x]);return t&&"search"!==t&&(x=x.filter(e=>e.status===t)),o.a.createElement(Gt.a,{className:f.ticketsListWrapper,style:u},o.a.createElement(Gt.a,{square:!0,name:"closed",elevation:0,className:f.ticketsList,onScroll:e=>{if(!I||M)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&y(e=>e+1)}},o.a.createElement(L.a,{style:{paddingTop:0}},0!==x.length||M?o.a.createElement(o.a.Fragment,null,x.map(e=>o.a.createElement(Rr,{ticket:e,key:e.id,setTabOpen:a}))):o.a.createElement("div",{className:f.noTicketsDiv},o.a.createElement("span",{className:f.noTicketsTitle},ma.a.t("ticketsList.noTicketsTitle")),o.a.createElement("p",{className:f.noTicketsText},ma.a.t("ticketsList.noTicketsMessage"))),M&&o.a.createElement(Dr,null))))},qr=t(910);const zr=Object(I.a)(e=>({menuListItem:{paddingTop:0,paddingBottom:0},menuItem:{maxHeight:30},queueSelectContainer:{minWidth:120,maxWidth:200,width:"100%",marginTop:-4,[e.breakpoints.down("sm")]:{minWidth:100,maxWidth:150}}}));var Ur=e=>{let{userQueues:a,selectedQueueIds:t=[],onChange:n}=e;const l=zr();return o.a.createElement("div",{className:l.queueSelectContainer},o.a.createElement(qt.a,{fullWidth:!0,margin:"dense"},o.a.createElement(Wt.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:t,onChange:e=>{n(e.target.value)},style:{borderRadius:8,height:30},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,PaperProps:{style:{borderRadius:"0 0 8px 8px"}},MenuListProps:{className:l.menuListItem}},renderValue:()=>ma.a.t("ticketsQueueSelect.placeholder")},(null===a||void 0===a?void 0:a.length)>0&&a.map(e=>o.a.createElement(V.a,{dense:!0,key:e.id,value:e.id,className:l.menuItem},o.a.createElement(qr.a,{style:{color:e.color},size:"small",color:"primary",checked:t.indexOf(e.id)>-1}),o.a.createElement(J.a,{primary:e.name,classes:{primary:l.listItemText}}))))))};function Vr(e){let{onFiltered:a}=e;const[t,l]=Object(n.useState)([]),[r,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await s()}()},[]);const s=async()=>{try{const{data:e}=await u.get("/tags/list");l(e)}catch(e){ga(e)}};return o.a.createElement(tn.a,{style:{padding:10}},o.a.createElement(Sl.a,{multiple:!0,size:"small",options:t,value:r,onChange:(e,t,n)=>(async e=>{i(e),a(e)})(t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(Vt.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Tags"}))}))}function Hr(e){let{onFiltered:a,initialUsers:t}=e;const[l,r]=Object(n.useState)([]),[i,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await c()}()},[]),Object(n.useEffect)(()=>{s([]),Array.isArray(t)&&Array.isArray(l)&&l.length>0&&d(t)},[t,l]);const c=async()=>{try{const{data:e}=await u.get("/users/list"),a=e.map(e=>({id:e.id,name:e.name}));r(a)}catch(e){ga(e)}},d=async e=>{s(e),a(e)};return o.a.createElement(tn.a,{style:{padding:"0px 10px 10px"}},o.a.createElement(Sl.a,{multiple:!0,size:"small",options:l,value:i,onChange:(e,a,t)=>d(a),getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===a||void 0===a?void 0:a.name.toLowerCase()),renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(Vt.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{variant:"outlined",placeholder:ma.a.t("tickets.search.filterUsers")}))}))}function Qr(e){let{onFiltered:a}=e;const[t,l]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){}()},[]);const r=[{status:"open",name:"".concat(ma.a.t("tickets.search.filterConectionsOptions.open"))},{status:"closed",name:"".concat(ma.a.t("tickets.search.filterConectionsOptions.closed"))},{status:"pending",name:"".concat(ma.a.t("tickets.search.filterConectionsOptions.pending"))},{status:"group",name:"Grupos"}];return o.a.createElement(tn.a,{style:{padding:"0px 10px 10px"}},o.a.createElement(Sl.a,{multiple:!0,size:"small",options:r,value:t,onChange:(e,t,n)=>(async e=>{l(e),a(e)})(t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(Vt.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{variant:"outlined",placeholder:ma.a.t("statusFilter.statusFilter")}))}))}function Gr(e){let{onFiltered:a,initialWhatsapps:t}=e;const[l,r]=Object(n.useState)([]),[i,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await c()}()},[]),Object(n.useEffect)(()=>{s([]),Array.isArray(t)&&Array.isArray(l)&&l.length>0&&d(t)},[t,l]);const c=async()=>{try{const{data:e}=await u.get("/whatsapp"),a=e.map(e=>({id:e.id,name:e.name,channel:e.channel}));r(a)}catch(e){ga(e)}},d=async e=>{s(e),a(e)};return o.a.createElement(tn.a,{style:{padding:"0px 10px 10px"}},o.a.createElement(Sl.a,{multiple:!0,size:"small",options:l,value:i,onChange:(e,a,t)=>d(a),getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===a||void 0===a?void 0:a.name.toLowerCase()),renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(Vt.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{variant:"outlined",placeholder:ma.a.t("tickets.search.filterConections")}))}))}var Kr=t(1608);const _r=Object(n.createContext)(),Yr=e=>{let{children:a}=e;const[t,l]=Object(n.useState)([]);return o.a.createElement(_r.Provider,{value:{selectedQueuesMessage:t,setSelectedQueuesMessage:l}},a)},Jr=Object(I.a)(e=>({ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{minWidth:"auto",width:"auto",borderRadius:8,marginTop:e.spacing(.5),marginBottom:e.spacing(.5),marginLeft:e.spacing(.5),marginRight:e.spacing(.5)},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:e.spacing(1)},tab:{minWidth:"auto",width:"auto",padding:e.spacing(.5,1),borderRadius:8,transition:"0.3s",borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing(.5),marginLeft:e.spacing(.5),[e.breakpoints.down("lg")]:{fontSize:"0.9rem",padding:e.spacing(.4,.8),marginRight:e.spacing(.4),marginLeft:e.spacing(.4)},[e.breakpoints.down("md")]:{fontSize:"0.75rem",padding:e.spacing(.25,.5),marginRight:e.spacing(.25),marginLeft:e.spacing(.25)},"@media (max-width: 1366px)":{fontSize:"0.8rem",padding:e.spacing(.3,.6),marginRight:e.spacing(.3),marginLeft:e.spacing(.3)},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},tabPanelItem:{minWidth:"33%",fontSize:11,marginLeft:0,[e.breakpoints.down("sm")]:{minWidth:"30%",fontSize:9,padding:e.spacing(.5)},[e.breakpoints.down("xs")]:{minWidth:"28%",fontSize:8}},tabIndicator:{height:6,bottom:0,borderRadius:"0 0 8px 8px",backgroundColor:"light"===e.mode?e.palette.primary.main:"#FFF"},tabsBadge:{top:"105%",right:"55%",transform:"translate(45%, 0)",whiteSpace:"nowrap",borderRadius:"12px",padding:"0 8px",backgroundColor:"light"===e.mode?e.palette.primary.main:"#FFF",color:"light"===e.mode?"#FFF":e.palette.primary.main},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:e.palette.optionsBackground,borderRadius:8,borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginTop:e.spacing(.5),marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),padding:e.spacing(.5)},serachInputWrapper:{flex:1,height:40,background:e.palette.total,display:"flex",borderRadius:40,padding:4,borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginTop:e.spacing(.5),marginBottom:e.spacing(.5),marginLeft:e.spacing(.5),marginRight:e.spacing(.5)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{},customBadge:{right:"-10px",backgroundColor:"#f44336",color:"#fff"},show:{display:"block"},hide:{display:"none !important"},closeAllFab:{backgroundColor:"red",marginBottom:"4px","&:hover":{backgroundColor:"darkred"}},speedDial:{position:"absolute",bottom:e.spacing(1),right:e.spacing(1),"& .MuiFab-root":{width:"40px",height:"40px",marginTop:"4px"},"& .MuiFab-label":{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},snackbar:{display:"flex",justifyContent:"space-between",backgroundColor:e.palette.primary.main,color:"white",borderRadius:30,[e.breakpoints.down("sm")]:{fontSize:"0.8em"},[e.breakpoints.up("md")]:{fontSize:"1em"}},yesButton:{backgroundColor:"#FFF",color:"rgba(0, 100, 0, 1)",padding:"4px 4px",fontSize:"1em",fontWeight:"bold",textTransform:"uppercase",marginRight:e.spacing(1),"&:hover":{backgroundColor:"darkGreen",color:"#FFF"},borderRadius:30},noButton:{backgroundColor:"#FFF",color:"rgba(139, 0, 0, 1)",padding:"4px 4px",fontSize:"1em",fontWeight:"bold",textTransform:"uppercase","&:hover":{backgroundColor:"darkRed",color:"#FFF"},borderRadius:30},filterIcon:{marginRight:6,alignSelf:"center",color:"light"===e.mode?"#0872b9":"#FFF",cursor:"pointer"},button:{height:30,width:30,border:"2px solid",borderColor:"#aaa",borderRadius:8,marginRight:8,"&:hover":{borderColor:"light"===e.mode?e.palette.primary.main:"#FFF"}},icon:{color:"#aaa","&:hover":{color:"light"===e.mode?e.palette.primary.main:"#FFF"}},buttonOpen:{"& $icon":{color:"light"===e.mode?e.palette.primary.main:"#FFF"}},standardButton:{height:30,width:30,border:"2px solid #aaa",borderRadius:8,marginRight:8,padding:0,minWidth:"auto","&:hover":{borderColor:"light"===e.mode?e.palette.primary.main:"#FFF"},[e.breakpoints.down("sm")]:{height:28,width:28,marginRight:6},"@media (max-width: 1366px)":{height:28,width:28,marginRight:6}},activeButton:{borderColor:"light"===e.mode?e.palette.primary.main:"#FFF",borderWidth:"3px"},standardIcon:{color:"#aaa",fontSize:18,"&:hover":{color:"light"===e.mode?e.palette.primary.main:"#FFF"},[e.breakpoints.down("sm")]:{fontSize:16}},activeIcon:{color:"light"===e.mode?e.palette.primary.main:"#FFF"}}));var Xr=()=>{Object(D.a)();const e=Jr(),a=Object(T.useHistory)(),[t,l]=Object(n.useState)(""),[r,i]=Object(n.useState)("open"),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),b=Object(n.useRef)(),[E,h]=Object(n.useState)(!1),{user:f}=Object(n.useContext)(Ca),{profile:v}=f,{setSelectedQueuesMessage:y}=Object(n.useContext)(_r),{tabOpen:x,setTabOpen:C}=Object(n.useContext)(gt),[k,w]=Object(n.useState)(0),[A,O]=Object(n.useState)(0),[S,j]=Object(n.useState)(0),I=f.queues.map(e=>e.id),[M,R]=Object(n.useState)(I||[]),[P,L]=Object(n.useState)([]),[W,B]=Object(n.useState)([]),[q,U]=Object(n.useState)([]),[V,H]=Object(n.useState)(!1),[Q,G]=Object(n.useState)([]),[_,Y]=Object(n.useState)(!1),[J,X]=Object(n.useState)(!1),[Z,$]=Object(n.useState)(null),[ee,ae]=Object(n.useState)(!1),[te,ne]=Object(n.useState)(!1),[oe,le]=Object(n.useState)(!1),[re,ie]=Object(n.useState)(!1),[se,ce]=Object(n.useState)(!1),[me,ue]=Object(n.useState)(!1),[pe,ge]=Object(n.useState)(!1);let be;Object(n.useEffect)(()=>{y(M)},[M]),Object(n.useEffect)(()=>{"ADMIN"!==f.profile.toUpperCase()&&"ENABLED"!==f.allUserChat.toUpperCase()||m(!1)},[]),Object(n.useEffect)(()=>{"search"===r&&b.current.focus(),H(!V)},[r]);const Ee=(e,a)=>{i(a)},he=e=>{if(x!==e)return{width:0,height:0}},fe=()=>{X(!1)},ve=()=>{_?(Y(!1),i("open"),l(""),L([]),B([]),U([]),G([]),H(!V),b.current&&(b.current.value="")):(Y(!0),i("search"))},[ye,xe]=o.a.useState(!1),[Ce,ke]=o.a.useState(!1);return o.a.createElement(Gt.a,{elevation:0,variant:"outlined",className:e.ticketsWrapper},o.a.createElement(nr,{modalOpen:s,onClose:e=>{(e=>{c(!1),void 0!==e&&void 0!==e.uuid&&a.push("/tickets/".concat(e.uuid))})(e)}}),o.a.createElement("div",{className:e.serachInputWrapper},o.a.createElement(dl.a,{className:e.searchIcon}),o.a.createElement(sl.a,{className:e.searchInput,inputRef:b,placeholder:ma.a.t("tickets.search.placeholder"),type:"search",onChange:e=>{const a=e.target.value.toLowerCase();if(clearTimeout(be),""===a)return l(a),H(!V),void i("open");"search"!==r&&(ve(),i("search")),be=setTimeout(()=>{l(a),H(!V)},500)}}),o.a.createElement(de.a,{placement:"top",title:"Marque para pesquisar tamb\xe9m nos conte\xfados das mensagens (mais lento)"},o.a.createElement("div",null,o.a.createElement(cl.a,{size:"small",checked:E,onChange:e=>{h(e.target.checked)}}))),o.a.createElement(F.a,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",borderRadius:"50%",justifyContent:"flex-end",alignItems:"center"},variant:"contained","aria-label":"filter",className:e.filterIcon,onClick:()=>{ge(e=>!e),ve()}},pe?o.a.createElement(wl.a,{className:e.icon}):o.a.createElement(Al.a,{className:e.icon}))),!0===_&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Vr,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(be),0===a.length?H(!V):"search"!==r&&i("search"),be=setTimeout(()=>{L(a),H(!V)},500)}}),o.a.createElement(Gr,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(be),0===a.length?H(!V):"search"!==r&&i("search"),be=setTimeout(()=>{U(a),H(!V)},500)}}),o.a.createElement(Qr,{onFiltered:e=>{const a=e.map(e=>e.status);clearTimeout(be),0===a.length?H(!V):"search"!==r&&i("search"),be=setTimeout(()=>{G(a),H(!V)},500)}}),"admin"===v&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Hr,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(be),0===a.length?H(!V):"search"!==r&&i("search"),be=setTimeout(()=>{B(a),H(!V)},500)}}))),o.a.createElement(Gt.a,{square:!0,elevation:0,className:e.ticketOptionsBox},o.a.createElement(Yt.a,{container:!0,alignItems:"center",justifyContent:"space-between"},o.a.createElement(Yt.a,{item:!0},o.a.createElement(ja,{role:"enabled"===f.allUserChat&&"user"===f.profile?"admin":f.profile,perform:"tickets-manager:showall",yes:()=>o.a.createElement(N.a,{color:"primary",invisible:!ee||te||oe||re||se,badgeContent:"Todos",classes:{badge:e.tabsBadge}},o.a.createElement(kl.a,{onMouseEnter:()=>ae(!0),onMouseLeave:()=>ae(!1),className:"".concat(e.standardButton," ").concat(d?e.activeButton:""),value:"uncheck",selected:d,onChange:()=>m(e=>!e)},d?o.a.createElement(yl.a,{className:"".concat(e.standardIcon," ").concat(e.activeIcon)}):o.a.createElement(Cl.a,{className:e.standardIcon})))}),o.a.createElement(Kr.a,{open:J,onClose:fe,message:ma.a.t("tickets.inbox.closedAllTickets"),ContentProps:{className:e.snackbar},action:o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{className:e.yesButton,size:"small",onClick:async()=>{try{const{data:e}=await u.post("/tickets/closeAll",{status:x,selectedQueueIds:M});fe()}catch(e){console.log("Error: ",e)}}},ma.a.t("tickets.inbox.yes")),o.a.createElement(K.a,{className:e.noButton,size:"small",onClick:fe},ma.a.t("tickets.inbox.no")))}),o.a.createElement(N.a,{color:"primary",invisible:ee||!te||oe||re||se,badgeContent:ma.a.t("tickets.inbox.newTicket"),classes:{badge:e.tabsBadge}},o.a.createElement(F.a,{onMouseEnter:()=>ne(!0),onMouseLeave:()=>ne(!1),className:e.standardButton,onClick:()=>{c(!0)}},o.a.createElement(ml.a,{className:e.standardIcon}))),"admin"===f.profile&&o.a.createElement(N.a,{color:"primary",invisible:ee||te||!oe||re||se,badgeContent:ma.a.t("tickets.inbox.closedAll"),classes:{badge:e.tabsBadge}},o.a.createElement(F.a,{onMouseEnter:()=>le(!0),onMouseLeave:()=>le(!1),className:e.standardButton,onClick:()=>{X(!0)}},o.a.createElement(Tl.a,{className:e.standardIcon}))),o.a.createElement(N.a,{invisible:!("open"===r&&!ee&&!te&&!oe&&!se&&!me)&&!re,badgeContent:ma.a.t("tickets.inbox.open"),classes:{badge:e.tabsBadge}},o.a.createElement(F.a,{onMouseEnter:()=>{ie(!0),$("open")},onMouseLeave:()=>{ie(!1),$(null)},className:"".concat(e.standardButton," ").concat("open"===r||re?e.activeButton:""),onClick:()=>Ee(0,"open")},o.a.createElement(ul.a,{className:"".concat(e.standardIcon," ").concat("open"===r||re?e.activeIcon:"")}))),o.a.createElement(N.a,{color:"primary",invisible:!("closed"===r&&!ee&&!te&&!oe&&!re&&!me)&&!se,badgeContent:ma.a.t("tickets.inbox.resolverd"),classes:{badge:e.tabsBadge}},o.a.createElement(F.a,{onMouseEnter:()=>{ce(!0),$("closed")},onMouseLeave:()=>{ce(!1),$(null)},className:"".concat(e.standardButton," ").concat("closed"===r||se?e.activeButton:""),onClick:()=>Ee(0,"closed")},o.a.createElement(pl.a,{className:"".concat(e.standardIcon," ").concat("closed"===r||se?e.activeIcon:"")}))),"closed"!==r&&"search"!==r&&o.a.createElement(N.a,{color:"primary",invisible:!me||ee||te||oe||re||se,badgeContent:p?"Decrescente":"Crescente",classes:{badge:e.tabsBadge}},o.a.createElement(kl.a,{onMouseEnter:()=>ue(!0),onMouseLeave:()=>ue(!1),className:"".concat(e.standardButton," ").concat(p?e.activeButton:""),value:"uncheck",selected:p,onChange:()=>g(e=>!e)},p?o.a.createElement(bl.a,{className:"".concat(e.standardIcon," ").concat(e.activeIcon)}):o.a.createElement(gl.a,{className:"".concat(e.standardIcon," ").concat(p?e.activeIcon:"")})))),o.a.createElement(Yt.a,{item:!0},o.a.createElement(Ur,{selectedQueueIds:M,userQueues:null===f||void 0===f?void 0:f.queues,onChange:e=>R(e)})))),o.a.createElement(Xt,{value:r,name:"open",className:e.ticketsWrapper},o.a.createElement(Kt.a,{value:x,onChange:(e,t)=>{a.push("/tickets"),C(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",scrollButtons:"auto"},o.a.createElement(_t.a,{label:o.a.createElement(Yt.a,{container:!0,alignItems:"center",justifyContent:"center"},o.a.createElement(Yt.a,{item:!0},o.a.createElement(N.a,{overlap:"rectangular",classes:{badge:e.customBadge},badgeContent:k,color:"primary"},o.a.createElement(El.a,{style:{fontSize:18}}))),o.a.createElement(Yt.a,{item:!0},o.a.createElement(z.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},ma.a.t("ticketsList.assignedHeader")))),value:"open",name:"open",classes:{root:e.tabPanelItem}}),o.a.createElement(_t.a,{label:o.a.createElement(Yt.a,{container:!0,alignItems:"center",justifyContent:"center"},o.a.createElement(Yt.a,{item:!0},o.a.createElement(N.a,{overlap:"rectangular",classes:{badge:e.customBadge},badgeContent:A,color:"primary"},o.a.createElement(hl.a,{style:{fontSize:18}}))),o.a.createElement(Yt.a,{item:!0},o.a.createElement(z.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},ma.a.t("ticketsList.pendingHeader")))),value:"pending",name:"pending",classes:{root:e.tabPanelItem}}),f.allowGroup&&o.a.createElement(_t.a,{label:o.a.createElement(Yt.a,{container:!0,alignItems:"center",justifyContent:"center"},o.a.createElement(Yt.a,{item:!0},o.a.createElement(N.a,{overlap:"rectangular",classes:{badge:e.customBadge},badgeContent:S,color:"primary"},o.a.createElement(fl.a,{style:{fontSize:18}}))),o.a.createElement(Yt.a,{item:!0},o.a.createElement(z.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},ma.a.t("ticketsList.groupingHeader")))),value:"group",name:"group",classes:{root:e.tabPanelItem}})),o.a.createElement(Gt.a,{className:e.ticketsWrapper},o.a.createElement(Br,{status:"open",showAll:d,sortTickets:p?"ASC":"DESC",selectedQueueIds:M,updateCount:e=>w(e),style:he("open"),setTabOpen:C}),o.a.createElement(Br,{status:"pending",selectedQueueIds:M,sortTickets:p?"ASC":"DESC",showAll:("admin"===f.profile||"enabled"===f.allUserChat)&&d,updateCount:e=>O(e),style:he("pending"),setTabOpen:C}),f.allowGroup&&o.a.createElement(Br,{status:"group",showAll:d,sortTickets:p?"ASC":"DESC",selectedQueueIds:M,updateCount:e=>j(e),style:he("group"),setTabOpen:C}))),o.a.createElement(Xt,{value:r,name:"closed",className:e.ticketsWrapper},o.a.createElement(Br,{status:"closed",showAll:d,selectedQueueIds:M,setTabOpen:C})),o.a.createElement(Xt,{value:r,name:"search",className:e.ticketsWrapper},"admin"===v&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Br,{statusFilter:Q,searchParam:t,showAll:d,tags:P,users:W,selectedQueueIds:M,whatsappIds:q,forceSearch:V,searchOnMessages:E,status:"search"})),"user"===v&&o.a.createElement(Br,{statusFilter:Q,searchParam:t,showAll:!1,tags:P,selectedQueueIds:M,whatsappIds:q,forceSearch:V,searchOnMessages:E,status:"search"})))},Zr=t(343),$r=t.n(Zr),ei=t(1438),ai=t(564),ti=t.n(ai),ni=t(524),oi=t.n(ni),li=t(811),ri=t.n(li),ii=t(75),si=t.n(ii),ci=t(344),di=t.n(ci),mi=t(812),ui=t.n(mi);class pi{setPhoneFormatMask(e){if(!e||e.length<12)return e;const a=(""+e).replace(/\D/g,"");if(a.length<=12){const e=a.match(/^(\d{2})(\d{2})(\d{4})(\d{4})$/);return"+"+e[1]+" ("+e[2]+") "+e[3]+"-"+e[4]}if(13===a.length){const e=a.match(/^(\d{2})(\d{2})(\d{5})(\d{4})$/);return"+"+e[1]+" ("+e[2]+") "+e[3]+"-"+e[4]}return e}removeMask(e){return e.replace(/\D/g,"")}maskPhonePattern(e){return e.length<13?"\ud83c\udde7\ud83c\uddf7 (99) 9999 9999":"\ud83c\udde7\ud83c\uddf7 (99) 99999 9999"}}var gi=e=>{var a;const t=new pi,n=null===e||void 0===e?void 0:e.replace("@c.us","");return null===(a=t.setPhoneFormatMask(n))||void 0===a?void 0:a.replace("+55","\ud83c\udde7\ud83c\uddf7")},bi=t(893);const Ei=Object(I.a)(e=>({messageMedia:{objectFit:"cover",width:250,height:"auto",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}));var hi=e=>{let{imageUrl:a}=e;const t=Ei(),[l,r]=Object(n.useState)(!0),[i,s]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(!a)return;(async()=>{const{data:e,headers:t}=await u.get(a,{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([e],{type:t["content-type"]}));s(n),r(!1)})()},[a]),o.a.createElement(bi.a,{className:t.messageMedia,smallSrcSet:l?a:i,medium:l?a:i,large:l?a:i,alt:"image",showRotate:!0})};var fi=e=>{let{classes:a}=e;return o.a.createElement("div",{className:a.content},o.a.createElement(Gt.a,{square:!0,variant:"outlined",className:a.contactHeader},o.a.createElement(Yt.a,{container:!0},o.a.createElement(Yt.a,{item:!0},o.a.createElement(Oo.a,{animation:"wave",variant:"circle",width:160,height:160,className:a.contactAvatar})),o.a.createElement(Yt.a,{item:!0},o.a.createElement(Oo.a,{animation:"wave",height:25,width:90}),o.a.createElement(Oo.a,{animation:"wave",height:25,width:80}),o.a.createElement(Oo.a,{animation:"wave",height:25,width:80})))),o.a.createElement(Gt.a,{square:!0,className:a.contactDetails},o.a.createElement(z.a,{variant:"subtitle1"},ma.a.t("contactDrawer.extraInfo")),o.a.createElement(Gt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},o.a.createElement(Oo.a,{animation:"wave",height:20,width:60}),o.a.createElement(Oo.a,{animation:"wave",height:20,width:160})),o.a.createElement(Gt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},o.a.createElement(Oo.a,{animation:"wave",height:20,width:60}),o.a.createElement(Oo.a,{animation:"wave",height:20,width:160})),o.a.createElement(Gt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},o.a.createElement(Oo.a,{animation:"wave",height:20,width:60}),o.a.createElement(Oo.a,{animation:"wave",height:20,width:160}))))},vi=t(1437),yi=t(1254);const xi=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textCenter:{backgroundColor:"red"}})),Ci=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Dt.f().min(8,"Too Short!").max(50,"Too Long!"),email:Dt.f().email("Invalid email")});function ki(e){let{initialContact:a,onSave:t,onCancel:l}=e;const r=xi(),[i,s]=Object(n.useState)(a);Object(n.useEffect)(()=>{s(a)},[a]);return o.a.createElement(Pt.e,{initialValues:i,enableReinitialize:!0,validationSchema:Ci,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(i.id)await u.put("/contacts/".concat(i.id),e);else{const{data:a}=await u.post("/contacts",e);t&&t(a)}O.b.success(ma.a.t("contactModal.success"))}catch(a){ga(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:s}=e;return o.a.createElement(Pt.d,null,o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:r.textField,fullWidth:!0})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),o.a.createElement(Yt.a,{item:!0,xs:12,spacing:1},o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{xs:6,item:!0},o.a.createElement(K.a,{onClick:l,color:"secondary",disabled:s,variant:"outlined",fullWidth:!0},ma.a.t("contactModal.buttons.cancel"))),o.a.createElement(Yt.a,{classes:r.textCenter,xs:6,item:!0},o.a.createElement(K.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:r.btnWrapper,fullWidth:!0},i.id?"".concat(ma.a.t("contactModal.buttons.okEdit")):"".concat(ma.a.t("contactModal.buttons.okAdd")),s&&o.a.createElement(Lt.a,{size:24,className:r.buttonProgress})))))))})}var wi=t(284),Ai=t.n(wi);const Ti=Object(I.a)(e=>({inline:{width:"100%"}}));function Oi(e){const{note:a,deleteItem:t,editItem:n}=e,l=Ti();return o.a.createElement(_.a,{alignItems:"flex-start"},o.a.createElement(Y.a,null,o.a.createElement(R.a,{alt:a.user.name,src:"/static/images/avatar/1.jpg"})),o.a.createElement(J.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{component:"span",variant:"body2",className:l.inline,color:"textPrimary"},a.note)),secondary:o.a.createElement(o.a.Fragment,null,a.user.name,", ",ya()(a.createdAt).format("DD/MM/YY HH:mm"))}),o.a.createElement(Mr.a,{style:{display:"flex",flexDirection:"column"}},o.a.createElement(F.a,{onClick:()=>{t(a)},edge:"end","aria-label":"delete"},o.a.createElement(Ai.a,null))))}var Si=e=>{let{title:a,children:t,open:n,onClose:l,onConfirm:r}=e;return o.a.createElement(H.a,{open:n,onClose:()=>l(!1),"aria-labelledby":"confirm-dialog"},o.a.createElement(Q.a,{id:"confirm-dialog"},a),o.a.createElement(G.a,{dividers:!0},o.a.createElement(z.a,null,t)),o.a.createElement(X.a,null,o.a.createElement(K.a,{variant:"contained",onClick:()=>l(!1),color:"default"},ma.a.t("confirmationModal.buttons.cancel")),o.a.createElement(K.a,{variant:"contained",onClick:()=>{l(!1),r()},color:"secondary"},ma.a.t("confirmationModal.buttons.confirm"))))};function ji(e){let{open:a,onClose:t,note:l,onSave:r}=e;const[i,s]=Object(n.useState)(l);return o.a.createElement(H.a,{open:a,onClose:t,maxWidth:"xs",fullWidth:!0},o.a.createElement(Q.a,null,"Edit Note"),o.a.createElement(G.a,null,o.a.createElement(Ft.a,{label:"Edit Note",fullWidth:!0,multiline:!0,rows:4,value:l,onChange:e=>s(e.target.value)})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:t,color:"primary"},"Cancel"),o.a.createElement(K.a,{onClick:()=>{r(i),t()},color:"primary"},"Save")))}var Ii=()=>({saveNote:async e=>{const{data:a}=await u.request({url:"/ticket-notes",method:"POST",data:e});return a},deleteNote:async e=>{const{data:a}=await u.request({url:"/ticket-notes/".concat(e),method:"DELETE"});return a},listNotes:async e=>{const{data:a}=await u.request({url:"/ticket-notes/list",method:"GET",params:e});return a}});const Mi=Object(I.a)(e=>({root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:e.palette.background.paper,overflow:"auto"},inline:{width:"100%"}})),Ni=Dt.e().shape({note:Dt.f().min(2,"Too Short!").required("Required")});function Ri(e){let{ticket:a}=e;const{id:t,contactId:l}=a,r=Mi(),[i,s]=Object(n.useState)({note:""}),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)([]),{saveNote:h,deleteNote:f,listNotes:v}=Ii(),[y,x]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){C(),await T()}()},[]);const C=()=>{s({note:""}),d(!1)},k=e=>{s({note:e.target.value})},w=async e=>{d(!0);try{await h(Object(S.a)(Object(S.a)({},e),{},{ticketId:t,contactId:l})),await T(),s({note:""}),O.b.success("Observa\xe7\xe3o adicionada com sucesso!")}catch(a){O.b.error(a)}d(!1)},A=e=>{g(e),u(!0)},T=async()=>{d(!0);try{const e=await v({ticketId:t,contactId:l});E(e)}catch(e){O.b.error(e)}d(!1)},j=()=>b.map(e=>o.a.createElement(Oi,{note:e,key:e.id,deleteItem:A,editItem:()=>(e=>{console.log(e),x(e)})(e)}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ji,{open:null!==y,onClose:()=>x(null),note:y?y.note:"",onSave:w}),o.a.createElement(Si,{title:"Excluir Registro",open:m,onClose:u,onConfirm:async()=>{d(!0);try{await f(p.id),await T(),g({}),O.b.success("Observa\xe7\xe3o exclu\xedda com sucesso!")}catch(e){O.b.error(e)}d(!1)}},"Deseja realmente excluir este registro?"),o.a.createElement(Pt.e,{initialValues:i,enableReinitialize:!0,validationSchema:Ni,onSubmit:(e,a)=>{setTimeout(()=>{w(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,setErrors:n}=e;return o.a.createElement(Pt.d,null,o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"note",rows:3,label:ma.a.t("ticketOptionsMenu.appointmentsModal.textarea"),placeholder:ma.a.t("ticketOptionsMenu.appointmentsModal.placeholder"),multiline:!0,error:a.note&&Boolean(t.note),helperText:a.note&&t.note,variant:"outlined",onChange:k,fullWidth:!0})),b.length>0&&o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(L.a,{className:r.list},j())),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{xs:6,item:!0},o.a.createElement(K.a,{onClick:()=>{s(""),n({})},color:"primary",variant:"outlined",fullWidth:!0},"Cancelar")),o.a.createElement(Yt.a,{xs:6,item:!0},o.a.createElement(Ml,{loading:c,color:"primary",type:"submit",variant:"contained",autoFocus:!0,fullWidth:!0},"Salvar"))))))}))}var Di=t(814),Pi=t.n(Di),Fi=t(565),Li=t.n(Fi),Wi=t(566),Bi=t.n(Wi),qi=t(567),zi=t.n(qi),Ui=t(568),Vi=t.n(Ui),Hi=t(813),Qi=t.n(Hi);const Gi=Object(I.a)(e=>({menuListItem:{paddingTop:0,paddingBottom:0,border:"none"},menuItem:{maxHeight:30},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));function Ki(e){let{ticket:a}=e;Gi();const[t,l]=Object(n.useState)([]),[r,i]=Object(n.useState)("");Object(n.useEffect)(()=>{let e=!0;return s(e).then(()=>{a.tags&&a.tags.length>0&&i(a.tags[0].id)}),()=>{e=!1}},[a.tags]);const s=async e=>{try{const{data:a}=await u.get("/tags/list",{params:{kanban:1}});e&&l(a)}catch(a){ga(a)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(Bt.a,{id:"tag-kanban-id"},ma.a.t("Etapa Kanban")),o.a.createElement(Wt.a,{labelWidth:60,value:r,labelId:"tag-kanban-id",label:ma.a.t("Etapa Kanban"),onChange:async e=>{const t=e.target.value;a.tags.length>0&&await u.delete("/ticket-tags/".concat(a.id)),null!==t&&await u.put("/ticket-tags/".concat(a.id,"/").concat(t)),i(t)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{const e=t.find(e=>e.id===r);return e?o.a.createElement(Vt.a,{style:{backgroundColor:e.color,color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},label:e.name,size:"small"}):null}},o.a.createElement(V.a,{value:null},"\xa0"),t.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))}const _i=["children","value","index"],Yi=Object(I.a)(e=>({drawer:{width:320,flexShrink:0},tabChip:{minHeight:16,height:16,fontSize:"0.7rem",backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,marginLeft:4},drawerPaper:{width:320,display:"flex",flexDirection:"column",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4,height:"100%",overflow:"hidden"},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:e.palette.inputBackground,alignItems:"center",padding:e.spacing(0,1),minHeight:"50px",justifyContent:"flex-start",flexShrink:0},profileSection:{flexShrink:0,backgroundColor:e.palette.inputBackground},searchContainer:{padding:e.spacing(1,2),backgroundColor:e.palette.background.paper,borderBottom:"1px solid rgba(0, 0, 0, 0.12)",flexShrink:0},searchField:{"& .MuiOutlinedInput-root":{height:40}},searchResults:Object(S.a)({maxHeight:200,overflow:"auto"},e.scrollbarStyles),searchResultItem:{padding:e.spacing(1),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover},borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchResultText:{fontSize:"0.85rem","& mark":{backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText,padding:"0 2px",borderRadius:2}},searchResultDate:{fontSize:"0.75rem",color:e.palette.text.secondary,marginTop:4},emptySearchState:{textAlign:"center",padding:e.spacing(2),color:e.palette.text.secondary,fontSize:"0.85rem"},tabsContainer:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:e.palette.background.paper,flexShrink:0},contentWrapper:{display:"flex",flexDirection:"column",height:"calc(100% - 50px)",overflow:"hidden"},scrollableContent:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},tabPanel:Object(S.a)(Object(S.a)({flex:1,overflow:"auto",padding:e.spacing(1)},e.scrollbarStyles),{},{height:"100%",maxHeight:"100%"}),contactAvatar:{width:80,height:80,borderRadius:"50%",margin:e.spacing(1),border:"2px solid ".concat(e.palette.primary.main),cursor:"pointer","&:hover":{opacity:.8}},contactHeader:{display:"flex",padding:e.spacing(1),flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:e.spacing(.5)}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6},switchContainer:{padding:e.spacing(1,2),backgroundColor:e.palette.background.paper,marginBottom:e.spacing(1),flexShrink:0},mediaGrid:{padding:e.spacing(1)},mediaItem:{cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.05)"},borderRadius:e.spacing(1),overflow:"hidden",height:100,backgroundColor:e.palette.action.hover,display:"flex",alignItems:"center",justifyContent:"center"},mediaThumbnail:{width:"100%",height:"100%",objectFit:"cover"},mediaIcon:{fontSize:40,color:e.palette.text.secondary},loadingContainer:{display:"flex",justifyContent:"center",padding:e.spacing(3)},emptyState:{textAlign:"center",padding:e.spacing(3),color:e.palette.text.secondary},linkItem:{padding:e.spacing(1),"&:hover":{backgroundColor:e.palette.action.hover},borderRadius:e.spacing(.5),marginBottom:e.spacing(.5)},contactActions:{display:"flex",flexDirection:"row",gap:e.spacing(1),marginTop:e.spacing(1),justifyContent:"center"},actionIcon:{backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.divider),"&:hover":{backgroundColor:e.palette.action.hover}},editIcon:{color:e.palette.primary.main},blockIcon:{color:e.palette.error.main},unblockIcon:{color:e.palette.success.main},tabIcon:{minHeight:48,minWidth:"auto",padding:e.spacing(.5,1)},contactCardHeader:{width:"100%",padding:e.spacing(1)},participantsList:{padding:0},participantItem:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),marginBottom:e.spacing(.5),borderRadius:e.spacing(1),"&:hover":{backgroundColor:e.palette.action.hover}},participantAvatar:{width:45,height:45},adminIcon:{color:e.palette.warning.main,fontSize:16,backgroundColor:e.palette.background.paper,borderRadius:"50%",padding:2},superAdminIcon:{color:e.palette.error.main,fontSize:16,backgroundColor:e.palette.background.paper,borderRadius:"50%",padding:2},adminChip:{backgroundColor:e.palette.warning.light,color:e.palette.warning.contrastText,fontSize:"0.7rem"},superAdminChip:{backgroundColor:e.palette.error.light,color:e.palette.error.contrastText,fontSize:"0.7rem"},imageModal:{display:"flex",alignItems:"center",justifyContent:"center"},imageModalContent:{outline:"none",maxWidth:"90vw",maxHeight:"90vh"},expandedImage:{width:"100%",height:"auto",maxWidth:"500px",borderRadius:e.spacing(1)}}));function Ji(e){var a;const{children:t,value:n,index:l}=e,r=Object(at.a)(e,_i);return o.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l,id:"contact-tabpanel-".concat(l),"aria-labelledby":"contact-tab-".concat(l),style:{height:"100%",display:n===l?"flex":"none",flexDirection:"column",overflow:"hidden"}},r),n===l&&o.a.createElement("div",{className:null===(a=e.classes)||void 0===a?void 0:a.tabPanel,style:{flex:1,overflow:"auto"}},t))}var Xi=e=>{var a,t,l;let{open:r,handleDrawerClose:i,contact:s,ticket:c,loading:d}=e;const m=Yi(),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(s.active),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(0),[x,C]=Object(n.useState)({images:[],videos:[],audios:[],documents:[],links:[]}),[k,w]=Object(n.useState)(!1),{get:A}=Da(),[T,j]=Object(n.useState)(!1),{user:I}=Object(n.useContext)(Ca),[M,D]=Object(n.useState)(s.acceptAudioMessage),[W,B]=Object(n.useState)(!1),[q,U]=Object(n.useState)([]),[V,Q]=Object(n.useState)(!1),[K,X]=Object(n.useState)(""),[Z,$]=Object(n.useState)([]),[ee,ae]=Object(n.useState)(!1),[te,ne]=Object(n.useState)(!1),[oe,le]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){"enabled"===await A({column:"lgpdHideNumber"})&&j(!0)}()},[]),Object(n.useEffect)(()=>{D(s.acceptAudioMessage),f(!1),y(0),X(""),$([]),ne(!1),U([]),r&&s.id&&(me(),s.isGroup&&(async()=>{if(s.isGroup){Q(!0);try{const{data:e}=await u.get("/contacts/".concat(s.id,"/participants"));U(e)}catch(e){console.error("Erro ao buscar participantes do grupo:",e),ga("Erro ao carregar participantes do grupo"),U([])}finally{Q(!1)}}})())},[r,s]);const re=()=>{X(""),$([]),ne(!1),oe&&clearTimeout(oe)},se=e=>{if(!K||!e)return e;const a=new RegExp("(".concat(K,")"),"gi");return e.replace(a,"<mark>$1</mark>")},me=async()=>{w(!0);try{const{data:e}=await u.get("/contacts/".concat(s.id,"/media")),a={images:e.images.map(e=>Object(S.a)(Object(S.a)({},e),{},{mediaUrl:e.mediaUrl&&!e.mediaUrl.startsWith("http")?"".concat("https://api.datamixsistemas.com.br").concat(e.mediaUrl):e.mediaUrl})),videos:e.videos.map(e=>Object(S.a)(Object(S.a)({},e),{},{mediaUrl:e.mediaUrl&&!e.mediaUrl.startsWith("http")?"".concat("https://api.datamixsistemas.com.br").concat(e.mediaUrl):e.mediaUrl})),audios:e.audios.map(e=>Object(S.a)(Object(S.a)({},e),{},{mediaUrl:e.mediaUrl&&!e.mediaUrl.startsWith("http")?"".concat("https://api.datamixsistemas.com.br").concat(e.mediaUrl):e.mediaUrl})),documents:e.documents.map(e=>Object(S.a)(Object(S.a)({},e),{},{mediaUrl:e.mediaUrl&&!e.mediaUrl.startsWith("http")?"".concat("https://api.datamixsistemas.com.br").concat(e.mediaUrl):e.mediaUrl})),links:e.links};C(a)}catch(e){ga(e),C({images:[],videos:[],audios:[],documents:[],links:[]})}finally{w(!1)}},ue=()=>V?o.a.createElement("div",{className:m.loadingContainer},o.a.createElement(Lt.a,{size:40})):0===q.length?o.a.createElement("div",{className:m.emptyState},o.a.createElement(z.a,{variant:"body2"},"Nenhum participante encontrado")):o.a.createElement(L.a,{className:m.participantsList},q.map(e=>{var a,t;return o.a.createElement(_.a,{key:e.id,className:m.participantItem},o.a.createElement(Y.a,null,o.a.createElement(N.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:e.isSuperAdmin?o.a.createElement(ti.a,{className:m.superAdminIcon}):e.isAdmin?o.a.createElement(ti.a,{className:m.adminIcon}):null},o.a.createElement(R.a,{src:e.profilePicUrl,alt:e.name,className:m.participantAvatar},null===(a=e.name)||void 0===a||null===(t=a.charAt(0))||void 0===t?void 0:t.toUpperCase()))),o.a.createElement(J.a,{primary:o.a.createElement(z.a,{variant:"subtitle2",noWrap:!0},e.name),secondary:o.a.createElement(z.a,{variant:"caption",color:"textSecondary",noWrap:!0},gi(e.number))}),o.a.createElement(Mr.a,null,e.isSuperAdmin&&o.a.createElement(Vt.a,{size:"small",label:"Super Admin",className:m.superAdminChip,icon:o.a.createElement(ti.a,null)}),e.isAdmin&&!e.isSuperAdmin&&o.a.createElement(Vt.a,{size:"small",label:"Admin",className:m.adminChip,icon:o.a.createElement(oi.a,null)})))}));return d?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(P.a,{className:m.drawer,variant:"persistent",anchor:"right",open:r,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:m.drawerPaper}},o.a.createElement("div",{className:m.header},o.a.createElement(F.a,{onClick:i},o.a.createElement($r.a,null)),o.a.createElement(z.a,{style:{justifySelf:"center"}},ma.a.t("contactDrawer.header"))),o.a.createElement("div",{className:m.contentWrapper},o.a.createElement(tn.a,{className:m.switchContainer},o.a.createElement(z.a,{style:{marginBottom:0},variant:"subtitle2"},o.a.createElement(cl.a,{size:"small",checked:M,onChange:()=>(async()=>{try{const e=await u.put("/contacts/toggleAcceptAudio/".concat(c.contact.id));D(e.data.acceptAudioMessage)}catch(e){ga(e)}})(),name:"disableBot",color:"primary"}),ma.a.t("ticketOptionsMenu.acceptAudioMessage"))),o.a.createElement("div",{className:m.profileSection},o.a.createElement(Gt.a,{square:!0,variant:"outlined",className:m.contactHeader},o.a.createElement(R.a,{src:null===s||void 0===s?void 0:s.urlPicture,alt:s.name,className:m.contactAvatar,onClick:()=>{(null===s||void 0===s?void 0:s.urlPicture)&&B(!0)}},null===(a=s.name)||void 0===a||null===(t=a.charAt(0))||void 0===t?void 0:t.toUpperCase()),o.a.createElement(vi.a,{className:m.contactCardHeader,onClick:()=>{},style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0,align:"center"},subheaderTypographyProps:{noWrap:!0,align:"center"},title:o.a.createElement(z.a,{variant:"h6",align:"center"},s.name),subheader:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{style:{fontSize:12},align:"center"},T&&"user"===I.profile?gi(s.number).slice(0,-6)+"**-**"+s.number.slice(-2):gi(s.number)),o.a.createElement(z.a,{style:{color:"primary",fontSize:12},align:"center"},o.a.createElement(ei.a,{href:"mailto:".concat(s.email)},s.email)))}),o.a.createElement("div",{className:m.contactActions},o.a.createElement(de.a,{title:ma.a.t("contactDrawer.buttons.edit"),arrow:!0},o.a.createElement(F.a,{className:"".concat(m.actionIcon," ").concat(m.editIcon),onClick:()=>g(!h),size:"small"},o.a.createElement(ri.a,null))),o.a.createElement(de.a,{title:s.active?"Bloquear contato":"Desbloquear contato",arrow:!0},o.a.createElement(F.a,{className:"".concat(m.actionIcon," ").concat(s.active?m.blockIcon:m.unblockIcon),onClick:()=>s.active?(async e=>{try{await u.put("/contacts/block/".concat(e),{active:!1}),O.b.success("Contato bloqueado")}catch(a){ga(a)}E(!0)})(s.id):(async e=>{try{await u.put("/contacts/block/".concat(e),{active:!0}),O.b.success("Contato desbloqueado")}catch(a){ga(a)}E(!1)})(s.id),disabled:d,size:"small"},s.active?o.a.createElement(di.a,null):o.a.createElement(ui.a,null)))),s.id&&h&&o.a.createElement(ki,{initialContact:s,onCancel:()=>f(!1)}))),o.a.createElement(tn.a,{className:m.searchContainer},o.a.createElement(Ft.a,{className:m.searchField,fullWidth:!0,size:"small",variant:"outlined",placeholder:"Pesquisar nas mensagens...",value:K,onChange:e=>{const a=e.target.value;X(a),oe&&clearTimeout(oe);const t=setTimeout(()=>{(async e=>{if(!e||e.trim().length<2)return $([]),void ne(!1);ae(!0);try{const{data:a}=await u.get("/contacts/".concat(s.id,"/messages/search"),{params:{searchParam:e.trim()}});$(a.messages||[]),ne(!0)}catch(a){console.error("Erro ao buscar mensagens:",a),ga(a),$([])}finally{ae(!1)}})(a)},500);le(t)},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{fontSize:"small"})),endAdornment:K&&o.a.createElement(yi.a,{position:"end"},o.a.createElement(F.a,{size:"small",onClick:re,edge:"end"},o.a.createElement(io.a,{fontSize:"small"})))}}),o.a.createElement(ce.a,{in:te},o.a.createElement(Gt.a,{variant:"outlined",style:{marginTop:8}},ee?o.a.createElement("div",{className:m.emptySearchState},o.a.createElement(Lt.a,{size:20}),o.a.createElement(z.a,{variant:"caption",style:{marginLeft:8}},"Buscando...")):0===Z.length&&K.length>=2?o.a.createElement("div",{className:m.emptySearchState},o.a.createElement(z.a,{variant:"caption"},"Nenhuma mensagem encontrada")):o.a.createElement("div",{className:m.searchResults},Z.map((e,a)=>o.a.createElement("div",{key:e.id,className:m.searchResultItem,onClick:()=>(e=>{console.log("Navegar para mensagem:",e),O.b.info("Mensagem encontrada: ".concat(e.body.substring(0,50),"...")),ne(!1)})(e)},o.a.createElement(z.a,{className:m.searchResultText,dangerouslySetInnerHTML:{__html:se(e.body.substring(0,100)+(e.body.length>100?"...":""))}}),o.a.createElement(z.a,{className:m.searchResultDate},new Date(e.createdAt).toLocaleString("pt-BR"),e.fromMe?" (Voc\xea)":" (".concat(s.name,")")))))))),o.a.createElement(Kt.a,{value:v,onChange:(e,a)=>{y(a),0!==a&&re()},variant:"scrollable",scrollButtons:"auto",className:m.tabsContainer},o.a.createElement(_t.a,{className:m.tabIcon,icon:o.a.createElement(Qi.a,null),"aria-label":"Informa\xe7\xf5es"}),o.a.createElement(_t.a,{className:m.tabIcon,icon:o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(Pi.a,null),x.images.length>0&&o.a.createElement(Vt.a,{size:"small",label:x.images.length,className:m.tabChip})),"aria-label":"Imagens"}),o.a.createElement(_t.a,{className:m.tabIcon,icon:o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(Li.a,null),x.videos.length>0&&o.a.createElement(Vt.a,{size:"small",label:x.videos.length,className:m.tabChip})),"aria-label":"V\xeddeos"}),o.a.createElement(_t.a,{className:m.tabIcon,icon:o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(Bi.a,null),x.audios.length>0&&o.a.createElement(Vt.a,{size:"small",label:x.audios.length,className:m.tabChip})),"aria-label":"\xc1udios"}),o.a.createElement(_t.a,{className:m.tabIcon,icon:o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(zi.a,null),x.documents.length>0&&o.a.createElement(Vt.a,{size:"small",label:x.documents.length,className:m.tabChip})),"aria-label":"Documentos"}),o.a.createElement(_t.a,{className:m.tabIcon,icon:o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(Vi.a,null),x.links.length>0&&o.a.createElement(Vt.a,{size:"small",label:x.links.length,className:m.tabChip})),"aria-label":"Links"}),s.isGroup&&o.a.createElement(_t.a,{className:m.tabIcon,icon:o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(lr.a,null),q.length>0&&o.a.createElement(Vt.a,{size:"small",label:q.length,className:m.tabChip})),"aria-label":"Participantes"})),o.a.createElement("div",{className:m.scrollableContent},d?o.a.createElement(fi,{classes:m}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Ji,{value:v,index:0,classes:m},o.a.createElement(Ki,{ticket:c,className:m.contactTags}),o.a.createElement(Gt.a,{square:!0,variant:"outlined",className:m.contactDetails},o.a.createElement(z.a,{variant:"subtitle1",style:{marginBottom:10}},ma.a.t("ticketOptionsMenu.appointmentsModal.title")),o.a.createElement(Ri,{ticket:c})),o.a.createElement(Gt.a,{square:!0,variant:"outlined",className:m.contactDetails},o.a.createElement(Ql,{open:p,onClose:()=>g(!1),contactId:s.id}),o.a.createElement(z.a,{variant:"subtitle1"},ma.a.t("contactDrawer.extraInfo")),null===s||void 0===s||null===(l=s.extraInfo)||void 0===l?void 0:l.map(e=>o.a.createElement(Gt.a,{key:e.id,square:!0,variant:"outlined",className:m.contactExtraInfo},o.a.createElement(Bt.a,null,e.name),o.a.createElement(z.a,{component:"div",noWrap:!0,style:{paddingTop:2}},o.a.createElement(it,null,e.value)))))),o.a.createElement(Ji,{value:v,index:1,classes:m},k?o.a.createElement("div",{className:m.loadingContainer},o.a.createElement(Lt.a,null)):0===x.images.length?o.a.createElement("div",{className:m.emptyState},o.a.createElement(z.a,{variant:"body2"},"Nenhuma imagem encontrada")):o.a.createElement(Yt.a,{container:!0,spacing:1,className:m.mediaGrid},x.images.map((e,a)=>o.a.createElement(Yt.a,{item:!0,xs:4,key:a},o.a.createElement(Gt.a,{className:m.mediaItem,elevation:1,onClick:()=>window.open(e.mediaUrl,"_blank")},o.a.createElement("img",{src:e.mediaUrl,alt:"",className:m.mediaThumbnail})))))),o.a.createElement(Ji,{value:v,index:2,classes:m},k?o.a.createElement("div",{className:m.loadingContainer},o.a.createElement(Lt.a,null)):0===x.videos.length?o.a.createElement("div",{className:m.emptyState},o.a.createElement(z.a,{variant:"body2"},"Nenhum v\xeddeo encontrado")):o.a.createElement(Yt.a,{container:!0,spacing:1,className:m.mediaGrid},x.videos.map((e,a)=>o.a.createElement(Yt.a,{item:!0,xs:4,key:a},o.a.createElement(Gt.a,{className:m.mediaItem,elevation:1,onClick:()=>window.open(e.mediaUrl,"_blank")},o.a.createElement(tn.a,{display:"flex",flexDirection:"column",alignItems:"center"},o.a.createElement(Li.a,{className:m.mediaIcon}),o.a.createElement(z.a,{variant:"caption",style:{marginTop:4}},new Date(e.createdAt).toLocaleDateString("pt-BR")))))))),o.a.createElement(Ji,{value:v,index:3,classes:m},k?o.a.createElement("div",{className:m.loadingContainer},o.a.createElement(Lt.a,null)):0===x.audios.length?o.a.createElement("div",{className:m.emptyState},o.a.createElement(z.a,{variant:"body2"},"Nenhum \xe1udio encontrado")):o.a.createElement(Yt.a,{container:!0,spacing:1,className:m.mediaGrid},x.audios.map((e,a)=>o.a.createElement(Yt.a,{item:!0,xs:4,key:a},o.a.createElement(Gt.a,{className:m.mediaItem,elevation:1,onClick:()=>window.open(e.mediaUrl,"_blank")},o.a.createElement(tn.a,{display:"flex",flexDirection:"column",alignItems:"center"},o.a.createElement(Bi.a,{className:m.mediaIcon}),o.a.createElement(z.a,{variant:"caption",style:{marginTop:4}},new Date(e.createdAt).toLocaleDateString("pt-BR")))))))),o.a.createElement(Ji,{value:v,index:4,classes:m},k?o.a.createElement("div",{className:m.loadingContainer},o.a.createElement(Lt.a,null)):0===x.documents.length?o.a.createElement("div",{className:m.emptyState},o.a.createElement(z.a,{variant:"body2"},"Nenhum documento encontrado")):o.a.createElement(L.a,null,x.documents.map((e,a)=>o.a.createElement(_.a,{key:a,button:!0,className:m.linkItem,onClick:()=>window.open(e.mediaUrl,"_blank")},o.a.createElement(ie.a,null,o.a.createElement(zi.a,null)),o.a.createElement(J.a,{primary:e.body||"Documento ".concat(a+1),secondary:new Date(e.createdAt).toLocaleDateString("pt-BR")}))))),o.a.createElement(Ji,{value:v,index:5,classes:m},k?o.a.createElement("div",{className:m.loadingContainer},o.a.createElement(Lt.a,null)):0===x.links.length?o.a.createElement("div",{className:m.emptyState},o.a.createElement(z.a,{variant:"body2"},"Nenhum link encontrado")):o.a.createElement(L.a,null,x.links.map((e,a)=>o.a.createElement(_.a,{key:a,button:!0,className:m.linkItem,onClick:()=>window.open(e.url,"_blank")},o.a.createElement(ie.a,null,o.a.createElement(Vi.a,null)),o.a.createElement(J.a,{primary:e.title||e.url,secondary:new Date(e.createdAt).toLocaleDateString("pt-BR")}))))),s.isGroup&&o.a.createElement(Ji,{value:v,index:6,classes:m},o.a.createElement(z.a,{variant:"h6",style:{marginBottom:16,display:"flex",alignItems:"center"}},o.a.createElement(lr.a,{style:{marginRight:8}}),"Participantes do Grupo (",q.length,")"),ue()))))),o.a.createElement(H.a,{open:W,onClose:()=>{B(!1)},className:m.imageModal,maxWidth:"md",fullWidth:!0},o.a.createElement(G.a,{className:m.imageModalContent},o.a.createElement("img",{src:null===s||void 0===s?void 0:s.urlPicture,alt:(null===s||void 0===s?void 0:s.name)||"Foto do contato",className:m.expandedImage}))))},Zi=(t(734),t(542)),$i=t(908),es=t(1456),as=t(559),ts=t(558),ns=t(1445),os=t(1455),ls=t(1457),rs=t(1459),is=t(1460),ss=t(1461),cs=t(1462),ds=t(1463),ms=t(1464),us=t(1465),ps=t(1466),gs=t(1444),bs=t(1467),Es=t(1468),hs=t(1446),fs=t(1447),vs=t(1448),ys=t(1449),xs=t(1450),Cs=t(1451),ks=t(1452),ws=t(1453),As=t(267),Ts=t.n(As),Os=t(1458),Ss=t(525),js=t.n(Ss);const Is=Object(n.createContext)(),Ms=e=>{let{children:a}=e;const[t,l]=Object(n.useState)(null);return o.a.createElement(Is.Provider,{value:{replyingMessage:t,setReplyingMessage:l}},a)},Ns=Object(I.a)(e=>({timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}));var Rs=()=>{const e=Ns(),[a,t]=Object(n.useState)({minutes:0,seconds:0});Object(n.useEffect)(()=>{const e=setInterval(()=>t(e=>59===e.seconds?Object(S.a)(Object(S.a)({},e),{},{minutes:e.minutes+1,seconds:0}):Object(S.a)(Object(S.a)({},e),{},{seconds:e.seconds+1})),1e3);return()=>{clearInterval(e)}},[]);const l=e=>e<10?"0"+e:e;return o.a.createElement("div",{className:e.timerBox},o.a.createElement("span",null,"".concat(l(a.minutes),":").concat(l(a.seconds))))};var Ds=()=>({save:async e=>{const{data:a}=await u.request({url:"/quick-messages",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/quick-messages/".concat(e.id),method:"PUT",data:e});return a},deleteRecord:async e=>{const{data:a}=await u.request({url:"/quick-messages/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await u.request({url:"/quick-messages/list",method:"GET",params:e});return a}});const Ps=Object(I.a)(e=>({online:{fontSize:11,color:"#25d366"},offline:{fontSize:11,color:"#e1306c"}})),Fs=Object(Ol.a)({trim:!0});var Ls=e=>{let{modalOpen:a,onClose:t}=e;Ps();const[l,r]=Object(n.useState)([]),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(""),[m,p]=Object(n.useState)(null),[g,b]=Object(n.useState)({}),[E,h]=Object(n.useState)(!1),{user:f,socket:v}=Object(n.useContext)(Ca),{companyId:y,whatsappId:x}=f;Object(n.useEffect)(()=>{if(!a||c.length<3)return void s(!1);s(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contacts",{params:{searchParam:c,channel:"whatsapp",isGroup:"false"}});r(e.contacts),s(!1)}catch(e){s(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[c,a]);const C=()=>{t(),d(""),p(null)},k=async e=>{if(e){s(!0);try{t(e)}catch(a){}s(!1)}},w=(e,a)=>{const t=Fs(e,a);return""!==a.inputValue&&!i&&c.length>=3&&t.push({name:"".concat(a.inputValue)}),t},A=e=>e.number?o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):"".concat(ma.a.t("SendContactModal.add")," ").concat(e.name),T=e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ql,{open:E,initialValues:g,onClose:()=>{h(!1)},onSave:e=>{k(e)}}),o.a.createElement(H.a,{open:a,onClose:C},o.a.createElement(Q.a,{id:"form-dialog-title"},ma.a.t("SendContactModal.title")),o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{style:{width:300},container:!0,spacing:2},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Sl.a,{fullWidth:!0,options:l,loading:i,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:T,renderOption:A,filterOptions:w,onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?p(a):(null===a||void 0===a?void 0:a.name)&&(b({name:a.name}),h(!0))})(0,a),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("SendContactModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>d(e.target.value),onKeyPress:e=>{!i&&m&&"Enter"===e.key&&k(m)},InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,i?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:C,color:"secondary",disabled:i,variant:"outlined"},ma.a.t("SendContactModal.buttons.cancel")),o.a.createElement(Ml,{variant:"contained",type:"button",disabled:!m,onClick:()=>k(m),color:"primary",loading:i},ma.a.t("SendContactModal.buttons.ok")))))},Ws=t(644),Bs=t.n(Ws),qs=t(645),zs=t.n(qs);t(1120);Bs.a.setAppElement("#root");const Us={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{width:"80%",height:"70%",maxWidth:"780px",maxHeight:"85vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"8px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",border:"none",padding:"0",background:"none",display:"flex",flexDirection:"column",alignItems:"center"}};var Vs=e=>{let{isOpen:a,onRequestClose:t,onCapture:l}=e;const[r,i]=Object(n.useState)(null);return o.a.createElement(Bs.a,{isOpen:a,onRequestClose:t,style:Us},o.a.createElement("div",{style:{flex:1}},o.a.createElement(zs.a,{onTakePhoto:e=>{i(e)},idealFacingMode:qs.FACING_MODES.ENVIRONMENT,isImageMirror:!1,style:Us})),r&&(fetch(r).then(e=>e.blob()).then(e=>{l(e)}),i(null),void t()))};const Hs=Object(n.createContext)(),Qs=e=>{let{children:a}=e;const[t,l]=Object(n.useState)(!1),[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)(!1);return o.a.createElement(Hs.Provider,{value:{showSelectMessageCheckbox:t,setShowSelectMessageCheckbox:l,selectedMessages:r,setSelectedMessages:i,forwardMessageModalOpen:s,setForwardMessageModalOpen:c}},a)};var Gs=t(1439),Ks=t(1440),_s=t(1441),Ys=t(1442),Js=t(1443);const Xs=Object(I.a)(e=>({audioContainer:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"380px",minWidth:"300px",padding:0,margin:0,backgroundColor:"transparent",border:"none"},audioPlayerContainer:{position:"relative",width:"100%",height:"40px",marginBottom:e.spacing(1)},audioPlayer:{width:"100%",height:"40px",outline:"none",border:"none",backgroundColor:"transparent","&::-webkit-media-controls-panel":{backgroundColor:"transparent"},"&::-webkit-media-controls-current-time-display, &::-webkit-media-controls-time-remaining-display":{fontSize:"12px"}},controlsContainer:{display:"flex",flexDirection:"column",width:"100%",gap:e.spacing(1)},transcriptionContainer:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},transcriptionText:{fontSize:"0.875rem",lineHeight:1.4,wordBreak:"break-word",padding:e.spacing(1),backgroundColor:e.palette.action.hover,borderRadius:e.shape.borderRadius,border:"1px solid ".concat(e.palette.divider),width:"100%",boxSizing:"border-box"},transcribeButton:{fontSize:"0.75rem",padding:e.spacing(.5,1),minWidth:"auto",height:"32px",alignSelf:"center"},rateButton:{position:"absolute",top:"2px",right:"8px",fontSize:"0.7rem",minWidth:"auto",padding:"1px 6px",height:"18px",backgroundColor:"rgba(0,0,0,0.6)",color:"white",borderRadius:"9px",zIndex:10,lineHeight:1,"&:hover":{backgroundColor:"rgba(0,0,0,0.8)"},border:"none",textTransform:"none",boxShadow:"none"}}));var Zs=e=>{var a,t;let{url:l,message:r,disableTranscription:i=!1}=e;Object(D.a)();const s=Xs(),c=Object(n.useRef)(null),[d,m]=Object(n.useState)(parseFloat(localStorage.getItem("audioMessageRate")||"1")),[u,p]=Object(n.useState)(!1),g=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,[b,E]=Object(n.useState)(null),[h,f]=Object(n.useState)(!1),v=null!==(a=null===r||void 0===r?void 0:r.body)&&void 0!==a?a:"",y=null!==(t=null===r||void 0===r?void 0:r.transcrito)&&void 0!==t&&t;Object(n.useEffect)(()=>{c.current&&(c.current.playbackRate=d,localStorage.setItem("audioMessageRate",d))},[d]),Object(n.useEffect)(()=>{c.current&&(c.current.onplaying=()=>{p(!0)},c.current.onpause=()=>{p(!1)},c.current.onended=()=>{p(!1)})},[]);return o.a.createElement("div",{className:s.audioContainer},o.a.createElement("div",{className:s.audioPlayerContainer},o.a.createElement("audio",{ref:c,controls:!0,className:s.audioPlayer,preload:"metadata"},(()=>{let e=l;return g&&(e=e.replace(".ogg",".mp3")),o.a.createElement("source",{src:e,type:g?"audio/mp3":"audio/ogg"})})()),u&&o.a.createElement(K.a,{className:s.rateButton,onClick:()=>{let e=null;switch(d){case.5:e=1;break;case 1:e=1.5;break;case 1.5:e=2;break;case 2:e=.5;break;default:e=1}m(e)},size:"small",disableRipple:!0},d,"x")),o.a.createElement("div",{className:s.controlsContainer},!i&&b&&o.a.createElement("div",{className:s.transcriptionContainer},o.a.createElement(z.a,{className:s.transcriptionText,variant:"body2"},o.a.createElement("strong",null,"Transcri\xe7\xe3o:")," ",b)),!i&&y&&o.a.createElement("div",{className:s.transcriptionContainer},o.a.createElement(z.a,{className:s.transcriptionText,variant:"body2"},o.a.createElement("strong",null,"Transcri\xe7\xe3o:")," ",v))))};const $s=Object(I.a)(e=>({modal:{backgroundColor:e.palette.background.paper},dialogPaper:{borderRadius:12,overflow:"hidden"},card:{borderRadius:12,boxShadow:"none",backgroundColor:"transparent"},mediaContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px",backgroundColor:e.palette.grey[100],position:"relative",overflow:"hidden"},mediaContent:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fileName:{padding:e.spacing(1,2),backgroundColor:e.palette.background.paper,textAlign:"center",fontWeight:500},captionInput:{padding:e.spacing(2),"& .MuiOutlinedInput-root":{borderRadius:20,backgroundColor:e.palette.background.paper},"& .MuiOutlinedInput-input":{padding:e.spacing(1.5,2)}},actions:{padding:e.spacing(1,2),backgroundColor:e.palette.background.paper,borderTop:"1px solid ".concat(e.palette.divider)},navigationButton:{color:e.palette.text.secondary,"&:hover":{backgroundColor:e.palette.action.hover}},disabledButton:{color:e.palette.action.disabled},activeButton:{color:e.palette.primary.main},paginationText:{margin:e.spacing(0,1),color:e.palette.text.secondary}}));var ec=e=>{let{isOpen:a,files:t,onClose:l,onSend:r,onCancelSelection:i}=e;const s=$s(),[c,d]=Object(n.useState)(0),[m,u]=Object(n.useState)(t.map(()=>"")),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(!1);Object(n.useEffect)(()=>{f(!0),g(!0)},[]);const v=()=>{l()},y=()=>{c>0&&(f(!0),d(c-1))},x=()=>{c<t.length-1&&(f(!0),d(c+1))},C=()=>{const e=t.map((e,a)=>({file:e,caption:m[a]}));r(e),v()},k=Object(n.useMemo)(()=>{if(!p)return null;if(h){const e=t[c];return e.type.startsWith("image")?o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{className:s.mediaContainer},o.a.createElement("img",{alt:"Imagem ".concat(c+1),src:URL.createObjectURL(e),className:s.mediaContent})),o.a.createElement(z.a,{variant:"subtitle1",className:s.fileName},e.name)):e.type.startsWith("video")?o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{className:s.mediaContainer},o.a.createElement("video",{src:URL.createObjectURL(e),controls:!0,volume:localStorage.getItem("volume"),className:s.mediaContent})),o.a.createElement(z.a,{variant:"subtitle1",className:s.fileName},e.name)):e.type.startsWith("audio")?o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{className:s.mediaContainer},o.a.createElement(Zs,{url:URL.createObjectURL(e)})),o.a.createElement(z.a,{variant:"subtitle1",className:s.fileName},e.name)):o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{className:s.mediaContainer},o.a.createElement(Gs.a,null,o.a.createElement(z.a,{variant:"h6",color:"textSecondary",align:"center"},"Visualiza\xe7\xe3o n\xe3o dispon\xedvel"),o.a.createElement(z.a,{variant:"body2",color:"textSecondary",align:"center"},e.type))),o.a.createElement(z.a,{variant:"subtitle1",className:s.fileName},e.name))}return null},[c,h]);return o.a.createElement(H.a,{open:a,fullWidth:!0,maxWidth:"md",onClose:v,classes:{paper:s.dialogPaper}},o.a.createElement(Ks.a,{className:s.card},k,o.a.createElement(W.a,null),o.a.createElement(tn.a,{className:s.captionInput},o.a.createElement(Ft.a,{fullWidth:!0,variant:"outlined",placeholder:"Adicione uma legenda (opcional)",multiline:!0,rows:2,rowsMax:4,value:m[c],onChange:e=>{const a=e.target.value;u(e=>{const t=[...e];return t[c]=a,t}),h&&E(!0)},onBlur:()=>{E(!1)},autoFocus:!0,onKeyDown:e=>{if("Enter"!==e.key||!e.shiftKey)switch(e.key){case"Escape":i();break;case"Enter":C();break;case"ArrowRight":x();break;case"ArrowLeft":y()}}})),o.a.createElement(tn.a,{className:s.actions},o.a.createElement(tn.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(F.a,{onClick:y,disabled:0===c,className:0===c?s.disabledButton:s.navigationButton},o.a.createElement(_s.a,null)),o.a.createElement(z.a,{variant:"body2",className:s.paginationText},c+1," / ",t.length),o.a.createElement(F.a,{onClick:x,disabled:c===t.length-1,className:c===t.length-1?s.disabledButton:s.navigationButton},o.a.createElement(Ys.a,null))),o.a.createElement(tn.a,{display:"flex"},o.a.createElement(F.a,{onClick:i,className:s.navigationButton},o.a.createElement(Js.a,null)),o.a.createElement(F.a,{onClick:C,className:s.activeButton},o.a.createElement(gs.a,null)))))))};const ac=Object(n.createContext)(),tc=e=>{let{children:a}=e;const[t,l]=Object(n.useState)(null);return o.a.createElement(ac.Provider,{value:{editingMessage:t,setEditingMessage:l}},a)};var nc=t(187),oc=t.n(nc);const lc=["inputRef"],rc=["InputProps","children","InputLabelProps","label"],ic=e=>{let{inputRef:a}=e,t=Object(at.a)(e,lc);return o.a.createElement("div",t)};var sc=e=>{let{InputProps:a,children:t,InputLabelProps:n,label:l}=e,r=Object(at.a)(e,rc);return o.a.createElement(Ft.a,Object.assign({},r,{variant:"outlined",label:l,multiline:!0,InputLabelProps:Object(S.a)({shrink:!0},n),InputProps:Object(S.a)({inputComponent:ic},a),inputProps:{children:t}}))};const cc=Object(I.a)(e=>({chip:{margin:e.spacing(.5),cursor:"pointer"}}));var dc=e=>{let{onClick:a,disabled:t}=e;const n=cc(),l=[{name:ma.a.t("messageVariablesPicker.vars.contactFirstName"),value:"{{firstName}}"},{name:ma.a.t("messageVariablesPicker.vars.contactName"),value:"{{name}} "},{name:ma.a.t("messageVariablesPicker.vars.user"),value:"{{userName}} "},{name:ma.a.t("messageVariablesPicker.vars.greeting"),value:"{{ms}} "},{name:ma.a.t("messageVariablesPicker.vars.protocolNumber"),value:"{{protocol}} "},{name:ma.a.t("messageVariablesPicker.vars.date"),value:"{{date}} "},{name:ma.a.t("messageVariablesPicker.vars.hour"),value:"{{hour}} "},{name:ma.a.t("messageVariablesPicker.vars.ticket_id"),value:"{{ticket_id}} "},{name:ma.a.t("messageVariablesPicker.vars.queue"),value:"{{queue}} "},{name:ma.a.t("messageVariablesPicker.vars.connection"),value:"{{connection}} "}];return o.a.createElement(sc,{margin:"dense",fullWidth:!0,label:ma.a.t("messageVariablesPicker.label"),disabled:t},l.map(e=>o.a.createElement(Vt.a,{key:e.value,onMouseDown:n=>((e,n)=>{e.preventDefault(),t||a(n)})(n,e.value),label:e.name,size:"small",className:n.chip,color:"primary"})))};const mc=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),uc=Dt.e().shape({body:Dt.f().min(5,"Mensagem muito curta").required("Obrigat\xf3rio"),contactId:Dt.d().required("Obrigat\xf3rio"),sendAt:Dt.f().required("Obrigat\xf3rio")});var pc=e=>{let{open:a,onClose:t,scheduleId:l,contactId:r,cleanContact:i,reload:s,message:c,fromMessageInput:d=!1,user:m}=e;const p=mc(),g=Object(T.useHistory)(),b=Object(n.useRef)(!0),{companyId:E}=m,h="admin"===m.profile,f={body:c||"",contactId:r||"",sendAt:ya()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),sentAt:"",openTicket:"enabled",ticketUserId:m.id,queueId:"",statusTicket:"open",intervalo:1,valorIntervalo:0,enviarQuantasVezes:1,tipoDias:4,assinar:!1},v={id:"",name:"",channel:""},[y,x]=Object(n.useState)(f),[C,k]=Object(n.useState)(v),[w,A]=Object(n.useState)([v]),[j,I]=Object(n.useState)(1),[M,N]=Object(n.useState)(4),[R,D]=Object(n.useState)(null),P=Object(n.useRef)(null),[L,W]=Object(n.useState)(!1),B=Object(n.useRef)(),[q,U]=Object(n.useState)("whatsapp"),[_,Y]=Object(n.useState)([]),[J,Z]=Object(n.useState)([]),[$,ee]=Object(n.useState)(!1),[ae,te]=Object(n.useState)([]),[ne,oe]=Object(n.useState)([]),[le,re]=Object(n.useState)(null),[ie,se]=Object(n.useState)(null),{findAll:ce}=Er(),[de,me]=Object(n.useState)([]),[ue,pe]=Object(n.useState)("");Object(n.useEffect)(()=>()=>{b.current=!1},[]),Object(n.useEffect)(()=>{if(b.current){(async()=>{const e=await ce();oe(e),te(e)})()}},[]),Object(n.useEffect)(()=>{if(ue.length<3)return ee(!1),void se("");const e=setTimeout(()=>{ee(!0);(async()=>{try{const{data:e}=await u.get("/users/");me(e.users),ee(!1)}catch(e){ee(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[ue]),Object(n.useEffect)(()=>{u.get("/whatsapp/filter",{params:{session:0,channel:q}}).then(e=>{let{data:a}=e;const t=a.map(e=>Object(S.a)(Object(S.a)({},e),{},{selected:!1}));Y(t),t.length&&1===(null===t||void 0===t?void 0:t.length)&&Z(t[0].id)})},[C,q]),Object(n.useEffect)(()=>{if(r&&w.length){const e=w.find(e=>e.id===r);e&&k(e)}},[r,w]),Object(n.useEffect)(()=>{const{companyId:e}=m;if(a)try{(async()=>{const{data:a}=await u.get("/contacts/list",{params:{companyId:e}});let t=a.map(e=>({id:e.id,name:e.name,channel:e.channel}));if(Object(da.isArray)(t)&&A([{id:"",name:"",channel:""},...t]),!l){const e=Object(S.a)(Object(S.a)({},f),{},{body:c||"",contactId:r||""});if(x(e),r&&t.length>0){const e=t.find(e=>e.id.toString()===r.toString());e&&(k(e),U(e.channel||"whatsapp"),console.log("\u2705 Contato auto-selecionado:",e.name))}return}const{data:n}=await u.get("/schedules/".concat(l));x(e=>Object(S.a)(Object(S.a)(Object(S.a)({},e),n),{},{sendAt:ya()(n.sendAt).format("YYYY-MM-DDTHH:mm")})),console.log("\ud83d\udcc5 Agendamento carregado:",n),n.whatsapp&&Z(n.whatsapp.id),!h&&n.ticketUser&&re(n.ticketUser),n.queueId&&se(n.queueId),n.intervalo&&I(n.intervalo),n.tipoDias&&N(n.tipoDias),k(n.contact)})()}catch(t){ga(t)}},[l,r,a,m,c,d]);const ge=Object(Ol.a)({trim:!0}),be=()=>{t(),D(null),x(f),k(v)},Ee=e=>e.name?o.a.createElement(o.a.Fragment,null,(e=>{switch(e){case"facebook":return o.a.createElement(Gl.a,{style:{color:"#3b5998",verticalAlign:"middle"}});case"instagram":return o.a.createElement(Kl.a,{style:{color:"#e1306c",verticalAlign:"middle"}});case"whatsapp":return o.a.createElement(_l.a,{style:{color:"#25d366",verticalAlign:"middle"}});default:return"error"}})(e.channel),o.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name)):"".concat(ma.a.t("newTicketModal.add")," ").concat(e.name);return o.a.createElement("div",{className:p.root},o.a.createElement(Si,{title:ma.a.t("scheduleModal.confirmationModal.deleteTitle"),open:L,onClose:()=>W(!1),onConfirm:async()=>{R&&(D(null),P.current.value=null),y.mediaPath&&(await u.delete("/schedules/".concat(y.id,"/media-upload")),x(e=>Object(S.a)(Object(S.a)({},e),{},{mediaPath:null})),O.b.success(ma.a.t("scheduleModal.toasts.deleted")),"function"==typeof s&&(console.log(s),console.log("1"),s()))}},ma.a.t("scheduleModal.confirmationModal.deleteMessage")),o.a.createElement(H.a,{open:a,onClose:be,maxWidth:"md",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"ERRO"===y.status?"Erro de Envio":"Mensagem ".concat(Object(da.capitalize)(y.status))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:P,onChange:e=>(e=>{const a=Object(da.head)(e.target.files);a&&D(a)})(e)})),o.a.createElement(Pt.e,{initialValues:y,enableReinitialize:!0,validationSchema:uc,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=Object(S.a)(Object(S.a)({},e),{},{userId:m.id,whatsappId:J,ticketUserId:(null===le||void 0===le?void 0:le.id)||null,queueId:ie||null,intervalo:j||1,tipoDias:M||4});try{if(l){if(await u.put("/schedules/".concat(l),a),null!=R){const e=new FormData;e.append("file",R),await u.post("/schedules/".concat(l,"/media-upload"),e)}}else{const{data:e}=await u.post("/schedules",a);if(null!=R){const a=new FormData;a.append("file",R),await u.post("/schedules/".concat(e.id,"/media-upload"),a)}}O.b.success(ma.a.t("scheduleModal.success")),"function"==typeof s&&s(),r&&"function"===typeof i&&(i(),g.push("/schedules"))}catch(t){ga(t)}k(v),x(f),be()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r,setFieldValue:i}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement("div",{className:p.multFieldLine},o.a.createElement(qt.a,{variant:"outlined",fullWidth:!0},o.a.createElement(Sl.a,{fullWidth:!0,value:C,options:w,onChange:(e,a)=>{const t=a?a.id:"";x(Object(S.a)(Object(S.a)({},y),{},{contactId:t})),k(a||v),U(a?a.channel:"whatsapp")},getOptionLabel:e=>e.name,renderOption:Ee,getOptionSelected:(e,a)=>a.id===e.id,renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{variant:"outlined",placeholder:"Contato"}))}))),o.a.createElement("div",{className:p.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,rows:9,multiline:!0,label:ma.a.t("scheduleModal.form.body"),name:"body",inputRef:B,error:a.body&&Boolean(t.body),helperText:a.body&&t.body,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:6},o.a.createElement(dc,{disabled:n,onClick:e=>(async(e,a)=>{const t=B.current,n=t.value.substring(0,t.selectionStart),o=t.value.substring(t.selectionEnd),l=t.selectionStart+e.length;a("body","".concat(n).concat(e).concat(o)),await new Promise(e=>setTimeout(e,100)),B.current.setSelectionRange(l,l)})(e,i)})),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:p.formControl},o.a.createElement(Bt.a,{id:"whatsapp-selection-label"},ma.a.t("campaigns.dialog.form.whatsapp")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("campaigns.dialog.form.whatsapp"),placeholder:ma.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappIds",name:"whatsappIds",required:!0,error:a.whatsappId&&Boolean(t.whatsappId),value:J,onChange:e=>Z(e.target.value)},_&&_.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:6},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:p.formControl},o.a.createElement(Bt.a,{id:"openTicket-selection-label"},ma.a.t("campaigns.dialog.form.openTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("campaigns.dialog.form.openTicket"),placeholder:ma.a.t("campaigns.dialog.form.openTicket"),labelId:"openTicket-selection-label",id:"openTicket",name:"openTicket",error:a.openTicket&&Boolean(t.openTicket)},o.a.createElement(V.a,{value:"enabled"},ma.a.t("campaigns.dialog.form.enabledOpenTicket")),o.a.createElement(V.a,{value:"disabled"},ma.a.t("campaigns.dialog.form.disabledOpenTicket")))))),o.a.createElement(Yt.a,{spacing:1,container:!0},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Sl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",className:p.formControl,getOptionLabel:e=>"".concat(e.name),value:h?le:m,size:"small",onChange:(e,a)=>{h&&(re(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&se(a.queues[0].id),te(a.queues)):(te(ne),se("")))},options:h?de:[m],filterOptions:ge,freeSolo:h,fullWidth:!0,disabled:"disabled"===r.openTicket||!h,autoHighlight:!0,noOptionsText:ma.a.t("transferTicketModal.noOptions"),loading:$,renderOption:e=>o.a.createElement("span",null," ",o.a.createElement(fr,{user:e})," ",e.name),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:h?e=>pe(e.target.value):void 0,InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,$?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment),readOnly:!h})}))})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:p.formControl},o.a.createElement(Bt.a,null,ma.a.t("transferTicketModal.fieldQueueLabel")),o.a.createElement(Wt.a,{value:ie,onChange:e=>se(e.target.value),label:ma.a.t("transferTicketModal.fieldQueuePlaceholder"),disabled:"disabled"===r.openTicket},ae.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),o.a.createElement(Yt.a,{spacing:1,container:!0,style:{marginTop:"-10px"}},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:p.formControl},o.a.createElement(Bt.a,{id:"statusTicket-selection-label"},ma.a.t("campaigns.dialog.form.statusTicket")),o.a.createElement(Pt.b,{as:Wt.a,disabled:"disabled"===r.openTicket,label:ma.a.t("campaigns.dialog.form.statusTicket"),placeholder:ma.a.t("campaigns.dialog.form.statusTicket"),labelId:"statusTicket-selection-label",id:"statusTicket",name:"statusTicket",error:a.statusTicket&&Boolean(t.statusTicket)},o.a.createElement(V.a,{value:"closed"},ma.a.t("campaigns.dialog.form.closedTicketStatus")),o.a.createElement(V.a,{value:"open"},ma.a.t("campaigns.dialog.form.openTicketStatus"))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"sendAt",error:a.sendAt&&Boolean(t.sendAt),helperText:a.sendAt&&t.sendAt,variant:"outlined",fullWidth:!0,size:"small",style:{marginTop:"8px"}})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,color:"primary",name:"assinar",checked:r.assinar,disabled:"disabled"===r.openTicket}),label:ma.a.t("scheduleModal.form.assinar")}))),o.a.createElement("h3",null,ma.a.t("recurrenceSection.title")),o.a.createElement("p",null,ma.a.t("recurrenceSection.description")),o.a.createElement("br",null),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:4,xl:4},o.a.createElement(qt.a,{size:"small",fullWidth:!0,variant:"outlined"},o.a.createElement(Bt.a,{id:"demo-simple-select-label"},ma.a.t("recurrenceSection.labelInterval")),o.a.createElement(Wt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,onChange:e=>I(e.target.value||1),label:ma.a.t("recurrenceSection.labelInterval")},o.a.createElement(V.a,{value:1},ma.a.t("recurrenceSection.options.days")),o.a.createElement(V.a,{value:2},ma.a.t("recurrenceSection.options.weeks")),o.a.createElement(V.a,{value:3},ma.a.t("recurrenceSection.options.months")),o.a.createElement(V.a,{value:4},ma.a.t("recurrenceSection.options.minutes"))))),o.a.createElement(Yt.a,{item:!0,xs:12,md:4,xl:4},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("recurrenceSection.intervalFilterValue"),name:"valorIntervalo",size:"small",error:a.valorIntervalo&&Boolean(t.valorIntervalo),InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:4,xl:4},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("recurrenceSection.sendAsManyTimes"),name:"enviarQuantasVezes",size:"small",error:a.enviarQuantasVezes&&Boolean(t.enviarQuantasVezes),variant:"outlined",fullWidth:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(qt.a,{size:"small",fullWidth:!0,variant:"outlined"},o.a.createElement(Bt.a,{id:"demo-simple-select-label"},ma.a.t("recurrenceSection.sendAsManyTimes")),o.a.createElement(Wt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:M,onChange:e=>N(e.target.value||4),label:"Enviar quantas vezes"},o.a.createElement(V.a,{value:4},ma.a.t("recurrenceSection.shipNormallyOnNonbusinessDays")),o.a.createElement(V.a,{value:5},ma.a.t("recurrenceSection.sendOneBusinessDayBefore")),o.a.createElement(V.a,{value:6}," ",ma.a.t("recurrenceSection.sendOneBusinessDayLater")))))),(y.mediaPath||R)&&o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(K.a,{startIcon:o.a.createElement(oc.a,null)},R?R.name:y.mediaName),o.a.createElement(F.a,{onClick:()=>W(!0),color:"secondary"},o.a.createElement(Rl.a,{color:"secondary"})))),o.a.createElement(X.a,null,!R&&!y.mediaPath&&o.a.createElement(K.a,{color:"primary",onClick:()=>P.current.click(),disabled:n,variant:"outlined"},ma.a.t("quickMessages.buttons.attach")),o.a.createElement(K.a,{onClick:be,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("scheduleModal.buttons.cancel")),(null===y.sentAt||""===y.sentAt)&&o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:p.btnWrapper},"".concat(l?ma.a.t("scheduleModal.buttons.okEdit"):ma.a.t("scheduleModal.buttons.okAdd")),n&&o.a.createElement(Lt.a,{size:24,className:p.buttonProgress}))))})))},gc=t(666);const bc=Object(I.a)(e=>({modal:{display:"flex",alignItems:"center",justifyContent:"center"},modalContent:{width:"80%",maxHeight:"80%",backgroundColor:e.palette.background.paper,padding:e.spacing(2),borderRadius:e.shape.borderRadius,overflowY:"auto"},searchContainer:{display:"flex",alignItems:"center",marginBottom:e.spacing(2)},searchInput:{marginLeft:e.spacing(1),flex:1},templateItem:{backgroundColor:e.palette.optionsBackground,color:e.palette.primary,padding:e.spacing(2),borderRadius:e.shape.borderRadius,marginBottom:e.spacing(2)},templateInfo:{display:"flex",justifyContent:"space-between",alignItems:"center"},category:{marginTop:e.spacing(1)}}));var Ec=e=>{let{open:a,handleClose:t,templates:l,onSelectTemplate:r}=e;const i=bc(),[s,c]=Object(n.useState)(""),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)({}),[E,h]=Object(n.useState)(""),f=e=>{const a=(null===e||void 0===e?void 0:e.components)||[],t=(e=>{const a=/{{(\d+)}}/g;let t={header:[],body:[],footer:[],buttons:[]};return e.forEach(e=>{var n;let o;const l=null===(n=e.type)||void 0===n?void 0:n.toLowerCase(),r=e.text||"";if("header"===l&&["IMAGE","VIDEO"].includes(null===e||void 0===e?void 0:e.format)&&t[l].push({type:"".concat(null===e||void 0===e?void 0:e.format.toLowerCase()),prompt:"image"===(null===e||void 0===e?void 0:e.format.toLowerCase())?"Insira a URL da imagem":"Insira a URL do v\xeddeo"}),"buttons"===l){JSON.parse(e.buttons).forEach((e,n)=>{if(e.example)console.log("button",e,n),t[l].push({type:e.type,prompt:e.example,index:n});else if(t[l])for(;null!==(o=a.exec(r));)t[l].push(o[0])})}else if(t[l])for(;null!==(o=a.exec(r));)t[l].push({type:"text",prompt:o[0]});else console.warn("Tipo de componente desconhecido: ".concat(l))}),t})(a);m(e),p(t),h(a.map(e=>null===e||void 0===e?void 0:e.text).join("\n"))},v=l.filter(e=>{var a;return null===e||void 0===e||null===(a=e.shortcode)||void 0===a?void 0:a.toLowerCase().includes(null===s||void 0===s?void 0:s.toLowerCase())});return o.a.createElement(gc.a,{open:a,onClose:t,className:i.modal,maxWidth:"md","aria-labelledby":"template-modal-title"},o.a.createElement(tn.a,{className:i.modalContent},o.a.createElement(z.a,{variant:"h6",id:"template-modal-title"},"Templates do WhatsApp"),!d&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.searchContainer},o.a.createElement(si.a,null),o.a.createElement(Ft.a,{variant:"outlined",placeholder:"Pesquisar Templates",value:s,onChange:e=>{c(e.target.value)},className:i.searchInput})),o.a.createElement(L.a,null,v.map((e,a)=>{var t;return o.a.createElement(_.a,{key:a,className:i.templateItem,onClick:()=>f(e)},o.a.createElement(J.a,{primary:o.a.createElement("div",{className:i.templateInfo},o.a.createElement(z.a,{variant:"body1"},e.shortcode),o.a.createElement(z.a,{variant:"body2"},"Idioma: ",e.language)),secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{variant:"body2",component:"div"},"Conte\xfado do Template: ",null===e||void 0===e||null===(t=e.components)||void 0===t?void 0:t.map(e=>null===e||void 0===e?void 0:e.text).join("\n")),o.a.createElement(z.a,{variant:"body2",className:i.category},"Categoria: ",e.category))}))}))),d&&o.a.createElement(tn.a,{mt:2},o.a.createElement(z.a,{variant:"h6"},"Detalhes do Template Selecionado"),o.a.createElement(z.a,{variant:"body1"},"Nome: ",d.name),o.a.createElement(z.a,{variant:"body2"},"Conte\xfado: ",E),o.a.createElement(z.a,{variant:"body2"},"Idioma: ",d.language),o.a.createElement(z.a,{variant:"body2"},"Categoria: ",d.category),Object.keys(u).map((e,a)=>o.a.createElement("div",{key:"".concat(e,"-").concat(a)},u[e].length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{variant:"h6"},e.toUpperCase()),u[e].map((a,t)=>{var n,l;return o.a.createElement(Ft.a,{key:"".concat(e,"-").concat(t),label:"".concat(null===a||void 0===a?void 0:a.prompt),value:(null===(n=g[e])||void 0===n||null===(l=n[t])||void 0===l?void 0:l.value)||"",onChange:n=>((e,a,t,n)=>{const o=Object(S.a)(Object(S.a)({},g[e]),{},{[a]:{value:t,buttonIndex:n}}),l=Object(S.a)(Object(S.a)({},g),{},{[e]:o});b(l)})(e,t,n.target.value,(null===a||void 0===a?void 0:a.index)||0),fullWidth:!0,margin:"normal"})})))),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{const e=((e,a)=>{let t=e;return Object.keys(a).forEach(e=>{const n=a[e];Array.isArray(n)?(console.log("componentVariables ARRAY",n),n.forEach((e,a)=>{const n="{{".concat(a+1,"}}"),o=(null===e||void 0===e?void 0:e.value)||"";t=t.replace(n,o)})):"object"===typeof n?(console.log("componentVariables OBJECT",n),"header"===e?(console.log("componentVariables",n),Object.keys(n).forEach((e,a)=>{var o;const l=(null===(o=n[e])||void 0===o?void 0:o.value)||"";if(console.log("value",l,l.startsWith("http")),l.startsWith("http"))t="".concat(l," \n ").concat(t),console.log("bodyToSave",t);else{const e="{{".concat(a+1,"}}");t=t.replace(e,l)}})):Object.keys(n).forEach((e,a)=>{var o;const l="{{".concat(a+1,"}}"),r=(null===(o=n[e])||void 0===o?void 0:o.value)||"";t=t.replace(l,r)})):console.error("Expected array or object for componentType: ".concat(e,", but got"),n)}),console.log("bodyToSave",t),t})(E,g),a=Object(S.a)(Object(S.a)({},d),{},{variables:g,bodyToSave:e});r(a)},fullWidth:!0,style:{marginTop:16}},"Enviar"),o.a.createElement(K.a,{variant:"outlined",onClick:()=>{m(null),b({}),h("")},fullWidth:!0,style:{marginTop:8}},"Voltar"))))};const hc=Object(I.a)(e=>({dialogPaper:{minWidth:400},formControl:{minWidth:"100%",marginBottom:e.spacing(2)},loadingWrapper:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},flowDescription:{marginTop:e.spacing(1),color:e.palette.text.secondary,fontSize:"0.875rem"},noFlowsMessage:{textAlign:"center",color:e.palette.text.secondary,padding:e.spacing(2)},successIcon:{color:_a.a[500],marginRight:e.spacing(1)}}));var fc=e=>{let{open:a,onClose:t,ticketId:l,ticketStatus:r,onFlowTriggered:i,onFlowProcessing:s}=e;const c=hc(),[d,m]=Object(n.useState)([]),[p,g]=Object(n.useState)(""),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(!0);Object(n.useEffect)(()=>{(async()=>{if(a){f(!0);try{const e=(await u.get("/flowbuilder")).data.flows||[];console.log("Resposta da API flowbuilder:",e);const a=e.filter(e=>!0===e.active);m(a),console.log("Fluxos ativos encontrados:",a)}catch(e){console.error("Erro ao carregar fluxos:",e),ga("Erro ao carregar fluxos dispon\xedveis")}finally{f(!1)}}})()},[a]),Object(n.useEffect)(()=>{a&&g("")},[a]),Object(n.useEffect)(()=>{s&&s(b)},[b,s]);const v=()=>{b||t()},y=p?d.find(e=>e.id===p):null;return o.a.createElement(H.a,{open:a,onClose:v,maxWidth:"sm",fullWidth:!0,classes:{paper:c.dialogPaper}},o.a.createElement(Q.a,null,ma.a.t("triggerFlowModal.title")),o.a.createElement(G.a,null,h?o.a.createElement("div",{className:c.loadingWrapper},o.a.createElement(Lt.a,null)):0===d.length?o.a.createElement("div",{className:c.noFlowsMessage},o.a.createElement(z.a,{variant:"body1"},ma.a.t("triggerFlowModal.noFlows"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},ma.a.t("triggerFlowModal.description")),o.a.createElement(qt.a,{className:c.formControl},o.a.createElement(Bt.a,{id:"flow-select-label"},ma.a.t("triggerFlowModal.selectFlow")),o.a.createElement(Wt.a,{labelId:"flow-select-label",value:p,onChange:e=>{g(e.target.value)},disabled:b},d.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))),y&&o.a.createElement(tn.a,{className:c.flowDescription},o.a.createElement(z.a,{variant:"caption",display:"block"},o.a.createElement("strong",null,ma.a.t("triggerFlowModal.selectedFlow"),":")," ",y.name),o.a.createElement(z.a,{variant:"caption",display:"block"},o.a.createElement("strong",null,ma.a.t("triggerFlowModal.flowId"),":")," ",y.id)),b&&o.a.createElement(tn.a,{display:"flex",alignItems:"center",justifyContent:"center",mt:2,p:2,bgcolor:"action.hover",borderRadius:1},o.a.createElement(Lt.a,{size:20,style:{marginRight:8}}),o.a.createElement(z.a,{variant:"body2",color:"textSecondary"},"Disparando fluxo... Campo de mensagem temporariamente desabilitado.")))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:v,color:"secondary",disabled:b},ma.a.t("triggerFlowModal.cancel")),o.a.createElement(K.a,{onClick:async()=>{if(p){E(!0);try{console.log("\ud83c\udfaf Disparando fluxo:",p,"para ticket:",l);const e=await u.post("/tickets/".concat(l,"/trigger-flow"),{flowId:p});e.data.success&&(O.b.success("Fluxo disparado com sucesso!"),console.log("\u2705 Fluxo disparado com sucesso:",e.data.data),i&&i(e.data.data),t())}catch(n){var e,a;console.error("\u274c Erro ao disparar fluxo:",n);const t=(null===(e=n.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Erro ao disparar fluxo";ga(t)}finally{E(!1)}}else O.b.warning("Selecione um fluxo para disparar")},color:"primary",variant:"contained",disabled:b||!p||h||0===d.length,startIcon:b&&o.a.createElement(Lt.a,{size:20})},b?ma.a.t("triggerFlowModal.triggering"):ma.a.t("triggerFlowModal.trigger"))))};const vc=new js.a({bitRate:128,sampleRate:44100}),yc=Object(I.a)(e=>({mainWrapper:{background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)",[e.breakpoints.down("sm")]:{position:"fixed",bottom:0,width:"100%"}},avatar:{width:"50px",height:"50px",borderRadius:"25%"},dropInfo:{background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",padding:15,left:0,right:0},dropInfoOut:{display:"none"},gridFiles:{maxHeight:"100%",overflow:"scroll"},newMessageBox:{background:e.palette.background.default,width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:e.palette.background.paper,display:"flex",borderRadius:20,flex:1,position:"relative",zIndex:1},messageInputWrapperPrivate:{padding:6,marginRight:7,background:"#F0E68C",display:"flex",borderRadius:20,flex:1,position:"relative",zIndex:1},messageInputWrapperPending:{padding:6,marginRight:7,background:"#FFE0B2",display:"flex",borderRadius:20,flex:1,position:"relative",border:"2px solid #FF9800",zIndex:1},messageInput:{paddingLeft:10,flex:1,border:"none"},messageInputPrivate:{paddingLeft:10,flex:1,border:"none",color:So.a[800]},messageInputPending:{paddingLeft:10,flex:1,border:"none",color:"#E65100",fontWeight:500},sendMessageIcons:{color:So.a[700]},ForwardMessageIcons:{color:So.a[700],transform:"scaleX(-1)"},uploadInput:{display:"none"},viewMediaInputWrapper:{maxHeight:"100%",display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"light"===e.mode?"#ffffff":"#202c33",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:_a.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:_a.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7,backgroundColor:e.palette.optionsBackground},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"light"===e.mode?"#f0f0f0":"#1d282f",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},floatingFormatMenu:{position:"fixed",backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[8],zIndex:9999,display:"flex",flexDirection:"row",alignItems:"center",padding:"4px",border:"1px solid ".concat(e.palette.divider)},formatIconButton:{padding:"6px",borderRadius:"4px",minWidth:"32px",height:"32px"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},messageQuickAnswersWrapper:{margin:0,position:"absolute",bottom:"50px",background:e.palette.background.default,padding:0,border:"none",left:0,width:"100%",maxHeight:"200px",overflowY:"auto",overflowX:"hidden",boxShadow:"0 -4px 16px rgba(0, 0, 0, 0.15)",borderRadius:"8px 8px 0 0",zIndex:9999,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.action.disabled,borderRadius:"3px","&:hover":{backgroundColor:e.palette.action.hover}},"& li":{listStyle:"none","& a":{display:"block",padding:"8px",textOverflow:"ellipsis",overflow:"hidden",maxHeight:"auto","&:hover":{background:e.palette.background.paper,cursor:"pointer"}}}},quickAnswerItem:{display:"flex",alignItems:"center",gap:e.spacing(1),padding:e.spacing(1.5),minHeight:"48px",cursor:"pointer",borderRadius:"4px",margin:"2px 4px","&:hover":{backgroundColor:e.palette.action.hover},transition:"all 0.2s ease-in-out"},quickAnswerItemSelected:{backgroundColor:e.palette.primary.light+"30",borderLeft:"4px solid ".concat(e.palette.primary.main),fontWeight:500},quickAnswersScrollIndicator:{textAlign:"center",padding:e.spacing(1),fontSize:"0.75rem",color:e.palette.text.secondary,fontStyle:"italic",borderTop:"1px solid ".concat(e.palette.divider),backgroundColor:e.palette.background.paper},quickAnswerText:{flex:1,textOverflow:"ellipsis",overflow:"hidden"},mediaTypeChip:{height:20,fontSize:"0.7rem"},invertedFabMenu:{border:"none",borderRadius:50,boxShadow:"none",padding:e.spacing(1),backgroundColor:"transparent",color:"grey","&:hover":{backgroundColor:"transparent"},"&:disabled":{backgroundColor:"transparent !important"}},invertedFabMenuMP:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:as.a[800],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuCont:{border:"none",borderRadius:0,boxShadow:"none",minHeight:"auto",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:as.a[500],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuMeet:{border:"none",borderRadius:0,boxShadow:"none",minHeight:"auto",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:_a.a[500],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuDoc:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:"#7f66ff","&:hover":{backgroundColor:"transparent"}},invertedFabMenuCamera:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:ts.a[500],"&:hover":{backgroundColor:"transparent"}},flexContainer:{display:"flex",flex:1,flexDirection:"column"},flexItem:{flex:1},pendingAlert:{marginBottom:e.spacing(1),padding:e.spacing(1,2),backgroundColor:"#E3F2FD",border:"1px solid #2196F3",borderRadius:4,display:"flex",alignItems:"center",gap:e.spacing(1),color:"#1976D2",fontSize:"0.875rem"}}));var xc=e=>{let{ticketId:a,ticketStatus:t,droppedFiles:l,contactId:r,ticketChannel:i,whatsappId:s}=e;const c=yc(),d=Object(D.a)(),[m,p]=Object(n.useState)([]),g=Object(n.useRef)(!0),[b,h]=Object(n.useState)(""),[f,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)([]),[w,A]=Object(n.useState)(!1),[T,O]=Object(n.useState)(!1),[I,M]=Object(n.useState)([]),[N,R]=Object(n.useState)(!1),P=Object(n.useRef)(),[L,W]=Object(n.useState)(!1),[B,q]=Object(n.useState)(null),{setReplyingMessage:z,replyingMessage:H}=Object(n.useContext)(Is),{setEditingMessage:Q,editingMessage:G}=Object(n.useContext)(ac),{user:K}=Object(n.useContext)(Ca),[_,Y]=Object(n.useState)(!1),{getPlanCompany:J}=Ia(),[X,Z]=Object(n.useState)(!1),{get:$}=Da(),[ee,ae]=Object(n.useState)(!0),[te,ne]=Object(n.useState)(!1),[oe,le]=Object(n.useState)(!1),[re,ie]=Object(n.useState)(!1),[se,ce]=Object(n.useState)(!1),[me,ue]=Object(n.useState)(!1),[pe,ge]=Object(n.useState)(!1),{list:be}=Ds(),Ee=Object(E.a)("(max-width: 767px)"),[he,fe]=Object(n.useState)(""),[ve,ye]=Object(n.useState)(-1),[xe,Ce]=Object(n.useState)(!1),[ke,we]=Object(n.useState)(!1),[Ae,Te]=Object(n.useState)(!1),Oe=Object(n.useRef)(!1),[Se,je]=Object(n.useState)(null),[Ie,Me]=Object(n.useState)({text:"",start:0,end:0}),Ne=()=>"pending"===t;Object(n.useEffect)(()=>{Ne()&&(ne(!0),le(!0))},[t]),Object(n.useEffect)(()=>{pe&&async function(){const e=await u.request({url:"/quick-messages/list",method:"GET",params:{isOficial:"true",userId:K.id,companyId:K.companyId,status:"APPROVED"}});k(e.data)}()},[pe]),Object(n.useEffect)(()=>{!async function(){const e=K.companyId,a=await J(void 0,e);ue(a.plan.useSchedules),ge(a.plan.useWhatsappOfficial)}()},[]),Object(n.useEffect)(()=>{fe("open"===t||"group"===t?ma.a.t("messagesInput.placeholderOpen"):"pending"===t?"Digite sua mensagem interna (ticket aguardando)...":ma.a.t("messagesInput.placeholderClosed"));const e=Ee?20:1/0;Ee&&he.length>e&&fe(he.substring(0,e)+"...")},[t]);const{selectedMessages:Re,setForwardMessageModalOpen:De,showSelectMessageCheckbox:Pe}=Object(n.useContext)(Hs);Object(n.useEffect)(()=>{if(l&&l.length>0){const e=Array.from(l);p(e),ce(!0)}},[l]),Object(n.useEffect)(()=>()=>{g.current=!1},[]),Object(n.useEffect)(()=>{P.current.focus(),G&&h(G.body)},[H,G]),Object(n.useEffect)(()=>(P.current.focus(),()=>{h(""),v(!1),p([]),z(null),Ne()||(ne(!1),le(!1)),Q(null)}),[a,z,Q]),Object(n.useEffect)(()=>{let e=!1;const t=t=>{if(e)return void console.log("\u26a0\ufe0f J\xe1 processando evento, ignorando...");e=!0,console.log("\ud83d\udce5 Evento insertQuickMessage recebido:",t.detail);const{quickMessage:n}=t.detail;if(!n)return console.error("\u274c quickMessage n\xe3o encontrado no evento"),void(e=!1);if(console.log("\ud83d\udd0d Processando quickMessage:",{hasMedia:!!n.mediaPath,mediaType:n.mediaType,message:n.message,ticketId:a}),n.mediaPath)console.log("\ud83c\udfb5 Processando resposta r\xe1pida com m\xeddia"),Ye({value:n.message||"",mediaPath:n.mediaPath,mediaType:n.mediaType,shortcode:n.shortcode,label:"/".concat(n.shortcode," - ").concat(n.message)}).finally(()=>{e=!1});else{console.log("\ud83d\udcdd Processando resposta r\xe1pida de texto");const a=(null===b||void 0===b?void 0:b.trim())||"",t=a?"".concat(a,"\n\n").concat(n.message):n.message;h(t),setTimeout(()=>{if(P.current){P.current.focus();const e=t.length;P.current.setSelectionRange(e,e)}e=!1},100)}};return window.addEventListener("insertQuickMessage",t),()=>{window.removeEventListener("insertQuickMessage",t),e=!1}},[b,a,te]),Object(n.useEffect)(()=>{setTimeout(()=>{g.current&&W(!1)},1e3)},[!0===L]),Object(n.useEffect)(()=>{(async()=>{const e=await $({column:"sendSignMessage"});if(g.current)if("enabled"===e.sendSignMessage){Z(!0);const e=JSON.parse(localStorage.getItem("persistentSignMessage"));Object(da.isNil)(e)?ae(!0):ae(e)}else"dontSend"===e.sendSignMessage?(localStorage.setItem("persistentSignMessage",!1),ae(!1),Z(!1)):Z(!1)})()},[]);const Fe=e=>e&&"string"===typeof e?e.charAt(0).toUpperCase()+e.slice(1):"",Le=Object(n.useCallback)(()=>{console.log("\ud83c\udfaf Abrindo modal de fluxo"),Te(!1),Oe.current=!1,we(!0)},[]),We=Object(n.useCallback)(()=>{console.log("\ud83d\udeaa Fechando modal"),Te(!1),Oe.current=!1,we(!1)},[]),Be=Object(n.useCallback)(e=>{console.log("\ud83d\udd04 Flow processing:",e),Te(e),Oe.current=e,e&&setTimeout(()=>{console.log("\u23f0 TIMEOUT - Liberando campo FOR\xc7ADO"),Te(!1),Oe.current=!1},8e3)},[]),qe=Object(n.useCallback)(e=>{console.log("\u2705 Fluxo conclu\xeddo"),Te(!1),Oe.current=!1},[]),ze=Object(n.useCallback)(e=>{if(!N||!Array.isArray(N)||0===N.length)return ye(-1),void Ce(!1);switch(e.key){case"ArrowDown":e.preventDefault(),Ce(!0),ye(e=>{const a=e<N.length-1?e+1:0;return setTimeout(()=>{const e=document.querySelector(".MuiBox-root ul");if(e){const t=e.children[a];t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}},0),a});break;case"ArrowUp":e.preventDefault(),Ce(!0),ye(e=>{const a=e>0?e-1:N.length-1;return setTimeout(()=>{const e=document.querySelector(".MuiBox-root ul");if(e){const t=e.children[a];t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}},0),a});break;case"Enter":if(xe&&ve>=0){e.preventDefault();const a=N[ve];Ye(a),ye(-1),Ce(!1)}break;case"Escape":xe&&(e.preventDefault(),ye(-1),Ce(!1),R(!1));break;case"Tab":xe&&(e.preventDefault(),ye(e=>e<N.length-1?e+1:0));break;default:xe&&1===e.key.length&&(ye(-1),Ce(!1))}},[N,ve,xe]);Object(n.useEffect)(()=>{N&&Array.isArray(N)&&0!==N.length||(ye(-1),Ce(!1))},[N]);const Ue=e=>({backgroundColor:ve===e?"light"===d.mode?"#e3f2fd":"#1e3a5f":"transparent",borderLeft:ve===e?"4px solid ".concat(d.palette.primary.main):"4px solid transparent"}),Ve=async()=>{const e="https://meet.jit.si/".concat(a);h(e)},He=async()=>{x(!0)},Qe=Object(n.useCallback)(e=>{h(e.target.value)},[]),Ge=e=>{Ne()||(ne(!te),le(!oe))},Ke=e=>{switch(e){case"audio":return"\ud83c\udfb5";case"image":return"\ud83d\uddbc\ufe0f";case"video":return"\ud83c\udfa5";case"document":default:return"\ud83d\udcce"}},_e=e=>{switch(e){case"audio":return"secondary";case"image":return"primary";case"video":case"document":default:return"default"}},Ye=Object(n.useCallback)(async e=>{if(w)console.log("\u26a0\ufe0f J\xe1 processando, ignorando clique...");else{if(console.log("\ud83c\udfaf handleQuickAnswersClick chamado:",e),console.log("\ud83d\udccb ticketId atual:",a),!a)return console.error("\u274c ticketId n\xe3o encontrado"),void ga("Erro: ID do ticket n\xe3o encontrado");if(e.mediaPath)try{A(!0),console.log("\ud83d\udce5 Baixando m\xeddia:",e.mediaPath);const a=await u.get(e.mediaPath,{responseType:"blob"});console.log("\u2705 M\xeddia baixada com sucesso, tamanho:",a.data.size);const t=e.value&&""!==e.value.trim()?e.value:"";return await Je(a.data,t,e.mediaType),console.log("\u2705 M\xeddia enviada com sucesso"),h(""),void R(!1)}catch(t){console.error("\u274c Erro ao processar m\xeddia:",t),ga(t)}finally{A(!1)}else h(e.value||""),R(!1)}},[w,a,te]),Je=Object(n.useCallback)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log("\ud83d\udce4 Iniciando upload de m\xeddia:",{blobSize:e.size,message:t,mediaType:n,ticketId:a}),!a)throw new Error("ID do ticket n\xe3o encontrado");if(w)console.log("\u26a0\ufe0f Upload j\xe1 em andamento, ignorando...");else try{let o="bin";if(e.type){o=e.type.split("/")[1],(e.type.includes("webm")||e.type.includes("audio"))&&(o=e.type.includes("webm")?"webm":"mp3")}else if(n){o={audio:"webm",image:"jpg",video:"mp4",document:"pdf"}[n]||"bin"}const l=new FormData,r="".concat((new Date).getTime(),".").concat(o);l.append("medias",e,r),l.append("typeArch","quickMessage");const i=t&&""!==t.trim()?te||Ne()?"\u200d".concat(t):t:te||Ne()?"\u200d":"";if(l.append("body",i),l.append("fromMe",!0),l.append("isPrivate",te||Ne()?"true":"false"),console.log("\ud83d\udce4 Enviando para:","/messages/".concat(a)),g.current){const e=await u.post("/messages/".concat(a),l);console.log("\u2705 Upload realizado com sucesso:",e.status)}}catch(o){throw console.error("\u274c Erro no upload:",o),ga(o),o}}),[a,te,w]),Xe=e=>{let a=e.native;h(e=>e+a)},[Ze,$e]=Object(n.useState)(!1),ea=e=>{e&&ha(e)},aa=e=>{if(!e.target.files)return;const a=Array.from(e.target.files);p(a),ce(!0)},ta=e=>{la()},na=()=>{if(0===Re.length)return De(!1),void ga(ma.a.t("messagesList.header.notMessage"));De(!0)},la=()=>{const e=JSON.parse(localStorage.getItem("persistentSignMessage"));null!==e?e?(localStorage.setItem("persistentSignMessage",!1),ae(!1)):(localStorage.setItem("persistentSignMessage",!0),ae(!0)):(localStorage.setItem("persistentSignMessage",!1),ae(!1))},ia=e=>{if(e.clipboardData.files[0]){const a=Array.from(e.clipboardData.files);p(a),ce(!0)}},sa=e=>{if(e.preventDefault(),e.dataTransfer.files[0]){const a=Array.from(e.dataTransfer.files);p(a),ce(!0)}},ca=async e=>{if(A(!0),!e.length)return console.log("Nenhuma m\xeddia selecionada."),void A(!1);const t=new FormData;t.append("fromMe",!0),t.append("isPrivate",te||Ne()?"true":"false"),e.forEach(e=>{t.append("body",e.caption),t.append("medias",e.file)});try{await u.post("/messages/".concat(a),t)}catch(n){ga(n)}A(!1),p([]),ce(!1),Ne()||(ne(!1),le(!1))},ua=async()=>{if(!b||""===b.trim())return;A(!0);const e=te||Ne()?"".concat(K.name," - Mensagem Interna"):K.name,t=b.trim(),n={read:1,fromMe:!0,mediaUrl:"",body:(ee&&!Ne()||te||Ne())&&!G?"*".concat(e,":*\n").concat(t):t,quotedMsg:H,isPrivate:te||Ne()?"true":"false"};try{null!==G?await u.post("/messages/edit/".concat(G.id),n):(console.log("ENVIOU PARA TIKCET",a),await u.post("/messages/".concat(a),n))}catch(o){ga(o)}h(""),v(!1),A(!1),z(null),Ne()||ne(!1),Q(null),Ne()||le(!1),ka()},pa=async()=>{A(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0}),await vc.start(),O(!0),A(!1)}catch(e){ga(e),A(!1)}};Object(n.useEffect)(()=>{!async function(){const e=K.companyId,a=(await be({companyId:e,userId:K.id,isOficial:"whatsapp_oficial"===i?"true":"false"})).map(e=>{let a=e.message;return Object(da.isString)(a)&&a.length>90&&(a=e.message.substring(0,90)+"..."),{value:e.message,label:"/".concat(e.shortcode," - ").concat(a),mediaPath:e.mediaPath,mediaType:e.mediaType,shortcode:e.shortcode}});g.current&&M(a)}()},[]),Object(n.useEffect)(()=>{if(Object(da.isString)(b)&&!Object(da.isEmpty)(b)&&b.length>=1){const e=b.charAt(0);if("/"===e){R(e.indexOf("/")>-1);const a=I.filter(e=>e.label.toLowerCase().indexOf(b.toLowerCase())>-1);R(a)}else R(!1)}else R(!1)},[b]),Object(n.useEffect)(()=>{console.log("\ud83d\udd0d Modal state:",ke,"Flow processing:",Ae),!ke&&Ae&&(console.log("\ud83d\udd13 FOR\xc7ANDO libera\xe7\xe3o do campo"),Te(!1),Oe.current=!1)},[ke,Ae]);const ba=Object(n.useCallback)(()=>{const e=Oe.current||Ae;return w||T||e||!Ne()&&"open"!==t&&"group"!==t},[w,T,Ae,t]),Ea=Object(n.useCallback)(()=>{const e=Oe.current||Ae;return w||T||e||"closed"===t},[w,T,Ae,t]),ha=async e=>{A(!0);try{const t=new FormData,n="".concat((new Date).getTime(),".png");t.append("medias",e,n),t.append("body",te||Ne()?"\u200d":""),t.append("fromMe",!0),await u.post("/messages/".concat(a),t)}catch(t){ga(t),A(!1)}A(!1)},fa=async()=>{A(!0);try{const[,e]=await vc.stop().getMp3();if(e.size<1e4)return A(!1),void O(!1);const t=new FormData;let n;n=["whatsapp","whatsapp_oficial"].includes(i)?/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"audio_".concat((new Date).getTime(),".ogg"):"audio_".concat((new Date).getTime(),".mp3"):"".concat((new Date).getTime(),".m4a"),t.append("medias",e,n),t.append("body","\ud83c\udfb5 Mensagem de voz"),t.append("fromMe",!0),t.append("isPrivate",te||Ne()?"true":"false"),console.log("\ud83d\udce4 Enviando \xe1udio: ".concat(n," (").concat(e.size," bytes)")),g.current&&await u.post("/messages/".concat(a),t)}catch(e){ga(e)}finally{g.current&&(A(!1),O(!1))}},va=()=>{ce(!1)},ya=async()=>{try{await vc.stop().getMp3(),O(!1)}catch(e){ga(e)}},xa=e=>{q(e.currentTarget)},ka=e=>{q(null)},wa=async()=>{ka(),ie(!0)},Aa=async()=>{ka(),$e(!0)},Ta=()=>{p([]),ce(!1)},Oa=Object(n.useCallback)(()=>{if(P.current){const e=P.current.selectionStart,a=P.current.selectionEnd;if(e!==a&&null!==e&&null!==a){const t=b.substring(e,a);if(""!==t.trim()){const n=P.current.getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop;return Me({text:t,start:e,end:a}),je({x:n.left+n.width/2,y:n.top+o-10}),!0}}}return je(null),!1},[b]),Sa=Object(n.useCallback)(()=>{je(null)},[]),ja=Object(n.useCallback)(e=>{const{text:a,start:t,end:n}=Ie;let o="";switch(e){case"bold":o="*".concat(a,"*");break;case"italic":o="_".concat(a,"_");break;case"strikethrough":o="~".concat(a,"~");break;case"code":o="`".concat(a,"`");break;case"numberedList":o=a.split("\n").map((e,a)=>"".concat(a+1,". ").concat(e)).join("\n");break;case"bulletList":o=a.split("\n").map(e=>"\u2022 ".concat(e)).join("\n");break;case"quote":o=a.split("\n").map(e=>"> ".concat(e)).join("\n");break;case"clear":o=a.replace(/\*([^*]+)\*/g,"$1").replace(/_([^_]+)_/g,"$1").replace(/~([^~]+)~/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/^\d+\.\s/gm,"").replace(/^\u2022\s/gm,"").replace(/^>\s/gm,"");break;default:o=a}const l=b.substring(0,t)+o+b.substring(n);h(l),Sa(),setTimeout(()=>{if(P.current){P.current.focus();const e=t+o.length;P.current.selectionStart=e,P.current.selectionEnd=e}},100)},[Ie,b,Sa]),Ma=Object(n.useCallback)(()=>{Oa()},[Oa]),Na=Object(n.useCallback)(()=>{Oa()},[Oa]),Ra=Object(n.useCallback)(e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Shift"!==e.key||Oa()},[Oa]),Pa=e=>{var a;return o.a.createElement("div",{className:c.replyginMsgWrapper},o.a.createElement("div",{className:c.replyginMsgContainer},o.a.createElement("span",{className:Object(j.a)(c.replyginContactMsgSideColor,{[c.replyginSelfMsgSideColor]:!e.fromMe})}),H&&o.a.createElement("div",{className:c.replyginMsgBody},!e.fromMe&&o.a.createElement("span",{className:c.messageContactName},null===(a=e.contact)||void 0===a?void 0:a.name),e.body)),o.a.createElement(F.a,{"aria-label":"showRecorder",component:"span",disabled:Ea(),onClick:()=>{z(null),Q(null),h("")}},o.a.createElement(ns.a,{className:c.sendMessageIcons})))},Fa=()=>{const e=Boolean(Se),a=Object(E.a)(d.breakpoints.down("sm"));return e?o.a.createElement($i.a,{onClickAway:Sa},o.a.createElement(Fn.a,{in:e},o.a.createElement("div",{className:c.floatingFormatMenu,style:{top:Se?Se.y-50:0,left:Se?Se.x:0}},o.a.createElement(de.a,{title:"Negrito"},o.a.createElement(F.a,{className:c.formatIconButton,disabled:Ea(),onClick:()=>ja("bold"),size:"small"},o.a.createElement(hs.a,{fontSize:a?"small":"medium"}))),o.a.createElement(de.a,{title:"It\xe1lico"},o.a.createElement(F.a,{className:c.formatIconButton,disabled:Ea(),onClick:()=>ja("italic"),size:"small"},o.a.createElement(fs.a,{fontSize:a?"small":"medium"}))),o.a.createElement(de.a,{title:"Tachado"},o.a.createElement(F.a,{className:c.formatIconButton,disabled:Ea(),onClick:()=>ja("strikethrough"),size:"small"},o.a.createElement(vs.a,{fontSize:a?"small":"medium"}))),o.a.createElement(de.a,{title:"C\xf3digo"},o.a.createElement(F.a,{className:c.formatIconButton,disabled:Ea(),onClick:()=>ja("code"),size:"small"},o.a.createElement(ys.a,{fontSize:a?"small":"medium"}))),o.a.createElement(de.a,{title:"Lista Numerada"},o.a.createElement(F.a,{className:c.formatIconButton,disabled:Ea(),onClick:()=>ja("numberedList"),size:"small"},o.a.createElement(xs.a,{fontSize:a?"small":"medium"}))),o.a.createElement(de.a,{title:"Lista com Marcadores"},o.a.createElement(F.a,{className:c.formatIconButton,disabled:Ea(),onClick:()=>ja("bulletList"),size:"small"},o.a.createElement(Cs.a,{fontSize:a?"small":"medium"}))),o.a.createElement(de.a,{title:"Cita\xe7\xe3o"},o.a.createElement(F.a,{className:c.formatIconButton,disabled:Ea(),onClick:()=>ja("quote"),size:"small"},o.a.createElement(ks.a,{fontSize:a?"small":"medium"}))),o.a.createElement(de.a,{title:"Limpar Formata\xe7\xe3o"},o.a.createElement(F.a,{className:c.formatIconButton,disabled:Ea(),onClick:()=>ja("clear"),size:"small"},o.a.createElement(ws.a,{fontSize:a?"small":"medium"})))))):null};return m.length>0?o.a.createElement(Gt.a,{elevation:0,square:!0,className:c.viewMediaInputWrapper,onDragEnter:()=>W(!0),onDrop:e=>sa(e)},se&&o.a.createElement(ec,{isOpen:se,files:m,onClose:va,onSend:ca,onCancelSelection:Ta})):o.a.createElement(o.a.Fragment,null,y&&o.a.createElement(Ec,{open:y,handleClose:()=>x(!1),onSelectTemplate:e=>(async e=>{if(""===e.id)return;A(!0);const t={templateId:e.id,variables:e.variables,bodyToSave:e.bodyToSave,mediaUrl:"",quotedMsg:H};try{await u.post("/messages-template/".concat(a),t),A(!1)}catch(n){ga(n),A(!1)}x(!1),h(""),v(!1),z(null),Ne()||ne(!1),Q(null),Ne()||le(!1),ka()})(e),templates:C}),Ze&&o.a.createElement(Vs,{isOpen:Ze,onRequestClose:()=>$e(!1),onCapture:ea}),re&&o.a.createElement(Ls,{modalOpen:re,onClose:e=>{(async e=>{if(ie(!1),A(!0),Object(da.isNil)(e))return void A(!1);const t={read:1,fromMe:!0,mediaUrl:"",body:null,quotedMsg:H,isPrivate:te||Ne()?"true":"false",vCard:e};try{await u.post("/messages/".concat(a),t)}catch(n){ga(n)}h(""),v(!1),A(!1),z(null),Q(null),Ne()||(ne(!1),le(!1))})(e)}}),ke&&o.a.createElement(fc,{open:ke,onClose:We,ticketId:a,ticketStatus:t,onFlowTriggered:qe,onFlowProcessing:Be}),o.a.createElement(Gt.a,{square:!0,elevation:0,className:c.mainWrapper,onDragEnter:()=>W(!0),onDrop:e=>sa(e)},Ne()?o.a.createElement(tn.a,{className:c.pendingAlert},o.a.createElement(Ln.a,{style:{fontSize:20}}),o.a.createElement("span",null,o.a.createElement("strong",null,"Ticket Aguardando:")," Apenas mensagens internas s\xe3o permitidas neste momento.")):null,Ae?o.a.createElement(tn.a,{className:c.pendingAlert,style:{backgroundColor:"#E8F5E8",borderColor:"#4CAF50"}},o.a.createElement(Lt.a,{size:16,style:{marginRight:8}}),o.a.createElement("span",null,o.a.createElement("strong",null,"Fluxo em Execu\xe7\xe3o:")," Campo de mensagem temporariamente desabilitado.")):null,H&&Pa(H)||G&&Pa(G),o.a.createElement("div",{className:c.newMessageBox},!Ne()&&o.a.createElement(il.a,{only:["sm","xs"]},o.a.createElement(F.a,{"aria-label":"emojiPicker",component:"span",disabled:ba(),onClick:e=>v(e=>!e)},o.a.createElement(os.a,{className:c.sendMessageIcons})),f?o.a.createElement("div",{className:c.emojiBox},o.a.createElement($i.a,{onClickAway:e=>v(!0)},o.a.createElement(Zi.a,{perLine:16,theme:"dark",i18n:ma.a,showPreview:!0,showSkinTones:!1,onSelect:Xe}))):null,o.a.createElement(es.a,{disabled:ba(),"aria-label":"uploadMedias",component:"span",className:c.invertedFabMenu,onClick:xa},o.a.createElement(Ts.a,null)),o.a.createElement(U.a,{anchorEl:B,keepMounted:!0,open:Boolean(B),onClose:ka,id:"simple-menu"},o.a.createElement(V.a,{onClick:ka},o.a.createElement("input",{multiple:!0,type:"file",id:"upload-img-button",accept:"image/*, video/*, audio/* ",className:c.uploadInput,onChange:aa}),o.a.createElement("label",{htmlFor:"upload-img-button"},o.a.createElement(es.a,{"aria-label":"upload-img",component:"span",className:c.invertedFabMenuMP},o.a.createElement(ls.a,null)),ma.a.t("messageInput.type.imageVideo"))),o.a.createElement(V.a,{onClick:Aa},o.a.createElement(es.a,{className:c.invertedFabMenuCamera},o.a.createElement(Os.a,null)),ma.a.t("messageInput.type.cam")),o.a.createElement(V.a,{onClick:ka},o.a.createElement("input",{multiple:!0,type:"file",id:"upload-doc-button",accept:"application/*, text/*, .odt, .ods, .odp, .odg, .xml, .ofx, .zip, .rar, .7z, .tar, .gz, .bz2, .msg, .key, .numbers, .pages",className:c.uploadInput,onChange:aa}),o.a.createElement("label",{htmlFor:"upload-doc-button"},o.a.createElement(es.a,{"aria-label":"upload-img",component:"span",className:c.invertedFabMenuDoc},o.a.createElement(oa.a,null)),"Documento")),o.a.createElement(V.a,{onClick:wa},o.a.createElement(es.a,{className:c.invertedFabMenuCont},o.a.createElement(rs.a,null)),ma.a.t("messageInput.type.contact")),o.a.createElement(V.a,{onClick:Ve},o.a.createElement(es.a,{className:c.invertedFabMenuMeet},o.a.createElement(is.a,null)),ma.a.t("messageInput.type.meet")),pe&&"whatsapp_oficial"===i&&o.a.createElement(V.a,{onClick:He},o.a.createElement(es.a,{className:c.invertedFabMenuMeet},o.a.createElement(_l.a,null)),ma.a.t("messageInput.type.template"))),X&&o.a.createElement(de.a,{title:ma.a.t("messageInput.tooltip.signature")},o.a.createElement(F.a,{"aria-label":"send-upload",component:"span",onClick:ta},!0===ee?o.a.createElement(ss.a,{style:{color:"light"===d.mode?d.palette.primary.main:"#EEE"}}):o.a.createElement(ss.a,{style:{color:"grey"}}))),"open"===t&&o.a.createElement(de.a,{title:"Disparar Fluxo"},o.a.createElement(F.a,{"aria-label":"trigger-flow",component:"span",onClick:Le,disabled:ba()},o.a.createElement(cs.a,{style:{color:"light"===d.mode?d.palette.secondary.main:"#EEE"}}))),!Ne()&&o.a.createElement(de.a,{title:ma.a.t("messageInput.tooltip.privateMessage")},o.a.createElement(F.a,{"aria-label":"send-upload",component:"span",onClick:Ge},!0===te?o.a.createElement(ds.a,{style:{color:"light"===d.mode?d.palette.primary.main:"#EEE"}}):o.a.createElement(ds.a,{style:{color:"grey"}})))),Ne()&&o.a.createElement(il.a,{only:["md","lg","xl"]},o.a.createElement(F.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:xa},o.a.createElement(ms.a,null)),o.a.createElement(U.a,{id:"simple-menu",keepMounted:!0,anchorEl:B,open:Boolean(B),onClose:ka},o.a.createElement(V.a,{onClick:ka},o.a.createElement(F.a,{"aria-label":"emojiPicker",component:"span",disabled:Ea(),onClick:e=>v(e=>!e)},o.a.createElement(os.a,{className:c.sendMessageIcons})),"Emoji"))),!Ne()&&o.a.createElement(il.a,{only:["md","lg","xl"]},o.a.createElement(F.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:xa},o.a.createElement(ms.a,null)),o.a.createElement(U.a,{id:"simple-menu",keepMounted:!0,anchorEl:B,open:Boolean(B),onClose:ka},o.a.createElement(V.a,{onClick:ka},o.a.createElement(F.a,{"aria-label":"emojiPicker",component:"span",disabled:ba(),onClick:e=>v(e=>!e)},o.a.createElement(os.a,{className:c.sendMessageIcons}))),o.a.createElement(V.a,{onClick:ka},o.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:ba(),className:c.uploadInput,onChange:aa}),o.a.createElement("label",{htmlFor:"upload-button"},o.a.createElement(F.a,{"aria-label":"upload",component:"span",disabled:ba()},o.a.createElement(ra.a,{className:c.sendMessageIcons})))),X&&o.a.createElement(de.a,{title:"Habilitar/Desabilitar Assinatura"},o.a.createElement(F.a,{"aria-label":"send-upload",component:"span",onClick:ta},!0===ee?o.a.createElement(ss.a,{style:{color:"light"===d.mode?d.palette.primary.main:"#EEE"}}):o.a.createElement(ss.a,{style:{color:"grey"}}))),"open"===t&&o.a.createElement(V.a,{onClick:()=>{ka(),Le()}},o.a.createElement(F.a,{"aria-label":"trigger-flow",component:"span"},o.a.createElement(cs.a,{style:{color:"light"===d.mode?d.palette.secondary.main:"#EEE"}})),"Disparar Fluxo"),o.a.createElement(de.a,{title:"Habilitar/Desabilitar Coment\xe1rios"},o.a.createElement(F.a,{"aria-label":"send-upload",component:"span",onClick:Ge},!0===te?o.a.createElement(ds.a,{style:{color:"light"===d.mode?d.palette.primary.main:"#EEE"}}):o.a.createElement(ds.a,{style:{color:"grey"}}))))),o.a.createElement("div",{className:c.flexContainer},(oe||Ne())&&o.a.createElement("div",{className:c.flexItem},o.a.createElement("div",{className:Ne()?c.messageInputWrapperPending:c.messageInputWrapperPrivate},o.a.createElement(sl.a,{inputRef:e=>{e&&e.focus(),e&&(P.current=e)},className:Ne()?c.messageInputPending:c.messageInputPrivate,placeholder:Ne()?"Mensagem interna (ticket aguardando aceite)...":"open"===t||"group"===t?ma.a.t("messagesInput.placeholderPrivateMessage"):ma.a.t("messagesInput.placeholderClosed"),multiline:!0,maxRows:5,value:Fe(b),onChange:Qe,disabled:Ea(),onPaste:e=>{("open"===t||"group"===t||Ne())&&ia(e)},onKeyDown:ze,onKeyUp:Ra,onMouseUp:Na,onSelect:Ma,onKeyPress:e=>{w||e.shiftKey||"Enter"!==e.key||xe||ua()},spellCheck:!0}),N?o.a.createElement(tn.a,{component:"ul",className:c.messageQuickAnswersWrapper,style:{zIndex:1e4,position:"absolute",bottom:"100%",marginBottom:"8px"}},N.map((e,a)=>{const t=ve===a;return o.a.createElement("li",{className:c.messageQuickAnswersWrapperItem,key:a,style:{listStyle:"none"}},o.a.createElement("div",{className:Object(j.a)(c.quickAnswerItem,t&&c.quickAnswerItemSelected),style:Object(S.a)(Object(S.a)({},Ue(a)),t&&{backgroundColor:d.palette.primary.light+"20",borderLeft:"4px solid ".concat(d.palette.primary.main),transform:"translateX(2px)"}),onClick:()=>Ye(e)},o.a.createElement(tn.a,{className:c.quickAnswerText},e.label),e.mediaType&&o.a.createElement(Vt.a,{size:"small",label:"".concat(Ke(e.mediaType)," ").concat(e.mediaType),color:_e(e.mediaType),className:c.mediaTypeChip})))}),N.length>4&&o.a.createElement("li",{style:{listStyle:"none"}},o.a.createElement("div",{className:c.quickAnswersScrollIndicator},"\ud83d\udccb ",N.length," respostas \u2022 use \u2191\u2193 para navegar"))):null)),!oe&&!Ne()&&o.a.createElement("div",{className:c.flexItem},o.a.createElement("div",{className:c.messageInputWrapper},o.a.createElement(sl.a,{inputRef:e=>{e&&e.focus(),e&&(P.current=e)},className:c.messageInput,placeholder:he,multiline:!0,maxRows:5,value:Fe(b),onChange:Qe,disabled:ba(),onPaste:e=>{("open"===t||"group"===t)&&ia(e)},onKeyDown:ze,onKeyUp:Ra,onMouseUp:Na,onSelect:Ma,onKeyPress:e=>{w||e.shiftKey||"Enter"!==e.key||xe||ua()},spellCheck:!0}),N?o.a.createElement("ul",{className:c.messageQuickAnswersWrapper},N.map((e,a)=>{const t=ve===a;return o.a.createElement("li",{className:c.messageQuickAnswersWrapperItem,key:a},o.a.createElement("div",{className:"".concat(c.quickAnswerItem," ").concat(t?"selected":""),style:Ue(a),onClick:()=>Ye(e)},o.a.createElement(tn.a,{className:c.quickAnswerText},e.label),e.mediaType&&o.a.createElement(Vt.a,{size:"small",label:"".concat(Ke(e.mediaType)," ").concat(e.mediaType),color:_e(e.mediaType),className:c.mediaTypeChip})))}),N.length>5&&o.a.createElement("div",{className:c.quickAnswersScrollIndicator},N.length," respostas \u2022 role para ver mais")):o.a.createElement("div",null)))),(!oe||Ne())&&o.a.createElement(o.a.Fragment,null,me&&!Ne()&&o.a.createElement(de.a,{title:ma.a.t("tickets.buttons.scredule")},o.a.createElement(F.a,{"aria-label":"scheduleMessage",component:"span",onClick:()=>Y(!0),disabled:w},o.a.createElement(us.a,{className:c.sendMessageIcons}))),b||Pe?o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,{"aria-label":"sendMessage",component:"span",onClick:Pe?na:ua,disabled:w},Pe?o.a.createElement(ps.a,{className:c.ForwardMessageIcons}):o.a.createElement(gs.a,{className:c.sendMessageIcons}))):T?o.a.createElement("div",{className:c.recorderWrapper},o.a.createElement(F.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:w,onClick:ya},o.a.createElement(jr.a,{className:c.cancelAudioIcon})),w?o.a.createElement("div",null,o.a.createElement(Lt.a,{className:c.audioLoading})):o.a.createElement(Rs,null),o.a.createElement(F.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:fa,disabled:w},o.a.createElement(bs.a,{className:c.sendAudioIcon}))):o.a.createElement(F.a,{"aria-label":"showRecorder",component:"span",disabled:Ea(),onClick:pa},o.a.createElement(Es.a,{className:c.sendMessageIcons}))),oe&&!Ne()&&o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,{"aria-label":"sendMessage",component:"span",onClick:Pe?na:ua,disabled:w},Pe?o.a.createElement(ps.a,{className:c.ForwardMessageIcons}):o.a.createElement(gs.a,{className:c.sendMessageIcons}))),_&&o.a.createElement(pc,{open:_,onClose:()=>Y(!1),message:b,contactId:r,fromMessageInput:!0,user:K}),o.a.createElement(Fa,null))))};const Cc=Object(I.a)(e=>({ticketHeader:{display:"flex",background:e.palette.tabHeaderBackground,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",height:"65px"}}));var kc=()=>{const e=Cc();return o.a.createElement(Ks.a,{square:!0,className:e.ticketHeader},o.a.createElement(vi.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(Oo.a,{animation:"wave",variant:"circle"},o.a.createElement(R.a,{alt:"contact_image"})),title:o.a.createElement(Oo.a,{animation:"wave",width:80}),subheader:o.a.createElement(Oo.a,{animation:"wave",width:140})}))},wc=t(815),Ac=t.n(wc);const Tc=Object(I.a)(e=>({ticketHeader:{display:"flex",background:e.palette.total,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",height:"65px",[e.breakpoints.down("sm")]:{flexWrap:"wrap",height:"max-content"}}}));var Oc=e=>{let{loading:a,children:t}=e;const n=Tc(),l=Object(T.useHistory)();return o.a.createElement(o.a.Fragment,null,a?o.a.createElement(kc,null):o.a.createElement(Ks.a,{square:!0,className:n.ticketHeader},o.a.createElement(K.a,{color:"primary",onClick:()=>{l.push("/tickets")}},o.a.createElement(Ac.a,null)),t))};const Sc=Object(I.a)(e=>({imageModal:{display:"flex",alignItems:"center",justifyContent:"center"},imageModalContent:{outline:"none",maxWidth:"90vw",maxHeight:"90vh"},expandedImage:{width:"100%",height:"auto",maxWidth:"500px",borderRadius:e.spacing(1)},clickableAvatar:{cursor:"pointer","&:hover":{opacity:.8}}}));var jc=e=>{let{contact:a,ticket:t,onClick:l}=e;const r=Sc(),[i,s]=Object(n.useState)(""),{user:c}=Object(n.useContext)(Ca),[d,m]=Object(n.useState)(!1),u=e=>{e.stopPropagation(),(null===a||void 0===a?void 0:a.urlPicture)&&m(!0)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{container:!0,alignItems:"center",spacing:10},o.a.createElement(Yt.a,{item:!0,xs:6},(()=>{var e,n;return o.a.createElement(vi.a,{onClick:l,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(R.a,{src:null===a||void 0===a?void 0:a.urlPicture,alt:"contact_image",className:r.clickableAvatar,onClick:u}),title:"".concat((null===a||void 0===a?void 0:a.name)&&a.name.length>12?"".concat(a.name.substring(0,12),"..."):(null===a||void 0===a?void 0:a.name)||"(sem contato)"," #").concat(null===t||void 0===t?void 0:t.id),subheader:[(null===t||void 0===t?void 0:t.user)&&"".concat(ma.a.t("messagesList.header.assignedTo")," ").concat(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.name),(null===a||void 0===a?void 0:a.contactWallets)&&a.contactWallets.length>0?"\u2022 ".concat(ma.a.t("wallets.wallet"),": ").concat((null===(n=a.contactWallets[0].wallet)||void 0===n?void 0:n.name)||"N/A"):null].filter(Boolean).join(" ")})})())),o.a.createElement(H.a,{open:d,onClose:()=>{m(!1)},className:r.imageModal,maxWidth:"md",fullWidth:!0},o.a.createElement(G.a,{className:r.imageModalContent},o.a.createElement("img",{src:null===a||void 0===a?void 0:a.urlPicture,alt:(null===a||void 0===a?void 0:a.name)||"Foto do contato",className:r.expandedImage}))))},Ic=t(1479),Mc=t(1480),Nc=t(1481),Rc=t(1482),Dc=t(819),Pc=t.n(Dc),Fc=t(820),Lc=t.n(Fc),Wc=t(1609),Bc=t(1469),qc=t(1596);var zc=e=>{let{isOpen:a,handleClose:t,ticketId:l}=e;const[r,i]=Object(n.useState)(0),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)([]),p={create:ma.a.t("showTicketLogModal.options.create"),chatBot:ma.a.t("showTicketLogModal.options.chatBot"),queue:ma.a.t("showTicketLogModal.options.queue"),open:ma.a.t("showTicketLogModal.options.open"),access:ma.a.t("showTicketLogModal.options.access"),transfered:ma.a.t("showTicketLogModal.options.transfered"),receivedTransfer:ma.a.t("showTicketLogModal.options.receivedTransfer"),pending:ma.a.t("showTicketLogModal.options.pending"),closed:ma.a.t("showTicketLogModal.options.closed"),reopen:ma.a.t("showTicketLogModal.options.reopen"),redirect:ma.a.t("showTicketLogModal.options.redirect"),clientClosed:ma.a.t("showTicketLogModal.options.clientClosed")};return Object(n.useEffect)(()=>{c(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/tickets-log/".concat(l));m(e),c(!1)}catch(e){c(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[l]),o.a.createElement(Yl.a,{open:a,onClose:t},o.a.createElement(Jl.a,null,ma.a.t("showTicketLogModal.title.header")),o.a.createElement(Xl.a,null,o.a.createElement(Gt.a,null,o.a.createElement(Zl.a,null,o.a.createElement(Wc.a,{activeStep:r,orientation:"vertical"},d.map((e,a)=>{var t,n,l,r;return o.a.createElement(Bc.a,{key:a},o.a.createElement(qc.a,null,"".concat("access"===e.type||"transfered"===e.type||"open"===e.type||"pending"===e.type||"closed"===e.type||"reopen"===e.type?null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name:"queue"===(null===e||void 0===e?void 0:e.type)||"redirect"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(n=e.queue)||void 0===n?void 0:n.name:"receivedTransfer"===e.type?(null===e||void 0===e||null===(l=e.queue)||void 0===l?void 0:l.name)+" - "+(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name):""," \n                    ").concat(p[e.type]," - ").concat(Object(Ba.a)(Object(Qa.a)(null===e||void 0===e?void 0:e.createdAt),"dd/MM/yyyy HH:mm"))))}))))),o.a.createElement($l.a,null,o.a.createElement(Jo.a,{onClick:t,color:"primary"},"Fechar")))},Uc=t(1473),Vc=t(1477),Hc=t(1478);var Qc=e=>{let{contact:a,numbers:t,queueId:l,whatsappId:r,channel:i}=e;const s=Object(T.useHistory)(),{user:c}=Object(n.useContext)(Ca),d=c.companyId,[m,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(""),[E,h]=Object(n.useState)(""),[f,v]=Object(n.useState)({id:0,name:"",number:0,profilePicUrl:""});Object(n.useEffect)(()=>{const e=setTimeout(()=>{(async()=>{try{if(Object(da.isNil)(t))return;const e=t.replace(/\D/g,""),n=await u.get("/contacts/profile/".concat(e),{params:{channel:i}});if(n.data.contactId&&0!==n.data.contactId){let e={id:n.data.contactId,name:a,number:t,urlPicture:n.data.urlPicture};v(e)}else{let t={name:a,number:e,email:"",companyId:d};const{data:n}=await u.post("/contacts",t);v(n)}}catch(e){console.log(e),ga(e)}})()},500);return()=>clearTimeout(e)},[d,a,t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{minWidth:"250px"}},o.a.createElement(er,{isOpen:m,handleClose:()=>{p(!1),p(!1),b(""),h("")},user:g,queue:E}),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:2},o.a.createElement(R.a,{src:"".concat(null===f||void 0===f?void 0:f.urlPicture)})),o.a.createElement(Yt.a,{item:!0,xs:9},o.a.createElement(z.a,{style:{marginTop:"12px",marginLeft:"10px"},color:"primary",variant:"subtitle1",gutterBottom:!0},f.name)),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(W.a,null),o.a.createElement(K.a,{fullWidth:!0,color:"primary",onClick:async()=>{try{const{data:e}=await u.post("/tickets",{contactId:f.id,userId:c.id,status:"open",queueId:l,companyId:d,whatsappId:r});s.push("/tickets/".concat(e.uuid))}catch(t){const n=JSON.parse(t.response.data.error);var e,a;if(n.userId!==(null===c||void 0===c?void 0:c.id))p(!0),b(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.name),h(null===n||void 0===n||null===(a=n.queue)||void 0===a?void 0:a.name);else p(!1),b(""),h(""),s.push("/tickets/".concat(n.uuid))}},disabled:!f.number},"Conversar")))))};var Gc=e=>{let{image:a,link:t,description:l}=e;Object(n.useEffect)(()=>{},[a,t,l]);const r=async()=>{try{window.open(t)}catch(e){ga(e)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{minWidth:"250px"}},o.a.createElement("div",null,o.a.createElement("div",{style:{float:"left"}},o.a.createElement("img",{src:a,alt:"loc",onClick:r,style:{width:"100px"}})),l&&o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},o.a.createElement(z.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:l.replace("\\n","<br />")}}))),o.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),o.a.createElement("div",null,o.a.createElement(W.a,null),o.a.createElement(K.a,{fullWidth:!0,color:"primary",onClick:r,disabled:!t},"Visualizar")))))};var Kc=e=>{let{title:a,children:t,open:n,onClose:l}=e;return o.a.createElement(H.a,{open:n,onClose:()=>l(!1),"aria-labelledby":"information-dialog"},o.a.createElement(Q.a,{id:"information-dialog"},a),o.a.createElement(G.a,{dividers:!0},o.a.createElement(z.a,null,t)),o.a.createElement(X.a,null,o.a.createElement(K.a,{variant:"contained",onClick:()=>l(!1),color:"primary"},ma.a.t("Fechar"))))},_c=t(419);var Yc=e=>{let{messages:a,onClose:t,modalOpen:l}=e;const[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(""),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)({}),[h,f]=Object(n.useState)(!1),{user:v}=Object(n.useContext)(Ca),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)(""),[w,A]=Object(n.useState)(!0);Object(n.useEffect)(()=>{if(!l||d.length<3)return void c(!1);c(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contacts",{params:{searchParam:d}});console.log("contacts",e.contacts),i(e.contacts),c(!1)}catch(e){c(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[d,l]);const O=Object(T.useHistory)(),j=e=>new Promise(a=>setTimeout(a,e)),I=Object(Ol.a)({trim:!0});return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ql,{open:h,initialValues:b,onClose:()=>{f(!1)}}),o.a.createElement(H.a,{open:l,onClose:()=>{t(),m(""),g(null),x(!1)}},o.a.createElement(Q.a,{id:"form-dialog-title"},"Encaminhar mensagem"),o.a.createElement(G.a,{dividers:!0},o.a.createElement(Sl.a,{options:r,loading:s,style:{width:300},clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name),renderOption:e=>e.number?"".concat(e.name," - ").concat(e.number):"Nenhum contato encontrado com o nome ".concat(e.name),filterOptions:(e,a)=>{const t=I(e,a);return""!==a.inputValue&&!s&&d.length>=3&&t.push({name:"".concat(a.inputValue)}),t},onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?g(a):(null===a||void 0===a?void 0:a.name)&&(E({name:a.name}),f(!0))})(0,a),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>m(e.target.value),onKeyPress:e=>{!s&&p&&e.key},InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,s?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})),o.a.createElement(X.a,null,y&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Lt.a,{color:"inherit",size:20}),o.a.createElement(_c.a,{variant:"body1",color:"textSecondary"},"Enviando ",C,"...")),o.a.createElement(wr.a,{style:{marginRight:7,color:"gray"},label:ma.a.t("messagesInput.signMessage"),labelPlacement:"start",control:o.a.createElement(cl.a,{size:"small",checked:w,onChange:e=>{A(e.target.checked)},name:"showAllTickets",color:"primary"})}),o.a.createElement(Ml,{variant:"contained",type:"button",disabled:!p||y,onClick:()=>(async e=>{const t=[];for(const o of a){x(!0);try{k(o.id);const a=await u.post("/message/forward",{messageId:o.id,contactId:e.id,signMessage:w});t.push(a),j(900)}catch(n){ga(n)}}x(!1),O.push("/tickets")})(p),color:"primary",loading:s},"Encaminhar"))))};var Jc=e=>{let{message:a,menuOpen:t,handleClose:l,anchorEl:r,isGroup:i,queueId:s,whatsappId:c}=e;const{setReplyingMessage:d}=Object(n.useContext)(Is),[m,p]=Object(n.useState)(!1),{user:g}=Object(n.useContext)(Ca),b=Object(n.useContext)(ac),E=b?b.setEditingMessage:null,{setTabOpen:h}=Object(n.useContext)(gt),f=Object(T.useHistory)(),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(""),[k,w]=Object(n.useState)(""),[A,O]=Object(n.useState)(!1),[S,j]=Object(n.useState)(null),[I,M]=Object(n.useState)(!1),[N,R]=Object(n.useState)(""),{showSelectMessageCheckbox:D,setShowSelectMessageCheckbox:P,selectedMessages:F,forwardMessageModalOpen:L,setForwardMessageModalOpen:W}=Object(n.useContext)(Hs);return o.a.createElement(o.a.Fragment,null,o.a.createElement(br,{modalOpen:A,onClose:e=>O(!1),ticket:S,ticketId:null===S||void 0===S?void 0:S.id}),o.a.createElement(er,{isOpen:v,handleClose:()=>{y(!1),y(!1),C(""),w("")},user:x,queue:k}),o.a.createElement(Si,{title:ma.a.t("messageOptionsMenu.confirmationModal.title"),open:m,onClose:p,onConfirm:async()=>{try{await u.delete("/messages/".concat(a.id))}catch(e){ga(e)}}},ma.a.t("messageOptionsMenu.confirmationModal.message")),o.a.createElement(Yc,{modalOpen:L,messages:F,onClose:e=>{W(!1),P(!1)}}),o.a.createElement(Kc,{title:ma.a.t("Transcri\xe7\xe3o de \xe1udio"),open:I,onClose:M},N),o.a.createElement(U.a,{anchorEl:r,getContentAnchorEl:null,keepMounted:!0,anchorReference:"anchorEl",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:t,onClose:l},a.fromMe&&o.a.createElement(V.a,{key:"delete",onClick:e=>{p(!0),l()}},ma.a.t("messageOptionsMenu.delete")),a.fromMe&&new Date-new Date(a.createdAt)<=9e5&&o.a.createElement(V.a,{key:"edit",onClick:async()=>{E(a),l()}},ma.a.t("messageOptionsMenu.edit")),o.a.createElement(V.a,{onClick:()=>{d(a),l()}},ma.a.t("messageOptionsMenu.reply")),o.a.createElement(V.a,{onClick:()=>{P(!D),l()}},ma.a.t("messageOptionsMenu.forward")),!a.fromMe&&"audio"===a.mediaType&&o.a.createElement(V.a,{onClick:async()=>{try{const e=String(a.mediaUrl||"").match(/\/([^\/]+\.ogg)$/),t=e?e[1]:null;if(!t)throw new Error("Formato de URL de \xe1udio inesperado");const n=await u.get("/messages/transcribeAudio/".concat(t)),{data:o}=n;if(!o||"string"!==typeof o.transcribedText)throw o&&o.error?new Error(o.error):new Error("Dados de transcri\xe7\xe3o inv\xe1lidos");R(o.transcribedText),M(!0),l()}catch(o){var e,t,n;if(403===(null===o||void 0===o||null===(e=o.response)||void 0===e?void 0:e.status))return void ga("Recurso n\xe3o dispon\xedvel no seu plano. Fa\xe7a um upgrade para habilitar a transcri\xe7\xe3o de \xe1udio.");ga((null===o||void 0===o||null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||o.message||"Erro desconhecido")}}},ma.a.t("messageOptionsMenu.transcription")),!a.fromMe&&i&&o.a.createElement(V.a,{onClick:()=>{var e;return(async e=>{if(e){try{const{data:a}=await u.post("/tickets",{contactId:e,userId:null===g||void 0===g?void 0:g.id,status:"open",queueId:s,whatsappId:c});j(a),null===a.queueId?O(!0):(h("open"),f.push("/tickets/".concat(a.uuid)))}catch(a){const e=JSON.parse(a.response.data.error);e.userId!==(null===g||void 0===g?void 0:g.id)?(y(!0),C(e.user.name),w(e.queue.name)):(y(!1),C(""),w(""),h(e.status),f.push("/tickets/".concat(e.uuid)))}l()}})(null===a||void 0===a||null===(e=a.contact)||void 0===e?void 0:e.id)}},ma.a.t("messageOptionsMenu.talkTo"))))},Xc=t(526),Zc=t.n(Xc),$c=t(527),ed=t.n($c),ad=t(816);var td=e=>{let{videoUrl:a}=e;const[t,l]=Object(n.useState)("");Object(n.useEffect)(()=>{let e=a.split("v=")[1];if(!e){const t=a.match(/(?:youtu\.be\/)([^?\n]+)/);e=t?t[1]:null}let t=e.indexOf("&");-1!=t&&(e=e.substring(0,t)),l(e)},[a]);return o.a.createElement("div",null,t&&o.a.createElement(ad.a,{videoId:t,opts:{height:"300",width:"100%"},style:{borderRadius:10,overflow:"hidden"}}))},nd=t(1470),od=t(1471),ld=t(1472);const rd=Object(I.a)(e=>({pdfContainer:{display:"flex",alignItems:"center",padding:e.spacing(2),margin:e.spacing(1,0),backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,border:"1px solid ".concat(e.palette.divider),maxWidth:350,minWidth:280,cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:e.palette.action.hover,transform:"translateY(-1px)",boxShadow:e.shadows[4]}},pdfIcon:{fontSize:48,color:"#dc3545",marginRight:e.spacing(2),flexShrink:0},documentIcon:{fontSize:48,color:e.palette.primary.main,marginRight:e.spacing(2),flexShrink:0},pdfInfo:{flex:1,minWidth:0},pdfTitle:{fontWeight:600,fontSize:"0.9rem",marginBottom:e.spacing(.5),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},pdfMeta:{display:"flex",alignItems:"center",gap:e.spacing(1),marginBottom:e.spacing(.5),flexWrap:"wrap"},pdfSize:{fontSize:"0.75rem",color:e.palette.text.secondary,fontWeight:500},pdfType:{fontSize:"0.7rem"},downloadButton:{marginLeft:e.spacing(1),backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark}},loadingContainer:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2)},errorContainer:{display:"flex",alignItems:"center",padding:e.spacing(2),color:e.palette.error.main},errorIcon:{marginRight:e.spacing(1)},statusIndicator:{display:"flex",alignItems:"center",gap:e.spacing(.5),marginTop:e.spacing(.5)}}));var id=e=>{let{url:a,filename:t="documento.pdf",size:l=null,onDownload:r=null,mediaType:i=null}=e;const s=rd(),[c,d]=Object(n.useState)(!0),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)({name:t,size:l,type:i||"document"});Object(n.useEffect)(()=>{a?(async()=>{try{d(!0);const n=h(a,t,i);if(g(n),!t||"documento.pdf"===t||t.length<3)try{const e=a.split("/"),t=e[e.length-1],n=decodeURIComponent(t);n&&n.length>3&&E(e=>Object(S.a)(Object(S.a)({},e),{},{name:n}))}catch(e){console.warn("Erro ao extrair nome do arquivo:",e)}u(!1)}catch(n){console.error("Erro ao carregar informa\xe7\xf5es do arquivo:",n),u(!0)}finally{d(!1)}})():(d(!1),u(!0))},[a,t,l,i]);const h=(e,a,t)=>{if("application"===t||"document"===t||"application/pdf"===t)return!0;if(a&&"string"===typeof a){if(a.toLowerCase().endsWith(".pdf"))return!0}if(e&&"string"===typeof e){if(e.toLowerCase().includes(".pdf"))return!0}return!1},f=e=>{if(e.stopPropagation(),r)r(a,b.name);else try{const e=document.createElement("a");e.href=a,e.download=b.name,e.target="_blank",e.rel="noopener noreferrer",document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(m){console.error("Erro no download:",m),window.open(a,"_blank","noopener,noreferrer")}};return c?o.a.createElement(Gt.a,{className:s.pdfContainer},o.a.createElement("div",{className:s.loadingContainer},o.a.createElement(Lt.a,{size:20}),o.a.createElement(z.a,{variant:"body2",style:{marginLeft:8}},"Carregando..."))):m?o.a.createElement(Gt.a,{className:s.pdfContainer},o.a.createElement("div",{className:s.errorContainer},o.a.createElement(nd.a,{className:s.errorIcon}),o.a.createElement("div",null,o.a.createElement(z.a,{variant:"body2"},"Erro ao carregar arquivo"),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},b.name)))):o.a.createElement(Gt.a,{className:s.pdfContainer,onClick:()=>{f({stopPropagation:()=>{}})},elevation:1},p?o.a.createElement(od.a,{className:s.pdfIcon}):o.a.createElement(ld.a,{className:s.documentIcon}),o.a.createElement("div",{className:s.pdfInfo},o.a.createElement(z.a,{className:s.pdfTitle,title:b.name},b.name),o.a.createElement("div",{className:s.pdfMeta},o.a.createElement(Vt.a,{label:p?"PDF":(e=>{if(!e)return"";const a=e.split(".");return a.length>1?a[a.length-1].toUpperCase():"DOC"})(b.name),size:"small",className:s.pdfType,color:p?"secondary":"default"}),b.size&&o.a.createElement(z.a,{variant:"caption",className:s.pdfSize},(e=>{if(!e)return"";const a=["B","KB","MB","GB"];let t=e,n=0;for(;t>=1024&&n<a.length-1;)t/=1024,n++;return"".concat(t.toFixed(t<10?1:0)," ").concat(a[n])})(b.size))),o.a.createElement("div",{className:s.statusIndicator},o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"\ud83d\udcce Clique para baixar"))),o.a.createElement(de.a,{title:"Baixar arquivo"},o.a.createElement(F.a,{className:s.downloadButton,onClick:f,size:"small"},o.a.createElement(Uc.a,null))))};var sd=e=>{let{image:a,title:t,body:l,sourceUrl:r,messageUser:i}=e;Object(n.useEffect)(()=>{},[a,t,l,r,i]);const s=async()=>{try{r&&""!==r.trim()&&window.open(r)}catch(e){ga(e)}},c=a&&""!==a.trim()&&a.startsWith("data:image");return o.a.createElement("div",{style:{minWidth:"250px"}},o.a.createElement("div",null,c&&o.a.createElement("div",{style:{float:"left"}},o.a.createElement("img",{src:a,alt:"Thumbnail",onClick:s,style:{width:"100px",cursor:r?"pointer":"default"}})),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",marginLeft:c?"115px":"0px"}},t&&""!==t.trim()&&o.a.createElement(z.a,{style:{marginTop:"12px",marginBottom:"8px",width:"100%"},variant:"subtitle1",color:"primary",gutterBottom:!0},o.a.createElement("div",null,t)),l&&""!==l.trim()&&o.a.createElement(z.a,{style:{marginBottom:"8px",width:"100%"},variant:"body2",color:"textSecondary",gutterBottom:!0},o.a.createElement("div",null,l)),i&&""!==i.trim()&&o.a.createElement(z.a,{style:{marginBottom:"8px",width:"100%"},variant:"subtitle2",color:"textSecondary",gutterBottom:!0},o.a.createElement("div",null,i))),o.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),r&&""!==r.trim()&&o.a.createElement("div",null,o.a.createElement(W.a,null),o.a.createElement(K.a,{fullWidth:!0,color:"primary",onClick:s},"Visualizar An\xfancio"))))},cd=t(1594);var dd=e=>{let{message:a}=e;const[t,l]=o.a.useState(!1),{showSelectMessageCheckbox:r,setSelectedMessages:i,selectedMessages:s}=Object(n.useContext)(Hs);return r?o.a.createElement(cd.a,{color:"primary",checked:t,onChange:e=>((e,a)=>{const t=s;if(e.target.checked)l(!0),t.push(a);else{const e=t.findIndex(e=>e.id===a.id);t.splice(e,1),l(!0)}i(t)})(e,a)}):null};var md=t(1474),ud=t(1475),pd=t(1476);const gd=Object(I.a)(e=>({buttonTemplate:{backgroundColor:"transparent",border:"none",color:"#0CADE3","&:hover":{backgroundColor:e.palette.primary.dark}}}));var bd=e=>{let{message:a}=e;const t=gd(),n=/(https?:\/\/[^\s]+(\.jpg|\.jpeg|\.png|\.gif|\.mp4|\.webm|\.ogg))/g,[l,r]=a.body.split("||||"),i=l.match(n),s=i?i[0]:null,c=l.replace(n,"").trim(),d=e=>{let{buttons:a}=e;return o.a.createElement("div",{style:{marginTop:"10px",padding:"10px",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"}},a.map((e,a)=>"URL"===e.type?o.a.createElement("button",{key:a,onClick:()=>window.open(e.url,"_blank"),className:t.buttonTemplate},o.a.createElement("span",{style:{color:"blue-light",display:"flex",alignItems:"center",textAlign:"center",gap:"5px"}},o.a.createElement(md.a,null)," ",e.text)):"PHONE_NUMBER"===e.type?o.a.createElement("span",{style:{color:"blue",display:"flex",alignItems:"center",textAlign:"center",gap:"5px"}},o.a.createElement("button",{className:t.buttonTemplate,key:a,onClick:()=>window.open("https://wa.me/".concat(e.phone_number),"_blank")},o.a.createElement(ud.a,null)," ",e.text)):"COPY_CODE"===e.type?o.a.createElement("button",{key:a,onClick:()=>navigator.clipboard.writeText(e.example[0]),className:t.buttonTemplate},o.a.createElement("span",{style:{color:"blue-light",display:"flex",alignItems:"center",textAlign:"center",gap:"5px"}},o.a.createElement(pd.a,null)," ",e.text)):null))};let m=[];if(r&&"[]"!==r)try{"string"===typeof r?m=JSON.parse(JSON.parse(r)):"object"===typeof r&&(m=Object.values(r))}catch(u){console.log(r),console.error("Erro ao fazer parse dos bot\xf5es:",u)}return o.a.createElement(o.a.Fragment,null,s&&o.a.createElement(o.a.Fragment,null,/\.(jpeg|jpg|gif|png)$/i.test(s)?o.a.createElement("img",{src:s,alt:"media content",style:{maxWidth:"100%",height:"auto"}}):(e=>/\.(mp4|webm|ogg)$/i.test(e))(s)?o.a.createElement("video",{src:s,controls:!0,style:{maxWidth:"100%",height:"auto"}}):o.a.createElement("p",null,"Unsupported media type")),o.a.createElement("div",null,o.a.createElement(it,null,c),m.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,null),o.a.createElement(d,{buttons:m}))))};const Ed=Object(I.a)(e=>({messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:300,minHeight:200},currentTick:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"95%",backgroundColor:e.palette.primary.main,margin:"10px",borderRadius:"10px",boxShadow:"1px 5px 10px #b3b3b3"},currentTicktText:{color:e.palette.primary,fontWeight:"bold",padding:8,alignSelf:"center",marginLeft:"0px"},messagesList:Object(S.a)({backgroundImage:"light"===e.mode?"url(".concat(Zc.a,")"):"url(".concat(ed.a,")"),backgroundColor:"light"===e.mode?"transparent":"#0b0b0d",display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 30px 20px",overflowY:"scroll"},e.scrollbarStyles),dragElement:{background:"rgba(255, 255, 255, 0.8)",position:"absolute",width:"100%",height:"100%",zIndex:999999,textAlign:"center",fontSize:"3em",border:"5px dashed #333",color:"#333",display:"flex",justifyContent:"center",alignItems:"center"},circleLoading:{color:as.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"light"===e.mode?"#ffffff":"#202c33",color:"light"===e.mode?"#303030":"#ffffff",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"light"===e.mode?"0 1px 1px #b3b3b3":"0 1px 1px #000000"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"light"===e.mode?"#f0f0f0":"#1d282f",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#388aff"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"light"===e.mode?"#dcf8c6":"#005c4b",color:"light"===e.mode?"#303030":"#ffffff",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"light"===e.mode?"0 1px 1px #b3b3b3":"0 1px 1px #000000"},messageRightPrivate:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#F0E68C",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"light"===e.mode?"0 1px 1px #b3b3b3":"0 1px 1px #000000"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"light"===e.mode?"#cfe9ba":"#025144",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{width:400,height:"auto",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,"&[controls]":{objectFit:"contain"}},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},forwardMessage:{fontSize:12,fontStyle:"italic",position:"absolute",top:0,left:5,color:"#999",display:"flex",alignItems:"center"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:as.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},ackPlayedIcon:{color:_a.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10,color:"light"===e.mode?e.palette.light:e.palette.dark},messageCenter:{marginTop:5,alignItems:"center",verticalAlign:"center",alignContent:"center",backgroundColor:"#E1F5FEEB",fontSize:"12px",minWidth:100,maxWidth:270,color:"#272727",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},deletedMessage:{color:"#f55d65"}})),hd=(e,a)=>{if("LOAD_MESSAGES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...n,...e]}if("ADD_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.push(t),[...e]}if("UPDATE_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n&&(e[n]=t),[...e]}if("RESET"===a.type)return[]};var fd=e=>{let{isGroup:a,onDrop:l,whatsappId:r,queueId:i,channel:s,ticketStatus:c}=e;const d=Ed(),[m,p]=Object(n.useReducer)(hd,[]),[g,b]=Object(n.useState)(1),[E,h]=Object(n.useState)(!1),[f,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(!1),C=Object(T.useHistory)(),k=Object(n.useRef)(),[w,A]=Object(n.useState)({}),{setReplyingMessage:O}=Object(n.useContext)(Is),[S,I]=Object(n.useState)(null),M=Boolean(S),{ticketId:N}=Object(T.useParams)(),R=Object(n.useRef)(N),{getAll:D}=Da(),[P,L]=Object(n.useState)(!1),[B,q]=Object(n.useState)(null),[U,V]=Object(n.useState)(!0),[H,Q]=Object(n.useState)(!1),[G,_]=Object(n.useState)(!1),{selectedQueuesMessage:Y}=Object(n.useContext)(_r),{downloadPdf:J,extractPdfInfoFromMessage:X,isPdfUrl:Z}=(()=>{const e=Object(n.useCallback)(e=>{if(!e)return"";try{if(e.startsWith("http://")||e.startsWith("https://"))return e;if(e.startsWith("/public/")){return"".concat("https://api.datamixsistemas.com.br").concat(e)}if(!e.startsWith("/")){return"".concat("https://api.datamixsistemas.com.br","/public/").concat(e)}return"".concat("https://api.datamixsistemas.com.br").concat(e)}catch(a){return console.error("\u274c Erro ao processar URL:",a),e}},[]),a=(e,a,t)=>{if("application/pdf"===t)return!0;if(e){const a=e.toLowerCase();return a.endsWith(".pdf")||a.includes(".pdf?")||a.includes("/pdf/")}return!!a&&a.toLowerCase().includes(".pdf")},t=Object(n.useCallback)((e,a)=>!(!e||"string"!==typeof e)&&(!(e.length<5)&&(!e.includes("undefined")&&!e.includes("null"))),[]),o=Object(n.useCallback)((function(a){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"documento.pdf";if(console.log("\ud83d\udce5 Fazendo download:",{url:a,filename:t}),!a)return console.error("\u274c URL do PDF n\xe3o fornecida para download"),void alert("Erro: N\xe3o \xe9 poss\xedvel fazer download, URL n\xe3o encontrada");try{const n=e(a),o=document.createElement("a");o.href=n,o.download=t,o.target="_blank",o.rel="noopener noreferrer",document.body.appendChild(o),o.click(),document.body.removeChild(o),console.log("\u2705 Download iniciado com sucesso")}catch(n){console.error("\u274c Erro ao fazer download:",n);try{const t=e(a);window.open(t,"_blank","noopener,noreferrer")}catch(o){console.error("\u274c Erro no fallback:",o),alert("Erro ao fazer download do arquivo")}}}),[e]),l=Object(n.useCallback)(e=>{console.log("\ud83d\udd0d Extraindo info do PDF da mensagem:",e);const t={url:e.mediaUrl||"",filename:"documento.pdf",size:e.fileSize||null,mediaType:e.mediaType||"",isPdf:!1};if(e.body&&"string"===typeof e.body){const a=e.body.trim();a.length<100&&a.includes(".")&&(t.filename=a)}if("documento.pdf"===t.filename&&t.url)try{const e=t.url.split("/"),a=e[e.length-1].split("?")[0],n=decodeURIComponent(a);n&&n.includes(".")&&(t.filename=n)}catch(n){console.warn("\u26a0\ufe0f Erro ao extrair filename da URL:",n)}return t.isPdf=a(t.url,t.filename,t.mediaType),console.log("\ud83d\udcc4 Info extra\xedda:",t),t},[a]);return{downloadPdf:o,isPdfUrl:a,validatePdfUrl:t,extractPdfInfoFromMessage:l,processUrl:e}})(),{showSelectMessageCheckbox:$}=Object(n.useContext)(Hs),{user:ee,socket:ae}=Object(n.useContext)(Ca),te=ee.companyId;Object(n.useEffect)(()=>{!async function(){const e=await D(te);let a,t;for(const[n,o]of Object.entries(e))"lgpdDeleteMessage"===n&&(a=o),"enableLGPD"===n&&(t=o);"enabled"===t&&"enabled"===a&&_(!0)}()},[]),Object(n.useEffect)(()=>{p({type:"RESET"}),b(1),R.current=N},[N,Y]),Object(n.useEffect)(()=>{v(!0);const e=setTimeout(()=>{(async()=>{if("undefined"!==N){if(!Object(da.isNil)(N))try{const{data:e}=await u.get("/messages/"+N,{params:{pageNumber:g,selectedQueues:JSON.stringify(Y)}});R.current===N&&(p({type:"LOAD_MESSAGES",payload:e.messages}),h(e.hasMore),v(!1),x(!1)),1===g&&e.messages.length>1&&ne()}catch(e){v(!1),ga(e),x(!1)}}else C.push("/tickets")})()},500);return()=>{clearTimeout(e)}},[g,N,Y]),Object(n.useEffect)(()=>{if("undefined"===N)return;const e=ee.companyId,a=()=>{ae.emit("joinChatBox","".concat(N))},t=e=>{var a,t,n;"create"===e.action&&e.ticket.uuid===N&&(p({type:"ADD_MESSAGE",payload:e.message}),ne()),"update"===e.action&&(null===e||void 0===e||null===(a=e.message)||void 0===a||null===(t=a.ticket)||void 0===t?void 0:t.uuid)===N&&p({type:"UPDATE_MESSAGE",payload:e.message}),"delete"==e.action&&(null===(n=e.message.ticket)||void 0===n?void 0:n.uuid)===N&&p({type:"DELETE_MESSAGE",payload:e.messageId})};return ae.on("connect",a),ae.on("company-".concat(e,"-appMessage"),t),()=>{ae.emit("joinChatBoxLeave","".concat(N)),ae.off("connect",a),ae.off("company-".concat(e,"-appMessage"),t)}},[N]),Object(n.useEffect)(()=>()=>{B&&clearTimeout(B)},[B]);const ne=()=>{setTimeout(()=>{k.current&&k.current.scrollIntoView({})},100)},oe=(e,a)=>{I(e.currentTarget),A(a)},le=(e,a)=>{I(null),O(a)},re=e=>{if("template"===e.mediaType)return o.a.createElement(bd,{message:e});if("locationMessage"===e.mediaType&&e.body.split("|").length>=2){let a=e.body.split("|"),t=a[0],n=a[1],l=a.length>2?a[2]:null;return o.a.createElement(Gc,{image:t,link:n,description:l})}if("contactMessage"===e.mediaType){var a,t,n;let l=e.body.split("\n"),r=[],i="";for(let e=0;e<l.length;e++){let a=l[e].split(":");for(let e=0;e<a.length;e++)-1!==a[e].indexOf("+")&&r.push({number:a[e]}),-1!==a[e].indexOf("FN")&&(i=a[e+1])}return o.a.createElement(Qc,{contact:i,numbers:null===(a=r[0])||void 0===a?void 0:a.number,queueId:null===e||void 0===e||null===(t=e.ticket)||void 0===t?void 0:t.queueId,whatsappId:null===e||void 0===e||null===(n=e.ticket)||void 0===n?void 0:n.whatsappId,channel:s})}if("adMetaPreview"===e.mediaType){console.log("Entrou no MetaPreview");let[a,t,n,l,r]=e.body.split("|");return r&&""!==r.trim()||(r="Ol\xe1! Tenho interesse e queria mais informa\xe7\xf5es, por favor."),o.a.createElement(sd,{image:a,sourceUrl:t,title:n,body:l,messageUser:r})}if(Z(e.mediaUrl,e.body,e.mediaType)){console.log("\ud83d\udcc4 Renderizando como documento/PDF:",e.id);const a=X(e);return o.a.createElement(id,{url:a.url,filename:a.filename,size:a.size,mediaType:a.mediaType,onDownload:(e,a)=>{console.log("\ud83d\udce5 Download PDF solicitado:",{url:e,name:a}),J(e,a)}})}return(e=>{if("audio"===e.mediaType)return console.log("\ud83c\udfb5 Detectado como \xe1udio pelo mediaType:",e.mediaType),!0;if(e.mediaUrl){const a=[".mp3",".wav",".ogg",".m4a",".aac",".webm"],t=e.mediaUrl.toLowerCase();if(a.some(e=>t.includes(e)))return console.log("\ud83c\udfb5 Detectado como \xe1udio pela URL:",t),!0}if(e.body&&"string"===typeof e.body){const a=e.body.toLowerCase();if(a.includes("\xe1udio gravado")||a.includes("audio_")||a.includes("\ud83c\udfb5")||a.includes("arquivo de \xe1udio")||a.includes("mensagem de voz"))return console.log("\ud83c\udfb5 Detectado como \xe1udio pelo body:",a),!0}return!1})(e)?(console.log("\ud83c\udfb5 Renderizando como \xe1udio:",e.id),o.a.createElement("div",{style:{width:"100%",maxWidth:"300px",padding:"8px",backgroundColor:"transparent"}},o.a.createElement(Zs,{url:e.mediaUrl,message:e}))):"image"===e.mediaType?(console.log("\ud83d\uddbc\ufe0f Renderizando como imagem"),o.a.createElement(hi,{imageUrl:e.mediaUrl})):"video"===e.mediaType?(console.log("\ud83c\udfa5 Renderizando como v\xeddeo"),o.a.createElement("div",{style:{maxWidth:"400px",width:"100%",position:"relative"}},U&&!H&&o.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"}},o.a.createElement(Lt.a,{size:30}),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"Carregando v\xeddeo...")),o.a.createElement("video",{className:d.messageMedia,src:e.mediaUrl,controls:!0,preload:"metadata",playsInline:!0,style:{width:"100%",height:"auto",maxHeight:"300px",borderRadius:"8px",backgroundColor:"#f0f0f0",opacity:U?.3:1,transition:"opacity 0.3s ease"},onLoadStart:()=>{console.log("\u23f3 Iniciando carregamento do v\xeddeo"),V(!0),Q(!1)},onLoadedData:()=>{console.log("\u2705 V\xeddeo carregado e pronto"),V(!1)},onCanPlay:()=>{console.log("\u2705 V\xeddeo pronto para reprodu\xe7\xe3o"),V(!1)},onError:a=>{console.error("\u274c Erro ao carregar v\xeddeo:",a),console.log("\ud83d\udd17 URL do v\xeddeo:",e.mediaUrl),V(!1),Q(!0)}},o.a.createElement("source",{src:e.mediaUrl,type:"video/mp4"}),o.a.createElement("source",{src:e.mediaUrl,type:"video/webm"}),o.a.createElement("source",{src:e.mediaUrl,type:"video/ogg"}),"Seu navegador n\xe3o suporta reprodu\xe7\xe3o de v\xeddeo."),H&&o.a.createElement("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f5f5f5",borderRadius:"8px",color:"#666",marginTop:"8px"}},o.a.createElement(z.a,{variant:"body2",style:{marginBottom:"12px"}},"\u274c Erro ao carregar v\xeddeo"),o.a.createElement(K.a,{startIcon:o.a.createElement(Uc.a,null),onClick:()=>{const a=document.createElement("a");a.href=e.mediaUrl,a.download=e.body||"video.mp4",a.click()},variant:"outlined",size:"small"},"Baixar V\xeddeo")))):e.mediaUrl?(console.log("\ud83d\udcce Renderizando como download gen\xe9rico"),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:d.downloadMedia},o.a.createElement(K.a,{startIcon:o.a.createElement(Uc.a,null),variant:"outlined",onClick:()=>J(e.mediaUrl,e.body||"arquivo")},"Download")),o.a.createElement(W.a,null))):null},ie=(e,a)=>{const t=Object(Ba.a)(new Date,"dd/MM/yyyy");if(0===a)return o.a.createElement("span",{className:d.dailyTimestamp,key:"timestamp-".concat(e.id)},o.a.createElement("div",{className:d.dailyTimestampText},t===Object(Ba.a)(Object(Qa.a)(m[a].createdAt),"dd/MM/yyyy")?"HOJE":Object(Ba.a)(Object(Qa.a)(m[a].createdAt),"dd/MM/yyyy")));if(a<m.length-1){let n=Object(Qa.a)(m[a].createdAt),l=Object(Qa.a)(m[a-1].createdAt);if(!Object(Ha.a)(n,l))return o.a.createElement("span",{className:d.dailyTimestamp,key:"timestamp-".concat(e.id)},o.a.createElement("div",{className:d.dailyTimestampText},t===Object(Ba.a)(Object(Qa.a)(m[a].createdAt),"dd/MM/yyyy")?"HOJE":Object(Ba.a)(Object(Qa.a)(m[a].createdAt),"dd/MM/yyyy")))}else if(a===m.length-1)return o.a.createElement("div",{key:"ref-".concat(e.id),ref:k,style:{float:"left",clear:"both"}})},se=(e,a)=>{var t;let n=null===(t=m[a-1])||void 0===t?void 0:t.ticketId;var l,r,i,s,c;if(n!==e.ticketId&&void 0!==n)return(null===e||void 0===e||null===(l=e.ticket)||void 0===l?void 0:l.queue)?o.a.createElement("span",{className:d.currentTick,key:"timestamp-".concat(e.id,"a")},o.a.createElement("div",{className:d.currentTicktText,style:{backgroundColor:(null===e||void 0===e||null===(r=e.ticket)||void 0===r||null===(i=r.queue)||void 0===i?void 0:i.color)||"grey"}},"#",ma.a.t("ticketsList.called")," ",null===e||void 0===e?void 0:e.ticketId," - ",null===e||void 0===e||null===(s=e.ticket)||void 0===s||null===(c=s.queue)||void 0===c?void 0:c.name)):o.a.createElement("span",{className:d.currentTick,key:"timestamp-".concat(e.id,"b")},o.a.createElement("div",{className:d.currentTicktText,style:{backgroundColor:"grey"}},"#",ma.a.t("ticketsList.called")," ",e.ticketId," - ",ma.a.t("ticketsList.noQueue")))},ce=(e,a)=>{if(a<m.length&&a>0){if(m[a].fromMe!==m[a-1].fromMe)return o.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(e.id)})}},de=t(614),me=e=>{var a,t,n,l,r,i;return o.a.createElement("div",{className:Object(j.a)(d.quotedContainerLeft,{[d.quotedContainerRight]:e.fromMe})},o.a.createElement("span",{className:Object(j.a)(d.quotedSideColorLeft,{[d.quotedSideColorRight]:null===(a=e.quotedMsg)||void 0===a?void 0:a.fromMe})}),o.a.createElement("div",{className:d.quotedMsg},!(null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe)&&o.a.createElement("span",{className:d.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(l=n.contact)||void 0===l?void 0:l.name),"audio"===e.quotedMsg.mediaType&&o.a.createElement("div",{className:d.downloadMedia},o.a.createElement(Zs,{url:e.quotedMsg.mediaUrl})),"video"===e.quotedMsg.mediaType&&o.a.createElement("div",{style:{maxWidth:"300px",width:"100%"}},o.a.createElement("video",{className:d.messageMedia,src:e.quotedMsg.mediaUrl,controls:!0,preload:"metadata",style:{width:"100%",height:"auto",maxHeight:"200px",borderRadius:"6px",backgroundColor:"#f0f0f0"},onError:e=>{console.error("\u274c Erro ao carregar v\xeddeo citado:",e)}},o.a.createElement("source",{src:e.quotedMsg.mediaUrl,type:"video/mp4"}),o.a.createElement("source",{src:e.quotedMsg.mediaUrl,type:"video/webm"}),o.a.createElement("source",{src:e.quotedMsg.mediaUrl,type:"video/ogg"}),o.a.createElement("div",{style:{padding:"10px",textAlign:"center",fontSize:"12px",color:"#999"}},"\u274c Erro ao carregar v\xeddeo"))),"contactMessage"===e.quotedMsg.mediaType&&"Contato","application"===e.quotedMsg.mediaType&&o.a.createElement("div",{className:d.downloadMedia},o.a.createElement(K.a,{startIcon:o.a.createElement(Uc.a,null),variant:"outlined",target:"_blank",href:e.quotedMsg.mediaUrl},"Download")),"image"===e.quotedMsg.mediaType&&o.a.createElement(hi,{imageUrl:e.quotedMsg.mediaUrl})||(null===(r=e.quotedMsg)||void 0===r?void 0:r.body),"image"===!e.quotedMsg.mediaType&&(null===(i=e.quotedMsg)||void 0===i?void 0:i.body)))},ue=e=>{if(e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type){if(e.dataTransfer&&e.dataTransfer.types&&(e.dataTransfer.types.includes("Files")||e.dataTransfer.types.includes("application/x-moz-file"))){B&&clearTimeout(B);const a=setTimeout(()=>{e.dataTransfer.items&&e.dataTransfer.items.length>0&&L(!0)},100);q(a)}}else if("dragleave"===e.type){B&&(clearTimeout(B),q(null));const a=e.currentTarget.getBoundingClientRect(),t=e.clientX,n=e.clientY;(t<a.left||t>a.right||n<a.top||n>a.bottom)&&L(!1)}},pe=e=>/(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/.test(e),ge=/<([^>]+)>/g,be=/\*(.*?)\*/g,Ee="pending"===c&&"disabled"===ee.allowSeeMessagesInPendingTickets;return o.a.createElement("div",{className:d.messagesListWrapper,onDragEnter:ue},P&&o.a.createElement("div",{className:d.dragElement,onDragEnter:ue,onDragLeave:ue,onDragOver:ue,onDrop:e=>{e.preventDefault(),e.stopPropagation(),B&&(clearTimeout(B),q(null)),L(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&e.dataTransfer.files[0]instanceof File&&l&&l(e.dataTransfer.files)}},"Solte o arquivo aqui"),o.a.createElement(Jc,{message:w,anchorEl:S,menuOpen:M,handleClose:e=>{I(null)},isGroup:a,whatsappId:r,queueId:i}),o.a.createElement("div",{id:"messagesList",className:d.messagesList,onScroll:e=>{if(!E)return;const{scrollTop:a}=e.currentTarget;0===a&&(document.getElementById("messagesList").scrollTop=1),f||a<50&&(y||(x(!0),b(e=>e+1)))},style:{filter:Ee?"blur(4px)":"none",pointerEvents:Ee?"none":"auto"}},m.length>0?(()=>{if(m.length>0){return m.map((e,t)=>{var n,l,r,i,s,c;return"call_log"===e.mediaType?o.a.createElement(o.a.Fragment,{key:e.id},ie(e,t),se(e,t),ce(e,t),o.a.createElement("div",{className:d.messageCenter},o.a.createElement(F.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:d.messageActionsButton,onClick:a=>oe(a,e)},o.a.createElement(Hc.a,null)),a&&o.a.createElement("span",{className:d.messageContactName},null===(n=e.contact)||void 0===n?void 0:n.name),o.a.createElement("div",null,o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 17",width:"20",height:"17"},o.a.createElement("path",{fill:"#df3333",d:"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z"}))," ",o.a.createElement("span",null,ma.a.t("ticketsList.missedCall")," ",Object(Ba.a)(Object(Qa.a)(e.createdAt),"HH:mm"))))):e.fromMe?o.a.createElement(o.a.Fragment,{key:e.id},ie(e,t),se(e,t),ce(e,t),o.a.createElement("div",{className:e.isPrivate?d.messageRightPrivate:d.messageRight,title:e.queueId&&(null===(l=e.queue)||void 0===l?void 0:l.name),onDoubleClick:a=>le(0,e)},$&&o.a.createElement(dd,{message:e}),o.a.createElement(F.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:d.messageActionsButton,onClick:a=>oe(a,e)},o.a.createElement(Hc.a,null)),e.isForwarded&&o.a.createElement("div",null,o.a.createElement("span",{className:d.forwardMessage},o.a.createElement(ps.a,{style:{color:"grey",transform:"scaleX(-1)"}})," Encaminhada"),o.a.createElement("br",null)),pe(e.body)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(td,{videoUrl:e.body})),!G&&e.isDeleted&&o.a.createElement("div",null,o.a.createElement("span",{className:d.deletedMessage},"\ud83d\udeab Essa mensagem foi apagada \xa0")),(e.mediaUrl||"locationMessage"===e.mediaType||"contactMessage"===e.mediaType||"template"===e.mediaType)&&re(e),o.a.createElement("div",{className:Object(j.a)(d.textContentItem,{[d.textContentItemDeleted]:e.isDeleted})},e.quotedMsg&&me(e),("image"===e.mediaType||"video"===e.mediaType)&&de.basename(e.mediaUrl)===e.body||"audio"!==e.mediaType&&"reactionMessage"!=e.mediaType&&"locationMessage"!=e.mediaType&&"contactMessage"!==e.mediaType&&"template"!==e.mediaType&&o.a.createElement(o.a.Fragment,null,ge.test(e.body)&&o.a.createElement("div",null,(c=e.body,be.test(c)&&(c=c.replace(be,"**$1**")),c)),!ge.test(e.body)&&o.a.createElement(it,null,e.body)),e.quotedMsg&&"reactionMessage"===e.mediaType&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{marginLeft:"0px"}},o.a.createElement(it,null,"Voc\xea reagiu... "+e.body))),o.a.createElement("span",{className:d.timestamp},e.isEdited?"Editada "+Object(Ba.a)(Object(Qa.a)(e.createdAt),"HH:mm"):Object(Ba.a)(Object(Qa.a)(e.createdAt),"HH:mm"),(e=>0===e.ack?o.a.createElement(hl.a,{fontSize:"small",className:d.ackIcons}):1===e.ack?o.a.createElement(Or.a,{fontSize:"small",className:d.ackIcons}):2===e.ack?o.a.createElement(Vc.a,{fontSize:"small",className:d.ackIcons}):3===e.ack||4===e.ack?o.a.createElement(Vc.a,{fontSize:"small",className:"audio"===e.mediaType?d.ackPlayedIcon:d.ackDoneAllIcon}):5===e.ack?o.a.createElement(Vc.a,{fontSize:"small",className:d.ackDoneAllIcon}):void 0)(e))))):o.a.createElement(o.a.Fragment,{key:e.id},ie(e,t),se(e,t),ce(e,t),o.a.createElement("div",{className:d.messageLeft,title:e.queueId&&(null===(r=e.queue)||void 0===r?void 0:r.name),onDoubleClick:a=>le(0,e)},$&&o.a.createElement(dd,{message:e}),o.a.createElement(F.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:d.messageActionsButton,onClick:a=>oe(a,e)},o.a.createElement(Hc.a,null)),e.isForwarded&&o.a.createElement("div",null,o.a.createElement("span",{className:d.forwardMessage},o.a.createElement(ps.a,{style:{color:"grey",transform:"scaleX(-1)"}})," Encaminhada"),o.a.createElement("br",null)),a&&o.a.createElement("span",{className:d.messageContactName},null===(i=e.contact)||void 0===i?void 0:i.name),pe(e.body)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(td,{videoUrl:e.body})),!G&&e.isDeleted&&o.a.createElement("div",null,o.a.createElement("span",{className:d.deletedMessage},"\ud83d\udeab Essa mensagem foi apagada pelo contato \xa0")),(e.mediaUrl||"locationMessage"===e.mediaType||"contactMessage"===e.mediaType||"template"===e.mediaType||"adMetaPreview"===e.mediaType)&&re(e),o.a.createElement("div",{className:Object(j.a)(d.textContentItem,{[d.textContentItemDeleted]:e.isDeleted})},e.quotedMsg&&me(e),"adMetaPreview"!==e.mediaType&&(null!==e.mediaUrl&&("image"===e.mediaType||"video"===e.mediaType)&&de.basename(e.mediaUrl).trim()!==e.body.trim()||"audio"!==e.mediaType&&"image"!==e.mediaType&&"video"!==e.mediaType&&"reactionMessage"!=e.mediaType&&"locationMessage"!=e.mediaType&&"contactMessage"!==e.mediaType&&"template"!==e.mediaType)&&o.a.createElement(o.a.Fragment,null,ge.test(e.body)&&o.a.createElement("span",null,e.body),!ge.test(e.body)&&o.a.createElement(it,null,G&&e.isDeleted?"\ud83d\udeab _Mensagem apagada_ ":e.body)),e.quotedMsg&&"reactionMessage"===e.mediaType&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{marginLeft:"0px"}},o.a.createElement(it,null,(null===e||void 0===e||null===(s=e.contact)||void 0===s?void 0:s.name)+" reagiu... "+e.body))),o.a.createElement("span",{className:d.timestamp},e.isEdited?"Editada "+Object(Ba.a)(Object(Qa.a)(e.createdAt),"HH:mm"):Object(Ba.a)(Object(Qa.a)(e.createdAt),"HH:mm")))))})}return o.a.createElement("div",null,"Diga ol\xe1 para seu novo contato!")})():[]),"whatsapp"!==s&&void 0!==s&&o.a.createElement("div",{style:{width:"100%",display:"flex",padding:"10px",alignItems:"center",backgroundColor:"#E1F3FB"}},"facebook"===s?o.a.createElement(Gl.a,null):"instagram"===s?o.a.createElement(Kl.a,null):o.a.createElement(_l.a,null),o.a.createElement("span",null,"Voc\xea tem 24h para responder ap\xf3s receber uma mensagem, de acordo com as pol\xedticas da Meta.")),f&&o.a.createElement("div",null,o.a.createElement(Lt.a,{className:d.circleLoading})))};const vd=Object(I.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));function yd(e){let{open:a,handleClose:t,ticketId:l}=e;Object(T.useHistory)(),vd();const{user:r,socket:i}=Object(n.useContext)(Ca),[,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!0),[m,u]=Object(n.useState)({}),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)(!1),h=()=>{const e=document.getElementById("messagesList"),a=document.getElementById("TicketHeader");"relat\xf3rio_atendimento_".concat(l,".pdf");if(e){const t=a.cloneNode(!0),n=e.cloneNode(!0),o=document.createElement("div");o.appendChild(t),o.appendChild(n)}else ga("Elemento n\xe3o encontrado para exportar.")},f=()=>{b||(h(),E(!0),t())};return Object(n.useEffect)(()=>{a&&f()},[a,l,f]),o.a.createElement(H.a,{maxWidth:"md",onClose:t,open:a},o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:h,color:"primary"},"Exportar para PDF"),o.a.createElement(K.a,{onClick:t,color:"primary"},"Fechar")))}var xd=t(363);const Cd=Object(I.a)(e=>({customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}));var kd=e=>{let{avatar:a,columns:t}=e;const n=Cd();return o.a.createElement(o.a.Fragment,null,o.a.createElement(To.a,null,a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ko.a,{style:{paddingRight:0}},o.a.createElement(Oo.a,{animation:"wave",variant:"circle",width:40,height:40})),o.a.createElement(ko.a,null,o.a.createElement(Oo.a,{animation:"wave",height:30,width:80}))),Array.from({length:t},(e,a)=>o.a.createElement(ko.a,{align:"center",key:a},o.a.createElement("div",{className:n.customTableCell},o.a.createElement(Oo.a,{align:"center",animation:"wave",height:30,width:80}))))))};const wd=Object(I.a)(e=>({dialog:{"& .MuiDialog-paper":{minHeight:"500px",maxHeight:"80vh",width:"100%",maxWidth:"600px"}},searchField:{marginBottom:e.spacing(2)},listContainer:{maxHeight:"400px",overflow:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"}},listItem:{cursor:"pointer",borderRadius:e.spacing(1),marginBottom:e.spacing(.5),"&:hover":{backgroundColor:e.palette.action.hover}},messagePreview:{display:"-webkit-box","-webkit-line-clamp":2,"-webkit-box-orient":"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.875rem",color:e.palette.text.secondary,marginTop:e.spacing(.5)},shortcode:{fontWeight:"bold",color:e.palette.primary.main},mediaChip:{marginLeft:e.spacing(1),height:"20px",fontSize:"0.75rem"},emptyState:{textAlign:"center",padding:e.spacing(4),color:e.palette.text.secondary},loadingContainer:{padding:e.spacing(2)}}));var Ad=e=>{let{open:a,onClose:t,onSelect:l,companyId:r,userId:i}=e;const s=wd(),[c,d]=Object(n.useState)([]),[m,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(""),[E,h]=Object(n.useState)([]);Object(n.useEffect)(()=>{a&&r&&f()},[a,r,i]),Object(n.useEffect)(()=>{if(""===g.trim())h(c);else{const e=c.filter(e=>e.shortcode.toLowerCase().includes(g.toLowerCase())||e.message.toLowerCase().includes(g.toLowerCase()));h(e)}},[g,c]);const f=async()=>{p(!0);try{const{data:e}=await u.get("/quick-messages/list",{params:{companyId:r,userId:i,isOficial:"false",status:"active"}});d(e||[])}catch(e){console.error("Erro ao buscar respostas r\xe1pidas:",e),ga(e),d([])}finally{p(!1)}},v=()=>{b(""),d([]),h([]),t()},y=e=>{const a=e.mediaPath||e.mediaName;return o.a.createElement(_.a,{key:e.id,className:s.listItem,onClick:()=>(e=>{l(e),v()})(e)},o.a.createElement(J.a,{primary:o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(z.a,{className:s.shortcode},"#",e.shortcode),a&&o.a.createElement(Vt.a,{icon:o.a.createElement(ra.a,null),label:ma.a.t("quickMessages.hasMedia"),size:"small",variant:"outlined",className:s.mediaChip}),e.geral&&o.a.createElement(Vt.a,{label:ma.a.t("quickMessages.global"),size:"small",color:"primary",variant:"outlined",className:s.mediaChip})),secondary:e.message&&o.a.createElement(z.a,{className:s.messagePreview},e.message)}))};return o.a.createElement(H.a,{open:a,onClose:v,className:s.dialog,fullWidth:!0,maxWidth:"sm"},o.a.createElement(Q.a,null,o.a.createElement(tn.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},o.a.createElement(z.a,{variant:"h6"},ma.a.t("quickMessages.selectMessage")),o.a.createElement(F.a,{onClick:v,size:"small"},o.a.createElement(Bn.a,null)))),o.a.createElement(G.a,{dividers:!0},o.a.createElement(Ft.a,{fullWidth:!0,placeholder:ma.a.t("quickMessages.searchPlaceholder"),value:g,onChange:e=>{b(e.target.value)},className:s.searchField,InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(dl.a,null))}}),m?o.a.createElement(tn.a,{className:s.loadingContainer},o.a.createElement(kd,{columns:1})):0===E.length?o.a.createElement(tn.a,{className:s.emptyState},o.a.createElement(z.a,{variant:"body1"},g?ma.a.t("quickMessages.noResultsFound"):ma.a.t("quickMessages.noQuickMessages"))):o.a.createElement(L.a,{className:s.listContainer},E.map((e,a)=>o.a.createElement(o.a.Fragment,{key:e.id},y(e),a<E.length-1&&o.a.createElement(W.a,null))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:v,color:"secondary"},ma.a.t("quickMessages.buttons.cancel"))))};const Td=Object(I.a)(e=>({actionButtons:{marginRight:6,maxWidth:"100%",flex:"none",alignSelf:"center",marginLeft:"auto",display:"flex","& > *":{margin:e.spacing(1)}},bottomButtonVisibilityIcon:{padding:1,color:"light"===e.mode?e.palette.primary.main:"#FFF"},botoes:{display:"flex",padding:"15px",justifyContent:"flex-end",maxWidth:"100%"}})),Od=Dt.e().shape({ratingId:Dt.f().required("Avalia\xe7\xe3o obrigat\xf3ria")});var Sd=e=>{var a;let{ticket:t,contact:l,onQuickMessageSelect:r}=e;const i=Td(),s=Object(xd.a)(),c=Object(T.useHistory)(),d=Object(n.useRef)(!0),[m,p]=Object(n.useState)(!1),{user:g}=Object(n.useContext)(Ca),{setCurrentTicket:b,setTabOpen:E}=Object(n.useContext)(gt),[h,f]=o.a.useState(!1),v=o.a.useRef(null),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)(!1),[w,A]=Object(n.useState)(!1),[j,I]=Object(n.useState)(null),[M,N]=Object(n.useState)(!1),[R,D]=Object(n.useState)(!1),[P,L]=Object(n.useState)(!1),[W,B]=Object(n.useState)(t.contact.disableBot),[q,z]=Object(n.useState)(!1),[G,_]=Object(n.useState)(t.useIntegration),[Y,J]=Object(n.useState)(!1),[Z,$]=Object(n.useState)(""),[ee,ae]=Object(n.useState)(""),[te,ne]=Object(n.useState)([]),{get:oe}=Da(),{getPlanCompany:le}=Ia(),[re,ie]=Object(n.useState)(null),[se,ce]=Object(n.useState)(!1),[me,ue]=Object(n.useState)(!1),[pe,ge]=Object(n.useState)(!1),[be,Ee]=Object(n.useState)(!1),[he,fe]=Object(n.useState)(!1),[ve,ye]=Object(n.useState)(null),[xe,Ce]=Object(n.useState)(!1),[ke,we]=Object(n.useState)(null),[Ae,Te]=Object(n.useState)(!1),[Oe,Se]=Object(n.useState)(!1);console.log("DEBUG user:",g),console.log("DEBUG user.finalizacaoComValorVendaAtiva:",null===g||void 0===g?void 0:g.finalizacaoComValorVendaAtiva),Object(n.useEffect)(()=>(je(),Ie(),Me(),()=>{d.current=!1}),[]),Object(n.useEffect)(()=>{console.log("DEBUG openFinalizacaoVenda:",he)},[he]),Object(n.useEffect)(()=>{console.log("DEBUG open (modal avalia\xe7\xe3o):",h)},[h]);const je=async()=>{const e=g.companyId,a=await le(void 0,e);d.current&&(z(a.plan.useSchedules),L(!1),B(t.contact.disableBot),D(!1))},Ie=async()=>{try{const{data:e}=await u.get("/whatsapp/".concat(t.whatsappId));d.current&&ue(!0===e.triggerIntegrationOnClose)}catch(e){console.error(e),d.current&&ue(!1)}},Me=async()=>{try{const e=await oe({column:"DirectTicketsToWallets"});d.current&&Te(e.DirectTicketsToWallets)}catch(e){console.error(e),d.current&&Te(!1)}},Ne=()=>{Se(!1)},Re=Object(n.useCallback)(e=>{if(console.log("\ud83c\udfaf Resposta r\xe1pida selecionada:",e),Ne(),e.mediaPath){const a=new CustomEvent("insertQuickMessage",{detail:{quickMessage:{id:e.id,message:e.message||"",shortcode:e.shortcode||"",mediaPath:e.mediaPath,mediaType:e.mediaType,value:e.message||""}},bubbles:!1});window.dispatchEvent(a)}else{const a=new CustomEvent("insertQuickMessage",{detail:{quickMessage:{id:e.id,message:e.message||"",shortcode:e.shortcode||"",mediaPath:null,mediaType:null,value:e.message||""}},bubbles:!1});window.dispatchEvent(a)}},[]),De=()=>{v.current.resetForm(),f(!1)},Pe=async()=>{N(!0)},Fe=()=>{ie(null),ce(!1)},Le=async(e,a,n)=>{p(!0);try{var o,l;let e;await u.put("/tickets/".concat(t.id),{status:a,userId:n||null});try{e=await oe({column:"sendGreetingAccepted"})}catch(r){ga(r)}"enabled"!==(null===(o=e)||void 0===o?void 0:o.sendGreetingAccepted)||t.isGroup&&"enabled"!==(null===(l=t.whatsapp)||void 0===l?void 0:l.groupAsTicket)||"pending"!==t.status||(async e=>{let a;try{a=await oe({column:"greetingAcceptedMessage"})}catch(r){ga(r)}if(!a.greetingAcceptedMessage)return void O.b.warning(ma.a.t("messagesList.header.buttons.greetingAcceptedMessage"));const t="".concat(a.greetingAcceptedMessage),n={read:1,fromMe:!0,mediaUrl:"",body:"".concat(t.trim())};try{await u.post("/messages/".concat(e),n)}catch(r){ga(r)}})(t.id),d.current&&p(!1),"open"===a||"group"===a?(b(Object(S.a)(Object(S.a)({},t),{},{code:"#"+a})),setTimeout(()=>{c.push("/tickets")},0),setTimeout(()=>{c.push("/tickets/".concat(t.uuid)),E(a)},10)):(b({id:null,code:null}),c.push("/tickets"))}catch(r){d.current&&p(!1),ga(r)}},We=async()=>{try{var e,a;if(null===t||void 0===t||null===(e=t.whatsapp)||void 0===e?void 0:e.integrationTypeId){const{data:e}=await u.get("/queueIntegration/".concat(t.whatsapp.integrationTypeId));var n;if(e)await u.post("/queueIntegration/testsession",{integrationId:t.whatsapp.integrationTypeId,ticketId:t.id,contactId:t.contactId,body:(null===(n=t.lastMessage)||void 0===n?void 0:n.body)||"",status:"closed"}),d.current&&O.b.success(ma.a.t("ticketList.success.integrationTriggered"))}await Le(0,"closed",null===g||void 0===g?void 0:g.id,null===t||void 0===t||null===(a=t.queue)||void 0===a||a.id),d.current&&De()}catch(o){ga(o)}},Be=async e=>{var a;!0===g.finalizacaoComValorVendaAtiva||"true"===g.finalizacaoComValorVendaAtiva?(we(e),fe(!0)):"semDespedida"===e?(async()=>{p(!0);try{await u.put("/tickets/".concat(t.id),{status:"closed",userId:(null===g||void 0===g?void 0:g.id)||null,sendFarewellMessage:!1,amountUsedBotQueues:0}),p(!1),c.push("/tickets")}catch(e){p(!1),ga(e)}})():Le(0,"closed",null===g||void 0===g?void 0:g.id,null===t||void 0===t||null===(a=t.queue)||void 0===a||a.id)},qe=async(e,a,n)=>{try{await u.put("/tickets/".concat(t.id),Object(S.a)(Object(S.a)({},e),{},{sendFarewellMessage:a,finalizacaoMessage:n})),O.b.success("Ticket finalizado com sucesso!")}catch(o){ga(o)}};return o.a.createElement(o.a.Fragment,null,Y&&o.a.createElement(er,{isOpen:Y,handleClose:()=>{J(!1),p(!1)},user:Z,queue:ee}),M&&o.a.createElement(br,{modalOpen:M,onClose:e=>N(!1),ticketId:t.id,ticket:t}),R&&o.a.createElement(zc,{isOpen:R,handleClose:e=>D(!1),ticketId:t.id}),P&&o.a.createElement(yd,{open:P,handleClose:()=>L(!1),ticketId:t.id}),Oe&&o.a.createElement(Ad,{open:Oe,onClose:Ne,onSelect:Re,companyId:null===g||void 0===g?void 0:g.companyId,userId:null===g||void 0===g?void 0:g.id}),o.a.createElement("div",{className:i.actionButtons},"closed"===t.status&&(null===t.queueId||void 0===t.queueId)&&o.a.createElement(Ml,{loading:m,startIcon:o.a.createElement(Ir.a,null),size:"small",onClick:e=>Pe()},ma.a.t("messagesList.header.buttons.reopen")),"closed"===t.status&&null!==t.queueId&&o.a.createElement(Ml,{startIcon:o.a.createElement(Ir.a,null),loading:m,onClick:e=>(async e=>{p(!0);try{const a=await u.put("/tickets/".concat(e),{status:t.isGroup?"group":"open",userId:null===g||void 0===g?void 0:g.id});a.data.id!==t.id?a.data.userId!==(null===g||void 0===g?void 0:g.id)?d.current&&(J(!0),$(a.data.user.name),ae(a.data.queue.name),E(a.isGroup?"group":"open")):(d.current&&(p(!1),E(a.isGroup?"group":"open")),c.push("/tickets/".concat(a.data.uuid))):(d.current&&p(!1),c.push("/tickets"),setTimeout(()=>{c.push("/tickets/".concat(t.uuid)),E(t.isGroup?"group":"open")},1e3))}catch(a){d.current&&p(!1),ga(a)}})(t.id)},ma.a.t("messagesList.header.buttons.reopen")),("open"===t.status||"group"===t.status)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,{className:i.bottomButtonVisibilityIcon,onClick:async()=>{try{if(!(null===l||void 0===l?void 0:l.number))return void O.b.error(ma.a.t("ticketInfo.noPhone"));const e=l.number.replace(/\D/g,"");e.length>=8?(await navigator.clipboard.writeText(e),O.b.success(ma.a.t("ticketInfo.phonecopied"))):O.b.error(ma.a.t("ticketInfo.invalidPhoneFormat"))}catch(e){console.error("Erro ao copiar telefone:",e),O.b.error(ma.a.t("ticketInfo.copyError"))}},disabled:!(null===l||void 0===l?void 0:l.number)},o.a.createElement(de.a,{title:(()=>{const e="true"===localStorage.getItem("usePrefixWhenCopy"),a=localStorage.getItem("contactCopyPrefix")||"";let t=ma.a.t("ticketInfo.copyPhone");return e&&a&&(t="Copiar telefone com prefixo (".concat(a,")")),t})()},o.a.createElement(Ic.a,null))),o.a.createElement(F.a,{className:i.bottomButtonVisibilityIcon,onClick:()=>{Se(!0)}},o.a.createElement(de.a,{title:ma.a.t("ticketInfo.quickMessages")},o.a.createElement(Mc.a,null))),o.a.createElement(F.a,{className:i.bottomButtonVisibilityIcon},o.a.createElement(de.a,{title:ma.a.t("messagesList.header.buttons.resolve")},o.a.createElement(Pc.a,{onClick:()=>{console.log("DEBUG handleClickResolver chamado"),!0===g.finalizacaoComValorVendaAtiva||"true"===g.finalizacaoComValorVendaAtiva?(we("comDespedida"),fe(!0)):f(!0)}}))),o.a.createElement(F.a,{className:i.bottomButtonVisibilityIcon},o.a.createElement(de.a,{title:ma.a.t("tickets.buttons.returnQueue")},o.a.createElement(Lc.a,{onClick:e=>Le(0,"pending",null)}))),o.a.createElement(F.a,{className:i.bottomButtonVisibilityIcon},o.a.createElement(de.a,{title:"Transferir Ticket"},o.a.createElement(Nc.a,{onClick:e=>{k(!0),De()}}))),Ae&&!((null===(a=t.contact)||void 0===a?void 0:a.contactWallets)&&t.contact.contactWallets.length>0)&&o.a.createElement(F.a,{className:i.bottomButtonVisibilityIcon,onClick:async()=>{if(t.contactId){Ee(!0);try{if(!g.queues||0===g.queues.length)return void O.b.error(ma.a.t("contactModal.walletError"));const e=g.queues[0];await u.put("/contacts/wallet/".concat(t.contactId),{wallets:{userId:g.id,queueId:t.queueId||e.id}}),O.b.success(ma.a.t("contactModal.walletLinked"))}catch(e){ga(e)}finally{Ee(!1)}}else O.b.error(ma.a.t("contactModal.saveFirst"))},disabled:be},o.a.createElement(de.a,{title:"Vincular \xe0 minha carteira"},be?o.a.createElement(Lt.a,{size:20}):o.a.createElement(Rc.a,null)))),o.a.createElement(V.a,{className:i.bottomButtonVisibilityIcon},o.a.createElement(de.a,{title:ma.a.t("contactModal.form.chatBotContact")},o.a.createElement(cl.a,{size:"small",checked:W,onChange:()=>(async()=>{const{id:e}=t.contact;try{const{data:a}=await u.put("/contacts/toggleDisableBot/".concat(e));t.contact.disableBot=a.disableBot,B(a.disableBot)}catch(a){ga(a)}})()}))),y&&o.a.createElement(Si,{title:"".concat(ma.a.t("ticketOptionsMenu.confirmationModal.title")," #").concat(t.id,"?"),open:y,onClose:x,onConfirm:async()=>{try{await u.delete("/tickets/".concat(t.id)),c.push("/tickets")}catch(e){ga(e)}}},ma.a.t("ticketOptionsMenu.confirmationModal.message")),C&&o.a.createElement(xr,{modalOpen:C,onClose:()=>{k(!1)},ticketid:t.id,ticket:t})),"pending"===t.status&&(null===t.queueId||void 0===t.queueId)&&o.a.createElement(Ml,{loading:m,size:"small",variant:"contained",onClick:e=>Pe()},ma.a.t("messagesList.header.buttons.accept")),"pending"===t.status&&null!==t.queueId&&o.a.createElement(Ml,{loading:m,size:"small",variant:"contained",onClick:e=>Le(0,"open",null===g||void 0===g?void 0:g.id)},ma.a.t("messagesList.header.buttons.accept")),o.a.createElement(F.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{ie(e.currentTarget),ce(!0)},color:"inherit",style:{paddingHorizontal:3,paddingTop:10}},o.a.createElement(ms.a,{style:{fontSize:16,padding:0}})),o.a.createElement(U.a,{id:"menu-appbar",anchorEl:re,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:se,onClose:Fe},o.a.createElement(V.a,{onClick:e=>{x(!0),De()}},o.a.createElement(ja,{role:g.profile,perform:"ticket-options:deleteTicket",yes:()=>ma.a.t("tickets.buttons.deleteTicket")})),o.a.createElement(V.a,{onClick:async()=>{p(!0);try{await u.put("/tickets/".concat(t.id),{useIntegration:!G}),_(!G),p(!1)}catch(e){p(!1),ga(e)}}},!0===G?ma.a.t("messagesList.header.buttons.disableIntegration"):ma.a.t("messagesList.header.buttons.enableIntegration")),o.a.createElement(V.a,{onClick:async()=>{D(!0)}},ma.a.t("messagesList.header.buttons.logTicket")),o.a.createElement(V.a,{onClick:async()=>{L(!0),Fe()}},ma.a.t("ticketsList.buttons.exportAsPDF")))),o.a.createElement(o.a.Fragment,null,(!g.finalizacaoComValorVendaAtiva||!1===g.finalizacaoComValorVendaAtiva||"false"===g.finalizacaoComValorVendaAtiva)&&o.a.createElement(Pt.e,{enableReinitialize:!0,validationSchema:Od,innerRef:v,onSubmit:(e,a)=>{setTimeout(()=>{a.setSubmitting(!1),a.resetForm()},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:l,setFieldValue:r,resetForm:c}=e;return o.a.createElement(H.a,{open:h,onClose:De,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Pt.d,null,o.a.createElement(X.a,{className:i.botoes},o.a.createElement(K.a,{onClick:()=>Be("semDespedida"),style:{background:s.palette.primary.main,color:"white"}},ma.a.t("messagesList.header.dialogRatingWithoutFarewellMsg")),o.a.createElement(K.a,{onClick:()=>Be("comDespedida"),style:{background:s.palette.primary.main,color:"white"}},ma.a.t("messagesList.header.dialogRatingCancel")),me&&o.a.createElement(K.a,{onClick:We,style:{background:s.palette.primary.main,color:"white"}},ma.a.t("whatsappModalRel.form.resolveAndTriggerIntegration")))))})),he&&(console.log("DEBUG JSX: Renderizando FinalizacaoVendaModal"),o.a.createElement(Tr,{open:he,onClose:()=>fe(!1),ticket:t,onFinalizar:e=>{fe(!1),ye(e),Ce(!0)}})),xe&&o.a.createElement(H.a,{open:xe,onClose:()=>Ce(!1),"aria-labelledby":"finalizacao-options-title"},o.a.createElement(Q.a,{id:"finalizacao-options-title"},"Como deseja finalizar?"),o.a.createElement(X.a,{className:i.botoes},o.a.createElement(K.a,{onClick:async()=>{Ce(!1),await qe(ve,!1,null)},style:{background:s.palette.primary.main,color:"white"}},ma.a.t("messagesList.header.dialogRatingWithoutFarewellMsg")),o.a.createElement(K.a,{onClick:async()=>{Ce(!1),await qe(ve,!0,null)},style:{background:s.palette.primary.main,color:"white"}},ma.a.t("messagesList.header.dialogRatingCancel")))))};const jd=Object(I.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));var Id=()=>{const{ticketId:e}=Object(T.useParams)(),a=Object(T.useHistory)(),t=jd(),{user:l,socket:r}=Object(n.useContext)(Ca),{setTabOpen:i}=Object(n.useContext)(gt),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!0),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)({}),[h,f]=Object(n.useState)([]),{companyId:v}=l;Object(n.useEffect)(()=>{m(!0);const t=setTimeout(()=>{(async()=>{try{if(!Object(da.isNil)(e)&&"undefined"!==e){const{data:a}=await u.get("/tickets/u/"+e);g(a.contact),E(a),["pending","open","group"].includes(a.status)&&i(a.status),m(!1)}}catch(t){a.push("/tickets"),m(!1),ga(t)}})()},500);return()=>clearTimeout(t)},[e,l,a]),Object(n.useEffect)(()=>{if((b||b.id||b.uuid===e||"undefined"!==e)&&l.companyId){const e=()=>{r.emit("joinChatBox","".concat(b.id))},t=e=>{"update"===e.action&&e.ticket.id===(null===b||void 0===b?void 0:b.id)&&E(e.ticket),"delete"===e.action&&e.ticketId===(null===b||void 0===b?void 0:b.id)&&a.push("/tickets")},n=e=>{"update"===e.action&&g(a=>{var t;return a.id===(null===(t=e.contact)||void 0===t?void 0:t.id)?Object(S.a)(Object(S.a)({},a),e.contact):a})};return r.on("connect",e),r.on("company-".concat(v,"-ticket"),t),r.on("company-".concat(v,"-contact"),n),()=>{r.emit("joinChatBoxLeave","".concat(b.id)),r.off("connect",e),r.off("company-".concat(v,"-ticket"),t),r.off("company-".concat(v,"-contact"),n)}}},[e,b,a]);const y=Object(n.useCallback)(()=>{c(!0)},[]),x=Object(n.useCallback)(()=>{c(!1)},[]);return o.a.createElement("div",{className:t.root,id:"drawer-container"},o.a.createElement(Gt.a,{variant:"outlined",elevation:0,className:Object(j.a)(t.mainWrapper,{[t.mainWrapperShift]:s})},o.a.createElement(Oc,{loading:d},void 0!==b.contact&&o.a.createElement("div",{id:"TicketHeader"},o.a.createElement(jc,{contact:p,ticket:b,onClick:y})),o.a.createElement(Sd,{ticket:b,contact:p,onQuickMessageSelect:e=>{try{if(e.message){const a=new CustomEvent("insertQuickMessage",{detail:{message:e.message}});window.dispatchEvent(a)}e.mediaPath}catch(a){console.error("Erro ao inserir resposta r\xe1pida:",a),ga("Erro ao inserir resposta r\xe1pida")}}})),o.a.createElement(Gt.a,null,o.a.createElement(ql,{contact:p})),o.a.createElement(Ms,null,o.a.createElement(Qs,null,o.a.createElement(tc,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(fd,{isGroup:b.isGroup,onDrop:f,whatsappId:b.whatsappId,queueId:b.queueId,channel:b.channel,ticketStatus:b.status}),o.a.createElement(xc,{ticketId:b.id,ticketStatus:b.status,ticketChannel:b.channel,droppedFiles:h,contactId:p.id,whatsappId:b.whatsappId})))))),o.a.createElement(Xi,{open:s,handleDrawerClose:x,contact:p,loading:d,ticket:b}))};const Md=Object(I.a)(e=>({chatContainer:{flex:1,padding:"2px",height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden",position:"relative",minWidth:"".concat(404,"px")},messagesWrapper:{display:"flex",height:"100%",flexDirection:"column",flexGrow:1},welcomeMsg:{background:e.palette.tabHeaderBackground,display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center"},dragger:{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid #ddd",position:"absolute",top:0,right:0,bottom:0,zIndex:100,backgroundColor:"#f4f7f9",userSelect:"none"},logo:{logo:e.logo,content:"url("+("light"===e.mode?e.calculatedLogoLight():e.calculatedLogoDark())+")"}}));var Nd=()=>{const{user:e}=Object(n.useContext)(Ca),[a,t]=Object(n.useState)((null===e||void 0===e?void 0:e.defaultTicketsManagerWidth)||550),l=Md({ticketsManagerWidth:a}),{ticketId:r}=Object(T.useParams)(),i=Object(n.useRef)(a);Object(n.useEffect)(()=>{const a=(null===e||void 0===e?void 0:e.defaultTicketsManagerWidth)||550,n=Math.max(404,Math.min(700,a));t(n),i.current=n},[e]);const s=Object(n.useCallback)(e=>{const a=e.clientX-document.body.offsetLeft;a>=404&&a<=700&&(i.current=a,t(a))},[]),c=async()=>{document.removeEventListener("mouseup",c,!0),document.removeEventListener("mousemove",s,!0);const t=i.current;t!==a&&await(async a=>{const t=Math.max(404,a);try{await u.put("/users/toggleChangeWidht/".concat(e.id),{defaultTicketsManagerWidth:t})}catch(n){console.error("Erro ao salvar largura:",n)}})(t)},d=Math.max(404,a);return o.a.createElement(Yr,null,o.a.createElement("div",{className:l.chatContainer},o.a.createElement("div",{className:l.chatPapper},o.a.createElement("div",{className:l.contactsWrapper,style:{width:"".concat(d,"px"),minWidth:"".concat(404,"px"),maxWidth:"".concat(700,"px"),opacity:d>0?1:0,visibility:d>0?"visible":"hidden"}},o.a.createElement(Xr,null),o.a.createElement("div",{onMouseDown:e=>{document.addEventListener("mouseup",c,!0),document.addEventListener("mousemove",s,!0)},className:l.dragger})),o.a.createElement("div",{className:l.messagesWrapper},r?o.a.createElement(Id,null):o.a.createElement(il.a,{only:["sm","xs"]},o.a.createElement(Gt.a,{square:!0,variant:"outlined",className:l.welcomeMsg},o.a.createElement("span",null,o.a.createElement("center",null,o.a.createElement("img",{className:l.logo,width:"50%",alt:""})),ma.a.t("chat.noTicketMessage"))))))))},Rd=t(1483),Dd=t(1484),Pd=t(821),Fd=t.n(Pd),Ld=t(456);var Wd=Object(Ld.a)(Gt.a)({height:"calc(100% - 48px)",display:"grid",gridTemplateRows:"56px 1fr"});const Bd=Object(I.a)(e=>({header:{},content:{overflow:"auto"},placeholderContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:e.palette.tabHeaderBackground},placeholderItem:{}}));var qd=e=>{const a=Bd(),{ticketId:t}=Object(T.useParams)(),[l,r]=Object(n.useState)(0),{currentTicket:i,setCurrentTicket:s}=Object(n.useContext)(gt);Object(n.useEffect)(()=>(null!==i.id&&s({id:i.id,code:"#open"}),t||r(1),()=>{s({id:null,code:null})}),[]),Object(n.useEffect)(()=>{null!==i.id&&r(0)},[i]);return o.a.createElement(Yr,null,o.a.createElement(Wd,null,o.a.createElement(tn.a,{className:a.header},o.a.createElement(Rd.a,{value:l,onChange:(e,a)=>{r(a)},showLabels:!0,className:a.root},o.a.createElement(Dd.a,{label:"Ticket",icon:o.a.createElement(Va.a,null)}),o.a.createElement(Dd.a,{label:"Atendimentos",icon:o.a.createElement(Fd.a,null)}))),o.a.createElement(tn.a,{className:a.content},0===l?t&&"undefined"!==t?o.a.createElement(Id,null):o.a.createElement(tn.a,{className:a.placeholderContainer},o.a.createElement("div",{className:a.placeholderItem},ma.a.t("chat.noTicketMessage")),o.a.createElement("br",null),o.a.createElement(K.a,{onClick:()=>r(1),variant:"contained",color:"primary"},"Selecionar Ticket")):o.a.createElement(Xr,null))))};var zd=Object(rl.a)()((function(e){return Object(rl.c)("md",e.width)?o.a.createElement(Nd,null):o.a.createElement(qd,null)})),Ud=t(822),Vd=t.n(Ud),Hd=t(823),Qd=t.n(Hd),Gd=t(528);const Kd=Object(I.a)(e=>{const{mode:a}=e;return{root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"0",boxSizing:"border-box",overflow:"auto",position:"relative",backgroundColor:e.palette.background?e.palette.background.default:"light"===e.palette.type?"#f5f5f5":"#303030",backgroundImage:"none",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",[e.breakpoints.down("sm")]:{flexDirection:"column"}},containerSignup:{padding:"16px",width:"calc(100% - 32px)",zIndex:10,left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute",maxWidth:"420px",margin:"0 auto",[e.breakpoints.down("sm")]:{width:"calc(100% - 40px)",maxWidth:"90%"},[e.breakpoints.down("xs")]:{width:"calc(100% - 32px)",maxWidth:"85%"}},paper:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"\n        0 20px 40px rgba(0, 0, 0, 0.1),\n        0 1px 0 rgba(255, 255, 255, 0.2) inset,\n        0 0 0 1px rgba(255, 255, 255, 0.1)\n      ",display:"flex",flexDirection:"column",alignItems:"center",padding:"30px 25px",borderRadius:"20px",maxWidth:"420px",width:"100%",margin:"0 auto",border:"1px solid rgba(255, 255, 255, 0.2)",animation:"$slideInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",boxSizing:"border-box",[e.breakpoints.down("sm")]:{animation:"$slideInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1)",borderRadius:"16px",padding:"25px 20px",boxSizing:"border-box",width:"100%"},[e.breakpoints.down("xs")]:{padding:"20px 15px",borderRadius:"14px",boxShadow:"0 15px 30px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",width:"100%"}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),background:"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.dark,")"),color:"white",borderRadius:"12px",padding:"12px 0",fontSize:"16px",fontWeight:600,textTransform:"none",boxShadow:"0 4px 12px ".concat(e.palette.primary.main,"40"),border:"none",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(45deg, ".concat(e.palette.primary.dark,", ").concat(e.palette.primary.dark,")"),transform:"translateY(-2px)",boxShadow:"0 6px 20px ".concat(e.palette.primary.main,"66")},"&:active":{transform:"translateY(0)"}},"@keyframes slideInUp":{from:{opacity:0,transform:"translateY(30px)"},to:{opacity:1,transform:"translateY(0)"}}}}),_d=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),companyName:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),document:Dt.f().test("document-format","CPF deve ter 11 d\xedgitos ou CNPJ deve ter 14 d\xedgitos",(function(e){if(!e)return!1;const a=e.replace(/\D/g,"");return 11===a.length||14===a.length})).required("CPF ou CNPJ \xe9 obrigat\xf3rio"),password:Dt.f().min(5,"Too Short!").max(50,"Too Long!"),email:Dt.f().email("Invalid email").required("Required"),phone:Dt.f().required("Required")});var Yd=()=>{const e=Kd(),a=Object(D.a)(),t=Object(T.useHistory)(),{colorMode:l}=Object(n.useContext)(h),{appLogoFavicon:r,appName:s,mode:c}=l,{getPlanList:d}=Ia(),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(""),{getPublicSetting:x}=Pn(),[C,k]=Object(n.useState)(""),[S,j]=Object(n.useState)("");let I=null;const M=Vd.a.parse(window.location.search);void 0!==M.companyId&&(I=M.companyId);const N={name:"",email:"",password:"",phone:"",companyId:I,companyName:"",document:"",planId:""},[P]=Object(n.useState)(N);Object(n.useEffect)(()=>{x("userCreation").then(e=>{"disabled"===e&&(O.b.error(ma.a.t("signup.toasts.disabled")),t.push("/login"))}).catch(e=>{console.log("Error reading setting",e)}),x("appLogoBackgroundLight",I).then(e=>{if(e){const a=w()+"/public/"+e;console.log("Background light URL:",a),k(a)}else k("")}).catch(e=>{console.error("Erro ao carregar imagem de fundo clara:",e),k("")}),x("appLogoBackgroundDark",I).then(e=>{if(e){const a=w()+"/public/"+e;console.log("Background dark URL:",a),j(a)}else j("")}).catch(e=>{console.error("Erro ao carregar imagem de fundo escura:",e),j("")})},[t,I]),Object(n.useEffect)(()=>{b(!0);(async()=>{const e=await d({listPublic:"false"});p(e),b(!1)})()},[]);const F=async(e,a)=>{const t=e.replace(/\D/g,"");if(v===t)return!0;if("cpf"===(e.replace(/\D/g,"").length<=11?"cpf":"cnpj"))return(e=>{const a=e.replace(/\D/g,"");if(11!==a.length)return!1;if(/^(\d)\1{10}$/.test(a))return!1;let t=0;for(let o=0;o<9;o++)t+=parseInt(a.charAt(o))*(10-o);let n=10*t%11;if(10!==n&&11!==n||(n=0),n!==parseInt(a.charAt(9)))return!1;t=0;for(let o=0;o<10;o++)t+=parseInt(a.charAt(o))*(11-o);return n=10*t%11,10!==n&&11!==n||(n=0),n===parseInt(a.charAt(10))})(e)?(y(t),O.b.success("CPF v\xe1lido!"),!0):(y(t),O.b.error("CPF inv\xe1lido!"),!1);if(14!==t.length)return!1;f(!0);try{const e=(await m.post("/auth/validate-cnpj",{cnpj:t})).data;return f(!1),e.valid&&e.data.nome?("cnpj"===e.data.tipo?(a("companyName",e.data.nome),O.b.success("CNPJ v\xe1lido! Nome da empresa preenchido automaticamente.")):O.b.success("CPF v\xe1lido!"),y(t),!0):(y(t),O.b.error("Documento inv\xe1lido ou n\xe3o encontrado na Receita Federal"),!1)}catch(n){return f(!1),console.error("Erro ao validar documento:",n),O.b.error("Erro ao validar documento. Tente novamente."),y(t),!1}};let L;const W=C&&""!==C.trim(),B=S&&""!==S.trim();return L="light"===c?W?"url(".concat(C,")"):a.palette.background?a.palette.background.default:"#f5f5f5":B?"url(".concat(S,")"):a.palette.background?a.palette.background.default:"#303030",o.a.createElement(o.a.Fragment,null,o.a.createElement(Gd.Helmet,null,o.a.createElement("title",null,s||"Multi100 - Cadastro"),o.a.createElement("link",{rel:"icon",href:r||"/default-favicon.ico"})),o.a.createElement("div",{className:e.root,style:{backgroundImage:"string"===typeof L&&L.includes("url(")?L:"none"}},o.a.createElement(fo.a,{component:"main",maxWidth:!1,className:e.containerSignup,style:{zIndex:10,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",boxSizing:"border-box",margin:"0 auto"}},o.a.createElement(i.a,null),o.a.createElement("div",{className:e.paper},o.a.createElement(R.a,{className:e.avatar},o.a.createElement(Qd.a,null)),o.a.createElement(z.a,{component:"h1",variant:"h5"},ma.a.t("signup.title")),o.a.createElement(Pt.e,{initialValues:P,enableReinitialize:!0,validationSchema:_d,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{await m.post("/auth/signup",e),O.b.success(ma.a.t("signup.toasts.success")),t.push("/login")}catch(a){ga(a)}})(e),a.setSubmitting(!1)},400)}},a=>{let{touched:t,errors:n,isSubmitting:l,setFieldValue:r}=a;return o.a.createElement(Pt.d,{className:e.form},o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,variant:"outlined",fullWidth:!0,id:"document",label:"CPF ou CNPJ",name:"document",error:t.document&&Boolean(n.document),helperText:t.document&&n.document||"Digite CPF (11 d\xedgitos) ou CNPJ (14 d\xedgitos)",autoComplete:"document",inputProps:{maxLength:18,style:{textTransform:"none"}},InputProps:{endAdornment:E&&o.a.createElement(Lt.a,{size:20})},autoFocus:!0,onChange:e=>{let a=e.target.value;const t=a.replace(/\D/g,"");v&&v!==t&&y("");const n=(e=>e.replace(/\D/g,"").length<=11?(e=>{const a=e.replace(/\D/g,"").slice(0,11);return a.length<=3?a:a.length<=6?"".concat(a.slice(0,3),".").concat(a.slice(3)):a.length<=9?"".concat(a.slice(0,3),".").concat(a.slice(3,6),".").concat(a.slice(6)):"".concat(a.slice(0,3),".").concat(a.slice(3,6),".").concat(a.slice(6,9),"-").concat(a.slice(9))})(e):(e=>{const a=e.replace(/\D/g,"").slice(0,14);return a.length<=2?a:a.length<=5?"".concat(a.slice(0,2),".").concat(a.slice(2)):a.length<=8?"".concat(a.slice(0,2),".").concat(a.slice(2,5),".").concat(a.slice(5)):a.length<=12?"".concat(a.slice(0,2),".").concat(a.slice(2,5),".").concat(a.slice(5,8),"/").concat(a.slice(8)):"".concat(a.slice(0,2),".").concat(a.slice(2,5),".").concat(a.slice(5,8),"/").concat(a.slice(8,12),"-").concat(a.slice(12))})(e))(a);r("document",n),(11===t.length||14===t.length)&&F(n,r)}})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,variant:"outlined",fullWidth:!0,id:"companyName",label:ma.a.t("signup.form.company"),error:t.companyName&&Boolean(n.companyName),helperText:t.companyName&&n.companyName,name:"companyName",autoComplete:"companyName"})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,autoComplete:"name",name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:ma.a.t("signup.form.name")})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,variant:"outlined",fullWidth:!0,id:"email",label:ma.a.t("signup.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,autoComplete:"email",inputProps:{style:{textTransform:"lowercase"}}})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,variant:"outlined",fullWidth:!0,name:"password",error:t.password&&Boolean(n.password),helperText:t.password&&n.password,label:ma.a.t("signup.form.password"),type:"password",id:"password",autoComplete:"current-password"})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,variant:"outlined",fullWidth:!0,id:"phone",label:ma.a.t("signup.form.phone"),name:"phone",autoComplete:"phone"})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Bt.a,{htmlFor:"plan-selection"},"Plano"),o.a.createElement(Pt.b,{as:Wt.a,variant:"outlined",fullWidth:!0,id:"plan-selection",label:"Plano",name:"planId",required:!0},u.map((e,a)=>o.a.createElement(V.a,{key:a,value:e.id},e.name," - Atendentes: ",e.users," - WhatsApp: ",e.connections," - Filas: ",e.queues," - R$ ",e.amount))))),o.a.createElement(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:E},ma.a.t("signup.buttons.submit")),o.a.createElement(Yt.a,{container:!0},o.a.createElement(Yt.a,{item:!0},o.a.createElement(ei.a,{href:"#",variant:"body2",component:A.b,to:"/login"},ma.a.t("signup.buttons.login")))))})),o.a.createElement(tn.a,{mt:5}))))},Jd=t(824),Xd=t.n(Jd),Zd=t(825),$d=t.n(Zd),em=t(826),am=t.n(em),tm=t(827),nm=t.n(tm);const om=[{value:"pt-BR",label:"Portugu\xeas",icon:Xd.a},{value:"en",label:"English",icon:$d.a},{value:"es",label:"Spanish",icon:am.a},{value:"ar",label:"\u0639\u0631\u0628\u064a",icon:nm.a}],lm=Object(I.a)(e=>{const{mode:a}=e;return{loginPageGlobal:{backgroundRepeat:"no-repeat !important",backgroundSize:"cover !important",backgroundPosition:"center center !important",backgroundAttachment:"fixed !important",width:"100% !important",height:"100% !important",minHeight:"100vh !important",minWidth:"100vw !important",overflow:"hidden !important"},root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"0",margin:"0",boxSizing:"border-box",overflow:"hidden",position:"relative",backgroundColor:e.palette.background?e.palette.background.default:"light"===e.palette.type?"#f5f5f5":"#303030",backgroundImage:"none",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",[e.breakpoints.down("sm")]:{flexDirection:"column"}},"@keyframes float":{"0%, 100%":{transform:"translateY(0px) rotate(0deg)"},"50%":{transform:"translateY(-10px) rotate(180deg)"}},containerLogin:{padding:"16px",width:"calc(100% - 32px)",zIndex:10,left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute",maxWidth:"420px",margin:"0 auto",[e.breakpoints.down("sm")]:{width:"calc(100% - 40px)",maxWidth:"90%"},[e.breakpoints.down("xs")]:{width:"calc(100% - 32px)",maxWidth:"85%"}},paper:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"\n      0 20px 40px rgba(0, 0, 0, 0.1),\n      0 1px 0 rgba(255, 255, 255, 0.2) inset,\n      0 0 0 1px rgba(255, 255, 255, 0.1)\n    ",display:"flex",flexDirection:"column",alignItems:"center",padding:"40px 30px",borderRadius:"20px",maxWidth:"420px",width:"100%",margin:"0 auto",border:"1px solid rgba(255, 255, 255, 0.2)",animation:"$slideInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",boxSizing:"border-box",[e.breakpoints.down("sm")]:{animation:"$slideInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1)",borderRadius:"16px",padding:"30px 25px",boxSizing:"border-box",width:"100%"},[e.breakpoints.down("xs")]:{padding:"25px 20px",borderRadius:"14px",boxShadow:"0 15px 30px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",width:"100%"}},"@keyframes slideInRight":{from:{opacity:0,transform:"translateY(30px)"},to:{opacity:1,transform:"translateY(0)"}},"@keyframes slideInUp":{from:{opacity:0,transform:"translateY(30px)"},to:{opacity:1,transform:"translateY(0)"}},avatar:{margin:e.spacing(1),backgroundColor:"#3b82f6"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),background:"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.dark,")"),color:"white",borderRadius:"12px",padding:"12px 0",fontSize:"16px",fontWeight:600,textTransform:"none",boxShadow:"0 4px 12px ".concat(e.palette.primary.main,"40"),border:"none",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(45deg, ".concat(e.palette.primary.dark,", ").concat(e.palette.primary.dark,")"),transform:"translateY(-2px)",boxShadow:"0 6px 20px ".concat(e.palette.primary.main,"66")},"&:active":{transform:"translateY(0)"}},powered:{color:"white"},logoImg:{width:"100%",maxWidth:"280px",height:"auto",maxHeight:"80px",margin:"0 auto 20px auto",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))",content:"url("+("light"===e.mode?e.calculatedLogoLight():e.calculatedLogoDark())+")"},iconButton:{position:"absolute",top:15,right:15,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#374151",transition:"all 0.3s ease","&:hover":{background:"rgba(255, 255, 255, 0.2)",transform:"scale(1.05)"}},textField:{"& .MuiOutlinedInput-root":{borderRadius:"12px",backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.9)"},"&.Mui-focused":{backgroundColor:"rgba(255, 255, 255, 1)",boxShadow:"0 0 0 3px rgba(59, 130, 246, 0.1)"},"& fieldset":{borderColor:"rgba(59, 130, 246, 0.2)"},"&:hover fieldset":{borderColor:"rgba(59, 130, 246, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#3b82f6",borderWidth:"2px"}},"& .MuiInputLabel-root":{color:"#6b7280",fontWeight:500,"&.Mui-focused":{color:"#3b82f6"}}},languageSelector:{position:"fixed",top:"20px",left:"20px",zIndex:1e3,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"8px 12px"},registerLink:{color:"#3b82f6",textDecoration:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{color:"#2563eb",textDecoration:"underline"}},languageDropdown:{display:"flex",alignItems:"center",background:"none",border:"none",color:"white",fontSize:"14px",fontWeight:500,cursor:"pointer",gap:"8px",transition:"opacity 0.3s ease","&:hover":{opacity:.8}},languageOptions:{position:"absolute",top:"100%",left:"0",marginTop:"8px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"8px",zIndex:1e3,minWidth:"140px"},languageOption:{background:"none",border:"none",color:"#374151",display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",textAlign:"left",borderRadius:"8px",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease","&:hover":{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"}},flagIcon:{width:20,height:15,borderRadius:2}}});var rm=()=>{const e=lm(),a=Object(D.a)(),{colorMode:t}=Object(n.useContext)(h),{appLogoFavicon:l,appName:r,mode:s}=t,[c,d]=Object(n.useState)({email:"",password:""}),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),{getPublicSetting:b}=Pn(),{handleLogin:E}=Object(n.useContext)(Ca),[f,v]=Object(n.useState)(!1),y=Object(n.useRef)(),[x,C]=Object(n.useState)(["pt-BR","en"]),[k,T]=Object(n.useState)(""),[O,j]=Object(n.useState)(""),I=e=>{d(Object(S.a)(Object(S.a)({},c),{},{[e.target.name]:e.target.value}))};Object(n.useEffect)(()=>{const e=(()=>{const e=new URLSearchParams(window.location.search).get("companyId");return e?parseInt(e):null})();b("userCreation",e).then(e=>{g("enabled"===e)}).catch(e=>{console.log("Error reading setting",e)}),b("enabledLanguages",e).then(e=>{let a=["pt-BR","en"];try{e&&(a=JSON.parse(e))}catch(t){}C(a)}).catch(()=>{C(["pt-BR","en"])}),b("appLogoBackgroundLight",e).then(e=>{if(e){const a=w()+"/public/"+e;console.log("Background light URL:",a),T(a)}else T("")}).catch(e=>{console.error("Erro ao carregar imagem de fundo clara:",e),T("")}),b("appLogoBackgroundDark",e).then(e=>{if(e){const a=w()+"/public/"+e;console.log("Background dark URL:",a),j(a)}else j("")}).catch(e=>{console.error("Erro ao carregar imagem de fundo escura:",e),j("")})},[]);const M=om.find(e=>e.value===ma.a.language)||om[0];let N;console.log("Modo:",s),console.log("Background Light URL:",k),console.log("Background Dark URL:",O);const R=k&&""!==k.trim(),P=O&&""!==O.trim();return"light"===s?R?(N="url(".concat(k,")"),console.log("Usando background light:",N)):(N=a.palette.background?a.palette.background.default:"#f5f5f5",console.log("Usando cor do tema light:",N)):P?(N="url(".concat(O,")"),console.log("Usando background dark:",N)):(N=a.palette.background?a.palette.background.default:"#303030",console.log("Usando cor do tema dark:",N)),console.log("Background final definido:",N),o.a.createElement(o.a.Fragment,null,o.a.createElement(Gd.Helmet,null,o.a.createElement("title",null,r||"Multi100"),o.a.createElement("link",{rel:"icon",href:l||"/default-favicon.ico"})),o.a.createElement("div",{className:e.root,style:{backgroundImage:"string"===typeof N&&N.includes("url(")?N:"none"}},o.a.createElement("div",{ref:y,className:e.languageSelector},o.a.createElement("button",{onClick:()=>v(e=>!e),className:e.languageDropdown},o.a.createElement("img",{src:M.icon,alt:M.label,className:e.flagIcon}),M.label,o.a.createElement("span",null,"\u25be")),f&&o.a.createElement("div",{className:e.languageOptions},om.filter(e=>x.includes(e.value)).map(a=>o.a.createElement("button",{key:a.value,onClick:()=>(e=>{ma.a.changeLanguage(e.value),localStorage.setItem("language",e.value),v(!1),window.location.reload()})(a),className:e.languageOption},o.a.createElement("img",{src:a.icon,alt:a.label,className:e.flagIcon}),a.label)))),o.a.createElement(fo.a,{component:"main",maxWidth:!1,className:e.containerLogin,style:{zIndex:10,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",boxSizing:"border-box",margin:"0 auto"}},o.a.createElement(i.a,null),o.a.createElement("div",{className:e.paper},o.a.createElement(F.a,{className:e.iconButton,onClick:t.toggleColorMode},"dark"===s?o.a.createElement(Dn.a,null):o.a.createElement(Nn.a,null)),o.a.createElement("div",null,o.a.createElement("img",{className:e.logoImg,alt:"logo"})),o.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:e=>{e.preventDefault(),E(c)}},o.a.createElement(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:ma.a.t("login.form.email"),name:"email",value:c.email,onChange:I,autoComplete:"email",autoFocus:!0,className:e.textField}),o.a.createElement(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:ma.a.t("login.form.password"),type:m?"text":"password",id:"password",value:c.password,onChange:I,autoComplete:"current-password",className:e.textField,InputProps:{endAdornment:o.a.createElement(yi.a,{position:"end"},o.a.createElement(F.a,{"aria-label":"toggle password visibility",onClick:()=>{u(!m)},edge:"end",style:{color:"#6b7280"}},m?o.a.createElement(Cl.a,null):o.a.createElement(yl.a,null)))}}),o.a.createElement(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},ma.a.t("login.buttons.submit")),p&&o.a.createElement(Yt.a,{container:!0,justifyContent:"center"},o.a.createElement(Yt.a,{item:!0},o.a.createElement(ei.a,{href:"#",variant:"body2",component:A.b,to:"/signup",className:e.registerLink},ma.a.t("login.buttons.register")))))))))},im=t(1488),sm=t(157),cm=t.n(sm),dm=t(1489),mm=t(1490),um=t(1491),pm=t(1492),gm=t(1493),bm=t(1494),Em=t(1495),hm=t(1496),fm=t(529),vm=t.n(fm),ym=t(240),xm=t.n(ym);const Cm=Object(I.a)(e=>({contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}));var km=e=>{let{children:a}=e;const t=Cm();return o.a.createElement("div",{className:t.contactsHeader},a)};const wm=Object(I.a)(e=>({MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}));var Am=e=>{let{children:a}=e;const t=wm();return o.a.createElement("div",{className:t.MainHeaderButtonsWrapper},a)};function Tm(e){return o.a.createElement(z.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}var Om=t(1487),Sm=t(413);const jm=Object(I.a)(e=>({root:{width:"100%"},fullWidth:{width:"100%"},textfield:{width:"100%",fontSize:"0.875em"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));var Im=function(e){const{initialValues:a,onSubmit:t,loading:l,labelSaveButton:r}=e,i=jm(),[s,c]=Object(n.useState)([{weekday:ma.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:ma.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:ma.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:ma.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:ma.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:ma.a.t("queueModal.serviceHours.saturday"),weekdayEn:"saturday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:ma.a.t("queueModal.serviceHours.sunday"),weekdayEn:"sunday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""}]);return Object(n.useEffect)(()=>{console.log(a),Object(da.isArray)(a)&&a.length>0&&c(a)},[a]),o.a.createElement(Pt.e,{enableReinitialize:!0,className:i.fullWidth,initialValues:{schedules:s},onSubmit:e=>{let{schedules:a}=e;return setTimeout(()=>{var e;e=a,console.log(e),t(e)},500)}},e=>{let{values:a}=e;return o.a.createElement(Pt.d,{className:i.fullWidth},o.a.createElement(Pt.c,{name:"schedules",render:e=>o.a.createElement(Yt.a,{spacing:4,container:!0},a.schedules.map((e,a)=>o.a.createElement(Yt.a,{key:a,xs:12,md:4,item:!0},o.a.createElement(Yt.a,{container:!0},o.a.createElement(Yt.a,{className:i.control,xs:12,item:!0},o.a.createElement(Pt.a,{as:Ft.a,abel:ma.a.t("queueModal.serviceHours.dayWeek"),name:"schedules[".concat(a,"].weekday"),disabled:!0,variant:"outlined",className:i.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{className:i.control,xs:12,md:6,item:!0},o.a.createElement(Pt.a,{label:ma.a.t("queueModal.serviceHours.startTimeA"),name:"schedules[".concat(a,"].startTimeA")},e=>{let{field:a}=e;return o.a.createElement(Sm.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:Ft.a,format:"##:##",className:i.fullWidth,label:ma.a.t("queueModal.serviceHours.startTimeA")}))})),o.a.createElement(Yt.a,{className:i.control,xs:12,md:6,item:!0},o.a.createElement(Pt.a,{label:ma.a.t("queueModal.serviceHours.endTimeA"),name:"schedules[".concat(a,"].endTimeA")},e=>{let{field:a}=e;return o.a.createElement(Sm.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:Ft.a,format:"##:##",className:i.fullWidth,label:ma.a.t("queueModal.serviceHours.endTimeA")}))})),o.a.createElement(Yt.a,{className:i.control,xs:12,md:6,item:!0},o.a.createElement(Pt.a,{label:ma.a.t("queueModal.serviceHours.startTimeB"),name:"schedules[".concat(a,"].startTimeB")},e=>{let{field:a}=e;return o.a.createElement(Sm.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:Ft.a,format:"##:##",className:i.fullWidth,label:ma.a.t("queueModal.serviceHours.startTimeB")}))})),o.a.createElement(Yt.a,{className:i.control,xs:12,md:6,item:!0},o.a.createElement(Pt.a,{label:ma.a.t("queueModal.serviceHours.endTimeB"),name:"schedules[".concat(a,"].endTimeB")},e=>{let{field:a}=e;return o.a.createElement(Sm.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:Ft.a,format:"##:##",className:i.fullWidth,label:ma.a.t("queueModal.serviceHours.endTimeB")}))}))))))}),o.a.createElement("div",{className:i.buttonContainer},o.a.createElement(Ml,{loading:l,type:"submit",color:"primary",variant:"contained"},null!==r&&void 0!==r?r:ma.a.t("whatsappModal.buttons.okEdit"))))})},Mm=t(1486),Nm=t(889);var Rm=e=>{let{onChange:a,currentColor:t,handleClose:l,open:r}=e;const[i,s]=Object(n.useState)(t);return o.a.createElement(H.a,{onClose:(e,a)=>{"backdropClick"===a&&l()},"aria-labelledby":"simple-dialog-title",open:r},o.a.createElement(Nm.a,{width:"100%",triangle:"hide",color:i,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#4D4D4D","#999999","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],onChange:e=>{s(e.hex),a(e.hex)},onChangeComplete:e=>a(e.hex)}))};var Dm=function(){const e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),t=Math.floor(256*Math.random());return"#".concat(e.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0")).concat(t.toString(16).padStart(2,"0"))};const Pm=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{marginTop:12,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},importMessage:{marginTop:12,marginBottom:12,paddingBottom:20,paddingTop:3,padding:12,border:"solid grey 2px",borderRadius:4,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textField:{marginRight:e.spacing(1),flex:1},tokenRefresh:{minWidth:"auto",display:"flex",alignItems:"center",justifyContent:"center"},colorAdorment:{width:20,height:20},formControl:{width:220},colorField:{width:150}})),Fm=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Lm=o.a.memo(e=>{let{open:a,onClose:t,whatsAppId:l,channel:r}=e;const i=Pm(),[s,c]=Object(n.useState)(""),d=Object(n.useRef)(null),[m,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(""),E={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",maxUseBotQueues:3,provider:"beta",expiresTicket:0,allowGroup:!1,enableImportMessage:!1,groupAsTicket:"disabled",timeUseBotQueues:"0",timeSendQueue:"0",sendIdQueue:0,expiresTicketNPS:"0",expiresInactiveMessage:"",timeInactiveMessage:"",inactiveMessage:"",maxUseBotQueuesNPS:3,whenExpiresTicket:0,timeCreateNewTicket:0,greetingMediaAttachment:"",importRecentMessages:"",importOldMessages:"",importOldMessagesGroups:"",integrationId:"",collectiveVacationEnd:"",collectiveVacationStart:"",collectiveVacationMessage:"",queueIdImportMessages:null,isOficial:!1,phone_number_id:"",waba_id:"",send_token:"",business_id:"",phone_number:"",color:Dm(),flowInactiveTime:0,flowIdInactiveTime:0,timeAwaitActiveFlowId:0,maxUseInactiveTime:1,timeToReturnQueue:0,triggerIntegrationOnClose:!0},[h,f]=Object(n.useState)(E),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)([]),[k,w]=Object(n.useState)("general"),[A,T]=Object(n.useState)(!1),[j,I]=Object(n.useState)(!1),[M,N]=Object(n.useState)(!1),[R,D]=Object(n.useState)(ya()().add(-1,"days").format("YYYY-MM-DDTHH:mm")),[P,L]=Object(n.useState)(ya()().add(-1,"minutes").format("YYYY-MM-DDTHH:mm")),[W,B]=Object(n.useState)(!1),[q,z]=Object(n.useState)([]),[U,_]=Object(n.useState)(!1),[Y,J]=Object(n.useState)(!1),[Z,$]=Object(n.useState)(!1),[ee,ae]=Object(n.useState)(!1),{user:te}=Object(n.useContext)(Ca),[ne,oe]=Object(n.useState)(!1),[le,re]=Object(n.useState)(!1),[ie,se]=Object(n.useState)(!1),[ce,de]=Object(n.useState)([{weekday:ma.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}]),{get:me}=Da(),{getPlanCompany:ue}=Ia(),[pe,ge]=Object(n.useState)(null),[be,Ee]=Object(n.useState)(!0),[he,fe]=Object(n.useState)("n8n"),[ve,ye]=Object(n.useState)(null),[xe,Ce]=Object(n.useState)([]),[ke,we]=Object(n.useState)([]),[Ae,Te]=Object(n.useState)(),[Oe,Se]=Object(n.useState)(),[je,Ie]=Object(n.useState)(),[Me,Ne]=Object(n.useState)();Object(n.useEffect)(()=>{l||h.token?l&&!h.token?c(We(30)):c(h.token):c(We(30))},[l,h.token]),Object(n.useEffect)(()=>{!async function(){const e=te.companyId,a=await ue(void 0,e);$(a.plan.useOpenAi),ae(a.plan.useIntegrations),re(a.plan.useWhatsappOfficial)}()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/prompt");Ce(e.prompts)}catch(e){ga(e)}})()},[l]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/flowbuilder");we(e.flows)}catch(e){ga(e)}})()},[]),Object(n.useEffect)(()=>{(async()=>{const e=await me({column:"scheduleType"});_("connection"===e.scheduleType);const a=await me({column:"userRating"});J("enabled"===a.userRating)})()},[]);const Re=async e=>{T(e.target.checked)},De=async e=>{oe(e.target.checked)};Object(n.useEffect)(()=>{(async()=>{if(l)try{var e;const{data:a}=await u.get("whatsapp/".concat(l,"?session=0"));if(a&&(null===a||void 0===a?void 0:a.flowIdNotPhrase)){const{data:e}=await u.get("flowbuilder/".concat(a.flowIdNotPhrase)),t=null===e||void 0===e?void 0:e.flow.id;Te(t)}if(a&&(null===a||void 0===a?void 0:a.flowIdWelcome)){const{data:e}=await u.get("flowbuilder/".concat(a.flowIdWelcome)),t=null===e||void 0===e?void 0:e.flow.id;Se(t)}if(a&&(null===a||void 0===a?void 0:a.flowIdInactiveTime)){const{data:e}=await u.get("flowbuilder/".concat(a.flowIdInactiveTime)),t=null===e||void 0===e?void 0:e.flow.id;Ie(t)}if(a&&(null===a||void 0===a?void 0:a.timeAwaitActiveFlowId)){const{data:e}=await u.get("flowbuilder/".concat(a.timeAwaitActiveFlowId)),t=null===e||void 0===e?void 0:e.flow.id;Ne(t)}f(a),b(a.greetingMediaAttachment),c(a.token),a.promptId?ge(a.promptId):ge(null);const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);y(t),oe("whatsapp_oficial"===r),de(a.schedules),Object(da.isNil)(null===a||void 0===a?void 0:a.importOldMessages)||(T(!0),D(null===a||void 0===a?void 0:a.importOldMessages),L(null===a||void 0===a?void 0:a.importRecentMessages),N(null===a||void 0===a?void 0:a.closedTicketsPostImported),I(null===a||void 0===a?void 0:a.importOldMessagesGroups))}catch(a){ga(a)}})()},[l]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");C(e)}catch(e){ga(e)}})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration");z(e.queueIntegrations)}catch(e){ga(e)}})()},[]);const Pe=e=>{ge(e.target.value),y([])},Fe=e=>{Ee(e.target.value)},Le=e=>{fe(e.target.value),ye(e.target.value)};function We(e){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789";let t="";for(let n=0;n<e;n++){const e=Math.floor(Math.random()*a.length);t+=a.charAt(e)}return t}const Be=()=>{c(We(30))},qe=e=>{console.log(e.target.value),Te(e.target.value)},ze=e=>{Se(e.target.value)},Ue=e=>{Ie(e.target.value)},Ve=()=>{navigator.clipboard.writeText(s),B(!0)},He=async e=>{O.b.success("Clique em salvar para registar as altera\xe7\xf5es"),de(e)},Qe=()=>{t(),f(E),T(!1),p(null),b(""),B(!1)},Ge=(e,a)=>{w(a)},Ke=()=>{const e=d.current.files[0];p(e),b(e.name),d.current.value=null},_e=()=>{p(null),b(null)};return o.a.createElement("div",{className:i.root},o.a.createElement(H.a,{open:a,onClose:Qe,maxWidth:"lg",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,null,l?ma.a.t("whatsappModal.title.edit"):ma.a.t("whatsappModal.title.add")),o.a.createElement(Pt.e,{initialValues:h,enableReinitialize:!0,validationSchema:Fm,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(l||c(We(30)),Y){if(Object(da.isNil)(e.ratingMessage))return void ga(ma.a.t("whatsappModal.errorRatingMessage"));if("0"===e.expiresTicketNPS&&""===e.expiresTicketNPS&&0===e.expiresTicketNPS)return void ga(ma.a.t("whatsappModal.errorExpiresNPS"))}if(""===e.timeSendQueue&&(e.timeSendQueue="0"),(0===e.sendIdQueue||""===e.sendIdQueue||Object(da.isNil)(e.sendIdQueue))&&0!==e.timeSendQueue&&"0"!==e.timeSendQueue)return void ga(ma.a.t("whatsappModal.errorSendQueue"));const a=Object(S.a)(Object(S.a)({},e),{},{flowIdWelcome:Oe||null,flowIdInactiveTime:je||null,flowIdNotPhrase:Ae||null,timeAwaitActiveFlowId:Me||null,queueIds:v,importOldMessages:A?R:null,importRecentMessages:A?P:null,importOldMessagesGroups:j||null,closedTicketsPostImported:M||null,token:s||null,schedules:ce,promptId:pe||null,channel:r,triggerIntegrationOnClose:be,integrationTypeId:be?ve:null,color:e.color?e.color:Dm()});delete a.queues,delete a.session;try{if(l){if(l&&A&&"CONNECTED"===(null===h||void 0===h?void 0:h.status))try{f(Object(S.a)(Object(S.a)({},h),{},{status:"qrcode"})),await u.delete("/whatsappsession/".concat(h.id))}catch(t){ga(t)}if(await u.put("/whatsapp/".concat(l),a),null!=m){const e=new FormData;e.append("file",m),await u.post("/whatsapp/".concat(l,"/media-upload"),e)}g||null===h.greetingMediaAttachment||await u.delete("/whatsapp/".concat(l,"/media-upload"))}else{const{data:e}=await u.post("/whatsapp",a);if(null!=m){const a=new FormData;a.append("file",m),await u.post("/whatsapp/".concat(e.id,"/media-upload"),a)}}O.b.success(ma.a.t("whatsappModal.success")),Qe()}catch(t){ga(t)}})(e),a.setSubmitting(!1)},400)}},e=>{var a,t;let{values:n,touched:c,errors:m,isSubmitting:u}=e;return o.a.createElement(Pt.d,null,o.a.createElement(Gt.a,{className:i.mainPaper,elevation:1},o.a.createElement(Kt.a,{value:k,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:Ge,className:i.tab},o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.general"),value:"general"}),o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.integrations"),value:"integrations"}),o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.messages"),value:"messages"}),o.a.createElement(_t.a,{label:"Chatbot",value:"chatbot"}),o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.assessments"),value:"nps"}),"enabled"===te.showFlow&&o.a.createElement(_t.a,{label:"Fluxo Padr\xe3o",value:"flowbuilder"}),U&&o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.schedules"),value:"schedules"}))),o.a.createElement(Gt.a,{className:i.paper,elevation:0},o.a.createElement(Xt,{className:i.container,value:k,name:"general"},o.a.createElement(G.a,{dividers:!0},g&&o.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},o.a.createElement(K.a,{variant:"outlined",color:"primary",endIcon:o.a.createElement(Rl.a,null),onClick:_e},g)),o.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse"}},o.a.createElement("input",{type:"file",accept:"video/*,image/*",ref:d,style:{display:"none"},onChange:Ke}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>d.current.click()},ma.a.t("userModal.buttons.addImage"))),o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:c.name&&Boolean(m.name),helperText:c.name&&m.name,variant:"outlined",margin:"dense",className:i.textField})),o.a.createElement(Yt.a,{item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("connections.table.color"),name:"color",id:"color",onFocus:()=>{se(!1)},error:c.color&&Boolean(m.color),helperText:c.color&&m.color,InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement("div",{style:{backgroundColor:n.color},className:i.colorAdorment})),endAdornment:o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>se(!0)},o.a.createElement(Mm.a,null))},variant:"outlined",margin:"dense",className:i.colorField}),o.a.createElement(Rm,{open:ie,handleClose:()=>se(!1),onChange:e=>{n.color=e,f(()=>Object(S.a)(Object(S.a)({},n),{},{color:e}))}})),o.a.createElement(Yt.a,{style:{paddingTop:15},item:!0},o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,color:"primary",name:"isDefault",checked:n.isDefault}),label:ma.a.t("whatsappModal.form.default")}),le&&"whatsapp_oficial"===r&&o.a.createElement(wr.a,{style:{marginRight:7,color:"gray"},label:ma.a.t("whatsappModal.form.isOficial"),labelPlacement:"end",control:o.a.createElement(cl.a,{size:"medium",checked:ne,onChange:De,name:"isOficial",color:"primary"})}),o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,color:"primary",name:"allowGroup",checked:n.allowGroup}),label:ma.a.t("whatsappModal.form.group")})),o.a.createElement(Yt.a,{xs:6,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:i.formControl},o.a.createElement(Bt.a,{id:"groupAsTicket-selection-label"},ma.a.t("whatsappModal.form.groupAsTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("whatsappModal.form.groupAsTicket"),placeholder:ma.a.t("whatsappModal.form.groupAsTicket"),labelId:"groupAsTicket-selection-label",id:"groupAsTicket",name:"groupAsTicket"},o.a.createElement(V.a,{value:"disabled"},ma.a.t("whatsappModal.menuItem.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("whatsappModal.menuItem.enabled"))))))),ne&&o.a.createElement("div",{className:i.importMessage},o.a.createElement(Yt.a,{style:{marginTop:18},container:!0,spacing:1},o.a.createElement(Yt.a,{xs:12,md:6,xl:3,item:!0},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.phone_number_id"),name:"phone_number_id",InputLabelProps:{shrink:!0},error:c.phone_number_id&&Boolean(m.phone_number_id),helperText:c.phone_number_id&&m.phone_number_id,variant:"outlined",required:ne})),o.a.createElement(Yt.a,{xs:12,md:6,xl:3,item:!0},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.waba_id"),name:"waba_id",InputLabelProps:{shrink:!0},error:c.waba_id&&Boolean(m.waba_id),helperText:c.waba_id&&m.waba_id,variant:"outlined",required:ne})),o.a.createElement(Yt.a,{xs:12,md:6,xl:3,item:!0},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.business_id"),name:"business_id",InputLabelProps:{shrink:!0},error:c.business_id&&Boolean(m.business_id),helperText:c.business_id&&m.business_id,variant:"outlined",required:ne})),o.a.createElement(Yt.a,{xs:12,md:6,xl:3,item:!0},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.phone_number"),name:"phone_number",InputLabelProps:{shrink:!0},error:c.phone_number&&Boolean(m.phone_number),helperText:c.phone_number&&m.phone_number,variant:"outlined",required:ne})),o.a.createElement(Yt.a,{xs:12,md:12,xl:12,item:!0},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.send_token"),name:"send_token",InputLabelProps:{shrink:!0},error:c.send_token&&Boolean(m.send_token),helperText:c.send_token&&m.send_token,variant:"outlined",required:ne})))),!ne&&o.a.createElement("div",{className:i.importMessage},o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(wr.a,{style:{marginRight:7,color:"gray"},label:ma.a.t("whatsappModal.form.importOldMessagesEnable"),labelPlacement:"end",control:o.a.createElement(cl.a,{size:"medium",checked:A,onChange:Re,name:"importOldMessagesEnable",color:"primary"})}),A?o.a.createElement(o.a.Fragment,null,o.a.createElement(wr.a,{style:{marginRight:7,color:"gray"},label:ma.a.t("whatsappModal.form.importOldMessagesGroups"),labelPlacement:"end",control:o.a.createElement(cl.a,{size:"medium",checked:j,onChange:e=>I(e.target.checked),name:"importOldMessagesGroups",color:"primary"})}),o.a.createElement(wr.a,{style:{marginRight:7,color:"gray"},label:ma.a.t("whatsappModal.form.closedTicketsPostImported"),labelPlacement:"end",control:o.a.createElement(cl.a,{size:"medium",checked:M,onChange:e=>N(e.target.checked),name:"closedTicketsPostImported",color:"primary"})})):o.a.createElement(o.a.Fragment,null)),A?o.a.createElement(Yt.a,{style:{marginTop:18},container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.importOldMessages"),type:"datetime-local",name:"importOldMessages",inputProps:{max:ya()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:ya()().add(-2,"years").format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:c.importOldMessages&&Boolean(m.importOldMessages),helperText:c.importOldMessages&&m.importOldMessages,variant:"outlined",value:ya()(R).format("YYYY-MM-DDTHH:mm"),onChange:e=>{D(e.target.value)}})),o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.importRecentMessages"),type:"datetime-local",name:"importRecentMessages",inputProps:{max:ya()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:ya()(R).format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:c.importRecentMessages&&Boolean(m.importRecentMessages),helperText:c.importRecentMessages&&m.importRecentMessages,variant:"outlined",value:ya()(P).format("YYYY-MM-DDTHH:mm"),onChange:e=>{L(e.target.value)}})),o.a.createElement(Yt.a,{xs:12,md:12,xl:12,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"queueIdImportMessages-selection-label"},ma.a.t("whatsappModal.form.queueIdImportMessages")),o.a.createElement(Pt.b,{as:Wt.a,name:"queueIdImportMessages",id:"queueIdImportMessages",value:n.queueIdImportMessages||"0",required:A,label:ma.a.t("whatsappModal.form.queueIdImportMessages"),placeholder:ma.a.t("whatsappModal.form.queueIdImportMessages"),labelId:"queueIdImportMessages-selection-label"},o.a.createElement(V.a,{value:0},"\xa0"),x.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))):null),A&&o.a.createElement("span",{style:{color:"red"}},ma.a.t("whatsappModal.form.importAlert")),o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(Yt.a,{xs:6,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.token"),type:"token",fullWidth:!0,value:s,variant:"outlined",margin:"dense",disabled:!0})),o.a.createElement(K.a,{onClick:Be,disabled:u,className:i.tokenRefresh,variant:"text",startIcon:o.a.createElement(Om.a,{style:{marginLeft:5,color:"green"}})}),o.a.createElement(K.a,{onClick:Ve,className:i.tokenRefresh,variant:"text",startIcon:o.a.createElement(Ic.a,{style:{color:W?"blue":"inherit"}})})),o.a.createElement("div",null,o.a.createElement("h3",null,ma.a.t("whatsappModal.form.queueRedirection")),o.a.createElement("p",null,ma.a.t("whatsappModal.form.queueRedirectionDesc")),o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,md:6,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"sendIdQueue-selection-label"},ma.a.t("whatsappModal.form.sendIdQueue")),o.a.createElement(Pt.b,{as:Wt.a,name:"sendIdQueue",id:"sendIdQueue",value:n.sendIdQueue||"0",required:n.timeSendQueue>0,label:ma.a.t("whatsappModal.form.sendIdQueue"),placeholder:ma.a.t("whatsappModal.form.sendIdQueue"),labelId:"sendIdQueue-selection-label"},o.a.createElement(V.a,{value:0},"\xa0"),x.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{xs:6,md:6,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeSendQueue"),fullWidth:!0,name:"timeSendQueue",variant:"outlined",margin:"dense",error:c.timeSendQueue&&Boolean(m.timeSendQueue),helperText:c.timeSendQueue&&m.timeSendQueue})))))),o.a.createElement(Xt,{className:i.container,value:k,name:"integrations"},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Qt,{selectedQueueIds:v,onChange:e=>(y(e),void ge(null))}),ee&&o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"integrationId-selection-label"},ma.a.t("queueModal.form.integrationId")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",variant:"outlined",margin:"dense",placeholder:ma.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label"},o.a.createElement(V.a,{value:null},"Desabilitado"),q.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))),Z&&o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,null,ma.a.t("whatsappModal.form.prompt")),o.a.createElement(Wt.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"promptId",value:pe||"",onChange:Pe,label:ma.a.t("whatsappModal.form.prompt"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},xe.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(Yt.a,{spacing:3,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"triggerIntegrationOnClose-selection-label"},ma.a.t("whatsappModal.form.triggerIntegrationOnClose")),o.a.createElement(Pt.b,{onChange:Fe,value:be,as:Wt.a,label:ma.a.t("whatsappModal.form.triggerIntegrationOnClose"),name:"triggerIntegrationOnClose",id:"triggerIntegrationOnClose",variant:"outlined",margin:"dense",placeholder:ma.a.t("whatsappModal.form.triggerIntegrationOnClose"),labelId:"triggerIntegrationOnClose-selection-label"},o.a.createElement(V.a,{value:!1},ma.a.t("whatsappModal.menuItem.disabled")),o.a.createElement(V.a,{value:!0},ma.a.t("whatsappModal.menuItem.enabled"))))),be&&o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"integrationType-selection-label"},ma.a.t("queueModal.form.integrationId")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueModal.form.integrationId"),name:"integrationType",id:"integrationType",variant:"outlined",margin:"dense",placeholder:ma.a.t("queueModal.form.integrationId"),labelId:"integrationType-selection-label",value:ve,onChange:Le},o.a.createElement(V.a,{value:null},"Desabilitado"),q.filter(e=>"n8n"===e.type||"typebot"===e.type).map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))))),o.a.createElement(Xt,{className:i.container,value:k,name:"messages"},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:c.greetingMessage&&Boolean(m.greetingMessage),helperText:c.greetingMessage&&m.greetingMessage,variant:"outlined",margin:"dense"})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.complationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:c.complationMessage&&Boolean(m.complationMessage),helperText:c.complationMessage&&m.complationMessage,variant:"outlined",margin:"dense"})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.outOfHoursMessage"),multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:c.outOfHoursMessage&&Boolean(m.outOfHoursMessage),helperText:c.outOfHoursMessage&&m.outOfHoursMessage,variant:"outlined",margin:"dense"})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.collectiveVacationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"collectiveVacationMessage",error:c.collectiveVacationMessage&&Boolean(m.collectiveVacationMessage),helperText:c.collectiveVacationMessage&&m.collectiveVacationMessage,variant:"outlined",margin:"dense"})),o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.collectiveVacationStart"),type:"date",name:"collectiveVacationStart",required:(null===(a=n.collectiveVacationMessage)||void 0===a?void 0:a.length)>0,inputProps:{min:ya()().add(-10,"days").format("YYYY-MM-DD")},InputLabelProps:{shrink:!0},error:c.collectiveVacationStart&&Boolean(m.collectiveVacationStart),helperText:c.collectiveVacationStart&&m.collectiveVacationStart,variant:"outlined"})),o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.collectiveVacationEnd"),type:"date",name:"collectiveVacationEnd",required:(null===(t=n.collectiveVacationMessage)||void 0===t?void 0:t.length)>0,inputProps:{min:ya()().add(-10,"days").format("YYYY-MM-DD")},InputLabelProps:{shrink:!0},error:c.collectiveVacationEnd&&Boolean(m.collectiveVacationEnd),helperText:c.collectiveVacationEnd&&m.collectiveVacationEnd,variant:"outlined"}))))),o.a.createElement(Xt,{className:i.container,value:k,name:"chatbot"},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeCreateNewTicket"),fullWidth:!0,name:"timeCreateNewTicket",variant:"outlined",margin:"dense",error:c.timeCreateNewTicket&&Boolean(m.timeCreateNewTicket),helperText:c.timeCreateNewTicket&&m.timeCreateNewTicket})),o.a.createElement(Yt.a,{xs:6,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.maxUseBotQueues"),fullWidth:!0,name:"maxUseBotQueues",variant:"outlined",margin:"dense",error:c.maxUseBotQueues&&Boolean(m.maxUseBotQueues),helperText:c.maxUseBotQueues&&m.maxUseBotQueues})),o.a.createElement(Yt.a,{xs:6,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeUseBotQueues"),fullWidth:!0,name:"timeUseBotQueues",variant:"outlined",margin:"dense",error:c.timeUseBotQueues&&Boolean(m.timeUseBotQueues),helperText:c.timeUseBotQueues&&m.timeUseBotQueues})),o.a.createElement(Yt.a,{xs:6,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeToReturnQueue"),fullWidth:!0,name:"timeToReturnQueue",variant:"outlined",margin:"dense",error:c.timeToReturnQueue&&Boolean(m.timeToReturnQueue),helperText:c.timeToReturnQueue&&m.timeToReturnQueue}))),o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,md:6,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.expiresTicket"),fullWidth:!0,name:"expiresTicket",required:n.timeInactiveMessage>0,variant:"outlined",margin:"dense",error:c.expiresTicket&&Boolean(m.expiresTicket),helperText:c.expiresTicket&&m.expiresTicket})),o.a.createElement(Yt.a,{xs:6,md:6,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,{id:"whenExpiresTicket-selection-label"},ma.a.t("whatsappModal.form.whenExpiresTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("whatsappModal.form.whenExpiresTicket"),placeholder:ma.a.t("whatsappModal.form.whenExpiresTicket"),labelId:"whenExpiresTicket-selection-label",id:"whenExpiresTicket",name:"whenExpiresTicket"},o.a.createElement(V.a,{value:"0"},ma.a.t("whatsappModal.form.closeLastMessageOptions1")),o.a.createElement(V.a,{value:"1"},ma.a.t("whatsappModal.form.closeLastMessageOptions2")))))),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.expiresInactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"expiresInactiveMessage",error:c.expiresInactiveMessage&&Boolean(m.expiresInactiveMessage),helperText:c.expiresInactiveMessage&&m.expiresInactiveMessage,variant:"outlined",margin:"dense"})),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeInactiveMessage"),fullWidth:!0,name:"timeInactiveMessage",variant:"outlined",margin:"dense",error:c.timeInactiveMessage&&Boolean(m.timeInactiveMessage),helperText:c.timeInactiveMessage&&m.timeInactiveMessage}),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.inactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"inactiveMessage",error:c.inactiveMessage&&Boolean(m.inactiveMessage),helperText:c.inactiveMessage&&m.inactiveMessage,variant:"outlined",margin:"dense"})),o.a.createElement(Yt.a,{spacing:2,container:!0},"enabled"===te.showFlow&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:6,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.flowInactiveTime"),fullWidth:!0,name:"flowInactiveTime",variant:"outlined",margin:"dense",error:c.flowIdInactiveTime&&Boolean(m.flowIdInactiveTime),helperText:c.flowIdInactiveTime&&m.flowIdInactiveTime}))),o.a.createElement(Yt.a,{xs:6,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.maxUseInactiveTime"),fullWidth:!0,name:"maxUseInactiveTime",variant:"outlined",margin:"dense",error:c.maxUseInactiveTime&&Boolean(m.maxUseInactiveTime),helperText:c.maxUseInactiveTime&&m.maxUseInactiveTime})),"enabled"===te.showFlow&&o.a.createElement(Yt.a,{xs:6,md:4,item:!0},o.a.createElement("div",null,o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Wt.a,{name:"flowIdInactiveTime",value:je||"",onChange:Ue,id:"flowIdInactiveTime",variant:"outlined",margin:"dense",labelId:"flowIdInactiveTime-selection-label"},o.a.createElement(V.a,{value:null},"Desabilitado"),ke.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))))))),o.a.createElement(Xt,{className:i.container,value:k,name:"nps"},o.a.createElement(G.a,{dividers:!0},o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.ratingMessage"),multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:c.ratingMessage&&Boolean(m.ratingMessage),helperText:c.ratingMessage&&m.ratingMessage,variant:"outlined",margin:"dense"})),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.maxUseBotQueuesNPS"),fullWidth:!0,name:"maxUseBotQueuesNPS",variant:"outlined",margin:"dense",error:c.maxUseBotQueuesNPS&&Boolean(m.maxUseBotQueuesNPS),helperText:c.maxUseBotQueuesNPS&&m.maxUseBotQueuesNPS})),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.expiresTicketNPS"),fullWidth:!0,name:"expiresTicketNPS",variant:"outlined",margin:"dense",error:c.expiresTicketNPS&&Boolean(m.expiresTicketNPS),helperText:c.expiresTicketNPS&&m.expiresTicketNPS})))),ee&&"enabled"===te.showFlow&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Xt,{className:i.container,value:k,name:"flowbuilder"},o.a.createElement(G.a,null,o.a.createElement("h3",null,"Fluxo de boas vindas"),o.a.createElement("p",null,"Este fluxo \xe9 disparado apenas para novos contatos, pessoas que voce n\xe3o possui em sua lista de contatos e que mandaram uma mensagem"),o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Wt.a,{name:"flowIdWelcome",value:Oe||"",onChange:ze,id:"flowIdWelcome",variant:"outlined",margin:"dense",labelId:"flowIdWelcome-selection-label"},o.a.createElement(V.a,{value:null},"Desabilitado"),ke.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(G.a,null,o.a.createElement("h3",null,"Fluxo de resposta padr\xe3o"),o.a.createElement("p",null,"Resposta Padr\xe3o \xe9 enviada com qualquer caractere diferente de uma palavra chave. ATEN\xc7\xc3O! Ser\xe1 disparada se o atendimento ja estiver fechado."),o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Wt.a,{name:"flowNotIdPhrase",value:Ae||"",onChange:qe,id:"flowNotIdPhrase",variant:"outlined",margin:"dense",labelId:"flowNotIdPhrase-selection-label"},o.a.createElement(V.a,{value:null},"Desabilitado"),ke.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))))),o.a.createElement(Xt,{className:i.container,value:k,name:"schedules"},"schedules"===k&&o.a.createElement(Gt.a,{style:{padding:20}},o.a.createElement(Im,{loading:!1,onSubmit:He,initialValues:ce,labelSaveButton:ma.a.t("whatsappModal.buttons.okAdd")})))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:Qe,color:"secondary",disabled:u,variant:"outlined"},ma.a.t("whatsappModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:u,variant:"contained",className:i.btnWrapper},l?ma.a.t("whatsappModal.buttons.okEdit"):ma.a.t("whatsappModal.buttons.okAdd"),u&&o.a.createElement(Lt.a,{size:24,className:i.buttonProgress}))))})))}),Wm=t(830),Bm=t.n(Wm);const qm=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",justifyContent:"center",padding:e.spacing(2)},dialogPaper:{minWidth:320,maxWidth:400,width:"100%",padding:e.spacing(2),margin:0,[e.breakpoints.down("xs")]:{minWidth:"90vw"}},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:e.spacing(3)},qrCodeContainer:{padding:e.spacing(3),backgroundColor:"white",borderRadius:e.shape.borderRadius,marginTop:e.spacing(2)},loadingText:{marginTop:e.spacing(2),color:e.palette.text.secondary}}));var zm=o.a.memo(e=>{let{open:a,onClose:t,whatsAppId:l}=e;const r=qm(),[i,s]=Object(n.useState)(""),{user:c,socket:d}=Object(n.useContext)(Ca);return Object(n.useEffect)(()=>{(async()=>{if(l)try{const{data:e}=await u.get("/whatsapp/".concat(l));s(e.qrcode)}catch(e){ga(e)}})()},[l]),Object(n.useEffect)(()=>{if(!l)return;const e=c.companyId,a=e=>{"update"===e.action&&e.session.id===l&&s(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&t()};return d.on("company-".concat(e,"-whatsappSession"),a),()=>{d.off("company-".concat(e,"-whatsappSession"),a)}},[l,t,c.companyId]),o.a.createElement(H.a,{open:a,onClose:t,classes:{paper:r.dialogPaper},"aria-labelledby":"qr-code-dialog"},o.a.createElement(G.a,{className:r.content},o.a.createElement(Gt.a,{elevation:0,className:r.dialogPaper},o.a.createElement(z.a,{variant:"h6",color:"primary",gutterBottom:!0},ma.a.t("qrCode.message")),o.a.createElement("div",{className:r.root},i?o.a.createElement("div",{className:r.qrCodeContainer},o.a.createElement(Bm.a,{value:i,size:280,style:{maxWidth:"100%",height:"auto"}})):o.a.createElement(z.a,{variant:"body1",className:r.loadingText},ma.a.t("qrCode.waiting"))))))}),Um=t(208);const Vm=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.padding,overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:_a.a[500]}}));function Hm(e){return o.a.createElement(tn.a,{position:"relative",display:"inline-flex"},o.a.createElement(Lt.a,Object.assign({variant:"determinate"},e)),o.a.createElement(tn.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(z.a,{variant:"caption",component:"div",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}const Qm=e=>{let{title:a,content:t,children:n}=e;const l=Vm();return o.a.createElement(de.a,{arrow:!0,classes:{tooltip:l.tooltip,popper:l.tooltipPopper},title:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},a),t&&o.a.createElement(z.a,null,t))},n)};var Gm=()=>{const e=Vm(),{whatsApps:a,loading:t}=Object(n.useContext)(Ta),[l,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(null),[g,b]=Object(n.useState)("whatsapp"),[E,h]=Object(n.useState)(!1),f=Object(Um.useHistory)(),v={action:"",title:"",message:"",whatsAppId:"",open:!1},[y,x]=Object(n.useState)(v),[C,k]=Object(n.useState)(!1),[w,A]=Object(n.useState)(!1),[T,S]=Object(n.useState)(""),[j,I]=Object(n.useState)(""),[M,N]=Object(n.useState)(!1),[R,D]=Object(n.useState)(null),[P,L]=Object(n.useState)(!1),[W,B]=Object(n.useState)({current:0,total:0,percentage:0}),{user:q,socket:_}=Object(n.useContext)(Ca),Y=q.companyId,{getPlanCompany:J}=Ia();Object(n.useEffect)(()=>{!async function(){const e=await J(void 0,Y);k(e)}()},[]);const Z=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{O.b.success(ma.a.t("connections.facebook.success"))}).catch(e=>{ga(e)})}},$=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{O.b.success(ma.a.t("connections.facebook.success"))}).catch(e=>{ga(e)})}};Object(n.useEffect)(()=>{_.on("importMessages-".concat(q.companyId),e=>{"refresh"===e.action&&(s([]),f.go(0)),"update"===e.action&&s(e.status)}),_.on("transferTickets-".concat(q.companyId),e=>{"progress"===e.action&&B({current:e.current,total:e.total,percentage:Math.round(e.current/e.total*100)}),"completed"===e.action&&(L(!1),B({current:0,total:0,percentage:0}),O.b.success("Transfer\xeancia conclu\xedda! ".concat(e.transferred," tickets transferidos com sucesso.")),le()),"error"===e.action&&(L(!1),B({current:0,total:0,percentage:0}),O.b.error("Erro na transfer\xeancia de tickets."))})},[a]);const ee=e=>{b(e),p(null),r(!0)},ae=Object(n.useCallback)(()=>{r(!1),p(null)},[p,r]),te=Object(n.useCallback)(()=>{p(null),d(!1)},[d,p]),ne=(e,a)=>{"disconnect"===e&&x({action:e,title:ma.a.t("connections.confirmationModal.disconnectTitle"),message:ma.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:a}),"delete"===e&&x({action:e,title:ma.a.t("connections.confirmationModal.deleteTitle"),message:ma.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:a}),"closedImported"===e&&x({action:e,title:ma.a.t("connections.confirmationModal.closedImportedTitle"),message:ma.a.t("connections.confirmationModal.closedImportedMessage"),whatsAppId:a}),h(!0)},oe=a=>o.a.createElement(o.a.Fragment,null,"whatsapp"===a.channel&&"qrcode"===a.status&&o.a.createElement(ja,{role:"user"===q.profile&&"enabled"===q.allowConnections?"admin":q.profile,perform:"connections-page:addConnection",yes:()=>o.a.createElement(K.a,{size:"small",variant:"contained",color:"primary",onClick:()=>(e=>{p(e),d(!0)})(a)},ma.a.t("connections.buttons.qrcode"))}),"whatsapp"===a.channel&&"DISCONNECTED"===a.status&&o.a.createElement(ja,{role:"user"===q.profile&&"enabled"===q.allowConnections?"admin":q.profile,perform:"connections-page:addConnection",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{await u.post("/whatsappsession/".concat(e))}catch(a){ga(a)}})(a.id)},ma.a.t("connections.buttons.tryAgain"))," ",o.a.createElement(K.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(async e=>{try{await u.put("/whatsappsession/".concat(e))}catch(a){ga(a)}})(a.id)},ma.a.t("connections.buttons.newQr")))}),"whatsapp"===a.channel&&("CONNECTED"===a.status||"PAIRING"===a.status||"TIMEOUT"===a.status)&&o.a.createElement(ja,{role:q.profile,perform:"connections-page:addConnection",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{ne("disconnect",a.id)}},ma.a.t("connections.buttons.disconnect")),(a=>{if("renderButtonCloseTickets"===(null===a||void 0===a?void 0:a.statusImportMessages))return o.a.createElement(K.a,{style:{marginLeft:12},size:"small",variant:"outlined",color:"primary",onClick:()=>{ne("closedImported",a.id)}},ma.a.t("connections.buttons.closedImported"));if(null===a||void 0===a?void 0:a.importOldMessages){if(!isNaN(new Date(Math.floor(null===a||void 0===a?void 0:a.statusImportMessages)).getTime())){const t=new Date(Math.floor(null===a||void 0===a?void 0:a.statusImportMessages)).getTime();if(+Object(im.a)(t,{seconds:35}).getTime()>(new Date).getTime())return o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{disabled:!0,style:{marginLeft:12},size:"small",endIcon:o.a.createElement(Lt.a,{size:12,className:e.buttonProgress}),variant:"outlined",color:"primary"},ma.a.t("connections.buttons.preparing")))}}})(a))}),"whatsapp"===a.channel&&"OPENING"===a.status&&o.a.createElement(K.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},ma.a.t("connections.buttons.connecting"))),le=()=>{A(!1),S(""),I("")},re=()=>{N(!1),D(null)};return o.a.createElement(yo,null,o.a.createElement(Si,{title:y.title,open:E,onClose:h,onConfirm:async()=>{if("disconnect"===y.action)try{await u.delete("/whatsappsession/".concat(y.whatsAppId))}catch(e){ga(e)}if("delete"===y.action)try{await u.delete("/whatsapp/".concat(y.whatsAppId)),O.b.success(ma.a.t("connections.toasts.deleted"))}catch(e){ga(e)}if("closedImported"===y.action)try{await u.post("/closedimported/".concat(y.whatsAppId)),O.b.success(ma.a.t("connections.toasts.closedimported"))}catch(e){ga(e)}x(v)}},y.message),c&&o.a.createElement(zm,{open:c,onClose:te,whatsAppId:!l&&(null===m||void 0===m?void 0:m.id)}),o.a.createElement(Lm,{open:l,onClose:ae,whatsAppId:!c&&(null===m||void 0===m?void 0:m.id),channel:g}),o.a.createElement(H.a,{open:w,onClose:le,maxWidth:"sm",fullWidth:!0},o.a.createElement(Q.a,null,"Transfer\xeancia de Tickets"),o.a.createElement(G.a,null,o.a.createElement(z.a,{variant:"body1",style:{marginBottom:24,lineHeight:1.6}},"Para transferir os tickets, selecione a conex\xe3o de ",o.a.createElement("strong",null,"origem")," (de onde os tickets ser\xe3o movidos) e a conex\xe3o de ",o.a.createElement("strong",null,"destino")," (para onde os tickets ser\xe3o transferidos). Todos os atendimentos ativos da conex\xe3o de origem ser\xe3o movidos para a conex\xe3o de destino."),o.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:24,marginBottom:24}},o.a.createElement(qt.a,{fullWidth:!0},o.a.createElement(Bt.a,null,"Origem"),o.a.createElement(Wt.a,{value:T,onChange:e=>S(e.target.value),label:"Origem"},a.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))),o.a.createElement("div",{style:{fontSize:24,color:"#4caf50",fontWeight:"bold"}},"\u2192"),o.a.createElement(qt.a,{fullWidth:!0},o.a.createElement(Bt.a,null,"Destino"),o.a.createElement(Wt.a,{value:j,onChange:e=>I(e.target.value),label:"Destino"},a.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:le,color:"default"},"CANCELAR"),o.a.createElement(K.a,{onClick:async()=>{if(T&&j)if(T!==j)try{const e=await u.post("/transfer-tickets",{sourceConnectionId:T,targetConnectionId:j});e.data.requiresProgress?(A(!1),L(!0),B({current:0,total:e.data.totalTickets,percentage:0})):(O.b.success("Tickets transferidos com sucesso! ".concat(e.data.transferred||0," tickets transferidos.")),le())}catch(e){ga(e)}else O.b.error("As conex\xf5es de origem e destino devem ser diferentes");else O.b.error("Selecione as conex\xf5es de origem e destino")},color:"primary",variant:"contained"},"TRANSFERIR"))),o.a.createElement(H.a,{open:P,onClose:()=>{L(!1),B({current:0,total:0,percentage:0})},maxWidth:"sm",fullWidth:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0},o.a.createElement(Q.a,null,"Transferindo Tickets"),o.a.createElement(G.a,null,o.a.createElement("div",{style:{textAlign:"center",padding:"20px 0"}},o.a.createElement(z.a,{variant:"h6",style:{marginBottom:16}},"Progresso da Transfer\xeancia"),o.a.createElement(tn.a,{position:"relative",display:"inline-flex",marginBottom:2},o.a.createElement(Lt.a,{variant:"determinate",value:W.percentage,size:80,thickness:4}),o.a.createElement(tn.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(z.a,{variant:"caption",component:"div",color:"textSecondary",style:{fontSize:"14px",fontWeight:"bold"}},W.percentage,"%"))),o.a.createElement(z.a,{variant:"body1",style:{marginTop:16}},W.current," de ",W.total," tickets transferidos"),o.a.createElement(z.a,{variant:"body2",color:"textSecondary",style:{marginTop:8}},"Por favor, aguarde enquanto os tickets s\xe3o transferidos...")))),o.a.createElement(H.a,{open:M,onClose:re,maxWidth:"sm",fullWidth:!0},o.a.createElement(Q.a,null,"Transfer\xeancia de Tickets"),o.a.createElement(G.a,null,o.a.createElement(z.a,{variant:"body1",style:{marginBottom:16}},"Antes de excluir esta conex\xe3o, voc\xea j\xe1 fez a transfer\xeancia dos tickets para outra conex\xe3o?")),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:re,color:"default"},"N\xc3O"),o.a.createElement(K.a,{onClick:()=>{N(!1),ne("delete",R),D(null)},color:"primary",variant:"contained"},"SIM"))),"user"===q.profile&&"disabled"===q.allowConnections?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("connections.title")," (",a.length,")"),o.a.createElement(Am,null,o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{A(!0)}},"Transferir Tickets"),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:async()=>{try{await u.post("/whatsapp-restart/"),O.b.success(ma.a.t("connections.waitConnection"))}catch(e){ga(e)}}},ma.a.t("connections.restartConnections")),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{return e="https://wa.me/".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_NUMBER_SUPPORT),void window.open(e,"_blank","noopener,noreferrer");var e}},ma.a.t("connections.callSupport")),o.a.createElement(cm.a,{variant:"popover",popupId:"demo-popup-menu"},e=>o.a.createElement(o.a.Fragment,null,o.a.createElement(ja,{role:q.profile,perform:"connections-page:addConnection",yes:()=>{var a,t,n,l;return o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,Object.assign({variant:"contained",color:"primary"},Object(sm.bindTrigger)(e)),ma.a.t("connections.newConnection")),o.a.createElement(U.a,Object(sm.bindMenu)(e),o.a.createElement(V.a,{disabled:!(null===C||void 0===C||null===(a=C.plan)||void 0===a?void 0:a.useWhatsapp),onClick:()=>{ee(),e.close()}},o.a.createElement(_l.a,{fontSize:"small",style:{marginRight:"10px",color:"#25D366"}}),"WhatsApp"),o.a.createElement(V.a,{disabled:!(null===C||void 0===C||null===(t=C.plan)||void 0===t?void 0:t.useWhatsappOfficial),onClick:()=>{ee("whatsapp_oficial"),e.close()}},o.a.createElement(_l.a,{fontSize:"small",style:{marginRight:"10px",color:"#25D366"}}),"WhatsApp Oficial"),o.a.createElement(xm.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"9.0",scope:"TRUE"===(null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_REQUIRE_BUSINESS_MANAGEMENT)||void 0===n?void 0:n.toUpperCase())?"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management":"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement",callback:Z,render:e=>{var a;return o.a.createElement(V.a,{disabled:!(null===C||void 0===C||null===(a=C.plan)||void 0===a?void 0:a.useFacebook),onClick:e.onClick},o.a.createElement(Gl.a,{fontSize:"small",style:{marginRight:"10px",color:"#3b5998"}}),"Facebook")}}),o.a.createElement(xm.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"9.0",scope:"TRUE"===(null===(l=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_REQUIRE_BUSINESS_MANAGEMENT)||void 0===l?void 0:l.toUpperCase())?"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management":"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement",callback:$,render:e=>{var a;return o.a.createElement(V.a,{disabled:!(null===C||void 0===C||null===(a=C.plan)||void 0===a?void 0:a.useInstagram),onClick:e.onClick},o.a.createElement(Kl.a,{fontSize:"small",style:{marginRight:"10px",color:"#e1306c"}}),"Instagram")}})))}}))))),(null===i||void 0===i?void 0:i.all)?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{margin:"auto",marginBottom:12}},o.a.createElement(Ks.a,{className:e.root},o.a.createElement(Gs.a,{className:e.content},o.a.createElement(z.a,{component:"h5",variant:"h5"},-1===(null===i||void 0===i?void 0:i.this)?ma.a.t("connections.buttons.preparing"):ma.a.t("connections.buttons.importing")),-1===(null===i||void 0===i?void 0:i.this)?o.a.createElement(z.a,{component:"h6",variant:"h6",align:"center"},o.a.createElement(Lt.a,{size:24})):o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{component:"h6",variant:"h6",align:"center"},"".concat(ma.a.t("connections.typography.processed")," ").concat(null===i||void 0===i?void 0:i.this," ").concat(ma.a.t("connections.typography.in")," ").concat(null===i||void 0===i?void 0:i.all,"  ").concat(ma.a.t("connections.typography.date"),": ").concat(null===i||void 0===i?void 0:i.date," ")),o.a.createElement(z.a,{align:"center"},o.a.createElement(Hm,{style:{margin:"auto"},value:(null===i||void 0===i?void 0:i.this)/(null===i||void 0===i?void 0:i.all)*100}))))))):null,o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},"Channel"),o.a.createElement(ko.a,{align:"center"},ma.a.t("connections.table.color")),o.a.createElement(ko.a,{align:"center"},ma.a.t("connections.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("connections.table.number")),o.a.createElement(ko.a,{align:"center"},ma.a.t("connections.table.status")),o.a.createElement(ko.a,{align:"center"},ma.a.t("connections.table.session")),o.a.createElement(ko.a,{align:"center"},ma.a.t("connections.table.lastUpdate")),o.a.createElement(ko.a,{align:"center"},ma.a.t("connections.table.default")),o.a.createElement(ja,{role:"user"===q.profile&&"enabled"===q.allowConnections?"admin":q.profile,perform:"connections-page:addConnection",yes:()=>o.a.createElement(ko.a,{align:"center"},ma.a.t("connections.table.actions"))}))),o.a.createElement(Co.a,null,t?o.a.createElement(kd,null):o.a.createElement(o.a.Fragment,null,(null===a||void 0===a?void 0:a.length)>0&&a.map(a=>o.a.createElement(To.a,{key:a.id},o.a.createElement(ko.a,{align:"center"},(e=>{switch(e){case"facebook":return o.a.createElement(Gl.a,{style:{color:"#3b5998"}});case"instagram":return o.a.createElement(Kl.a,{style:{color:"#e1306c"}});case"whatsapp":case"whatsapp_oficial":return o.a.createElement(_l.a,{style:{color:"#25d366"}});default:return"error"}})(a.channel)),o.a.createElement(ko.a,{align:"center"},o.a.createElement("div",{className:e.customTableCell},o.a.createElement("span",{style:{backgroundColor:a.color,width:60,height:20,alignSelf:"center"}}))),o.a.createElement(ko.a,{align:"center"},a.name),o.a.createElement(ko.a,{align:"center"},a.number&&"whatsapp"===a.channel?o.a.createElement(o.a.Fragment,null,gi(a.number)):a.number),o.a.createElement(ko.a,{align:"center"},(a=>o.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===a.status&&o.a.createElement(Qm,{title:ma.a.t("connections.toolTips.disconnected.title"),content:ma.a.t("connections.toolTips.disconnected.content")},o.a.createElement(dm.a,{color:"secondary"})),"OPENING"===a.status&&o.a.createElement(Lt.a,{size:24,className:e.buttonProgress}),"qrcode"===a.status&&o.a.createElement(Qm,{title:ma.a.t("connections.toolTips.qrcode.title"),content:ma.a.t("connections.toolTips.qrcode.content")},o.a.createElement(mm.a,null)),"CONNECTED"===a.status&&o.a.createElement(Qm,{title:ma.a.t("connections.toolTips.connected.title")},o.a.createElement(um.a,{style:{color:_a.a[500]}})),("TIMEOUT"===a.status||"PAIRING"===a.status)&&o.a.createElement(Qm,{title:ma.a.t("connections.toolTips.timeout.title"),content:ma.a.t("connections.toolTips.timeout.content")},o.a.createElement(pm.a,{color:"secondary"}))))(a)),o.a.createElement(ko.a,{align:"center"},oe(a)),o.a.createElement(ko.a,{align:"center"},Object(Ba.a)(Object(Qa.a)(a.updatedAt),"dd/MM/yy HH:mm")),o.a.createElement(ko.a,{align:"center"},a.isDefault&&o.a.createElement("div",{className:e.customTableCell},o.a.createElement(gm.a,{style:{color:_a.a[500]}}))),o.a.createElement(ja,{role:q.profile,perform:"connections-page:addConnection",yes:()=>o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{b(e.channel),p(e),r(!0)})(a)},o.a.createElement(bm.a,null)),o.a.createElement(F.a,{size:"small",onClick:e=>{var t;t=a.id,D(t),N(!0)}},o.a.createElement(Em.a,null)),"whatsapp_oficial"===a.channel&&o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{title:"Sincronizar templates"},o.a.createElement(F.a,{size:"small","aria-label":"sync-templates",onClick:e=>{(async e=>{await u.get("/whatsapp/sync-templates/".concat(e))})(a.id)}},o.a.createElement(hm.a,null))),o.a.createElement(de.a,{title:"Copiar webhook para Meta"},o.a.createElement(F.a,{size:"small","aria-label":"copy-webhook",onClick:e=>{var t;t=a.waba_webhook,navigator.clipboard.writeText(t)}},o.a.createElement(vm.a,null)))))})))))))))};var Km=()=>({save:async e=>{const{data:a}=await u.request({url:"/companies",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/companies/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await u.request({url:"/companies/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await u.request({url:"/companies/list",method:"GET"});return a},find:async e=>{const{data:a}=await u.request({url:"/companies/".concat(e),method:"GET"});return a},findAll:async e=>{const{data:a}=await u.request({url:"/companies",method:"GET"});return a},updateSchedules:async e=>{const{data:a}=await u.request({url:"/companies/".concat(e.id,"/schedules"),method:"PUT",data:e});return a}});const _m=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Ym=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Dt.f().min(5,"Too Short!").max(50,"Too Long!"),email:Dt.f().email("Invalid email").required("Required")});var Jm=e=>{let{open:a,onClose:t,userId:l,companyId:r}=e;const i=_m(),s={name:"",email:"",password:"",profile:"user"},{user:c}=Object(n.useContext)(Ca),[d,m]=Object(n.useState)(s),[p,g]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{if(l&&a)try{var e;const{data:a}=await u.get("/users/".concat(l));m(e=>Object(S.a)(Object(S.a)({},e),a));const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);g(t)}catch(t){ga(t)}})()},[l,a]);const b=()=>{t(),m(s)};return o.a.createElement("div",{className:i.root},o.a.createElement(H.a,{open:a,onClose:b,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("userModal.title.edit"):ma.a.t("userModal.title.add"))),o.a.createElement(Pt.e,{initialValues:d,enableReinitialize:!0,validationSchema:Ym,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=Object(S.a)(Object(S.a)({},e),{},{companyId:r,queueIds:p});try{l?await u.put("/users/".concat(l),a):await u.post("/users",a),O.b.success(ma.a.t("userModal.success"))}catch(t){ga(t)}b()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.password"),type:"password",name:"password",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(qt.a,{variant:"outlined",className:i.formControl,margin:"dense"},o.a.createElement(ja,{role:c.profile,perform:"user-modal:editProfile",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Bt.a,{id:"profile-selection-input-label"},ma.a.t("userModal.form.profile")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},o.a.createElement(V.a,{value:"admin"},"Admin"),o.a.createElement(V.a,{value:"user"},"User")))}))),o.a.createElement(ja,{role:c.profile,perform:"user-modal:editQueues",yes:()=>o.a.createElement(Qt,{selectedQueueIds:p,onChange:e=>g(e)})})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:b,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("userModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(l?ma.a.t("userModal.buttons.okEdit"):ma.a.t("userModal.buttons.okAdd")),n&&o.a.createElement(Lt.a,{size:24,className:i.buttonProgress}))))})))};const Xm=Object(I.a)(e=>({root:{width:"100%",padding:"2px"},mainPaper:{width:"100%",flex:1},fullWidth:{width:"100%"},tableContainer:{width:"100%",padding:"2px"},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{},control:{},buttonContainer:{textAlign:"right"}}));function Zm(e){const{onSubmit:a,onDelete:t,onCancel:l,initialValue:r,loading:i}=e,s=Xm(),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)(Object(S.a)({name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",generateInvoice:!0},r)),{list:h}=Ia();Object(n.useEffect)(()=>{!async function(){const e=await h();d(e)}()},[]),Object(n.useEffect)(()=>{E(e=>(ya()(r).isValid()&&(r.dueDate=ya()(r.dueDate).format("YYYY-MM-DD")),Object(S.a)(Object(S.a)({},e),r)))},[r]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jm,{userId:p.id,companyId:r.id,open:m,onClose:()=>{g({}),u(!1)}}),o.a.createElement(Pt.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:b,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{""!==e.dueDate&&!1!==ya()(e.dueDate).isValid()||(e.dueDate=null),console.log("Dados do formul\xe1rio:",e),a(e),E(Object(S.a)(Object(S.a)({},r),{},{dueDate:"",generateInvoice:!0}))})(e),n()},500)}},(e,a)=>o.a.createElement(Pt.d,{className:s.fullWidth},o.a.createElement(Yt.a,{spacing:1,justifyContent:"center",container:!0},o.a.createElement(Yt.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("compaies.table.name"),name:"name",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("compaies.table.email"),name:"email",variant:"outlined",className:s.fullWidth,margin:"dense",required:!0})),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("compaies.table.password"),name:"password",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("compaies.table.phone"),name:"phone",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"plan-selection"},ma.a.t("compaies.table.plan")),o.a.createElement(Pt.b,{as:Wt.a,id:"plan-selection",label:ma.a.t("compaies.table.plan"),labelId:"plan-selection-label",name:"planId",margin:"dense",required:!0},c.map((e,a)=>o.a.createElement(V.a,{key:a,value:e.id},e.name))))),o.a.createElement(Yt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"status-selection"},ma.a.t("compaies.table.active")),o.a.createElement(Pt.b,{as:Wt.a,id:"status-selection",label:ma.a.t("compaies.table.active"),labelId:"status-selection-label",name:"status",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("compaies.table.yes")),o.a.createElement(V.a,{value:!1},ma.a.t("compaies.table.no"))))),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("compaies.table.document"),name:"document",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{variant:"outlined",fullWidth:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("compaies.table.dueDate"),type:"date",name:"dueDate",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"dense"}))),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"recorrencia-selection"},ma.a.t("compaies.table.recurrence")),o.a.createElement(Pt.b,{as:Wt.a,label:"Recorr\xeancia",labelId:"recorrencia-selection-label",id:"recurrence",name:"recurrence",margin:"dense"},o.a.createElement(V.a,{value:"MENSAL"},ma.a.t("compaies.table.monthly")),o.a.createElement(V.a,{value:"BIMESTRAL"},ma.a.t("compaies.table.bimonthly")),o.a.createElement(V.a,{value:"TRIMESTRAL"},ma.a.t("compaies.table.quarterly")),o.a.createElement(V.a,{value:"SEMESTRAL"},ma.a.t("compaies.table.semester")),o.a.createElement(V.a,{value:"ANUAL"},ma.a.t("compaies.table.yearly"))))),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"generate-invoice-selection"},"Gerar Fatura"),o.a.createElement(Pt.b,{as:Wt.a,id:"generate-invoice-selection",label:"Gerar Fatura",labelId:"generate-invoice-selection-label",name:"generateInvoice",margin:"dense"},o.a.createElement(V.a,{value:!0},"Sim"),o.a.createElement(V.a,{value:!1},"N\xe3o")))),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Yt.a,{justifyContent:"flex-end",spacing:1,container:!0},o.a.createElement(Yt.a,{xs:4,md:1,item:!0},o.a.createElement(Ml,{className:s.fullWidth,style:{marginTop:7},loading:i,onClick:()=>l(),variant:"contained"},ma.a.t("compaies.table.clear"))),void 0!==b.id?o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:6,md:1,item:!0},o.a.createElement(Ml,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>t(b),variant:"contained",color:"secondary"},ma.a.t("compaies.table.delete"))),o.a.createElement(Yt.a,{xs:6,md:2,item:!0},o.a.createElement(Ml,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>(()=>{const e=Object(S.a)({},b);if(""!==e.dueDate&&null!==e.dueDate)switch(e.recurrence){case"MENSAL":e.dueDate=ya()(e.dueDate).add(1,"month").format("YYYY-MM-DD");break;case"BIMESTRAL":e.dueDate=ya()(e.dueDate).add(2,"month").format("YYYY-MM-DD");break;case"TRIMESTRAL":e.dueDate=ya()(e.dueDate).add(3,"month").format("YYYY-MM-DD");break;case"SEMESTRAL":e.dueDate=ya()(e.dueDate).add(6,"month").format("YYYY-MM-DD");break;case"ANUAL":e.dueDate=ya()(e.dueDate).add(12,"month").format("YYYY-MM-DD")}E(e)})(),variant:"contained",color:"primary"},ma.a.t("compaies.table.dueDate")))):null,o.a.createElement(Yt.a,{xs:6,md:1,item:!0},o.a.createElement(Ml,{className:s.fullWidth,style:{marginTop:7},loading:i,type:"submit",variant:"contained",color:"primary"},ma.a.t("compaies.table.save")))))))))}function $m(e){const{records:a,onSelect:t}=e,l=Xm(),{dateToClient:r,datetimeToClient:i}=An(),{mode:s}=Object(n.useContext)(h),c=(Object(D.a)(),e=>{if(ya()(e.dueDate).isValid()){const a=ya()(),t=ya()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{backgroundColor:"#fffead"};if(t<=0)return{backgroundColor:"#fa8c8c"}}return{}}),d=e=>{if(ya()(e.dueDate).isValid()){const a=ya()(),t=ya()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{color:"#000"};if(t<=0)return{color:"#fff"}}return{}},m=e=>{if(ya()(e.dueDate).isValid()){const a=ya()(),t=ya()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{color:"#000"}}return{}};return o.a.createElement(Gt.a,{className:l.tableContainer},o.a.createElement(xo.a,{className:l.fullWidth,padding:"none","aria-label":"a dense table"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center",style:{width:"1%"}},"#"),o.a.createElement(ko.a,{align:"left"},ma.a.t("compaies.table.name")),o.a.createElement(ko.a,{align:"left"},ma.a.t("compaies.table.email")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.phone")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.plan")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.value")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.active")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.createdAt")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.dueDate")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.lastLogin")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.generateInvoice")))),o.a.createElement(Co.a,null,a.map((e,a)=>o.a.createElement(To.a,{style:c(e),key:a},o.a.createElement(ko.a,{style:Object(S.a)(Object(S.a)({},d(e)),{},{width:"1%"}),align:"center"},o.a.createElement(F.a,{style:m(e),onClick:()=>t(e),"aria-label":"delete"},o.a.createElement(bm.a,{style:m(e)}))),o.a.createElement(ko.a,{style:d(e),align:"left"},e.name||"-"),o.a.createElement(ko.a,{style:d(e),align:"left",size:"small"},e.email||"-"),o.a.createElement(ko.a,{style:d(e),align:"center"},e.phone||"-"),o.a.createElement(ko.a,{style:d(e),align:"center"},(e=>null!==e.planId?e.plan.name:"-")(e)),o.a.createElement(ko.a,{style:d(e),align:"center"},ma.a.t("compaies.table.money")," ",(e=>null!==e.planId?e.plan.amount?e.plan.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00":"-")(e)),o.a.createElement(ko.a,{style:d(e),align:"center"},(e=>!1===e.status?"N\xe3o":"Sim")(e)),o.a.createElement(ko.a,{style:d(e),align:"center"},r(e.createdAt)),o.a.createElement(ko.a,{style:d(e),align:"center"},r(e.dueDate),o.a.createElement("br",null),o.a.createElement("span",null,e.recurrence)),o.a.createElement(ko.a,{style:d(e),align:"center"},i(e.lastLogin)),o.a.createElement(ko.a,{style:d(e),align:"center"},e.generateInvoice?ma.a.t("compaies.table.yes"):ma.a.t("compaies.table.no")))))))}function eu(){const e=Xm(),{list:a,save:t,update:l,remove:r}=Km(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",document:"",paymentMethod:"",generateInvoice:!0});Object(n.useEffect)(()=>{b()},[]);const b=async()=>{d(!0);try{const e=await a();console.log("Lista de empresas carregada:",e),u(e)}catch(e){O.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}d(!1)},E=()=>{g(e=>Object(S.a)(Object(S.a)({},e),{},{name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",document:"",paymentMethod:"",generateInvoice:!0}))};return o.a.createElement(Gt.a,{className:e.mainPaper,elevation:0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Zm,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{console.log("Dados enviados para o backend:",e),d(!0);try{void 0!==e.id?await l(e):await t(e),await b(),E(),O.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){O.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente")}d(!1)},onCancel:E,loading:c})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement($m,{records:m,onSelect:e=>{console.log("Dados da empresa selecionada:",e),g(a=>Object(S.a)(Object(S.a)({},a),{},{id:e.id,name:e.name||"",phone:e.phone||"",email:e.email||"",planId:e.planId||"",status:!1!==e.status,dueDate:e.dueDate||"",recurrence:e.recurrence||"",password:"",document:e.document||"",paymentMethod:e.paymentMethod||"",generateInvoice:void 0===e.generateInvoice||e.generateInvoice}))}}))),o.a.createElement(Si,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await r(p.id),await b(),E(),O.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){O.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}d(!1)})()},"Deseja realmente excluir esse registro?"))}const au=Object(I.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:Object(S.a)({width:"100%",overflowX:"scroll"},e.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function tu(e){const{onSubmit:a,onDelete:t,onCancel:l,initialValue:r,loading:i}=e,s=au(),[c,d]=Object(n.useState)({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useAudioTranscription:!0,useIntegrations:!0,isPublic:!0,useWhatsappOfficial:!1,trial:!1,trialDays:3,recurrence:"monthly"});Object(n.useEffect)(()=>{d(r)},[r]);return o.a.createElement(Pt.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:c,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>o.a.createElement(Pt.d,{className:s.fullWidth},o.a.createElement(Yt.a,{spacing:1,justifyContent:"flex-start",container:!0},o.a.createElement(Yt.a,{xs:12,sm:6,md:1,xl:1,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"status-selection"},ma.a.t("plans.form.public")),o.a.createElement(Pt.b,{as:Wt.a,id:"status-selection",label:ma.a.t("plans.form.public"),labelId:"status-selection-label",name:"isPublic",margin:"dense"},o.a.createElement(V.a,{value:!0},"Sim"),o.a.createElement(V.a,{value:!1},"N\xe3o")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:1,xl:1,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"trial-selection"},"Trial"),o.a.createElement(Pt.b,{as:Wt.a,id:"trial-selection",label:"Trial",labelId:"trial-selection-label",name:"trial",margin:"dense"},o.a.createElement(V.a,{value:!0},"Sim"),o.a.createElement(V.a,{value:!1},"N\xe3o")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:1,xl:1,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("plans.form.trialDays"),name:"trialDays",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number",inputProps:{min:1},disabled:!e.values.trial})),o.a.createElement(Yt.a,{xs:12,sm:6,md:3,xl:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("plans.form.name"),name:"name",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("plans.form.users"),name:"users",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("plans.form.connections"),name:"connections",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:"Filas",name:"queues",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:"Valor",name:"amount",variant:"outlined",className:s.fullWidth,margin:"dense",type:"text"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useWhatsapp-selection"},"Whatsapp"),o.a.createElement(Pt.b,{as:Wt.a,id:"useWhatsapp-selection",label:"Whatsapp",labelId:"useWhatsapp-selection-label",name:"useWhatsapp",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useWhatsappOfficial-selection"},"Whatsapp Oficial"),o.a.createElement(Pt.b,{as:Wt.a,id:"useWhatsappOfficial-selection",label:"Whatsapp Oficial",labelId:"useWhatsappOfficial-selection-label",name:"useWhatsappOfficial",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useFacebook-selection"},"Facebook"),o.a.createElement(Pt.b,{as:Wt.a,id:"useFacebook-selection",label:"Facebook",labelId:"useFacebook-selection-label",name:"useFacebook",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useInstagram-selection"},"Instagram"),o.a.createElement(Pt.b,{as:Wt.a,id:"useInstagram-selection",label:"Instagram",labelId:"useInstagram-selection-label",name:"useInstagram",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useCampaigns-selection"},ma.a.t("plans.form.campaigns")),o.a.createElement(Pt.b,{as:Wt.a,id:"useCampaigns-selection",label:ma.a.t("plans.form.campaigns"),labelId:"useCampaigns-selection-label",name:"useCampaigns",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useSchedules-selection"},ma.a.t("plans.form.schedules")),o.a.createElement(Pt.b,{as:Wt.a,id:"useSchedules-selection",label:ma.a.t("plans.form.schedules"),labelId:"useSchedules-selection-label",name:"useSchedules",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useInternalChat-selection"},"Chat Interno"),o.a.createElement(Pt.b,{as:Wt.a,id:"useInternalChat-selection",label:"Chat Interno",labelId:"useInternalChat-selection-label",name:"useInternalChat",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useExternalApi-selection"},"API Externa"),o.a.createElement(Pt.b,{as:Wt.a,id:"useExternalApi-selection",label:"API Externa",labelId:"useExternalApi-selection-label",name:"useExternalApi",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useKanban-selection"},"Kanban"),o.a.createElement(Pt.b,{as:Wt.a,id:"useKanban-selection",label:"Kanban",labelId:"useKanban-selection-label",name:"useKanban",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useOpenAi-selection"},"Talk.Ai"),o.a.createElement(Pt.b,{as:Wt.a,id:"useOpenAi-selection",label:"Talk.Ai",labelId:"useOpenAi-selection-label",name:"useOpenAi",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useAudioTranscription-selection"},"Transcri\xe7\xe3o \xc1udio"),o.a.createElement(Pt.b,{as:Wt.a,id:"useAudioTranscription-selection",label:"Transcri\xe7\xe3o \xc1udio",labelId:"useAudioTranscription-selection-label",name:"useAudioTranscription",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled"))))),o.a.createElement(Yt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,{htmlFor:"useIntegrations-selection"},"Integra\xe7\xf5es"),o.a.createElement(Pt.b,{as:Wt.a,id:"useIntegrations-selection",label:"Integra\xe7\xf5es",labelId:"useIntegrations-selection-label",name:"useIntegrations",margin:"dense"},o.a.createElement(V.a,{value:!0},ma.a.t("plans.form.enabled")),o.a.createElement(V.a,{value:!1},ma.a.t("plans.form.disabled")))))),o.a.createElement(Yt.a,{spacing:2,justifyContent:"flex-end",container:!0},o.a.createElement(Yt.a,{sm:3,md:2,item:!0},o.a.createElement(Ml,{className:s.fullWidth,loading:i,onClick:()=>l(),variant:"contained"},ma.a.t("plans.form.clear"))),void 0!==c.id?o.a.createElement(Yt.a,{sm:3,md:2,item:!0},o.a.createElement(Ml,{className:s.fullWidth,loading:i,onClick:()=>t(c),variant:"contained",color:"secondary"},ma.a.t("plans.form.delete"))):null,o.a.createElement(Yt.a,{sm:3,md:2,item:!0},o.a.createElement(Ml,{className:s.fullWidth,loading:i,type:"submit",variant:"contained",color:"primary"},ma.a.t("plans.form.save"))))))}function nu(e){const{records:a,onSelect:t}=e,n=au();return o.a.createElement(Gt.a,{className:n.tableContainer},o.a.createElement(xo.a,{className:n.fullWidth,padding:"none","aria-label":"a dense table"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center",style:{width:"1%"}},"#"),o.a.createElement(ko.a,{align:"center"},ma.a.t("plans.form.trial")),o.a.createElement(ko.a,{align:"left"},ma.a.t("plans.form.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("plans.form.users")),o.a.createElement(ko.a,{align:"center"},ma.a.t("plans.form.public")),o.a.createElement(ko.a,{align:"center"},ma.a.t("plans.form.connections")),o.a.createElement(ko.a,{align:"center"},"Filas"),o.a.createElement(ko.a,{align:"center"},"Valor"),o.a.createElement(ko.a,{align:"center"},"Whatsapp"),o.a.createElement(ko.a,{align:"center"},"Whatsapp Oficial"),o.a.createElement(ko.a,{align:"center"},"Facebook"),o.a.createElement(ko.a,{align:"center"},"Instagram"),o.a.createElement(ko.a,{align:"center"},ma.a.t("plans.form.campaigns")),o.a.createElement(ko.a,{align:"center"},ma.a.t("plans.form.schedules")),o.a.createElement(ko.a,{align:"center"},"Chat Interno"),o.a.createElement(ko.a,{align:"center"},"API Externa"),o.a.createElement(ko.a,{align:"center"},"Kanban"),o.a.createElement(ko.a,{align:"center"},"Talk.Ai"),o.a.createElement(ko.a,{align:"center"},"Transcri\xe7\xe3o \xc1udio"),o.a.createElement(ko.a,{align:"center"},"Integra\xe7\xf5es"))),o.a.createElement(Co.a,null,a.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center",style:{width:"1%"}},o.a.createElement(F.a,{onClick:()=>t(e),"aria-label":"delete"},o.a.createElement(bm.a,null))),o.a.createElement(ko.a,{align:"center"},e.trialDays||"-"),o.a.createElement(ko.a,{align:"left"},e.name||"-"),o.a.createElement(ko.a,{align:"center"},e.users||"-"),o.a.createElement(ko.a,{align:"center"},e.isPublic?"Sim":"N\xe3o"),o.a.createElement(ko.a,{align:"center"},e.connections||"-"),o.a.createElement(ko.a,{align:"center"},e.queues||"-"),o.a.createElement(ko.a,{align:"center"},ma.a.t("plans.form.money")," ",e.amount?e.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00"),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useWhatsapp?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useWhatsappOfficial?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useFacebook?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useInstagram?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useCampaigns?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useSchedules?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useInternalChat?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useExternalApi?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useKanban?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useOpenAi?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useAudioTranscription?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)),o.a.createElement(ko.a,{align:"center"},(e=>!1===e.useIntegrations?"".concat(ma.a.t("plans.form.no")):"".concat(ma.a.t("plans.form.yes")))(e)))))))}function ou(){const e=au(),{list:a,save:t,update:l,remove:r}=Ia(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useAudioTranscription:!0,useIntegrations:!0,isPublic:!0,useWhatsappOfficial:!1,trial:!1,trialDays:3,recurrence:"monthly"});Object(n.useEffect)(()=>{!async function(){await b()}()},[p]);const b=async()=>{d(!0);try{const e=await a();u(e)}catch(e){O.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}d(!1)},E=()=>{g({id:void 0,name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0,isPublic:!0,useWhatsappOfficial:!1,trial:!1,trialDays:3,recurrence:"monthly"})};return o.a.createElement(Gt.a,{className:e.mainPaper,elevation:0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(tu,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0),console.log(e);try{void 0!==e.id?await l(e):await t(e),await b(),E(),O.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){O.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente")}d(!1)},onCancel:E,loading:c})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(nu,{records:m,onSelect:e=>{var a;let t=!1!==e.useWhatsapp,n=!1!==e.useWhatsappOfficial,o=!1!==e.useFacebook,l=!1!==e.useInstagram,r=!1!==e.useCampaigns,i=!1!==e.useSchedules,s=!1!==e.useInternalChat,c=!1!==e.useExternalApi,d=!1!==e.useKanban,m=!1!==e.useOpenAi,u=!1!==e.useAudioTranscription,p=!1!==e.useIntegrations;g({id:e.id,name:e.name||"",users:e.users||0,connections:e.connections||0,queues:e.queues||0,amount:(null===(a=e.amount)||void 0===a?void 0:a.toLocaleString("pt-br",{minimumFractionDigits:2}))||0,useWhatsapp:t,useWhatsappOfficial:n,useFacebook:o,useInstagram:l,useCampaigns:r,useSchedules:i,useInternalChat:s,useExternalApi:c,useKanban:d,useOpenAi:m,useAudioTranscription:u,useIntegrations:p,isPublic:e.isPublic,trial:e.trial,trialDays:e.trialDays,recurrence:e.recurrence})}}))),o.a.createElement(Si,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await r(p.id),await b(),E(),O.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){O.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}d(!1)})()},"Deseja realmente excluir esse registro?"))}const lu=Object(I.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:Object(S.a)({width:"100%",overflowX:"scroll"},e.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function ru(e){const{onSubmit:a,onDelete:t,onCancel:l,initialValue:r,loading:i}=e,s=lu(),[c,d]=Object(n.useState)(r);Object(n.useEffect)(()=>{d(r)},[r]);return o.a.createElement(Pt.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:c,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>o.a.createElement(Pt.d,{className:s.fullWidth},o.a.createElement(Yt.a,{spacing:2,justifyContent:"flex-end",container:!0},o.a.createElement(Yt.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:"T\xedtulo",name:"title",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("helps.settings.codeVideo"),name:"video",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{xs:12,sm:12,md:6,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("helps.settings.description"),name:"description",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(Yt.a,{sm:3,md:1,item:!0},o.a.createElement(Ml,{className:s.fullWidth,loading:i,onClick:()=>l(),variant:"contained"},ma.a.t("helps.settings.clear"))),void 0!==c.id?o.a.createElement(Yt.a,{sm:3,md:1,item:!0},o.a.createElement(Ml,{className:s.fullWidth,loading:i,onClick:()=>t(c),variant:"contained",color:"secondary"},ma.a.t("helps.settings.delete"))):null,o.a.createElement(Yt.a,{sm:3,md:1,item:!0},o.a.createElement(Ml,{className:s.fullWidth,loading:i,type:"submit",variant:"contained",color:"primary"},ma.a.t("helps.settings.save"))))))}function iu(e){const{records:a,onSelect:t}=e,n=lu();return o.a.createElement(Gt.a,{className:n.tableContainer},o.a.createElement(xo.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center",style:{width:"1%"}},"#"),o.a.createElement(ko.a,{align:"left"},"T\xedtulo"),o.a.createElement(ko.a,{align:"left"},ma.a.t("helps.settings.description")),o.a.createElement(ko.a,{align:"left"},"Video"))),o.a.createElement(Co.a,null,a.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center",style:{width:"1%"}},o.a.createElement(F.a,{onClick:()=>t(e),"aria-label":"delete"},o.a.createElement(bm.a,null))),o.a.createElement(ko.a,{align:"left"},e.title||"-"),o.a.createElement(ko.a,{align:"left"},e.description||"-"),o.a.createElement(ko.a,{align:"left"},e.video||"-"))))))}function su(){const e=lu(),{list:a,save:t,update:l,remove:r}=re(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({title:"",description:"",video:""});Object(n.useEffect)(()=>{!async function(){await b()}()},[]);const b=async()=>{d(!0);try{const e=await a();u(e)}catch(e){O.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}d(!1)},E=()=>{g({title:"",description:"",video:""})};return o.a.createElement(Gt.a,{className:e.mainPaper,elevation:0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(ru,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0);try{void 0!==e.id?await l(e):await t(e),await b(),E(),O.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){O.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente")}d(!1)},onCancel:E,loading:c})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(iu,{records:m,onSelect:e=>{g({id:e.id,title:e.title||"",description:e.description||"",video:e.video||""})}}))),o.a.createElement(Si,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await r(p.id),await b(),E(),O.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){O.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}d(!1)})()},"Deseja realmente excluir esse registro?"))}var cu=t(907);const du=Object(I.a)(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},cardAvatar:{fontSize:"55px",color:So.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:as.a[700]},cardSubtitle:{color:So.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},tab:{backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f",borderRadius:4,width:"100%","& .MuiTabs-flexContainer":{justifyContent:"center"}}}));function mu(e){const{oldSettings:a,settings:t,scheduleTypeChanged:l,user:r}=e,i=du(),[s,c]=Object(n.useState)("disabled"),[d,m]=Object(n.useState)("disabled"),[u,p]=Object(n.useState)("text"),[g,b]=Object(n.useState)(!1),[E,h]=Object(n.useState)(!1),[f,v]=Object(n.useState)("disabled"),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)("enabled"),[w,A]=Object(n.useState)(!1),[T,S]=Object(n.useState)("enabled"),[j,I]=Object(n.useState)(!1),[M,N]=Object(n.useState)("enabled"),[R,D]=Object(n.useState)(!1),[P,F]=Object(n.useState)("enabled"),[L,W]=Object(n.useState)(!1),[B,q]=Object(n.useState)("enabled"),[z,U]=Object(n.useState)(!1),[H,Q]=Object(n.useState)("enabled"),[G,K]=Object(n.useState)(!1),[_,Y]=Object(n.useState)("enabled"),[J,X]=Object(n.useState)(!1),[Z,$]=Object(n.useState)("enabled"),[ee,ae]=Object(n.useState)(!1),[te,ne]=Object(n.useState)("enabled"),[oe,le]=Object(n.useState)(!1),[re,ie]=Object(n.useState)(""),[se,ce]=Object(n.useState)(!1),[de,me]=Object(n.useState)(""),[ue,pe]=Object(n.useState)(!1),[ge,be]=Object(n.useState)(""),[Ee,he]=Object(n.useState)(!1),[fe,ve]=Object(n.useState)(""),[ye,xe]=Object(n.useState)(!1),[Ce,ke]=Object(n.useState)(""),[we,Ae]=Object(n.useState)(!1),[Te,Oe]=Object(n.useState)(""),[Se,je]=Object(n.useState)(!1),[Ie,Me]=Object(n.useState)(""),[Ne,Re]=Object(n.useState)(!1),[De,Pe]=Object(n.useState)("disabled"),[Fe,Le]=Object(n.useState)(!1),[We,Be]=Object(n.useState)(""),[qe,ze]=Object(n.useState)(!1),[Ue,Ve]=Object(n.useState)(""),[He,Qe]=Object(n.useState)(!1),[Ge,Ke]=Object(n.useState)("disabled"),[_e,Ye]=Object(n.useState)(!1),[Je,Xe]=Object(n.useState)("disabled"),[Ze,$e]=Object(n.useState)(!1),[ea,aa]=Object(n.useState)("disabled"),[ta,na]=Object(n.useState)(!1),[oa,la]=Object(n.useState)("enabled"),[ra,ia]=Object(n.useState)(!1),[sa,ca]=Object(n.useState)(!1),[da,ua]=Object(n.useState)(!1),[pa,ga]=Object(n.useState)(!1),[ba,Ea]=Object(n.useState)(!1),[ha,fa]=Object(n.useState)(""),[va,ya]=Object(n.useState)(!1),[xa,Ca]=Object(n.useState)(""),[ka,wa]=Object(n.useState)(!1),[Aa,Ta]=Object(n.useState)(""),[Oa,Sa]=Object(n.useState)(!1),[ja,Ia]=Object(n.useState)(""),[Ma,Na]=Object(n.useState)(!1),[Ra,Pa]=Object(n.useState)(""),[Fa,La]=Object(n.useState)(!1),[Wa,Ba]=Object(n.useState)(!1),[qa,za]=Object(n.useState)(!1),{update:Ua,getAll:Va}=Pn(),{update:Ha}=Pn(),{update:Qa}=Pn(),{update:Ga}=Pn(),{update:Ka}=Pn(),{update:_a}=Pn(),{update:Ya}=Pn(),{update:Ja}=Pn(),{update:Xa}=Da(),Za=()=>r.super;return Object(n.useEffect)(()=>{if(Array.isArray(a)&&a.length){const e=a.find(e=>"userCreation"===e.key);e&&v(e.value);const t=a.find(e=>"copyContactPrefix"===e.key);t&&fa(t.value);const n=a.find(e=>"eficlientid"===e.key);n&&ie(n.value);const o=a.find(e=>"eficlientsecret"===e.key);o&&me(o.value);const l=a.find(e=>"efichavepix"===e.key);l&&be(l.value);const r=a.find(e=>"mpaccesstoken"===e.key);r&&ve(r.value);const i=a.find(e=>"asaastoken"===e.key);i&&Oe(i.value);const s=a.find(e=>"openaikeyaudio"===e.key);s&&Me(s.value)}},[a]),Object(n.useEffect)(()=>{for(const[e,a]of Object.entries(t))"userRating"===e&&c(a),"scheduleType"===e&&m(a),"chatBotType"===e&&p(a),"acceptCallWhatsapp"===e&&F(a),"userRandom"===e&&S(a),"sendGreetingMessageOneQueues"===e&&Q(a),"sendSignMessage"===e&&q(a),"sendFarewellWaitingTicket"===e&&$(a),"sendGreetingAccepted"===e&&k(a),"sendQueuePosition"===e&&Y(a),"acceptAudioMessageContact"===e&&ne(a),"enableLGPD"===e&&Pe(a),"requiredTag"===e&&la(a),"lgpdDeleteMessage"===e&&Ke(a),"lgpdHideNumber"===e&&aa(a),"lgpdConsent"===e&&Xe(a),"lgpdMessage"===e&&Be(a),"sendMsgTransfTicket"===e&&N(a),"lgpdLink"===e&&Ve(a),"DirectTicketsToWallets"===e&&ga(a),"closeTicketOnTransfer"===e&&ca(a),"transferMessage"===e&&Ca(a),"greetingAcceptedMessage"===e&&Ta(a),"AcceptCallWhatsappMessage"===e&&Ia(a),"sendQueuePositionMessage"===e&&Pa(a),"showNotificationPending"===e&&Ba(a),"copyContactPrefix"===e&&fa(a)},[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{spacing:3,container:!0},Za()?o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"UserCreation-label"},ma.a.t("settings.settings.options.creationCompanyUser")),o.a.createElement(Wt.a,{labelId:"UserCreation-label",value:f,onChange:async e=>{!async function(e){v(e),x(!0),await Ua({key:"userCreation",value:e}),x(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,y&&ma.a.t("settings.settings.options.updating")))):null,o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"ratings-label"},ma.a.t("settings.settings.options.evaluations")),o.a.createElement(Wt.a,{labelId:"ratings-label",value:s,onChange:async e=>{!async function(e){c(e),b(!0),await Xa({column:"userRating",data:e}),b(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,g&&ma.a.t("settings.settings.options.evaluations")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"schedule-type-label"},ma.a.t("settings.settings.options.officeScheduling")),o.a.createElement(Wt.a,{labelId:"schedule-type-label",value:d,onChange:async e=>{!async function(e){m(e),h(!0),await Xa({column:"scheduleType",data:e}),h(!1),"function"===typeof l&&l(e)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"queue"},ma.a.t("settings.settings.options.queueManagement")),o.a.createElement(V.a,{value:"company"},ma.a.t("settings.settings.options.companyManagement")),o.a.createElement(V.a,{value:"connection"},ma.a.t("settings.settings.options.connectionManagement"))),o.a.createElement(cu.a,null,E&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"sendGreetingAccepted-label"},ma.a.t("settings.settings.options.sendGreetingAccepted")),o.a.createElement(Wt.a,{labelId:"sendGreetingAccepted-label",value:C,onChange:async e=>{!async function(e){k(e),A(!0),await Xa({column:"sendGreetingAccepted",data:e}),A(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,w&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"userRandom-label"},ma.a.t("settings.settings.options.userRandom")),o.a.createElement(Wt.a,{labelId:"userRandom-label",value:T,onChange:async e=>{!async function(e){S(e),I(!0),await Xa({column:"userRandom",data:e}),I(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,j&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"sendMsgTransfTicket-label"},ma.a.t("settings.settings.options.sendMsgTransfTicket")),o.a.createElement(Wt.a,{labelId:"sendMsgTransfTicket-label",value:M,onChange:async e=>{!async function(e){N(e),D(!0),await Xa({column:"sendMsgTransfTicket",data:e}),D(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,R&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"schedule-type-label"},ma.a.t("settings.settings.options.chatBotType")),o.a.createElement(Wt.a,{labelId:"schedule-type-label",value:u,onChange:async e=>{!async function(e){p(e),await Xa({column:"chatBotType",data:e}),"function"===typeof l&&p(e)}(e.target.value)}},o.a.createElement(V.a,{value:"text"},"Texto")),o.a.createElement(cu.a,null,E&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"acceptCallWhatsapp-label"},ma.a.t("settings.settings.options.acceptCallWhatsapp")),o.a.createElement(Wt.a,{labelId:"acceptCallWhatsapp-label",value:P,onChange:async e=>{!async function(e){F(e),W(!0),await Xa({column:"acceptCallWhatsapp",data:e}),W(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,L&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"sendSignMessage-label"},ma.a.t("settings.settings.options.sendSignMessage")),o.a.createElement(Wt.a,{labelId:"sendSignMessage-label",value:B,onChange:async e=>{!async function(e){q(e),U(!0),await Xa({column:"sendSignMessage",data:e}),localStorage.setItem("sendSignMessage","enabled"===e),U(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,z&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"sendGreetingMessageOneQueues-label"},ma.a.t("settings.settings.options.sendGreetingMessageOneQueues")),o.a.createElement(Wt.a,{labelId:"sendGreetingMessageOneQueues-label",value:H,onChange:async e=>{!async function(e){Q(e),K(!0),await Xa({column:"sendGreetingMessageOneQueues",data:e}),K(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,G&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"sendQueuePosition-label"},ma.a.t("settings.settings.options.sendQueuePosition")),o.a.createElement(Wt.a,{labelId:"sendQueuePosition-label",value:_,onChange:async e=>{!async function(e){Y(e),X(!0),await Xa({column:"sendQueuePosition",data:e}),X(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,J&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"sendFarewellWaitingTicket-label"},ma.a.t("settings.settings.options.sendFarewellWaitingTicket")),o.a.createElement(Wt.a,{labelId:"sendFarewellWaitingTicket-label",value:Z,onChange:async e=>{!async function(e){$(e),ae(!0),await Xa({column:"sendFarewellWaitingTicket",data:e}),ae(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,ee&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"acceptAudioMessageContact-label"},ma.a.t("settings.settings.options.acceptAudioMessageContact")),o.a.createElement(Wt.a,{labelId:"acceptAudioMessageContact-label",value:te,onChange:async e=>{!async function(e){ne(e),le(!0),await Xa({column:"acceptAudioMessageContact",data:e}),le(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,oe&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"enableLGPD-label"}," ",ma.a.t("settings.settings.options.enableLGPD")),o.a.createElement(Wt.a,{labelId:"enableLGPD-label",value:De,onChange:async e=>{!async function(e){Pe(e),Le(!0),await Xa({column:"enableLGPD",data:e}),Le(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,Fe&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"requiredTag-label"}," ",ma.a.t("settings.settings.options.requiredTag")),o.a.createElement(Wt.a,{labelId:"requiredTag-label",value:oa,onChange:async e=>{!async function(e){la(e),ia(!0),await Xa({column:"requiredTag",data:e}),ia(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,ra&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"closeTicketOnTransfer-label"}," ",ma.a.t("settings.settings.options.closeTicketOnTransfer")),o.a.createElement(Wt.a,{labelId:"closeTicketOnTransfer-label",value:sa,onChange:async e=>{!async function(e){ca(e),ua(!0),await Xa({column:"closeTicketOnTransfer",data:e}),ua(!1)}(e.target.value)}},o.a.createElement(V.a,{value:!1},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:!0},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,da&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"showNotificationPending-label"}," ",ma.a.t("settings.settings.options.showNotificationPending")),o.a.createElement(Wt.a,{labelId:"showNotificationPending-label",value:Wa,onChange:async e=>{!async function(e){Ba(e),za(!0),await Xa({column:"showNotificationPending",data:e}),za(!1)}(e.target.value)}},o.a.createElement(V.a,{value:!1},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:!0},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,qa&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"DirectTicketsToWallets-label"}," ",ma.a.t("settings.settings.options.DirectTicketsToWallets")),o.a.createElement(Wt.a,{labelId:"DirectTicketsToWallets-label",value:pa,onChange:async e=>{!async function(e){ga(e),Ea(!0),await Xa({column:"DirectTicketsToWallets",data:e}),Ea(!1)}(e.target.value)}},o.a.createElement(V.a,{value:!1},ma.a.t("settings.settings.options.disabled")),o.a.createElement(V.a,{value:!0},ma.a.t("settings.settings.options.enabled"))),o.a.createElement(cu.a,null,ba&&ma.a.t("settings.settings.options.updating"))))),o.a.createElement("br",null),o.a.createElement(Yt.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Kt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},o.a.createElement(_t.a,{label:"Configura\xe7\xe3o de Sigla para Copia de Contato"})),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"copyContactPrefix",name:"copyContactPrefix",margin:"dense",label:ma.a.t("settings.settings.options.copyContactPrefix"),variant:"outlined",value:ha,placeholder:ma.a.t("settings.settings.options.copyContactPrefixPlaceholder"),onChange:async e=>{!async function(e){fa(e),ya(!0),await Xa({column:"copyContactPrefix",data:e}),ya(!1)}(e.target.value)},InputLabelProps:{shrink:!0}}),o.a.createElement(cu.a,null,va&&ma.a.t("settings.settings.options.updating"))))),"enabled"===De&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Kt.a,{value:0,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab},o.a.createElement(_t.a,{label:ma.a.t("settings.settings.LGPD.title")}))),o.a.createElement(Yt.a,{spacing:1,container:!0},o.a.createElement(Yt.a,{xs:12,sm:6,md:12,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"lgpdMessage",name:"lgpdMessage",margin:"dense",multiline:!0,rows:3,label:ma.a.t("settings.settings.LGPD.welcome"),variant:"outlined",value:We,onChange:async e=>{!async function(e){Be(e),ze(!0),await Xa({column:"lgpdMessage",data:e}),ze(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,qe&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:12,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"lgpdLink",name:"lgpdLink",margin:"dense",label:ma.a.t("settings.settings.LGPD.linkLGPD"),variant:"outlined",value:Ue,onChange:async e=>{!async function(e){Ve(e),Qe(!0),await Xa({column:"lgpdLink",data:e}),Qe(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,He&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"lgpdDeleteMessage-label"},ma.a.t("settings.settings.LGPD.obfuscateMessageDelete")),o.a.createElement(Wt.a,{labelId:"lgpdDeleteMessage-label",value:Ge,onChange:async e=>{!async function(e){Ke(e),Ye(!0),await Xa({column:"lgpdDeleteMessage",data:e}),Ye(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.LGPD.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.LGPD.enabled"))),o.a.createElement(cu.a,null,_e&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"lgpdConsent-label"},ma.a.t("settings.settings.LGPD.alwaysConsent")),o.a.createElement(Wt.a,{labelId:"lgpdConsent-label",value:Je,onChange:async e=>{!async function(e){Xe(e),$e(!0),await Xa({column:"lgpdConsent",data:e}),$e(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.LGPD.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.LGPD.enabled"))),o.a.createElement(cu.a,null,Ze&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Bt.a,{id:"lgpdHideNumber-label"},ma.a.t("settings.settings.LGPD.obfuscatePhoneUser")),o.a.createElement(Wt.a,{labelId:"lgpdHideNumber-label",value:ea,onChange:async e=>{!async function(e){aa(e),na(!0),await Xa({column:"lgpdHideNumber",data:e}),na(!1)}(e.target.value)}},o.a.createElement(V.a,{value:"disabled"},ma.a.t("settings.settings.LGPD.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("settings.settings.LGPD.enabled"))),o.a.createElement(cu.a,null,ta&&ma.a.t("settings.settings.options.updating")))))),o.a.createElement(Yt.a,{spacing:3,container:!0},Za()?o.a.createElement(Kt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},o.a.createElement(_t.a,{label:"Configura\xe7\xe3o Pix Ef\xed (GerenciaNet)"})):null),o.a.createElement(Yt.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},Za()?o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"eficlientid",name:"eficlientid",margin:"dense",label:"Client ID",variant:"outlined",value:re,onChange:async e=>{!async function(e){ie(e),ce(!0),await Ha({key:"eficlientid",value:e}),O.b.success("Opera\xe7\xe3o atualizada com sucesso."),ce(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,se&&"Atualizando...")):null),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},Za()?o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"eficlientsecret",name:"eficlientsecret",margin:"dense",label:"Client Secret",variant:"outlined",value:de,onChange:async e=>{!async function(e){me(e),pe(!0),await Qa({key:"eficlientsecret",value:e}),O.b.success("Opera\xe7\xe3o atualizada com sucesso."),pe(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,ue&&"Atualizando...")):null),o.a.createElement(Yt.a,{xs:12,sm:12,md:12,item:!0},Za()?o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"efichavepix",name:"efichavepix",margin:"dense",label:"Chave PIX",variant:"outlined",value:ge,onChange:async e=>{!async function(e){be(e),he(!0),await Ga({key:"efichavepix",value:e}),O.b.success("Opera\xe7\xe3o atualizada com sucesso."),he(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,Ee&&"Atualizando...")):null)),o.a.createElement(Yt.a,{spacing:3,container:!0},Za()?o.a.createElement(Kt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},o.a.createElement(_t.a,{label:"Mercado Pago"})):null),o.a.createElement(Yt.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Yt.a,{xs:12,sm:12,md:12,item:!0},Za()?o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"mpaccesstoken",name:"mpaccesstoken",margin:"dense",label:"Access Token",variant:"outlined",value:fe,onChange:async e=>{!async function(e){ve(e),xe(!0),await Ka({key:"mpaccesstoken",value:e}),O.b.success("Opera\xe7\xe3o atualizada com sucesso."),xe(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,ye&&"Atualizando...")):null)),o.a.createElement(Yt.a,{spacing:3,container:!0},Za()?o.a.createElement(Kt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},o.a.createElement(_t.a,{label:"Stripe"})):null),o.a.createElement(Yt.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Yt.a,{xs:12,sm:12,md:12,item:!0},Za()?o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"stripeprivatekey",name:"stripeprivatekey",margin:"dense",label:"Stripe Private Key",variant:"outlined",value:Ce,onChange:async e=>{!async function(e){ke(e),Ae(!0),await _a({key:"stripeprivatekey",value:e}),O.b.success("Opera\xe7\xe3o atualizada com sucesso."),Ae(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,we&&"Atualizando...")):null)),o.a.createElement(Yt.a,{spacing:3,container:!0},Za()?o.a.createElement(Kt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},o.a.createElement(_t.a,{label:"ASAAS"})):null),o.a.createElement(Yt.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Yt.a,{xs:12,sm:12,md:12,item:!0},Za()?o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"asaastoken",name:"asaastoken",margin:"dense",label:"Token Asaas",variant:"outlined",value:Te,onChange:async e=>{!async function(e){Oe(e),je(!0),await Ya({key:"asaastoken",value:e}),O.b.success("Opera\xe7\xe3o atualizada com sucesso."),je(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,Se&&"Atualizando...")):null)),Za()?o.a.createElement(Yt.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Yt.a,{xs:12,sm:12,md:12,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"openaikeyaudio",name:"openaikeyaudio",margin:"dense",label:"Chave OpenAI (Transcri\xe7\xe3o de \xc1udio)",variant:"outlined",type:"password",value:Ie,onChange:async e=>{!async function(e){Me(e),Re(!0),await Ja({key:"openaikeyaudio",value:e}),O.b.success("Chave OpenAI salva com sucesso."),Re(!1)}(e.target.value)},helperText:"Chave da API OpenAI para transcrever \xe1udios usando Whisper"}),o.a.createElement(cu.a,null,Ne&&"Salvando...")))):null,o.a.createElement(Yt.a,{spacing:1,container:!0},o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"transferMessage",name:"transferMessage",margin:"dense",multiline:!0,rows:3,label:ma.a.t("settings.settings.customMessages.transferMessage"),variant:"outlined",value:xa,required:"enabled"===M,onChange:async e=>{!async function(e){Ca(e),wa(!0),await Xa({column:"transferMessage",data:e}),wa(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,ka&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"greetingAcceptedMessage",name:"greetingAcceptedMessage",margin:"dense",multiline:!0,rows:3,label:ma.a.t("settings.settings.customMessages.greetingAcceptedMessage"),variant:"outlined",value:Aa,required:"enabled"===C,onChange:async e=>{!async function(e){Ta(e),Sa(!0),await Xa({column:"greetingAcceptedMessage",data:e}),Sa(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,Oa&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"AcceptCallWhatsappMessage",name:"AcceptCallWhatsappMessage",margin:"dense",multiline:!0,rows:3,label:ma.a.t("settings.settings.customMessages.AcceptCallWhatsappMessage"),variant:"outlined",required:"disabled"===P,value:ja,onChange:async e=>{!async function(e){Ia(e),Na(!0),await Xa({column:"AcceptCallWhatsappMessage",data:e}),Na(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,Ma&&ma.a.t("settings.settings.options.updating")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:i.selectContainer},o.a.createElement(Ft.a,{id:"sendQueuePositionMessage",name:"sendQueuePositionMessage",margin:"dense",multiline:!0,required:"enabled"===_,rows:3,label:ma.a.t("settings.settings.customMessages.sendQueuePositionMessage"),variant:"outlined",value:Ra,onChange:async e=>{!async function(e){Pa(e),La(!0),await Xa({column:"sendQueuePositionMessage",data:e}),La(!1)}(e.target.value)}}),o.a.createElement(cu.a,null,Fa&&ma.a.t("settings.settings.options.updating"))))))}const uu=e=>{let{user:a,yes:t,no:n}=e;return a&&a.super?t?t():null:n?n():null};uu.defaultProps={user:{},yes:()=>null,no:()=>null};var pu=uu,gu=t(1497),bu=t(1498),Eu=t(1499),hu=t(1500),fu=t(530);const vu=Object(I.a)(e=>({btnWrapper:{position:"relative"}}));var yu=e=>{let{onChange:a,currentColor:t,handleClose:l,open:r}=e;const i=vu(),[s,c]=Object(n.useState)(t);Object(n.useEffect)(()=>{c(t)},[t]);return o.a.createElement(H.a,{open:r,onClose:l},o.a.createElement(Q.a,null,"Escolha uma cor"),o.a.createElement(G.a,null,o.a.createElement(fu.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:s,onChange:c})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:l,color:"primary"},"Cancelar"),o.a.createElement(K.a,{color:"primary",variant:"contained",className:i.btnWrapper,onClick:()=>{a(s),l()}},"OK")))};const xu=Object(I.a)(e=>({container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(4)},sectionPaper:{padding:e.spacing(3),marginBottom:e.spacing(3),borderRadius:e.spacing(1),boxShadow:"0 2px 8px rgba(0,0,0,0.1)",[e.breakpoints.down("sm")]:{padding:e.spacing(2),marginBottom:e.spacing(2)}},sectionHeader:{display:"flex",alignItems:"center",marginBottom:e.spacing(2),[e.breakpoints.down("sm")]:{marginBottom:e.spacing(1.5)}},sectionIcon:{marginRight:e.spacing(1),color:e.palette.primary.main},sectionTitle:{fontWeight:600,color:e.palette.text.primary,[e.breakpoints.down("sm")]:{fontSize:"1.1rem"}},sectionSubtitle:{color:e.palette.text.secondary,fontSize:"0.875rem",marginTop:e.spacing(.5),[e.breakpoints.down("sm")]:{fontSize:"0.8rem"}},formField:{marginBottom:e.spacing(2),[e.breakpoints.down("sm")]:{marginBottom:e.spacing(1.5)}},colorAdorment:{width:20,height:20,borderRadius:4,border:"1px solid #ddd"},uploadInput:{display:"none"},uploadField:{"& .MuiInputBase-input":{cursor:"pointer"}},previewContainer:{marginTop:e.spacing(2),[e.breakpoints.down("sm")]:{marginTop:e.spacing(1)}},previewGrid:{[e.breakpoints.down("sm")]:{justifyContent:"center"}},previewCard:{padding:e.spacing(2),borderRadius:e.spacing(1),border:"2px solid #e0e0e0",textAlign:"center",height:"120px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",[e.breakpoints.down("sm")]:{height:"100px",padding:e.spacing(1)}},previewCardLight:{backgroundColor:"#ffffff",borderColor:"#e0e0e0"},previewCardDark:{backgroundColor:"#424242",borderColor:"#666666"},previewCardFavicon:{backgroundColor:"#f5f5f5",borderColor:"#d0d0d0"},previewImage:{maxWidth:"100%",maxHeight:"80px",objectFit:"contain",[e.breakpoints.down("sm")]:{maxHeight:"60px"}},previewBackgroundImage:{width:"100%",height:"100%",objectFit:"cover",borderRadius:e.spacing(.5)},previewLabel:{fontSize:"0.75rem",color:"#666",marginTop:e.spacing(.5),fontWeight:500},previewLabelDark:{color:"#ccc"},languageSection:{marginTop:e.spacing(1)},languageGrid:{display:"flex",flexWrap:"wrap",gap:e.spacing(1),[e.breakpoints.down("sm")]:{gap:e.spacing(.5)}},languageItem:{display:"flex",alignItems:"center",backgroundColor:"#f5f5f5",borderRadius:e.spacing(.5),padding:e.spacing(.5,1),minWidth:"120px",[e.breakpoints.down("sm")]:{minWidth:"100px",padding:e.spacing(.5)}},languageCheckbox:{padding:e.spacing(.5)},languageLabel:{fontSize:"0.875rem",fontWeight:500,[e.breakpoints.down("sm")]:{fontSize:"0.8rem"}},colorSection:{[e.breakpoints.down("sm")]:{"& .MuiGrid-item":{paddingBottom:e.spacing(1)}}},logoSection:{[e.breakpoints.down("sm")]:{"& .MuiGrid-item":{paddingBottom:e.spacing(1)}}},divider:{margin:e.spacing(2,0),[e.breakpoints.down("sm")]:{margin:e.spacing(1.5,0)}}})),Cu=[{code:"pt-BR",label:"Portugu\xeas"},{code:"en",label:"English"},{code:"es",label:"Espa\xf1ol"},{code:"ar",label:"\u0639\u0631\u0628\u064a"}];function ku(e){const{settings:a}=e,t=xu(),[l,r]=Object(n.useState)({}),{getCurrentUserInfo:i}=xa(),[s,c]=Object(n.useState)({}),[d,m]=Object(n.useState)(!0),{colorMode:p}=Object(n.useContext)(h),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),v=Object(n.useRef)(null),y=Object(n.useRef)(null),x=Object(n.useRef)(null),C=Object(n.useRef)(null),k=Object(n.useRef)(null),A=Object(n.useRef)(null),[T,j]=Object(n.useState)(l.appName||""),[I,M]=Object(n.useState)(["pt-BR","en"]),{update:N}=Pn();function R(e,a){"primaryColorLight"!==e&&"primaryColorDark"!==e&&"appName"!==e||localStorage.setItem(e,a);const t=Object(S.a)({},l);t[e]=a,r(t)}async function D(e,a){await N({key:e,value:a}),R(e,a),O.b.success("Opera\xe7\xe3o atualizada com sucesso.")}Object(n.useEffect)(()=>{let e=!0;if(m(!0),i().then(a=>{const t=a.user||a;e&&c(t)}),Array.isArray(a)&&a.length){var t,n,o,s,d,u,p,g,b;const i=null===(t=a.find(e=>"primaryColorLight"===e.key))||void 0===t?void 0:t.value,c=null===(n=a.find(e=>"primaryColorDark"===e.key))||void 0===n?void 0:n.value,h=null===(o=a.find(e=>"appLogoLight"===e.key))||void 0===o?void 0:o.value,f=null===(s=a.find(e=>"appLogoDark"===e.key))||void 0===s?void 0:s.value,v=null===(d=a.find(e=>"appLogoFavicon"===e.key))||void 0===d?void 0:d.value,y=null===(u=a.find(e=>"appLogoBackgroundLight"===e.key))||void 0===u?void 0:u.value,x=null===(p=a.find(e=>"appLogoBackgroundDark"===e.key))||void 0===p?void 0:p.value,C=null===(g=a.find(e=>"appName"===e.key))||void 0===g?void 0:g.value,k=null===(b=a.find(e=>"enabledLanguages"===e.key))||void 0===b?void 0:b.value;let w=["pt-BR","en"];try{k&&(w=JSON.parse(k))}catch(E){}e&&(j(C||""),M(w),r(Object(S.a)(Object(S.a)({},l),{},{primaryColorLight:i,primaryColorDark:c,appLogoLight:h,appLogoDark:f,appLogoFavicon:v,appLogoBackgroundLight:y,appLogoBackgroundDark:x,appName:C,enabledLanguages:w})),m(!1))}else m(!1);return()=>{e=!1}},[]);const P=async(e,a)=>{if(!e.target.files)return;const t=e.target.files[0],n=new FormData;n.append("typeArch","logo"),n.append("mode",a),n.append("file",t),await u.post("/settings-whitelabel/logo",n,{onUploadProgress:e=>{let a=Math.round(100*e.loaded/e.total);console.log("A imagem est\xe1 ".concat(a,"% carregada... "))}}).then(e=>{R("appLogo".concat(a),e.data),"BackgroundLight"===a||"BackgroundDark"===a||p["setAppLogo".concat(a)](w()+"/public/"+e.data)}).catch(e=>{console.error("Houve um problema ao realizar o upload da imagem."),console.log(e)})};return d?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:"50px"}},o.a.createElement("div",null,"Carregando configura\xe7\xf5es...")):o.a.createElement("div",{className:t.container},o.a.createElement(pu,{user:s,yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Gt.a,{className:t.sectionPaper},o.a.createElement("div",{className:t.sectionHeader},o.a.createElement(gu.a,{className:t.sectionIcon}),o.a.createElement("div",null,o.a.createElement(z.a,{variant:"h6",className:t.sectionTitle},ma.a.t("whitelabel.sections.general")),o.a.createElement(z.a,{className:t.sectionSubtitle},ma.a.t("whitelabel.sections.generalDescription")))),o.a.createElement(Yt.a,{container:!0,spacing:3},o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:t.formField,fullWidth:!0},o.a.createElement(Ft.a,{id:"appname-field",label:ma.a.t("whitelabel.appName"),variant:"outlined",name:"appName",value:T,inputRef:A,onChange:e=>{j(e.target.value)},onBlur:async e=>{await D("appName",T),p.setAppName(T||"Multi100")},size:"small"}))))),o.a.createElement(Gt.a,{className:t.sectionPaper},o.a.createElement("div",{className:t.sectionHeader},o.a.createElement(bu.a,{className:t.sectionIcon}),o.a.createElement("div",null,o.a.createElement(z.a,{variant:"h6",className:t.sectionTitle},ma.a.t("whitelabel.sections.colors")),o.a.createElement(z.a,{className:t.sectionSubtitle},ma.a.t("whitelabel.sections.colorsDescription")))),o.a.createElement(Yt.a,{container:!0,spacing:3,className:t.colorSection},o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:t.formField,fullWidth:!0},o.a.createElement(Ft.a,{id:"primary-color-light-field",label:ma.a.t("whitelabel.primaryColorLight"),variant:"outlined",value:l.primaryColorLight||"",onClick:()=>b(!0),size:"small",InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement("div",{style:{backgroundColor:l.primaryColorLight},className:t.colorAdorment})),endAdornment:o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>b(!0)},o.a.createElement(Mm.a,null))}})),o.a.createElement(yu,{open:g,handleClose:()=>b(!1),onChange:e=>{console.log("\ud83d\udd0d [Whitelabel] Color changed:",e),D("primaryColorLight","#".concat(e.hex)),p.setPrimaryColorLight("#".concat(e.hex))},currentColor:l.primaryColorLight})),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:t.formField,fullWidth:!0},o.a.createElement(Ft.a,{id:"primary-color-dark-field",label:ma.a.t("whitelabel.primaryColorDark"),variant:"outlined",value:l.primaryColorDark||"",onClick:()=>f(!0),size:"small",InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement("div",{style:{backgroundColor:l.primaryColorDark},className:t.colorAdorment})),endAdornment:o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>f(!0)},o.a.createElement(Mm.a,null))}})),o.a.createElement(yu,{open:E,handleClose:()=>f(!1),onChange:e=>{D("primaryColorDark","#".concat(e.hex)),p.setPrimaryColorDark("#".concat(e.hex))},currentColor:l.primaryColorDark})))),o.a.createElement(Gt.a,{className:t.sectionPaper},o.a.createElement("div",{className:t.sectionHeader},o.a.createElement(Eu.a,{className:t.sectionIcon}),o.a.createElement("div",null,o.a.createElement(z.a,{variant:"h6",className:t.sectionTitle},ma.a.t("whitelabel.sections.logos")),o.a.createElement(z.a,{className:t.sectionSubtitle},ma.a.t("whitelabel.sections.logosDescription")))),o.a.createElement(Yt.a,{container:!0,spacing:3,className:t.logoSection},o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:t.formField,fullWidth:!0},o.a.createElement(Ft.a,{id:"logo-light-upload-field",label:ma.a.t("whitelabel.logoLight"),variant:"outlined",value:l.appLogoLight||"",size:"small",className:t.uploadField,InputProps:{readOnly:!0,endAdornment:o.a.createElement(o.a.Fragment,null,l.appLogoLight&&o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{D("appLogoLight",""),p.setAppLogoLight(xn.a)}},o.a.createElement(hu.a,{titleAccess:ma.a.t("whitelabel.delete")})),o.a.createElement("input",{type:"file",id:"upload-logo-light-button",ref:v,className:t.uploadInput,onChange:e=>P(e,"Light")}),o.a.createElement("label",{htmlFor:"upload-logo-light-button"},o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{v.current.click()}},o.a.createElement(ra.a,{titleAccess:ma.a.t("whitelabel.upload")}))))}}))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:t.formField,fullWidth:!0},o.a.createElement(Ft.a,{id:"logo-dark-upload-field",label:ma.a.t("whitelabel.logoDark"),variant:"outlined",value:l.appLogoDark||"",size:"small",className:t.uploadField,InputProps:{readOnly:!0,endAdornment:o.a.createElement(o.a.Fragment,null,l.appLogoDark&&o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{D("appLogoDark",""),p.setAppLogoDark(kn.a)}},o.a.createElement(hu.a,{titleAccess:ma.a.t("whitelabel.delete")})),o.a.createElement("input",{type:"file",id:"upload-logo-dark-button",ref:y,className:t.uploadInput,onChange:e=>P(e,"Dark")}),o.a.createElement("label",{htmlFor:"upload-logo-dark-button"},o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{y.current.click()}},o.a.createElement(ra.a,{titleAccess:ma.a.t("whitelabel.upload")}))))}}))),o.a.createElement(Yt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(qt.a,{className:t.formField,fullWidth:!0},o.a.createElement(Ft.a,{id:"logo-favicon-upload-field",label:ma.a.t("whitelabel.favicon"),variant:"outlined",value:l.appLogoFavicon||"",size:"small",className:t.uploadField,InputProps:{readOnly:!0,endAdornment:o.a.createElement(o.a.Fragment,null,l.appLogoFavicon&&o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{D("appLogoFavicon",""),p.setAppLogoFavicon(wt.a)}},o.a.createElement(hu.a,{titleAccess:ma.a.t("whitelabel.delete")})),o.a.createElement("input",{type:"file",id:"upload-logo-favicon-button",ref:x,className:t.uploadInput,onChange:e=>P(e,"Favicon")}),o.a.createElement("label",{htmlFor:"upload-logo-favicon-button"},o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{x.current.click()}},o.a.createElement(ra.a,{titleAccess:ma.a.t("whitelabel.upload")}))))}}))),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:t.formField,fullWidth:!0},o.a.createElement(Ft.a,{id:"background-light-upload-field",label:ma.a.t("whitelabel.backgroundLight"),variant:"outlined",value:l.appLogoBackgroundLight||"",size:"small",className:t.uploadField,InputProps:{readOnly:!0,endAdornment:o.a.createElement(o.a.Fragment,null,l.appLogoBackgroundLight&&o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{D("appLogoBackgroundLight","")}},o.a.createElement(hu.a,{titleAccess:ma.a.t("whitelabel.delete")})),o.a.createElement("input",{type:"file",id:"upload-background-light-button",ref:C,className:t.uploadInput,onChange:e=>P(e,"BackgroundLight")}),o.a.createElement("label",{htmlFor:"upload-background-light-button"},o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{C.current.click()}},o.a.createElement(ra.a,{titleAccess:ma.a.t("whitelabel.upload")}))))}}))),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement(qt.a,{className:t.formField,fullWidth:!0},o.a.createElement(Ft.a,{id:"background-dark-upload-field",label:ma.a.t("whitelabel.backgroundDark"),variant:"outlined",value:l.appLogoBackgroundDark||"",size:"small",className:t.uploadField,InputProps:{readOnly:!0,endAdornment:o.a.createElement(o.a.Fragment,null,l.appLogoBackgroundDark&&o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{D("appLogoBackgroundDark","")}},o.a.createElement(hu.a,{titleAccess:ma.a.t("whitelabel.delete")})),o.a.createElement("input",{type:"file",id:"upload-background-dark-button",ref:k,className:t.uploadInput,onChange:e=>P(e,"BackgroundDark")}),o.a.createElement("label",{htmlFor:"upload-background-dark-button"},o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>{k.current.click()}},o.a.createElement(ra.a,{titleAccess:ma.a.t("whitelabel.upload")}))))}})))),o.a.createElement("div",{className:t.previewContainer},o.a.createElement(z.a,{variant:"subtitle2",gutterBottom:!0,style:{fontWeight:600,marginBottom:16}},ma.a.t("whitelabel.preview")),o.a.createElement(Yt.a,{container:!0,spacing:2,className:t.previewGrid},o.a.createElement(Yt.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement("div",{className:"".concat(t.previewCard," ").concat(t.previewCardLight)},o.a.createElement("img",{className:t.previewImage,src:l.appLogoLight?w()+"/public/"+l.appLogoLight:xn.a,alt:ma.a.t("whitelabel.preview")+" light-logo",onError:e=>{e.target.src=xn.a}}),o.a.createElement("div",{className:t.previewLabel},ma.a.t("whitelabel.logoLight")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement("div",{className:"".concat(t.previewCard," ").concat(t.previewCardDark)},o.a.createElement("img",{className:t.previewImage,src:l.appLogoDark?w()+"/public/"+l.appLogoDark:kn.a,alt:ma.a.t("whitelabel.preview")+" dark-logo",onError:e=>{e.target.src=kn.a}}),o.a.createElement("div",{className:"".concat(t.previewLabel," ").concat(t.previewLabelDark)},ma.a.t("whitelabel.logoDark")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement("div",{className:"".concat(t.previewCard," ").concat(t.previewCardFavicon)},o.a.createElement("img",{className:t.previewImage,src:l.appLogoFavicon?w()+"/public/"+l.appLogoFavicon:wt.a,alt:ma.a.t("whitelabel.preview")+" favicon",onError:e=>{e.target.src=wt.a}}),o.a.createElement("div",{className:t.previewLabel},ma.a.t("whitelabel.favicon")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement("div",{className:"".concat(t.previewCard," ").concat(t.previewCardLight)},l.appLogoBackgroundLight?o.a.createElement("img",{className:t.previewBackgroundImage,src:w()+"/public/"+l.appLogoBackgroundLight,alt:ma.a.t("whitelabel.preview")+" background-light",onError:e=>{e.target.style.display="none"}}):o.a.createElement("div",{className:t.previewLabel},ma.a.t("whitelabel.backgroundLight")))),o.a.createElement(Yt.a,{xs:12,sm:6,md:6,item:!0},o.a.createElement("div",{className:"".concat(t.previewCard," ").concat(t.previewCardDark)},l.appLogoBackgroundDark?o.a.createElement("img",{className:t.previewBackgroundImage,src:w()+"/public/"+l.appLogoBackgroundDark,alt:ma.a.t("whitelabel.preview")+" background-dark",onError:e=>{e.target.style.display="none"}}):o.a.createElement("div",{className:"".concat(t.previewLabel," ").concat(t.previewLabelDark)},ma.a.t("whitelabel.backgroundDark"))))))),o.a.createElement(Gt.a,{className:t.sectionPaper},o.a.createElement("div",{className:t.sectionHeader},o.a.createElement(md.a,{className:t.sectionIcon}),o.a.createElement("div",null,o.a.createElement(z.a,{variant:"h6",className:t.sectionTitle},ma.a.t("whitelabel.sections.languages")),o.a.createElement(z.a,{className:t.sectionSubtitle},ma.a.t("whitelabel.sections.languagesDescription")))),o.a.createElement("div",{className:t.languageSection},o.a.createElement("div",{className:t.languageGrid},Cu.map(e=>o.a.createElement("div",{key:e.code,className:t.languageItem},o.a.createElement(qr.a,{className:t.languageCheckbox,checked:I.includes(e.code),onChange:a=>{let t=a.target.checked?[...I,e.code]:I.filter(a=>a!==e.code);0!==t.length?async function(e){await D("enabledLanguages",e),M(e)}(t):O.b.error(ma.a.t("whitelabel.atLeastOneLanguage"))},color:"primary",size:"small"}),o.a.createElement("span",{className:t.languageLabel},e.label)))))))}))}const wu=Object(I.a)(e=>({root:{padding:e.spacing(3)},paper:{padding:e.spacing(2),marginBottom:e.spacing(2)},title:{marginBottom:e.spacing(2),color:e.palette.primary.main},addButton:{marginBottom:e.spacing(2)},table:{minWidth:650},actionCell:{width:120},chip:{margin:e.spacing(.5)}}));var Au=e=>{let{settings:a,onSettingsChange:t}=e;const l=wu(),{user:r}=Object(n.useContext)(Ca),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(null),[E,h]=Object(n.useState)({name:"",description:""}),[f,v]=Object(n.useState)(!1);Object(n.useEffect)(()=>{a&&v(a.informarValorVenda||!1),y()},[a]);const y=async()=>{try{const{data:e}=await u.get("/ticketFinalizationReasons");s(e)}catch(e){console.error("Erro ao buscar motivos:",e)}},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(b(e),h({name:e.name,description:e.description||""})):(b(null),h({name:"",description:""})),p(!0)},C=()=>{p(!1),b(null),h({name:"",description:""})};return o.a.createElement("div",{className:l.root},o.a.createElement(z.a,{variant:"h5",className:l.title},"Finaliza\xe7\xe3o de Atendimento"),o.a.createElement(Gt.a,{className:l.paper},o.a.createElement(z.a,{variant:"h6",gutterBottom:!0},"Configura\xe7\xf5es Gerais"),o.a.createElement(wr.a,{control:o.a.createElement(qr.a,{checked:f,onChange:async e=>{const n=e.target.checked;v(n);try{await u.put("/companySettings",{column:"informarValorVenda",data:n}),t&&t(Object(S.a)(Object(S.a)({},a),{},{informarValorVenda:n})),O.b.success("Configura\xe7\xe3o atualizada com sucesso!")}catch(o){O.b.error("Erro ao atualizar configura\xe7\xe3o"),v(!n)}},color:"primary"}),label:"Informar valor da venda ao finalizar atendimento"}),o.a.createElement(z.a,{variant:"body2",color:"textSecondary"},"Quando habilitado, o campo de valor da venda aparecer\xe1 no modal de finaliza\xe7\xe3o")),o.a.createElement(Gt.a,{className:l.paper},o.a.createElement(tn.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},o.a.createElement(z.a,{variant:"h6"},"Motivos de Finaliza\xe7\xe3o"),o.a.createElement(K.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(ml.a,null),onClick:()=>x(),className:l.addButton},"Adicionar Motivo")),o.a.createElement(wo.a,null,o.a.createElement(xo.a,{className:l.table},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,null,"Nome"),o.a.createElement(ko.a,null,"Descri\xe7\xe3o"),o.a.createElement(ko.a,{className:l.actionCell},"A\xe7\xf5es"))),o.a.createElement(Co.a,null,i.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,null,o.a.createElement(z.a,{variant:"body1"},e.name)),o.a.createElement(ko.a,null,o.a.createElement(z.a,{variant:"body2",color:"textSecondary"},e.description||"Sem descri\xe7\xe3o")),o.a.createElement(ko.a,{className:l.actionCell},o.a.createElement(F.a,{size:"small",onClick:()=>x(e),color:"primary"},o.a.createElement(bm.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este motivo?"))try{await u.delete("/ticketFinalizationReasons/".concat(e)),O.b.success("Motivo exclu\xeddo com sucesso!"),y()}catch(n){var a,t;O.b.error((null===(a=n.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.error)||"Erro ao excluir motivo")}})(e.id),color:"secondary"},o.a.createElement(hu.a,null)))))))),0===i.length&&o.a.createElement(tn.a,{textAlign:"center",py:3},o.a.createElement(z.a,{variant:"body2",color:"textSecondary"},'Nenhum motivo cadastrado. Clique em "Adicionar Motivo" para come\xe7ar.'))),o.a.createElement(H.a,{open:m,onClose:C,maxWidth:"sm",fullWidth:!0},o.a.createElement(Q.a,null,g?"Editar Motivo":"Adicionar Motivo"),o.a.createElement(G.a,null,o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Ft.a,{fullWidth:!0,label:"Nome do Motivo",value:E.name,onChange:e=>h(Object(S.a)(Object(S.a)({},E),{},{name:e.target.value})),variant:"outlined",margin:"dense",required:!0})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Ft.a,{fullWidth:!0,label:"Descri\xe7\xe3o (opcional)",value:E.description,onChange:e=>h(Object(S.a)(Object(S.a)({},E),{},{description:e.target.value})),variant:"outlined",margin:"dense",multiline:!0,rows:3})))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:C,disabled:c},"Cancelar"),o.a.createElement(K.a,{onClick:async()=>{if(E.name.trim()){d(!0);try{g?(await u.put("/ticketFinalizationReasons/".concat(g.id),E),O.b.success("Motivo atualizado com sucesso!")):(await u.post("/ticketFinalizationReasons",E),O.b.success("Motivo criado com sucesso!")),C(),y()}catch(t){var e,a;O.b.error((null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Erro ao salvar motivo")}d(!1)}else O.b.error("Nome do motivo \xe9 obrigat\xf3rio")},color:"primary",variant:"contained",disabled:c},c?"Salvando...":g?"Atualizar":"Adicionar"))))};const Tu=Object(I.a)(e=>({root:{flex:1,backgroundColor:e.palette.background.paper},mainPaper:Object(S.a)(Object(S.a)({},e.scrollbarStyles),{},{overflowY:"scroll",flex:1}),tab:{backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f",borderRadius:4},paper:Object(S.a)(Object(S.a)({},e.scrollbarStyles),{},{overflowY:"scroll",padding:e.spacing(2),display:"flex",alignItems:"center",width:"100%"}),container:{width:"100%",maxHeight:"100%"},control:{padding:e.spacing(1)},textfield:{width:"100%"}}));var Ou=()=>{const e=Tu(),[a,t]=Object(n.useState)("options"),[l,r]=Object(n.useState)([]),[i,s]=Object(n.useState)({}),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)({}),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)({}),[h,f]=Object(n.useState)(!1),{find:v,updateSchedules:y}=Km(),{getAll:x}=Da(),{getAll:C}=Pn(),{user:k,socket:w}=Object(n.useContext)(Ca);Object(n.useEffect)(()=>{!async function(){if(k&&k.companyId){d(!0);try{const e=k.companyId,a=await v(e),t=await x(e),n=await C();s(a),r(a.schedules),g(t),E(n),f("company"===t.scheduleType),u(k)}catch(e){O.b.error(e)}d(!1)}}()},[]),Object(n.useEffect)(()=>{if(!w||!k||!k.companyId)return;const e=()=>{C().then(E)};return w.on("company-".concat(k.companyId,"-settings"),e),()=>{w.off("company-".concat(k.companyId,"-settings"),e)}},[w,k]);const A=()=>m&&m.super;return o.a.createElement(yo,{className:e.root},"user"===k.profile?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("settings.title"))),o.a.createElement(Gt.a,{className:e.mainPaper,elevation:1},o.a.createElement(Kt.a,{value:a,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:(e,a)=>{t(a)},className:e.tab},o.a.createElement(_t.a,{label:ma.a.t("settings.tabs.options"),value:"options"}),h&&o.a.createElement(_t.a,{label:"Hor\xe1rios",value:"schedules"}),"admin"===k.profile&&k.finalizacaoComValorVendaAtiva&&o.a.createElement(_t.a,{label:"Finaliza\xe7\xe3o do Atendimento",value:"finalizacao"}),A()?o.a.createElement(_t.a,{label:ma.a.t("settings.tabs.companies"),value:"companies"}):null,A()?o.a.createElement(_t.a,{label:ma.a.t("settings.tabs.plans"),value:"plans"}):null,A()?o.a.createElement(_t.a,{label:ma.a.t("settings.tabs.helps"),value:"helps"}):null,A()?o.a.createElement(_t.a,{label:"Whitelabel",value:"whitelabel"}):null),o.a.createElement(Gt.a,{className:e.paper,elevation:0},"schedules"===a&&o.a.createElement("div",{className:e.container},o.a.createElement(Im,{loading:c,onSubmit:async e=>{d(!0);try{r(e),await y({id:i.id,schedules:e}),O.b.success("Hor\xe1rios atualizados com sucesso.")}catch(a){O.b.error(a)}d(!1)},initialValues:l})),"companies"===a&&A()&&o.a.createElement("div",{className:e.container},o.a.createElement(eu,null)),"plans"===a&&A()&&o.a.createElement("div",{className:e.container},o.a.createElement(ou,null)),"helps"===a&&A()&&o.a.createElement("div",{className:e.container},o.a.createElement(su,null)),"whitelabel"===a&&A()&&o.a.createElement("div",{className:e.container},o.a.createElement(ku,{settings:b})),"finalizacao"===a&&o.a.createElement("div",{className:e.container},o.a.createElement(Au,{settings:p,onSettingsChange:e=>g(e)})),"options"===a&&o.a.createElement("div",{className:e.container},o.a.createElement(mu,{settings:p,oldSettings:b,user:m,scheduleTypeChanged:e=>f("company"===e)}))))))};const Su=["errorText"];function ju(e){const{errorText:a}=e,t=Object(at.a)(e,Su),[n,l]=Object(Pt.f)(e);return o.a.createElement(Ft.a,Object.assign({type:"text",error:l.touched&&l.error&&!0,helperText:function(){const[e,a]=Object(da.at)(l,"touched","error");if(e&&a)return a}()},n,t))}const Iu=["label","data"];function Mu(e){const{label:a,data:t}=e,n=Object(at.a)(e,Iu),[l,r]=Object(Pt.f)(e),{value:i}=l,[s,c]=Object(da.at)(r,"touched","error"),d=s&&c&&!0;return o.a.createElement(qt.a,Object.assign({},n,{error:d}),o.a.createElement(Bt.a,null,a),o.a.createElement(Wt.a,Object.assign({},l,{value:i||""}),t.map((e,a)=>o.a.createElement(V.a,{key:a,value:e.value},e.label))),function(){if(d)return o.a.createElement(cu.a,null,c)}())}Mu.defaultProps={data:[]};t(136),t(1581),t(541);function Nu(e){const{user:a,socket:t}=Object(n.useContext)(Ca),[l,r]=Object(n.useState)(a.company.name),[i,s]=Object(n.useState)(a.company.document),[c,d]=Object(n.useState)(a.company.addressStreet),[m,u]=Object(n.useState)(a.company.addressState),[p,g]=Object(n.useState)(a.company.addressCity),{formField:{firstName:b,address1:E,city:h,state:f,zipcode:v,country:y},setFieldValue:x}=e;return Object(n.useEffect)(()=>{x("firstName",l),x("zipcode",i),x("address2",c),x("state",m),x("city",p)},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{container:!0,spacing:3},o.a.createElement(Yt.a,{item:!0,xs:6,sm:6},o.a.createElement(ju,{name:b.name,label:b.label,fullWidth:!0,value:l,onChange:e=>{r(e.target.value),x("firstName",e.target.value)}})),o.a.createElement(Yt.a,{item:!0,xs:6,sm:6},o.a.createElement(ju,{name:v.name,label:v.label,fullWidth:!0,value:i,onChange:e=>{s(e.target.value),x("zipcode",e.target.value)}}))))}var Ru=t(1501),Du=t(831),Pu=t.n(Du),Fu=t(646),Lu=t.n(Fu);const Wu=Object(I.a)(e=>({"@global":{ul:{margin:0,padding:0,listStyle:"none"}},margin:{margin:e.spacing(1)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:{borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),[e.breakpoints.up("sm")]:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}},customCard:{display:"flex",marginTop:"16px",alignItems:"center",flexDirection:"column"},custom:{display:"flex",alignItems:"center",justifyContent:"space-between"}}));function Bu(e){const{setFieldValue:a,setActiveStep:t,activeStep:l}=e,r=Wu(),[i,s]=o.a.useState(3),[c,d]=o.a.useState(3),[m,u]=o.a.useState([]),[p,g]=o.a.useState(!1),{user:b,socket:E}=Object(n.useContext)(Ca),{getPlanCompany:h}=Ia();Object(n.useEffect)(()=>{!async function(){await f()}()},[]);const f=async()=>{g(!0);try{const e=b.companyId,a=(await h(void 0,e)).plan,t=[];t.push({title:a.name,planId:a.id,price:a.amount,description:["".concat(a.users," Usu\xe1rios"),"".concat(a.connections," Conex\xe3o"),"".concat(a.queues," Filas")],users:a.users,connections:a.connections,queues:a.queues,buttonText:"SELECIONAR",buttonVariant:"outlined"}),u(t)}catch(e){}g(!1)},[v,y]=o.a.useState(49);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{container:!0,spacing:3},null===m||void 0===m?void 0:m.map(e=>o.a.createElement(Yt.a,{item:!0,key:e.title,xs:12,sm:"Enterprise"===e.title?12:6,md:12},o.a.createElement(Ks.a,null,o.a.createElement(vi.a,{title:e.title,subheader:e.subheader,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},action:"Pro"===e.title?o.a.createElement(Pu.a,null):null,className:r.cardHeader}),o.a.createElement(Gs.a,null,o.a.createElement("div",{className:r.cardPricing},o.a.createElement(z.a,{component:"h2",variant:"h3",color:"textPrimary"},e.custom?o.a.createElement(o.a.Fragment,null,"R$",v.toLocaleString("pt-br",{minimumFractionDigits:2})):o.a.createElement(o.a.Fragment,null,"R$",e.price.toLocaleString("pt-br",{minimumFractionDigits:2}))),o.a.createElement(z.a,{variant:"h6",color:"textSecondary"},"/m\xeas")),o.a.createElement("ul",null,e.description.map(e=>o.a.createElement(z.a,{component:"li",variant:"subtitle1",align:"center",key:e},e)),e.custom&&o.a.createElement("div",{className:r.customCard},o.a.createElement("div",{className:r.custom},o.a.createElement(z.a,{component:"li",variant:"subtitle1",align:"center",key:12},o.a.createElement(F.a,{"aria-label":"delete",className:r.margin,size:"small"},o.a.createElement(Lu.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;s(a),y(v-11)})(0,i-1)})),i," Usu\xe1rios",o.a.createElement(F.a,{"aria-label":"delete",className:r.margin,size:"small"},o.a.createElement(Ts.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;s(a),y(v+11)})(0,i+1)})))),o.a.createElement("div",{className:r.custom},o.a.createElement(z.a,{component:"li",variant:"subtitle1",align:"center",key:12},o.a.createElement(F.a,{"aria-label":"delete",className:r.margin,size:"small"},o.a.createElement(Lu.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;d(a),y(v-20)})(0,c-1)})),c," Conex\xe3o",o.a.createElement(F.a,{"aria-label":"delete",className:r.margin,size:"small"},o.a.createElement(Ts.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;d(a),y(v+20)})(0,c+1)}))))))),o.a.createElement(Ru.a,null,o.a.createElement(K.a,{fullWidth:!0,variant:e.buttonVariant,color:"primary",onClick:()=>{e.custom?a("plan",JSON.stringify({users:i,connections:c,price:v})):a("plan",JSON.stringify(e)),t(l+1)}},e.buttonText)))))))}var qu=Object(I.a)(e=>({listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}));var zu=function(e){const{formValues:a}=e,t=qu(),{plan:n}=a,l=JSON.parse(n),{users:r,connections:i,queues:s}=l;return o.a.createElement(Yt.a,{item:!0,xs:12,sm:6},o.a.createElement(z.a,{variant:"h6",gutterBottom:!0,className:t.title},"Detalhes do plano"),o.a.createElement(z.a,{gutterBottom:!0},"Usu\xe1rios: ",r),o.a.createElement(z.a,{gutterBottom:!0},"Conex\xe3o: ",i),o.a.createElement(z.a,{gutterBottom:!0},"Filas: ",s),o.a.createElement(z.a,{gutterBottom:!0},"Cobran\xe7a: Mensal"))};var Uu=function(e){const{formValues:a}=e,t=qu(),{firstName:l,address2:r,city:i,zipcode:s,state:c,country:d,plan:m}=a,{user:u}=Object(n.useContext)(Ca),p=JSON.parse(m),{price:g}=p;return o.a.createElement(Yt.a,{item:!0,container:!0,direction:"column",xs:6,sm:12},o.a.createElement(z.a,{variant:"h6",gutterBottom:!0,className:t.title},"Informa\xe7\xe3o de pagamento"),o.a.createElement(Yt.a,{container:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(z.a,{gutterBottom:!0},"Email:")),o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(z.a,{gutterBottom:!0},u.email))),o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(z.a,{gutterBottom:!0},"Nome:")),o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(z.a,{gutterBottom:!0},l))),o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(z.a,{gutterBottom:!0},"CPF/CNPJ:")),o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(z.a,{gutterBottom:!0},s))),o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(z.a,{gutterBottom:!0},"Total:")),o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(z.a,{gutterBottom:!0},"R$",g.toLocaleString("pt-br",{minimumFractionDigits:2}))))))};var Vu,Hu,Qu,Gu,Ku=function(){const{values:e}=Object(Pt.g)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{variant:"h6",gutterBottom:!0},"Resumo da assinatura"),o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(zu,{formValues:e}),o.a.createElement(Uu,{formValues:e})))},_u=t(832),Yu=t.n(_u),Ju=t(104),Xu=t(415);Xu.a.div(Vu||(Vu=Object(Ju.a)(["\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n"])));const Zu=Xu.a.div(Hu||(Hu=Object(Ju.a)(["\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n"]))),$u=Xu.a.div(Qu||(Qu=Object(Ju.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n"])));Xu.a.div(Gu||(Gu=Object(Ju.a)(["\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n"])));var ep=t(835);const ap=Object(n.createContext)();var tp=function(e){var a;const{pix:t}=e,l=Object(n.useContext)(ap),[r]=Object(n.useState)((null===t||void 0===t||null===(a=t.qrcode)||void 0===a?void 0:a.qrcode)||""),[i]=Object(n.useState)(t.stripeURL),[s]=Object(n.useState)(t.asaasURL),[c]=Object(n.useState)(t.mercadopagoURL),[d]=Object(n.useState)(t.valorext),[m,u]=Object(n.useState)(!1),p=Object(T.useHistory)(),{dateToClient:g}=An(),{user:b,socket:E}=Object(n.useContext)(Ca),h=b.companyId;return Object(n.useEffect)(()=>(E.on("company-".concat(h,"-payment"),e=>{"CONCLUIDA"===e.action&&(O.b.success("Sua licen\xe7a foi renovada at\xe9 ".concat(g(e.company.dueDate),"!")),setTimeout(()=>{p.push("/")},4e3))}),()=>{E.disconnect()}),[p,g,l]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Zu,null,o.a.createElement("p",null,o.a.createElement("span",null,"TOTAL")),o.a.createElement("strong",null,"R$ ",d.toLocaleString("pt-br",{minimumFractionDigits:2}))),o.a.createElement($u,null,r&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yu.a,{value:r}),o.a.createElement(ep.CopyToClipboard,{text:r,onCopy:()=>{setTimeout(()=>{u(!1)},1e3),u(!0)}},o.a.createElement("button",{className:"copy-button",type:"button"},m?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"Copiado"),o.a.createElement(Hn.a,{size:18})):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"Copiar c\xf3digo QR PIX"),o.a.createElement(Hn.b,{size:18})))),o.a.createElement("span",null,"Para finalizar, basta realizar o pagamento escaneando ou colando o c\xf3digo Pix acima ou escolha Pagar com Cart\xe3o de Cr\xe9dito abaixo."),o.a.createElement("span",null,o.a.createElement("p",null," "))),i&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:()=>window.open(i,"_blank"),type:"button",style:{color:"#3c6afb",background:"#ffffff",border:"1px solid #3c6afb",padding:"6px 16px",fontSize:"18px",minWidth:"50%",boxSizing:"border-box",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"500",lineHeight:"1.75",borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase"}},"Pagar com Cart\xe3o de Cr\xe9dito"),o.a.createElement("span",null,o.a.createElement("p",null," "))),c&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:()=>window.open(c,"_blank"),type:"button",style:{color:"#3c6afb",background:"#ffffff",border:"1px solid #3c6afb",padding:"6px 16px",fontSize:"18px",minWidth:"50%",boxSizing:"border-box",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"500",lineHeight:"1.75",borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase"}},"Pagar com MercadoPago"),o.a.createElement("span",null,o.a.createElement("p",null," "))),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:()=>window.open(s,"_blank"),type:"button",style:{color:"#3c6afb",background:"#ffffff",border:"1px solid #3c6afb",padding:"6px 16px",fontSize:"18px",minWidth:"50%",boxSizing:"border-box",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"500",lineHeight:"1.75",borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase"}},"Pagar com Asaas"),o.a.createElement("span",null,o.a.createElement("p",null," ")))))},np={formId:"checkoutForm",formField:{firstName:{name:"firstName",label:"Nome completo*",requiredErrorMsg:"O nome completo \xe9 obrigat\xf3rio"},lastName:{name:"lastName",label:"Last name*",requiredErrorMsg:"Last name is required"},address1:{name:"address2",label:"Endere\xe7o*",requiredErrorMsg:"O Endere\xe7o \xe9 obrigat\xf3rio"},city:{name:"city",label:"Cidade*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},state:{name:"state",label:"Estado*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},zipcode:{name:"zipcode",label:"CPF/CNPJ*",requiredErrorMsg:"CEP \xe9 obrigat\xf3rio",invalidErrorMsg:"Formato de CEP inv\xe1lido"},country:{name:"country",label:"Pa\xeds*",requiredErrorMsg:"Pa\xeds \xe9 obrigat\xf3rio"},useAddressForPaymentDetails:{name:"useAddressForPaymentDetails",label:"Use this address for payment details"},nameOnCard:{name:"nameOnCard",label:"Name on card*",requiredErrorMsg:"Name on card is required"},cardNumber:{name:"cardNumber",label:"Card number*",requiredErrorMsg:"Card number is required",invalidErrorMsg:"Card number is not valid (e.g. 4111111111111)"},expiryDate:{name:"expiryDate",label:"Expiry date*",requiredErrorMsg:"Expiry date is required",invalidErrorMsg:"Expiry date is not valid"},cvv:{name:"cvv",label:"CVV*",requiredErrorMsg:"CVV is required",invalidErrorMsg:"CVV is invalid (e.g. 357)"}}};const{formField:{firstName:op,address1:lp,city:rp,zipcode:ip,country:sp}}=np;var cp=[Dt.e().shape({[op.name]:Dt.f().required("".concat(op.requiredErrorMsg)),[ip.name]:Dt.f().required("".concat(ip.requiredErrorMsg))})];const{formField:{firstName:dp,lastName:mp,address1:up,city:pp,state:gp,zipcode:bp,country:Ep,useAddressForPaymentDetails:hp,nameOnCard:fp,cardNumber:vp,cvv:yp}}=np;var xp={[dp.name]:"",[mp.name]:"",[up.name]:"",[pp.name]:"",[gp.name]:"",[bp.name]:"",[Ep.name]:"",[hp.name]:!1,[fp.name]:"",[vp.name]:"",[yp.name]:""},Cp=Object(I.a)(e=>({stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%"}}));var kp=function(e){const a=["Dados","Personalizar","Revisar"],{formId:t,formField:l}=np,r=Cp(),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(e.Invoice.id),g=cp[i],b=i===a.length-1,{user:E,socket:h}=Object(n.useContext)(Ca);function f(){s(i-1)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{component:"h1",variant:"h4",align:"center"},"Falta pouco!"),o.a.createElement(Wc.a,{activeStep:i,className:r.stepper},a.map(e=>o.a.createElement(Bc.a,{key:e},o.a.createElement(qc.a,null,e)))),o.a.createElement(o.a.Fragment,null,i===a.length?o.a.createElement(tp,{pix:c}):o.a.createElement(Pt.e,{initialValues:Object(S.a)(Object(S.a)({},E),xp),validationSchema:g,onSubmit:function(e,a){b?async function(e,a){try{const t=JSON.parse(e.plan),n={firstName:e.firstName,lastName:e.lastName,address2:e.address2,city:e.city,state:e.state,zipcode:e.zipcode,country:e.country,useAddressForPaymentDetails:e.useAddressForPaymentDetails,nameOnCard:e.nameOnCard,cardNumber:e.cardNumber,cvv:e.cvv,plan:e.plan,price:t.price,users:t.users,connections:t.connections,invoiceId:m},{data:o}=await u.post("/subscription",n);console.log(o),d(o),a.setSubmitting(!1),s(i+1),O.b.success("Assinatura realizada com sucesso!, aguardando a realiza\xe7\xe3o do pagamento")}catch(t){ga(t)}}(e,a):(s(i+1),a.setTouched({}),a.setSubmitting(!1))}},e=>{let{isSubmitting:a,setFieldValue:n,values:c}=e;return o.a.createElement(Pt.d,{id:t},function(e,a,t,n){switch(e){case 0:return o.a.createElement(Nu,{formField:l,values:n,setFieldValue:a});case 1:return o.a.createElement(Bu,{formField:l,setFieldValue:a,setActiveStep:t,activeStep:e,invoiceId:m,values:n});case 2:return o.a.createElement(Ku,null);default:return o.a.createElement("div",null,"Not Found")}}(i,n,s,c),o.a.createElement("div",{className:r.buttons},1!==i&&0!==i&&o.a.createElement(K.a,{onClick:f,className:r.button},"VOLTAR"),o.a.createElement("div",{className:r.wrapper},1!==i&&o.a.createElement(K.a,{disabled:a,type:"submit",variant:"contained",color:"primary",className:r.button},b?"PAGAR":"PR\xd3XIMO"),a&&o.a.createElement(Lt.a,{size:24,className:r.buttonProgress}))))})))};const wp=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Ap=e=>{let{open:a,onClose:t,Invoice:l,contactId:r,initialValues:i,onSave:s}=e;const c=wp(),d=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{d.current=!1},[]);return o.a.createElement("div",{className:c.root},o.a.createElement(H.a,{open:a,onClose:()=>{t()},maxWidth:"md",scroll:"paper"},o.a.createElement(G.a,{dividers:!0},o.a.createElement(kp,{Invoice:l}))))};const Tp=(e,a)=>{if("LOAD_INVOICES"===a.type){const t=a.payload.invoices||a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_INVOICES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_INVOICE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Op=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var Sp=()=>{const e=Op(),{user:a}=Object(n.useContext)(Ca),[t,l]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d]=Object(n.useState)(""),[m,p]=Object(n.useReducer)(Tp,[]),[g,b]=o.a.useState([]),[E,h]=Object(n.useState)(null),[f,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(!1);Object(n.useEffect)(()=>{if(a&&a.company){const e=ya()(),t=ya()(a.company.dueDate),n=e.isAfter(t);x(n)}},[a]);Object(n.useEffect)(()=>{p({type:"RESET"}),i(1)},[d]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{(async()=>{try{console.log("Buscando faturas...",{searchParam:d,pageNumber:r});const{data:e}=await u.get("/invoices/all",{params:{searchParam:d,pageNumber:r}});console.log("Dados recebidos:",e),p({type:"LOAD_INVOICES",payload:e}),console.log("Dispatch realizado com payload:",e),c(e.hasMore),l(!1)}catch(e){console.error("Erro ao buscar faturas:",e),ga(e),l(!1)}})()},500);return()=>clearTimeout(e)},[d,r]);const C=e=>{const a=ya()(ya()()).format("DD/MM/yyyy"),t=ya()(e.dueDate).format("DD/MM/yyyy");var n=ya()(t,"DD/MM/yyyy").diff(ya()(a,"DD/MM/yyyy"));if(ya.a.duration(n).asDays()<0&&"paid"!==e.status)return{backgroundColor:"#ffbcbc9c"}},k=e=>{const a=ya()(ya()()).format("DD/MM/yyyy"),t=ya()(e.dueDate).format("DD/MM/yyyy");var n=ya()(t,"DD/MM/yyyy").diff(ya()(a,"DD/MM/yyyy")),o=ya.a.duration(n).asDays();return"paid"===e.status?"Pago":o<0?"Vencido":"Em Aberto"};return o.a.createElement(yo,null,o.a.createElement(Ap,{open:f,onClose:()=>{h(null),v(!1)},"aria-labelledby":"form-dialog-title",Invoice:g,contactId:E}),o.a.createElement(km,null,o.a.createElement(Tm,null,"Faturas (",m.length,")"),y&&o.a.createElement("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"4px",marginTop:"10px",border:"1px solid #ef9a9a"}},o.a.createElement("strong",null,"Aten\xe7\xe3o:")," Sua assinatura est\xe1 vencida. Entre em contato com o suporte para regularizar sua situa\xe7\xe3o.")),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},"Detalhes"),o.a.createElement(ko.a,{align:"center"},"Usu\xe1rios"),o.a.createElement(ko.a,{align:"center"},"Conex\xf5es"),o.a.createElement(ko.a,{align:"center"},"Filas"),o.a.createElement(ko.a,{align:"center"},"Valor"),o.a.createElement(ko.a,{align:"center"},"Data Venc."),o.a.createElement(ko.a,{align:"center"},"Status"),o.a.createElement(ko.a,{align:"center"},"A\xe7\xe3o"))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,m.map(e=>o.a.createElement(To.a,{style:C(e),key:e.id},o.a.createElement(ko.a,{align:"center"},e.detail),o.a.createElement(ko.a,{align:"center"},e.users),o.a.createElement(ko.a,{align:"center"},e.connections),o.a.createElement(ko.a,{align:"center"},e.queues),o.a.createElement(ko.a,{style:{fontWeight:"bold"},align:"center"},e.value.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),o.a.createElement(ko.a,{align:"center"},ya()(e.dueDate).format("DD/MM/YYYY")),o.a.createElement(ko.a,{style:{fontWeight:"bold"},align:"center"},k(e)),o.a.createElement(ko.a,{align:"center"},"Pago"!==k(e)?o.a.createElement(K.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(e=>{b(e),h(null),v(!0)})(e)},"PAGAR"):o.a.createElement(K.a,{size:"small",variant:"outlined"},"PAGO")))),t&&o.a.createElement(kd,{columns:4}))))))},jp=t(70),Ip=t.n(jp),Mp=t(836),Np=t.n(Mp);const Rp=w(),Dp=(e,a)=>{if("LOAD_USERS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_USERS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_USER"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Pp=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(2),overflowY:"scroll"},e.scrollbarStyles),userAvatar:{width:e.spacing(6),height:e.spacing(6)},avatarDiv:{display:"flex",alignItems:"center",justifyContent:"center"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:e.spacing(3)},loadingText:{marginLeft:e.spacing(2)}}));var Fp=()=>{const e=Pp(),a=Object(T.useHistory)(),[t,l]=Object(n.useState)(!1),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(null),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(""),[k,w]=Object(n.useReducer)(Dp,[]),{user:A,socket:S}=Object(n.useContext)(Ca),{profileImage:j}=A,I=A.companyId,[M,N]=Object(n.useState)(!1),{getPlanCompany:D}=Ia();Object(n.useEffect)(()=>{!async function(){if(I)try{l(!0);const e=await D(void 0,I);N(e.plan.useInternalChat)}catch(e){console.error("Error fetching plan:",e)}finally{l(!1)}}()},[I]),Object(n.useEffect)(()=>{w({type:"RESET"}),c(1)},[x]),Object(n.useEffect)(()=>{l(!0);(async()=>{try{const{data:e}=await u.get("/users/",{params:{searchParam:x,pageNumber:s}});w({type:"LOAD_USERS",payload:e.users}),m(e.hasMore)}catch(e){ga(e)}finally{l(!1),i(!1)}})()},[x,s]),Object(n.useEffect)(()=>{if(A){const e=A.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||w({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&w({type:"DELETE_USER",payload:+e.userId})};return S.on("company-".concat(e,"-user"),a),()=>{S.off("company-".concat(e,"-user"),a)}}},[S,A]);return o.a.createElement(yo,null,o.a.createElement(Si,{title:b&&"".concat(ma.a.t("users.confirmationModal.deleteTitle")," ").concat(b.name,"?"),open:v,onClose:()=>y(!1),onConfirm:()=>(async e=>{try{await u.delete("/users/".concat(e)),O.b.success(ma.a.t("users.toasts.deleted"))}catch(a){ga(a)}E(null),C(""),c(1)})(b.id)},ma.a.t("users.confirmationModal.deleteMessage")),o.a.createElement(mn,{open:h,onClose:()=>{g(null),f(!1)},"aria-labelledby":"form-dialog-title",userId:p&&p.id}),"user"===A.profile?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("users.title")," (",k.length,")"),o.a.createElement(Am,null,o.a.createElement(Ft.a,{placeholder:ma.a.t("contacts.searchPlaceholder"),type:"search",value:x,onChange:e=>{C(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{g(null),f(!0)}},ma.a.t("users.buttons.add")),"admin"===A.profile&&M&&o.a.createElement(K.a,{variant:"contained",color:"secondary",onClick:async()=>{if(window.confirm("Tem certeza que deseja gerar chats para todos os usu\xe1rios existentes? Isso pode demorar e criar muitos chats.")){l(!0);try{await u.post("/chats/backfill"),O.b.success("Chats gerados com sucesso!")}catch(e){ga(e)}finally{l(!1)}}},disabled:t},"Gerar Chats Existentes"))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&(i(!0),c(e=>e+1))}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("users.table.ID")),o.a.createElement(ko.a,{align:"center"},ma.a.t("users.table.status")),o.a.createElement(ko.a,{align:"center"},"Avatar"),o.a.createElement(ko.a,{align:"center"},ma.a.t("users.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("users.table.email")),o.a.createElement(ko.a,{align:"center"},ma.a.t("users.table.profile")),o.a.createElement(ko.a,{align:"center"},ma.a.t("users.table.startWork")),o.a.createElement(ko.a,{align:"center"},ma.a.t("users.table.endWork")),o.a.createElement(ko.a,{align:"center"},ma.a.t("users.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,k.map(t=>o.a.createElement(To.a,{key:t.id},o.a.createElement(ko.a,{align:"center"},t.id),o.a.createElement(ko.a,{align:"center"},o.a.createElement(fr,{user:t})),o.a.createElement(ko.a,{align:"center"},o.a.createElement("div",{className:e.avatarDiv},(a=>{if(a.id===A.id){const t=localStorage.getItem("profileImage")||a.profileImage,n=t?"".concat(Rp,"/public/company").concat(a.companyId,"/user/").concat(t):Ut.a;return o.a.createElement(R.a,{src:n,alt:a.name,className:e.userAvatar,onError:e=>{e.target.src=Ut.a}})}return o.a.createElement(R.a,{src:(t=a,t.profileImage?"".concat(Rp,"/public/company").concat(t.companyId,"/user/").concat(t.profileImage):Ut.a),alt:a.name,className:e.userAvatar});var t})(t))),o.a.createElement(ko.a,{align:"center"},t.name),o.a.createElement(ko.a,{align:"center"},t.email),o.a.createElement(ko.a,{align:"center"},t.profile),o.a.createElement(ko.a,{align:"center"},t.startWork),o.a.createElement(ko.a,{align:"center"},t.endWork),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(async e=>{try{l(!0);const{data:t}=await u.post("/chats",{users:[{id:A.id},{id:e.id}],isGroup:!1,title:e.name});O.b.success("Chat criado com sucesso!"),a.push("/chats/".concat(t.uuid))}catch(t){ga(t)}finally{l(!1)}})(t),disabled:!M},o.a.createElement(Np.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{g(e),f(!0)})(t)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{size:"small",onClick:e=>{y(!0),E(t)}},o.a.createElement(Rl.a,null))))),r&&o.a.createElement(To.a,null,o.a.createElement(ko.a,{colSpan:9,align:"center"},o.a.createElement(Lt.a,null)))))),t&&!r&&o.a.createElement("div",{className:e.loadingContainer},o.a.createElement(Lt.a,null),o.a.createElement("span",{className:e.loadingText},ma.a.t("loading"))))))},Lp=t(837),Wp=t.n(Lp),Bp=t(38),qp=t(1595);const zp=Object(I.a)(e=>({dialogContent:{minWidth:400,paddingTop:e.spacing(2)},confirmationInput:{marginTop:e.spacing(2),marginBottom:e.spacing(1)},warningText:{marginBottom:e.spacing(2),fontWeight:600,color:e.palette.error.main},alert:{marginBottom:e.spacing(2)}}));var Up=e=>{let{open:a,onClose:t,onConfirm:l,deleteType:r,selectedCount:i,totalCount:s}=e;const c=zp(),[d,m]=Object(n.useState)(""),[u,p]=Object(n.useState)(""),g="all"===r?"EXCLUIR TODOS":"EXCLUIR SELECIONADOS",b=d===g,E=()=>{m(""),p(""),t()};return o.a.createElement(H.a,{open:a,onClose:E,"aria-labelledby":"delete-confirm-dialog",maxWidth:"sm",fullWidth:!0},o.a.createElement(Q.a,{id:"delete-confirm-dialog"},"all"===r?"Excluir TODOS os ".concat(s," contatos?"):"Excluir ".concat(i," contatos selecionados?")),o.a.createElement(G.a,{className:c.dialogContent},"all"===r?o.a.createElement(o.a.Fragment,null,o.a.createElement(qp.a,{severity:"error",className:c.alert},"\u26a0\ufe0f ATEN\xc7\xc3O: Esta a\xe7\xe3o ir\xe1 excluir TODOS os ",s," contatos da empresa permanentemente!"),o.a.createElement(z.a,{variant:"body2"},"Esta opera\xe7\xe3o n\xe3o pode ser desfeita. Todos os contatos, seus hist\xf3ricos de mensagens, tags e relacionamentos ser\xe3o perdidos definitivamente.")):o.a.createElement(o.a.Fragment,null,o.a.createElement(qp.a,{severity:"warning",className:c.alert},"Esta a\xe7\xe3o ir\xe1 excluir ",i," contatos selecionados permanentemente."),o.a.createElement(z.a,{variant:"body2"},"Os contatos selecionados e seus dados relacionados ser\xe3o exclu\xeddos definitivamente.")),o.a.createElement(z.a,{variant:"body1",className:c.warningText},"Para confirmar, digite exatamente: ",o.a.createElement("strong",null,g)),o.a.createElement(Ft.a,{fullWidth:!0,label:"Confirma\xe7\xe3o",value:d,onChange:e=>{m(e.target.value),p("")},placeholder:g,className:c.confirmationInput,error:!!u,helperText:u,autoFocus:!0})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:E,color:"default"},"Cancelar"),o.a.createElement(K.a,{onClick:()=>{b?(m(""),p(""),l()):p("Digite exatamente: ".concat(g))},color:"secondary",variant:"contained",disabled:!b},"all"===r?"Excluir Todos":"Excluir Selecionados")))},Vp=t(1502),Hp=t(1503),Qp=t(1504),Gp=t(1505);const Kp=Object(I.a)(e=>({multFieldLine:{display:"flex",marginTop:8},uploadInput:{display:"none"},btns:{margin:15},label:{padding:18,width:"100%",textTransform:"uppercase",display:"block",marginTop:10,border:"solid 2px grey",textAlign:"center",cursor:"pointer",borderRadius:8}}));var _p=e=>{let{isOpen:a,handleClose:t,selectedTags:l,hideNum:r,userProfile:i}=e;const s=Kp(),{user:c}=Object(n.useContext)(Ca),d=Object(Um.useHistory)(),m={name:"",number:"",error:""},[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)(""),[h,f]=Object(n.useState)(m),v=()=>{g([]),E(""),f(m),t()};Object(n.useEffect)(()=>{console.log(null===p||void 0===p?void 0:p.length),(null===p||void 0===p?void 0:p.length)&&p.map(async(e,a)=>{setTimeout(async()=>{try{a>=(null===p||void 0===p?void 0:p.length)-1&&(E("importa\xe7\xe3o conclu\xedda com exito a importa\xe7\xe3o"),f(m),setTimeout(()=>{v()},15e3)),a%5===0&&E("importa\xe7\xe3o em andamento ".concat(a," de ").concat(null===p||void 0===p?void 0:p.length," n\xe3o saia desta tela at\xe9 concluir a importa\xe7\xe3o")),console.log("antes do import: ",e[0]),await u.post("/contactsImport",{name:e.name,number:e.number.toString(),email:e.email,tags:e.tags,carteira:e.carteira}),f({name:e.name,number:e.number,error:"success"})}catch(t){f({name:e.name,number:e.number,error:t})}},330*a)})},[p]);const y=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const a=[];let t=1;if(e)a.push({name:"Nome Contato",number:"5599999999999",email:"email-contato@email.com",tags:"tag1, tag2",carteira:"funcionario-empresa@email.com"});else for(;0!==t;){const{data:e}=await u.get("/contacts/",{params:{searchParam:"",pageNumber:t,contactTag:JSON.stringify(l)}});console.log(e),e.contacts.forEach(e=>{var t;const n=null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.map(e=>null===e||void 0===e?void 0:e.name).join(", "),o=Object(S.a)(Object(S.a)({},e),{},{tags:n});a.push(o)});t++,t>(null===e||void 0===e?void 0:e.count)/20&&(t=0)}const n=a.map(e=>({name:e.name,number:r&&"user"===i?e.isGroup?e.number:e.number.slice(0,-6)+"**-**"+e.number.slice(-2):e.number,email:e.email,tags:e.tags,carteira:e.carteira}));let o=ho.b.book_new(),s=ho.b.json_to_sheet(n);ho.b.book_append_sheet(o,s,"Contatos"),ho.c(o,"backup_contatos.xlsx")};return o.a.createElement(H.a,{fullWidth:!0,open:a,onClose:v},o.a.createElement(Q.a,null,ma.a.t("Exportar / Importar contatos")),o.a.createElement("div",null,o.a.createElement(tn.a,{style:{padding:"0px 10px 10px"}},o.a.createElement(ja,{role:c.profile,perform:"contacts-page:deleteContact",yes:()=>o.a.createElement("div",{className:s.multFieldLine},o.a.createElement(K.a,{fullWidth:!0,size:"small",color:"primary",variant:"contained",onClick:()=>y(!1)},ma.a.t("contactImportWpModal.title")))}),o.a.createElement("div",{className:s.multFieldLine},o.a.createElement(K.a,{fullWidth:!0,size:"small",color:"primary",variant:"contained",onClick:()=>y(!0)},ma.a.t("contactImportWpModal.buttons.downloadModel"))),o.a.createElement("div",{className:s.multFieldLine},o.a.createElement(K.a,{fullWidth:!0,size:"small",color:"primary",variant:"contained",onClick:()=>(async()=>{try{d.push("/contacts/import")}catch(e){ga(e)}})()},ma.a.t("contactImportWpModal.buttons.import"))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:t,color:"primary"},ma.a.t("contactImportWpModal.buttons.closed"))))};const Yp=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("BULK_DELETE_CONTACTS"===a.type){const t=a.payload;return e.filter(e=>!t.includes(e.id))}if("DELETE_ALL_CONTACTS"===a.type){const{excludeIds:t=[]}=a.payload;return e.filter(e=>t.includes(e.id))}return"RESET"===a.type?[]:"SET_TOTAL_COUNT"===a.type?e:void 0},Jp=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),avatarCell:{width:"60px",padding:e.spacing(1)},idCell:{width:"80px"},checkboxCell:{width:"48px",padding:e.spacing(0,1)},clickableAvatar:{cursor:"pointer",transition:"transform 0.2s ease-in-out","&:hover":{transform:"scale(1.1)"}},imageDialog:{"& .MuiDialog-paper":{maxWidth:"500px",maxHeight:"500px"}},dialogTitle:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:e.spacing(1)},profileImage:{width:"100%",height:"auto",maxWidth:"400px",maxHeight:"400px",objectFit:"contain"},toolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),backgroundColor:Object(Bp.a)(e.palette.primary.main,.12),minHeight:48},toolbarHighlight:{backgroundColor:Object(Bp.a)(e.palette.primary.main,.25)},toolbarTitle:{flex:"1 1 100%",fontWeight:600},bulkActions:{display:"flex",gap:e.spacing(1)}}));var Xp=()=>{const e=Jp(),a=Object(T.useHistory)(),{user:t,socket:l}=Object(n.useContext)(Ca),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(Yp,[]),[b,E]=Object(n.useState)(null),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(0),[x,C]=Object(n.useState)(new Set),[k,w]=Object(n.useState)(!1),[A,S]=Object(n.useState)(!1),[j,I]=Object(n.useState)(null),[M,N]=Object(n.useState)(null),[D,P]=Object(n.useState)(null),[L,W]=Object(n.useState)(null),[B,_]=Object(n.useState)(!1),[Y,J]=Object(n.useState)(!1),[X,Z]=Object(n.useState)(!1),[$,ee]=Object(n.useState)(!1),[ae,te]=Object(n.useState)(!1),[ne,oe]=Object(n.useState)({}),[le,re]=Object(n.useState)(!1),[ie,se]=Object(n.useState)(""),ce=Object(n.useRef)(null),[me,ue]=Object(n.useState)([]),{setCurrentTicket:pe}=Object(n.useContext)(gt),[ge,be]=Object(n.useState)(!1),[Ee,he]=Object(n.useState)(""),[fe,ve]=Object(n.useState)(""),{getAll:ye}=Da(),[xe,Ce]=Object(n.useState)(!1),[ke,we]=Object(n.useState)(!1);Object(n.useEffect)(()=>{!async function(){const e=await ye(t.companyId);for(const[a,t]of Object.entries(e))"enableLGPD"===a&&we("enabled"===t),"lgpdHideNumber"===a&&Ce("enabled"===t)}()},[]);Object(n.useEffect)(()=>{C(new Set),w(!1)},[d,me]);const Ae=()=>{if(k)se("all");else{if(!(x.size>0))return void O.b.warning("Selecione pelo menos um contato para excluir");se("selected")}re(!0)},Te=()=>{be(!1),he(""),ve("")},Oe=async()=>{try{const e=new FormData;e.append("file",ce.current.files[0]),await u.request({url:"/contacts/upload",method:"POST",data:e}),a.go(0)}catch(e){ga(e)}};Object(n.useEffect)(()=>{g({type:"RESET"}),c(1)},[d,me]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/contacts/",{params:{searchParam:d,pageNumber:s,contactTag:JSON.stringify(me)}});g({type:"LOAD_CONTACTS",payload:e.contacts}),ee(e.hasMore),y(e.count),i(!1)}catch(e){ga(e)}})()},500);return()=>clearTimeout(e)},[d,s,me]),Object(n.useEffect)(()=>{const e=t.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||g({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&(g({type:"DELETE_CONTACT",payload:+e.contactId}),y(e=>Math.max(0,e-1))),"bulk-delete"===e.action&&(g({type:"BULK_DELETE_CONTACTS",payload:e.contactIds}),y(a=>Math.max(0,a-e.contactIds.length))),"delete-all"===e.action&&(g({type:"DELETE_ALL_CONTACTS",payload:{excludeIds:e.excludeIds}}),y(e.excludeIds.length))};return l.on("company-".concat(e,"-contact"),a),()=>{l.off("company-".concat(e,"-contact"),a)}},[l]);const Se=e=>{te(!1),void 0!==e&&void 0!==e.uuid&&((e=>{const a=Object(Ka.a)(),{id:t,uuid:n}=e;pe({id:t,uuid:n,code:a})})(e),a.push("/tickets/".concat(e.uuid)))},je=async()=>{try{await u.post("/contacts/import"),a.go(0),N(!1)}catch(e){ga(e),N(!1)}},Ie=k?v:x.size,Me=k||x.size>0,Ne=(()=>{if(k)return{checked:!0,indeterminate:!1};const e=p.map(e=>e.id),a=e.filter(e=>x.has(e)).length;return 0===a?{checked:!1,indeterminate:!1}:a===e.length?{checked:!0,indeterminate:!1}:{checked:!1,indeterminate:!0}})();return o.a.createElement(yo,{className:e.mainContainer},o.a.createElement(nr,{modalOpen:ae,initialContact:ne,onClose:e=>{Se(e)}}),o.a.createElement(Ql,{open:h,onClose:()=>{E(null),f(!1)},"aria-labelledby":"form-dialog-title",contactId:b}),o.a.createElement(Up,{open:le,onClose:()=>re(!1),onConfirm:async()=>{try{if("all"===ie)await u.delete("/contacts/all",{data:{confirmation:"DELETE_ALL_CONTACTS",excludeIds:[]}}),O.b.success("Todos os ".concat(v," contatos foram exclu\xeddos"));else{const e=Array.from(x);await u.post("/contacts/bulk-delete",{contactIds:e}),O.b.success("".concat(e.length," contatos exclu\xeddos com sucesso"))}C(new Set),w(!1),m(""),c(1)}catch(e){ga(e)}finally{re(!1),se("")}},deleteType:ie,selectedCount:x.size,totalCount:v}),o.a.createElement(H.a,{open:ge,onClose:Te,className:e.imageDialog,maxWidth:"md"},o.a.createElement(Q.a,{className:e.dialogTitle},o.a.createElement("span",null,"Foto de Perfil - ",fe),o.a.createElement(F.a,{onClick:Te,size:"small"},o.a.createElement(Bn.a,null))),o.a.createElement(G.a,null,Ee?o.a.createElement("img",{src:Ee,alt:"Foto de perfil de ".concat(fe),className:e.profileImage,onError:e=>{e.target.style.display="none"}}):o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",color:"#666"}},"Imagem n\xe3o dispon\xedvel"))),o.a.createElement(Si,{title:j?"".concat(ma.a.t("contacts.confirmationModal.deleteTitle")," ").concat(j.name,"?"):D?"Bloquear Contato ".concat(D.name,"?"):L?"Desbloquear Contato ".concat(L.name,"?"):M?ma.a.t("contacts.confirmationModal.importTitlte"):ma.a.t("contactListItems.confirmationModal.importTitlte"),open:B,onClose:_,onConfirm:j?()=>(async e=>{try{await u.delete("/contacts/".concat(e)),O.b.success(ma.a.t("contacts.toasts.deleted"))}catch(a){ga(a)}I(null),m(""),c(1)})(j.id):D?()=>(async e=>{try{await u.put("/contacts/block/".concat(e),{active:!1}),O.b.success("Contato bloqueado")}catch(a){ga(a)}I(null),m(""),c(1),P(null)})(D.id):L?()=>(async e=>{try{await u.put("/contacts/block/".concat(e),{active:!0}),O.b.success("Contato desbloqueado")}catch(a){ga(a)}I(null),m(""),c(1),W(null)})(L.id):M?je:Oe},Y?ma.a.t("contacts.confirmationModal.exportContact"):j?ma.a.t("contacts.confirmationModal.deleteMessage"):D?ma.a.t("contacts.confirmationModal.blockContact"):L?ma.a.t("contacts.confirmationModal.unblockContact"):M?ma.a.t("contacts.confirmationModal.importMessage"):ma.a.t("contactListItems.confirmationModal.importMessage")),o.a.createElement(Si,{title:ma.a.t("contacts.confirmationModal.importChat"),open:X,onClose:Z,onConfirm:e=>(async()=>{try{await u.post("/contacts/import/chats"),a.go(0)}catch(e){ga(e)}})()},ma.a.t("contacts.confirmationModal.wantImport")),o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("contacts.title")," (",v,")",Me&&o.a.createElement("span",{style:{color:"#f50057",marginLeft:8}},"- ",Ie," selecionado(s) ",k&&"(TODOS)")),o.a.createElement(Am,null,o.a.createElement(Vr,{onFiltered:e=>{const a=e.map(e=>e.id);ue(a)}}),o.a.createElement(Ft.a,{placeholder:ma.a.t("contacts.searchPlaceholder"),type:"search",value:d,onChange:e=>{m(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{color:"secondary"}))}}),Me&&o.a.createElement("div",{className:e.bulkActions},o.a.createElement(de.a,{title:k?"Excluir todos os contatos":"Excluir contatos selecionados"},o.a.createElement(K.a,{variant:"contained",color:"secondary",startIcon:o.a.createElement(Rl.a,null),onClick:Ae},k?"Excluir Todos (".concat(v,")"):x.size>0?"Excluir Selecionados (".concat(x.size,")"):"Excluir"))),o.a.createElement(cm.a,{variant:"popover",popupId:"demo-popup-menu"},e=>o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,Object.assign({variant:"contained",color:"primary"},Object(sm.bindTrigger)(e)),ma.a.t("contacts.menu.importexport"),o.a.createElement(Vp.a,null)),o.a.createElement(U.a,Object(sm.bindMenu)(e),o.a.createElement(V.a,{onClick:()=>{_(!0),N(!0),e.close()}},o.a.createElement(Hp.a,{fontSize:"small",color:"primary",style:{marginRight:10}}),ma.a.t("contacts.menu.importYourPhone")),o.a.createElement(V.a,{onClick:()=>{S(!0)}},o.a.createElement(Qp.a,{fontSize:"small",color:"primary",style:{marginRight:10}}),ma.a.t("contacts.menu.importToExcel")),o.a.createElement(ja,{role:t.profile,perform:"contacts-page:deleteAllContacts",yes:()=>o.a.createElement(V.a,{onClick:()=>{se("all"),re(!0),e.close()},style:{color:"#f44336"}},o.a.createElement(Gp.a,{fontSize:"small",style:{marginRight:10,color:"#f44336"}}),"Excluir Todos os Contatos")})))),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{E(null),f(!0)}},ma.a.t("contacts.buttons.add")))),A&&o.a.createElement(_p,{isOpen:A,handleClose:()=>S(!1),selectedTags:me,hideNum:xe,userProfile:t.profile}),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!$||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},o.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{_(!0)},ref:ce}),Me&&o.a.createElement(q.a,{className:"".concat(e.toolbar," ").concat(e.toolbarHighlight)},o.a.createElement(z.a,{className:e.toolbarTitle,color:"inherit",variant:"subtitle1"},Ie," contato(s) selecionado(s) ",k&&"(TODOS OS CONTATOS)"),o.a.createElement("div",{className:e.bulkActions},o.a.createElement(de.a,{title:"Cancelar sele\xe7\xe3o"},o.a.createElement(K.a,{size:"small",onClick:()=>{C(new Set),w(!1)}},"Cancelar")),o.a.createElement(de.a,{title:k?"Excluir todos os contatos":"Excluir selecionados"},o.a.createElement(F.a,{color:"inherit",onClick:Ae},o.a.createElement(Rl.a,null))))),o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{className:e.checkboxCell},o.a.createElement(qr.a,{indeterminate:Ne.indeterminate,checked:Ne.checked,onChange:()=>{if(k)C(new Set),w(!1);else{const e=p.map(e=>e.id);e.every(e=>x.has(e))&&x.size===e.length?(w(!0),C(new Set)):(C(new Set(e)),w(!1))}},disabled:0===p.length,inputProps:{"aria-label":"Selecionar todos os contatos"}})),o.a.createElement(ko.a,{className:e.idCell},"ID"),o.a.createElement(ko.a,{className:e.avatarCell,align:"center"},"Foto"),o.a.createElement(ko.a,null,ma.a.t("contacts.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("contacts.table.whatsapp")),o.a.createElement(ko.a,{align:"center"},ma.a.t("contacts.table.email")),o.a.createElement(ko.a,{align:"center"},"Status"),o.a.createElement(ko.a,{align:"center"},ma.a.t("contacts.table.wallet")),o.a.createElement(ko.a,{align:"center"},ma.a.t("contacts.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,p.map(a=>{var n,l,r;const i=k||x.has(a.id);return o.a.createElement(To.a,{key:a.id,selected:i},o.a.createElement(ko.a,{className:e.checkboxCell},o.a.createElement(qr.a,{checked:i,onChange:()=>(e=>{const a=new Set(x);a.has(e)?a.delete(e):a.add(e),C(a),w(!1)})(a.id),disabled:k,inputProps:{"aria-label":"Selecionar contato ".concat(a.name)}})),o.a.createElement(ko.a,{className:e.idCell},a.id),o.a.createElement(ko.a,{className:e.avatarCell,align:"center"},o.a.createElement(R.a,{src:"".concat(null===a||void 0===a?void 0:a.urlPicture),className:e.clickableAvatar,onClick:()=>{return e=null===a||void 0===a?void 0:a.urlPicture,t=a.name,he(e),ve(t),void be(!0);var e,t}})),o.a.createElement(ko.a,null,a.name),o.a.createElement(ko.a,{align:"center"},ke&&xe&&"user"===t.profile?a.isGroup?a.number:null===gi(null===a||void 0===a?void 0:a.number)?a.number.slice(0,-6)+"**-**"+(null===a||void 0===a?void 0:a.number.slice(-2)):(null===(n=gi(null===a||void 0===a?void 0:a.number))||void 0===n?void 0:n.slice(0,-6))+"**-**"+(null===a||void 0===a||null===(l=a.number)||void 0===l?void 0:l.slice(-2)):a.isGroup?a.number:gi(null===a||void 0===a?void 0:a.number)),o.a.createElement(ko.a,{align:"center"},a.email),o.a.createElement(ko.a,{align:"center"},a.active?o.a.createElement(Ja.a,{style:{color:"green"},fontSize:"small"}):o.a.createElement(Wp.a,{style:{color:"red"},fontSize:"small"})),o.a.createElement(ko.a,{align:"center"},a.contactWallets&&a.contactWallets.length>0?(null===(r=a.contactWallets[0].wallet)||void 0===r?void 0:r.name)||"Usu\xe1rio n\xe3o encontrado":"N\xe3o atribu\xeddo"),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",disabled:!a.active,onClick:()=>{oe(a),te(!0)}},"whatsapp"===a.channel&&o.a.createElement(_l.a,{style:{color:"green"}}),"instagram"===a.channel&&o.a.createElement(Kl.a,{style:{color:"purple"}}),"facebook"===a.channel&&o.a.createElement(Gl.a,{style:{color:"blue"}})),o.a.createElement(F.a,{size:"small",onClick:()=>{return e=a.id,E(e),void f(!0);var e}},o.a.createElement(Ip.a,{color:"secondary"})),o.a.createElement(F.a,{size:"small",onClick:a.active?()=>{_(!0),P(a)}:()=>{_(!0),W(a)}},a.active?o.a.createElement(di.a,{color:"secondary"}):o.a.createElement(Ja.a,{color:"secondary"})),o.a.createElement(ja,{role:t.profile,perform:"contacts-page:deleteContact",yes:()=>o.a.createElement(F.a,{size:"small",onClick:e=>{_(!0),I(a)}},o.a.createElement(Rl.a,{color:"secondary"}))})))}),r&&o.a.createElement(kd,{avatar:!0,columns:9}))))))},Zp=t(892),$p=t(1252),eg=t(838),ag=t.n(eg);function tg(){const{innerWidth:e,innerHeight:a}=window;return{width:e,height:a}}const ng=$t()(e=>({xlsTable:{width:"100%"},tableContainer:Object(S.a)({flex:1,padding:1,overflowX:"auto",overflowY:"scroll"},e.scrollbarStyles),actions:{padding:2,border:"1px solid #CCC",boxShadow:"1px 1px 5px #CCC",marginTop:2,display:"flex",justifyContent:"center"},importOptions:{padding:2,border:"1px solid #CCC",boxShadow:"1px 1px 5px #CCC",marginTop:2,marginBottom:2},error:{color:"red",marginTop:1},buttonImport:{marginRight:1},select:{minWidth:200},backButtonContainer:{textAlign:"center",marginTop:20}}));var og=()=>{const e=function(){const[e,a]=Object(n.useState)(tg());return Object(n.useEffect)(()=>{function e(){a(tg())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}(),[a,t]=Object(n.useState)(null),[l,r]=Object(n.useState)(null),i=ng(),s=Object(T.useHistory)(),[c,d]=Object(n.useState)([]),[m,p]=Object(n.useState)({}),[g,b]=Object(n.useState)({}),[E,h]=Object(n.useState)(!1),[f,v]=Object(n.useState)({}),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)(null),[w,A]=Object(n.useState)(0),[j,I]=Object(n.useState)(0),[M,N]=Object(n.useState)(!1),[R,D]=Object(n.useState)(!1),[P,F]=Object(n.useState)({}),[L,W]=Object(n.useState)(!1),B=[{id:"name",label:"Nome",required:!0},{id:"number",label:"N\xfamero",required:!0},{id:"email",label:"E-mail",required:!1},{id:"tags",label:"Tags",required:!1},{id:"carteira",label:"Carteira",required:!1}];Object(n.useEffect)(()=>{d(B)},[]);const q=e=>{const a=e.target.value,t=e.target.name;if(m[t]){const e=m[t];b(a=>{const t=Object(S.a)({},a);return delete t[e],t})}if(""===a)return p(e=>{const a=Object(S.a)({},e);return delete a[t],a}),void v(e=>{const a=Object(S.a)({},e);return Object.keys(a).forEach(e=>{a[e]===t&&delete a[e]}),a});g[a]?ga("O campo ".concat(a," j\xe1 foi selecionado.")):(v(e=>Object(S.a)(Object(S.a)({},e),{},{[a]:t})),b(e=>Object(S.a)(Object(S.a)({},e),{},{[a]:t})),p(e=>Object(S.a)(Object(S.a)({},e),{},{[t]:a})))},z=()=>o.a.createElement(wo.a,{className:i.tableContainer,style:{height:.75*e.height}},o.a.createElement(xo.a,{stickyHeader:!0},o.a.createElement(Ao.a,{key:l.length},o.a.createElement(To.a,null,o.a.createElement(ko.a,null,o.a.createElement("input",{type:"checkbox",checked:Object.keys(P).length===a.length-1,onChange:e=>{const t={};if(e.target.checked)for(let n=1;n<a.length;n++)t[n]=!0;F(t)}})),l.map(e=>o.a.createElement(ko.a,{key:e.key},e.name))),o.a.createElement(To.a,null,o.a.createElement(ko.a,null),l.map(e=>o.a.createElement(ko.a,{key:e.key},(e=>o.a.createElement(Wt.a,{value:m[e.key],name:e.key,onChange:q},o.a.createElement(V.a,{value:""},"\xa0"),c.map(e=>o.a.createElement(V.a,{value:e.id},e.label))))(e))))),o.a.createElement(Co.a,null,a.map((e,a)=>o.a.createElement(To.a,{key:a},0!==a&&o.a.createElement(ko.a,null,o.a.createElement("input",{type:"checkbox",checked:!!P[a],onChange:()=>{F(e=>Object(S.a)(Object(S.a)({},e),{},{[a]:!e[a]}))}})),0!==a&&e.map((e,a)=>o.a.createElement(ko.a,{key:a},e))))))),{getRootProps:U,getInputProps:H}=Object(Zp.a)({onDrop:e=>{if(0===e.length)return;h(!0),x(!1),D(!1),N(!1);const a=e[0],n=new FileReader;n.onload=function(e){try{const a=e.target.result,n=Object(ho.a)(a),o=n.Sheets[n.SheetNames[0]],{rows:l,columns:i}=function(e){const a=ho.b.sheet_to_json(e,{header:1,defval:""}),t=ho.b.decode_range(e["!ref"]||"A1");return{rows:a,columns:Array.from({length:t.e.c+1},(e,a)=>({key:String(a),name:ho.b.encode_col(a)}))}}(o);t(l),r(i),h(!1)}catch(e){console.error(e),x(!0),h(!1)}},n.readAsArrayBuffer(a)},maxFiles:1,accept:{"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/csv":[".csv"],"text/plain":[".txt"]}});return o.a.createElement("div",{style:{alignContent:"center"}},R&&o.a.createElement("div",{style:{padding:"15px",margin:"15px auto",maxWidth:"500px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"}},o.a.createElement("h3",{style:{textAlign:"center"}},"Resultado da importa\xe7\xe3o"),o.a.createElement("ul",{style:{listStyle:"none",padding:"10px"}},o.a.createElement("li",{style:{padding:"8px",marginBottom:"5px",backgroundColor:w>0?"#d4edda":"#f8f9fa",borderRadius:"4px",color:w>0?"#155724":"#6c757d"}},"\u2705 ",w," contatos criados com sucesso"),o.a.createElement("li",{style:{padding:"8px",backgroundColor:j>0?"#fff3cd":"#f8f9fa",borderRadius:"4px",color:j>0?"#856404":"#6c757d"}},"\u26a0\ufe0f ",j," contatos ignorados (n\xfamero inv\xe1lido ou n\xe3o marcados para atualizar)")),o.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{D(!1),t(null),r(null),p({}),b({})}},"Importar mais contatos"))),E&&o.a.createElement("div",{style:{textAlign:"center",padding:"20px",margin:"20px auto",maxWidth:"500px"}},o.a.createElement(Lt.a,null),o.a.createElement("p",null,"Processando arquivo...")),y&&o.a.createElement("div",{style:{padding:"15px",margin:"15px auto",maxWidth:"500px",border:"1px solid #f5c6cb",borderRadius:"8px",backgroundColor:"#f8d7da",color:"#721c24",textAlign:"center"}},o.a.createElement("h3",null,"Arquivo inv\xe1lido!"),o.a.createElement("p",null,"O arquivo que voc\xea tentou importar n\xe3o \xe9 v\xe1lido. Por favor, tente novamente com um arquivo no formato correto."),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{x(!1),t(null),r(null)},style:{marginTop:"10px"}},"Tentar novamente")),!R&&!y&&a&&l?o.a.createElement("div",null,o.a.createElement("div",{className:i.importOptions},o.a.createElement($p.a,{row:!0,style:{width:"100%",display:"flex",justifyContent:"space-around"}},o.a.createElement(wr.a,{control:o.a.createElement(cl.a,{checked:L,onChange:e=>W(e.target.checked),color:"primary"}),label:"Validar contatos no WhatsApp"}))),z(),o.a.createElement("div",{className:i.actions},M&&o.a.createElement("div",null,"Importando... Aguarde"),o.a.createElement(K.a,{variant:"contained",color:"primary",disabled:M,className:i.buttonImport,onClick:()=>(async()=>{if(N(!0),A(0),I(0),console.log(f),!f.number)return ga("N\xe3o foi selecionado o campo de n\xfamero do contato"),void N(!1);if(!f.name)return ga("N\xe3o foi selecionado o campo de nome do contato"),void N(!1);if(0===Object.keys(P).length)return ga("Nenhum contato selecionado"),void N(!1);if((null===a||void 0===a?void 0:a.length)>1){let e=0,t=0;for(let n=1;n<a.length;n++)if(P[n]){const o=a[n],r={};for(let e=0;e<l.length;e++){const a=l[e],t=m[a.key];t&&("number"===t&&o[e]?r[t]=String(o[e]).trim():r[t]=o[e])}if(B.some(e=>e.required&&(!r[e.id]||""===r[e.id]))){t++;continue}r.number&&(r.number=r.number.toString().replace(/\D/g,""),!r.number.startsWith("55")&&r.number.length<=11&&(r.number="55".concat(r.number)));try{console.log("Enviando dados para importa\xe7\xe3o:",r);const a=await u.post("/contactsImport",Object(S.a)(Object(S.a)({},r),{},{validateContact:L?"true":"false"}));console.log("Resposta da API:",a),200===a.status?e++:t++}catch(C){console.error("Erro na importa\xe7\xe3o:",C),t++}}A(e),I(t),W(!1),F({}),D(!0),N(!1),e>0?0===t?O.b.success("Importa\xe7\xe3o realizada com sucesso! ".concat(e," contatos importados.")):O.b.warn("Importa\xe7\xe3o conclu\xedda: ".concat(e," contatos importados e ").concat(t," ignorados.")):O.b.error("Falha na importa\xe7\xe3o. Nenhum contato foi importado.")}})()},"Importar contatos"),o.a.createElement(K.a,{variant:"contained",color:"secondary",disabled:M,onClick:()=>{t(null),r(null)}},"Cancelar"),C&&o.a.createElement("div",{className:i.error},C))):!R&&!y&&!E&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",Object.assign({},U(),{className:"uploaderDrop",style:{borderRadius:20,maxWidth:500,margin:"20px auto",border:"3px dotted #ddd",padding:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:"#f9f9f9","&:hover":{backgroundColor:"#f0f0f0",borderColor:"#aaa"}}}),o.a.createElement("img",{src:ag.a,height:200,alt:"Upload"}),o.a.createElement("h5",null,"Clique ou arraste um arquivo Excel"),o.a.createElement("p",{style:{color:"#e74c3c",fontWeight:"bold",textAlign:"center"}},"* Formatos aceitos: xls, xlsx, csv, txt"),o.a.createElement("p",{style:{textAlign:"center",fontSize:"14px",marginTop:"10px",color:"#666"}},"Para importar contatos, voc\xea deve ter pelo menos as colunas de nome e n\xfamero de telefone.")),o.a.createElement("input",H()),o.a.createElement("div",{className:i.backButtonContainer},o.a.createElement(K.a,{variant:"contained",color:"secondary",disabled:M,onClick:async()=>{try{s.push("/contacts")}catch(e){ga(e)}}},"Voltar"))))};const lg=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:1,borderRadius:0,overflowY:"scroll",padding:1},e.scrollbarStylesSoftBig)}));var rg=()=>{const e=lg();return o.a.createElement(yo,{className:e.mainContainer},o.a.createElement(km,null,o.a.createElement(Tm,null,"Importar contatos de arquivo")),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(og,null)))},ig=t(1507),sg=t(1508),cg=t(1506);const dg=w(),mg=Object(I.a)(e=>({main:{display:"flex",justifyContent:"space-between"},container:Object(S.a)({display:"flex",flexWrap:"wrap",overflowY:"scroll"},e.scrollbarStyles),cardHeader:{width:"380px",height:"78px",padding:10,backgroundColor:"#DCDCDC"},cardHeaderPending:{width:"380px",height:"78px",padding:10,backgroundColor:"#C0C0C0"},card:Object(S.a)(Object(S.a)({height:"300px",width:"380px",margin:"3px",borderRadius:5,flex:1,maxHeight:"100%",overflowY:"scroll"},e.scrollbarStyles),{},{borderTop:"2px solid rgba(0, 0, 0, 0.12)"}),changeWarap:{width:"380px",padding:0,margin:0},pending:{color:cg.a[600],fontSize:"20px"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.6em"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",marginRight:"1px",color:So.a[400]},lastMessageTimeUnread:{justifySelf:"flex-end",textAlign:"right",position:"relative",color:"green",fontWeight:"bold",marginRight:"1px"},pending:{color:cg.a[600],fontSize:"20px"}}));var ug=()=>{const e=mg(),a=Object(T.useHistory)(),{user:t,socket:l}=Object(n.useContext)(Ca),[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(0),p=t.companyId,g=t.queues.map(e=>e.id),[b,E]=Object(n.useState)(g||[]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/usersMoments");console.log(e),i(e),c(!s)}catch(a){var e;500!==(null===(e=a.response)||void 0===e?void 0:e.status)?ga(a):O.b.error("".concat(ma.a.t("frontEndErrors.getUsers")))}})()},[]),Object(n.useEffect)(()=>{const e=t.companyId;console.log("socket painel");const a=e=>{"create"!==e.action&&"update"!==e.action&&"delete"!==e.action||(async()=>{try{const{data:e}=await u.get("/usersMoments");i(e),c(!s)}catch(a){var e;500!==(null===(e=a.response)||void 0===e?void 0:e.status)?ga(a):O.b.error("".concat(ma.a.t("frontEndErrors.getUsers")))}})()};return l.on("company-".concat(e,"-ticket"),a),l.on("company-".concat(e,"-appMessage"),a),()=>{l.off("company-".concat(e,"-ticket"),a),l.off("company-".concat(e,"-appMessage"),a)}},[l]);const h=Object(n.useMemo)(()=>{if(r&&r.length>0){return r.reduce((e,a)=>{const t=a.user;if(t){const n=e.findIndex(e=>e.user.id===t.id);-1===n?e.push({user:t,userTickets:[a]}):e[n].userTickets.push(a)}return e},[]).map((l,r)=>{var i,s;return o.a.createElement(Yt.a,{item:!0,key:r},o.a.createElement("div",{padding:20,className:e.main,key:r},o.a.createElement("div",{className:e.changeWarap},o.a.createElement(Gt.a,{elevation:3,className:e.cardHeader},o.a.createElement(vi.a,{style:{maxWidth:"380px",width:"100%"},avatar:o.a.createElement(R.a,{alt:"".concat(l.user.profileImage),src:l.user.profileImage?"".concat(dg,"/public/company").concat(p,"/user/").concat(l.user.profileImage):null}),title:o.a.createElement("span",null,(null===l||void 0===l||null===(i=l.user)||void 0===i?void 0:i.name)||"".concat(ma.a.t("momentsUser.pending"))," ",o.a.createElement("br",null),"".concat(ma.a.t("momentsUser.services")," ").concat(null===(s=l.userTickets)||void 0===s?void 0:s.length))})),o.a.createElement(Gt.a,{square:!0,elevation:1,className:e.card},l.userTickets.map(l=>{var r,i,s,c,d,m,u,p;return o.a.createElement(L.a,{style:{paddingTop:0},key:l.id},o.a.createElement(_.a,{dense:!0,button:!0},o.a.createElement(Y.a,null,o.a.createElement(R.a,{alt:"".concat(l.contact.urlPicture),src:"".concat(l.contact.urlPicture)})),o.a.createElement(J.a,{disableTypography:!0,primary:(null===l||void 0===l||null===(r=l.contact)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.length)>30?(null===l||void 0===l||null===(s=l.contact)||void 0===s?void 0:s.name.substring(0,25))+"...":null===l||void 0===l||null===(c=l.contact)||void 0===c?void 0:c.name,secondary:o.a.createElement(n.Fragment,null,o.a.createElement("div",null,o.a.createElement(z.a,{style:{display:"inline"},component:"span",variant:"body2"},"".concat((null===(d=l.lastMessage)||void 0===d?void 0:d.length)>30?String(l.lastMessage).substring(0,27)+"...":l.lastMessage))),o.a.createElement(N.a,{className:e.connectionTag},null===l||void 0===l||null===(m=l.whatsapp)||void 0===m?void 0:m.name),o.a.createElement(N.a,{style:{backgroundColor:(null===(u=l.queue)||void 0===u?void 0:u.color)||"#7c7c7c"},className:e.connectionTag},(null===(p=l.queue)||void 0===p?void 0:p.name.toUpperCase())||"".concat(ma.a.t("momentsUser.noqueue"))))}),o.a.createElement(z.a,{className:Number(l.unreadMessages)>0?e.lastMessageTimeUnread:e.lastMessageTime,component:"span",variant:"body2"},Object(Ha.a)(Object(Qa.a)(l.updatedAt),new Date)?o.a.createElement(o.a.Fragment,null,Object(Ba.a)(Object(Qa.a)(l.updatedAt),"HH:mm")):o.a.createElement(o.a.Fragment,null,Object(Ba.a)(Object(Qa.a)(l.updatedAt),"dd/MM/yyyy"))),("admin"===t.profile||l.userId===t.id)&&o.a.createElement(de.a,{title:"Acessar Ticket"},o.a.createElement(ig.a,{onClick:()=>a.push("/tickets/".concat(l.uuid)),fontSize:"small",style:{color:So.a[500],cursor:"pointer",marginRight:5,bottom:"-15px"}}))),o.a.createElement(W.a,{variant:"inset",component:"li"}))})))))})}return null},[s]),f=Object(n.useMemo)(()=>{if(r&&r.length>0){const a=r.filter(e=>!e.user);return o.a.createElement(Yt.a,{item:!0},o.a.createElement("div",{className:e.main},o.a.createElement("div",{padding:2,className:e.changeWarap},o.a.createElement(Gt.a,{elevation:3,className:e.cardHeaderPending},o.a.createElement(vi.a,{style:{maxWidth:"380px",width:"100%"},avatar:o.a.createElement(R.a,null),title:o.a.createElement("span",null,"".concat(ma.a.t("momentsUser.pending")),o.a.createElement(sg.a,{className:e.pending}),o.a.createElement("div",null,ma.a.t("momentsUser.services")," ",null===a||void 0===a?void 0:a.length))})),o.a.createElement(Gt.a,{square:!0,elevation:1,className:e.card},a.map(a=>{var t,l,r,i,s;return o.a.createElement(L.a,{style:{paddingTop:0},key:a.id},o.a.createElement(_.a,{dense:!0,button:!0},o.a.createElement(Y.a,null,o.a.createElement(R.a,{alt:"".concat(a.contact.urlPicture),src:"".concat(a.contact.urlPicture)})),o.a.createElement(J.a,{disableTypography:!0,primary:null===a||void 0===a||null===(t=a.contact)||void 0===t?void 0:t.name,secondary:o.a.createElement(n.Fragment,null,o.a.createElement("div",null,o.a.createElement(z.a,{style:{display:"inline"},component:"span",variant:"body2"},"".concat((null===(l=a.lastMessage)||void 0===l?void 0:l.length)>30?String(a.lastMessage).substring(0,27)+"...":a.lastMessage))),o.a.createElement(N.a,{className:e.connectionTag},null===a||void 0===a||null===(r=a.whatsapp)||void 0===r?void 0:r.name),o.a.createElement(N.a,{style:{backgroundColor:(null===(i=a.queue)||void 0===i?void 0:i.color)||"#7c7c7c"},className:e.connectionTag},(null===(s=a.queue)||void 0===s?void 0:s.name.toUpperCase())||"".concat(ma.a.t("momentsUser.noqueue"))))}),o.a.createElement(z.a,{className:Number(a.unreadMessages)>0?e.lastMessageTimeUnread:e.lastMessageTime,component:"span",variant:"body2"},Object(Ha.a)(Object(Qa.a)(a.updatedAt),new Date)?o.a.createElement(o.a.Fragment,null,Object(Ba.a)(Object(Qa.a)(a.updatedAt),"HH:mm")):o.a.createElement(o.a.Fragment,null,Object(Ba.a)(Object(Qa.a)(a.updatedAt),"dd/MM/yyyy")))),o.a.createElement(W.a,{variant:"inset",component:"li"}))})))))}return null},[s]);return o.a.createElement(n.Fragment,null,o.a.createElement(Yt.a,{container:!0,spacing:2},h,f))};const pg=Object(I.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:"5px",maxWidth:"100%"},mainPaper:Object(S.a)(Object(S.a)({display:"flex",padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),{},{alignItems:"center"}),fixedHeightPaper:{padding:e.spacing(2),display:"flex",flexDirection:"column",height:100},chatPapper:{display:"flex",height:"100%"},contactsHeader:{display:"flex",flexWrap:"wrap",padding:"0px 6px 6px 6px"}}));var gg=()=>{const e=pg(),{user:a}=Object(n.useContext)(Ca);return"user"===a.profile&&"disabled"===a.allowRealTime?o.a.createElement(al,null):o.a.createElement(km,null,o.a.createElement(Yt.a,{style:{width:"99.6%"},container:!0,justifyContent:"center",alignItems:"flex-start"},o.a.createElement(Yt.a,{xs:12,sm:8,xl:4,item:!0},o.a.createElement(Tm,null,ma.a.t("servicePanel.allowRealTime"))),o.a.createElement(Yt.a,{style:{width:"100%",height:"100vh"},item:!0},o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",style:{maxWidth:"100%"}},o.a.createElement(ug,null)))))},bg=t(358),Eg=t.n(bg),hg=t(408),fg=t.n(hg),vg=t(1509);const yg=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:_a.a[500]}}));var xg=e=>{let{title:a,content:t,children:n}=e;const l=yg();return o.a.createElement(de.a,{arrow:!0,classes:{tooltip:l.tooltip,popper:l.tooltipPopper},title:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},a),t&&o.a.createElement(z.a,null,t))},n)};const Cg=Dt.e().shape({options:Dt.a().of(Dt.e().shape({name:Dt.f().min(4,"too short").required("Required")})).required("Must have friends")}),kg=Object(I.a)(e=>({greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},Box:{cursor:"pointer",alignItems:"center"},textField1:{margin:e.spacing(1),minWidth:120},textField:{marginRight:e.spacing(1),flex:1},customHeight:{height:"48px"}}));function wg(e){const a={name:"",greetingMessage:"",options:[],closeTicket:!1,optQueueId:""},t=kg(),[l,r]=Object(n.useState)(-1),[i,s]=Object(n.useState)(a),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(!0),[g,b]=Object(n.useState)(null),[E,h]=Object(n.useState)(null),[f,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)([]),[C,k]=Object(n.useState)([]),[w,A]=Object(n.useState)([]),[T,j]=Object(n.useState)([]),{user:I,socket:M}=Object(n.useContext)(Ca),[N,R]=Object(n.useState)(""),[D,P]=Object(n.useState)(null),[L,W]=Object(n.useState)(""),[B,q]=Object(n.useState)(""),{findAll:U}=Er(),[H,Q]=Object(n.useState)([]),[G,K]=Object(n.useState)([]),_=Object(n.useRef)(!0),Y=I.companyId,J=async t=>{try{e.chatBotId?await u.put("/chatbot/".concat(e.chatBotId),t):await u.post("/chatbot",t),O.b.success("Bot saved successfully");const{data:n}=await u.get("/chatbot/".concat(e.chatBotId));s(a),s(n),b(null),h(null),s(n)}catch(n){ga(n)}};Object(n.useEffect)(()=>{if(_.current){(async()=>{const e=await U();Q(e),x(e)})()}},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/files/",{params:{companyId:Y}});j(e.files)}catch(e){ga(e)}})()},[]),Object(n.useEffect)(()=>{if(N.length<3)return d(!1),void q("");const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/users/");K(e.users),d(!1)}catch(e){d(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[N]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration",{params:{companyId:Y}});A(e.queueIntegrations)}catch(e){ga(e)}})()},[]),Object(n.useEffect)(()=>{d(!0);const a=setTimeout(()=>{(async()=>{try{const{data:a}=await u.get("/chatbot/".concat(e.chatBotId));(null===a||void 0===a?void 0:a.user)&&P(a.user),null!==a.optQueueId&&void 0!==a.optQueueId&&q(a.optQueueId),s(a),d(!1)}catch(a){console.log(a)}})()},500);return()=>clearTimeout(a)},[e.chatBotId]),Object(n.useEffect)(()=>{var e;i.options[l]&&q(null===(e=i.options[l])||void 0===e?void 0:e.optQueueId),p(l!==g)},[g,l]);const X=Object(Ol.a)({trim:!0});return o.a.createElement("div",{className:t.root},o.a.createElement(Si,{title:L&&"".concat(ma.a.t("queues.confirmationModal.deleteTitle")," ").concat(L.name,"?"),open:f,onClose:()=>{v(!1),W(null)},onConfirm:()=>(async t=>{try{await u.delete("/chatbot/".concat(t));const{data:n}=await u.get("/chatbot/".concat(e.chatBotId));s(a),s(n),b(null),h(null),s(n),O.b.success(ma.a.t("Queue deleted successfully!"))}catch(n){ga(n)}W(null)})(L.id)},ma.a.t("Tem certeza? Todas as op\xe7\xf5es internas tamb\xe9m ser\xe3o exclu\xeddas")),!c&&o.a.createElement("div",null,o.a.createElement(Pt.e,{initialValues:i,validateOnChange:!1,enableReinitialize:!0,validationSchema:Cg,render:e=>{let{touched:a,errors:s,isSubmitting:d,values:u,setFieldValue:f}=e;return o.a.createElement(Pt.c,{name:"options"},e=>{let{push:C,remove:k}=e;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Wc.a,{nonLinear:!0,activeStep:l,orientation:"vertical"},u.options&&u.options.length>0&&u.options.map((e,l)=>{var C,A,O,j,I,M,N,D,L,U,Q,K,_,Y,Z,$,ee,ae,te,ne,oe,le,re,ie,se,ce,de,me,ue,pe,ge,be,Ee,he;return o.a.createElement(Bc.a,{key:"".concat(e.id?e.id:l,"-options"),onClick:()=>r(l)},o.a.createElement(qc.a,{key:"".concat(e.id,"-options")},g!==l&&(null===(C=i.options[l])||void 0===C?void 0:C.name)?o.a.createElement("div",{className:t.greetingMessage,variant:"body1"},u.options[l].name,o.a.createElement(F.a,{size:"small",onClick:()=>{b(l),p(!1)}},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{onClick:()=>{W(e),v(!0)},size:"small"},o.a.createElement(Rl.a,null))):o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"options[".concat(l,"].name"),variant:"outlined",margin:"dense",label:ma.a.t("queueModal.form.greetingMessage"),color:"primary",disabled:d,autoFocus:!0,fullWidth:!0,error:(null===a||void 0===a||null===(A=a.options)||void 0===A||null===(O=A[l])||void 0===O?void 0:O.name)&&Boolean(null===(j=s.options)||void 0===j||null===(I=j[l])||void 0===I?void 0:I.name)})),o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:t.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"queueType-selection-label"},ma.a.t("queueModal.form.queueType")),o.a.createElement(Pt.b,{as:Wt.a,name:"options[".concat(l,"].queueType"),variant:"outlined",margin:"dense",fullWidth:!0,labelId:"queueType-selection-label",label:ma.a.t("queueModal.form.queueType"),error:(null===a||void 0===a||null===(M=a.options)||void 0===M||null===(N=M[l])||void 0===N?void 0:N.queueType)&&Boolean(null===s||void 0===s||null===(D=s.options)||void 0===D||null===(L=D[l])||void 0===L?void 0:L.queueType)},o.a.createElement(V.a,{value:"text"},"Texto"),o.a.createElement(V.a,{value:"attendent"},"Atendente"),o.a.createElement(V.a,{value:"queue"},"Fila"),o.a.createElement(V.a,{value:"integration"},"Integra\xe7\xe3o"),o.a.createElement(V.a,{value:"file"},"Arquivo")))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:qr.a,color:"primary",name:"options[".concat(l,"].closeTicket"),checked:u.options[l].closeTicket||!1}),labelPlacement:"top",label:ma.a.t("queueModal.form.closeTicket")}),o.a.createElement(F.a,{size:"small",onClick:()=>u.options[l].name?J(u):null,disabled:d},o.a.createElement(Eg.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>k(l),disabled:d},o.a.createElement(Rl.a,null))))),m&&i.options[l]&&o.a.createElement(vg.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(xg,{title:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",content:"Se a mensagem n\xe3o estiver definida, o bot n\xe3o seguir\xe1 adiante"},o.a.createElement(fg.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),E!==l?o.a.createElement("div",{className:t.greetingMessage},o.a.createElement(z.a,{color:"textSecondary",variant:"body1"},"Message:"),u.options[l].greetingMessage,o.a.createElement(F.a,{size:"small",onClick:()=>h(l)},o.a.createElement(Ip.a,null))):o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement("div",{className:t.greetingMessage},"text"===i.options[l].queueType&&o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"options[".concat(l,"].greetingMessage"),variant:"outlined",margin:"dense",color:"primary",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField}))),"queue"===i.options[l].queueType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"options[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:t.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"queue-selection-label"},ma.a.t("queueModal.form.queue")),o.a.createElement(Pt.b,{as:Wt.a,name:"options[".concat(l,"].optQueueId"),labelId:"queue-selection-label",label:ma.a.t("queueModal.form.queue"),error:(null===a||void 0===a||null===(U=a.options)||void 0===U||null===(Q=U[l])||void 0===Q?void 0:Q.optQueueId)&&Boolean(null===s||void 0===s||null===(K=s.options)||void 0===K||null===(_=K[l])||void 0===_?void 0:_.optQueueId),helpertext:(null===a||void 0===a||null===(Y=a.options)||void 0===Y||null===(Z=Y[l])||void 0===Z?void 0:Z.optQueueId)&&(null===s||void 0===s||null===($=s.options)||void 0===$||null===(ee=$[l])||void 0===ee?void 0:ee.optQueueId),fullWidth:!0,variant:"outlined",margin:"dense"},y.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),"attendent"===i.options[l].queueType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"options[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(Sl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",getOptionLabel:e=>"".concat(e.name),value:i.options[l].user,onChange:(e,a)=>{P(a),f("options[".concat(l,"].optUserId"),null!=a?a.id:null),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&(q(a.queues[0].id),f("options[".concat(l,"].optQueueId"),a.queues[0].id)),x(a.queues)):(x(H),q(""))},options:G,filterOptions:X,freeSolo:!0,fullWidth:!0,autoHighlight:!0,noOptionsText:ma.a.t("transferTicketModal.noOptions"),loading:c,size:"small",renderOption:e=>o.a.createElement("span",null," ",o.a.createElement(fr,{user:e})," ",e.name),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>R(e.target.value),InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(n.Fragment,null,c?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},o.a.createElement(Bt.a,null,ma.a.t("transferTicketModal.fieldQueueLabel")),o.a.createElement(Wt.a,{value:B,onChange:e=>{q(e.target.value),f("options[".concat(l,"].optQueueId"),e.target.value)},label:ma.a.t("transferTicketModal.fieldQueuePlaceholder")},y.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),"integration"===i.options[l].queueType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"options[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},o.a.createElement(Bt.a,{id:"optIntegrationId-selection-label"},ma.a.t("queueModal.form.integration")),o.a.createElement(Pt.b,{as:Wt.a,name:"options[".concat(l,"].optIntegrationId"),labelId:"optIntegrationId-selection-label",label:ma.a.t("queueModal.form.integration"),variant:"outlined",margin:"dense",fullWidth:!0,error:(null===a||void 0===a||null===(ae=a.options)||void 0===ae||null===(te=ae[l])||void 0===te?void 0:te.optIntegrationId)&&Boolean(null===s||void 0===s||null===(ne=s.options)||void 0===ne||null===(oe=ne[l])||void 0===oe?void 0:oe.optIntegrationId),helpertext:(null===a||void 0===a||null===(le=a.options)||void 0===le||null===(re=le[l])||void 0===re?void 0:re.optIntegrationId)&&(null===s||void 0===s||null===(ie=s.options)||void 0===ie||null===(se=ie[l])||void 0===se?void 0:se.optIntegrationId)},w.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),"file"===i.options[l].queueType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"options[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},o.a.createElement(Bt.a,{id:"optFileId-selection-label"},ma.a.t("queueModal.form.file")),o.a.createElement(Pt.b,{as:Wt.a,name:"options[".concat(l,"].optFileId"),labelId:"optFileId-selection-label",label:ma.a.t("queueModal.form.file"),error:(null===a||void 0===a||null===(ce=a.options)||void 0===ce||null===(de=ce[l])||void 0===de?void 0:de.optFileId)&&Boolean(null===s||void 0===s||null===(me=s.options)||void 0===me||null===(ue=me[l])||void 0===ue?void 0:ue.optFileId),helpertext:(null===a||void 0===a||null===(pe=a.options)||void 0===pe||null===(ge=pe[l])||void 0===ge?void 0:ge.optFileId)&&(null===s||void 0===s||null===(be=s.options)||void 0===be||null===(Ee=be[l])||void 0===Ee?void 0:Ee.optFileId),variant:"outlined",margin:"dense"},T.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),o.a.createElement(Yt.a,{xs:2,md:4,item:!0},o.a.createElement(F.a,{size:"small",onClick:()=>J(u),disabled:d,style:{marginTop:"8px"}}," ",o.a.createElement(Eg.a,null)))),(he=e.id,o.a.createElement(wg,{chatBotId:he})))))}),o.a.createElement(Bc.a,null,o.a.createElement(qc.a,{onClick:()=>C({name:void 0,greetingMessage:void 0})},ma.a.t("fileModal.buttons.fileOptions")))))})}})))}const Ag=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},textField1:{margin:e.spacing(1),minWidth:120},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20},greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},custom:{display:"flex",alignItems:"center",justifyContent:"center"}})),Tg=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:Dt.f().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:Dt.f(),chatbots:Dt.a().of(Dt.e().shape({name:Dt.f().min(4,"too short").required("Required")})).required("Must have friends")});var Og=e=>{let{open:a,onClose:t,queueId:l,onEdit:r}=e;const i=Ag(),s={name:"",color:"",greetingMessage:"",chatbots:[],outOfHoursMessage:"",orderQueue:"",tempoRoteador:0,ativarRoteador:!1,integrationId:"",fileListId:"",closeTicket:!1,typeRandomMode:"RANDOM"},[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(s),g=Object(n.useRef)(),[b,E]=Object(n.useState)(null),[h,f]=Object(n.useState)(null),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(!0),[k,w]=Object(n.useState)(null),[A,T]=Object(n.useState)(null),[j,I]=Object(n.useState)([]),[M,N]=Object(n.useState)([]),[R,D]=Object(n.useState)(!1),[P,L]=Object(n.useState)(0),[W,B]=Object(n.useState)(null),{user:q,socket:U}=Object(n.useContext)(Ca),[_,Y]=Object(n.useState)(""),[J,Z]=Object(n.useState)(!1),[$,ee]=Object(n.useState)(""),{findAll:ae}=Er(),[te,ne]=Object(n.useState)([]),[oe,le]=Object(n.useState)([]),re=Object(n.useRef)(!0),ie=[{weekday:ma.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}],[se,ce]=Object(n.useState)(ie),de=q.companyId,{get:me}=Da(),[ue,pe]=Object(n.useState)(!1),[ge,be]=Object(n.useState)(!1),{getPlanCompany:Ee}=Ia();Object(n.useEffect)(()=>{!async function(){const e=q.companyId,a=await Ee(void 0,e);pe(a.plan.useOpenAi),be(a.plan.useIntegrations)}()},[]),Object(n.useEffect)(()=>{(async()=>{"queue"===(await me({column:"scheduleType"})).scheduleType&&D(!0)})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/files/",{params:{companyId:de}});B(e.files)}catch(e){ga(e)}})()},[]),Object(n.useEffect)(()=>((async()=>{if(l)try{const{data:e}=await u.get("/queue/".concat(l));p(a=>Object(S.a)(Object(S.a)({},a),e)),Object(da.isArray)(e.schedules)&&e.schedules.length>0&&ce(e.schedules)}catch(e){ga(e)}})(),()=>{p({name:"",color:"",greetingMessage:"",chatbots:[],outOfHoursMessage:"",orderQueue:"",tempoRoteador:"",ativarRoteador:!1,integrationId:"",fileListId:"",closeTicket:!1,typeRandomMode:"RANDOM"})}),[l,a]),Object(n.useEffect)(()=>{if(re.current){(async()=>{const e=await ae();ne(e),I(e)})()}},[]),Object(n.useEffect)(()=>{if(_.length<3)return Z(!1),void ee("");const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/users/");le(e.users),Z(!1)}catch(e){Z(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[_]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration");N(e.queueIntegrations)}catch(e){ga(e)}})()},[]),Object(n.useEffect)(()=>{var e;b&&ee(null===(e=m.chatbots[b])||void 0===e?void 0:e.optQueueId);C(b!==k)},[k,b]);const he=()=>{t(),w(null),E(null),T(null)},fe=Object(Ol.a)({trim:!0}),ve=async e=>{console.log(e);try{if(l){const{data:a}=await u.put("/queue/".concat(l),e);a.chatbots&&a.chatbots.length&&(r(a),p(a))}else{const{data:a}=await u.post("/queue",e);a.chatbots&&a.chatbots.length&&(p(a),r(a),he())}w(null),T(null),O.b.success("".concat(ma.a.t("queues.toasts.success")))}catch(a){ga(a)}};return o.a.createElement("div",{className:i.root},o.a.createElement(Si,{title:h&&"".concat(ma.a.t("queues.confirmationModal.deleteTitle")," ").concat(h.name,"?"),open:v,onClose:()=>{y(!1),f(null)},onConfirm:()=>(async e=>{try{await u.delete("/chatbot/".concat(e));const{data:a}=await u.get("/queue/".concat(l));p(s),p(a),w(null),T(null),O.b.success("".concat(ma.a.t("queues.toasts.deleted")))}catch(a){ga(a)}})(h.id)},ma.a.t("queueModal.title.confirmationDelete")),o.a.createElement(H.a,{maxWidth:"md",fullWidth:!0,open:a,onClose:he,scroll:"paper"},o.a.createElement(Q.a,null,"".concat(l?ma.a.t("queueModal.title.edit"):ma.a.t("queueModal.title.add"))),o.a.createElement(Kt.a,{value:P,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>L(a),"aria-label":"disabled tabs example"},o.a.createElement(_t.a,{label:ma.a.t("queueModal.title.queueData")}),R&&o.a.createElement(_t.a,{label:ma.a.t("queueModal.title.text")})),0===P&&o.a.createElement(Pt.e,{initialValues:m,validateOnChange:!1,enableReinitialize:!0,validationSchema:Tg,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{l?await u.put("/queue/".concat(l),Object(S.a)(Object(S.a)({},e),{},{schedules:se})):await u.post("/queue",Object(S.a)(Object(S.a)({},e),{},{schedules:se})),O.b.success("".concat(ma.a.t("queues.toasts.success"))),he()}catch(a){ga(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{setFieldValue:a,touched:t,errors:r,isSubmitting:s,values:u}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",className:i.textField}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:()=>{d(!0),g.current.focus()},error:t.color&&Boolean(r.color),helperText:t.color&&r.color,InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement("div",{style:{backgroundColor:u.color},className:i.colorAdorment})),endAdornment:o.a.createElement(F.a,{size:"small",color:"default",onClick:()=>d(!c)},o.a.createElement(Mm.a,null))},variant:"outlined",margin:"dense"}),o.a.createElement(yu,{open:c,handleClose:()=>d(!1),onChange:e=>{a("color","#".concat(e.hex))},currentColor:u.color}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueModal.form.orderQueue"),name:"orderQueue",type:"orderQueue",error:t.orderQueue&&Boolean(r.orderQueue),helperText:t.orderQueue&&r.orderQueue,variant:"outlined",margin:"dense",className:i.textField1}),o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,color:"primary",name:"closeTicket",checked:u.closeTicket}),label:ma.a.t("queueModal.form.closeTicket")}),o.a.createElement("div",null,o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,color:"primary",name:"ativarRoteador",checked:u.ativarRoteador}),label:ma.a.t("queueModal.form.rotate")}),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueModal.form.timeRotate"),name:"tempoRoteador",id:"tempoRoteador",variant:"outlined",margin:"dense",className:i.selectField,disabled:!u.ativarRoteador},o.a.createElement(V.a,{value:"0",selected:!0,disabled:!0},ma.a.t("queueModal.form.timeRotate")),o.a.createElement(V.a,{value:"1"},"1 minuto"),o.a.createElement(V.a,{value:"2"},"2 minutos"),o.a.createElement(V.a,{value:"3"},"3 minutos"),o.a.createElement(V.a,{value:"4"},"4 minutos"),o.a.createElement(V.a,{value:"5"},"5 minutos"),o.a.createElement(V.a,{value:"10"},"10 minutos"),o.a.createElement(V.a,{value:"15"},"15 minutos"),o.a.createElement(V.a,{value:"30"},"30 minutos"),o.a.createElement(V.a,{value:"45"},"45 minutos"),o.a.createElement(V.a,{value:"60"},"60 minutos")),"\xa0",o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueModal.form.typeRandomMode"),name:"typeRandomMode",id:"typeRandomMode",variant:"outlined",margin:"dense",className:i.selectField,disabled:!u.ativarRoteador},o.a.createElement(V.a,{value:"0",selected:!0,disabled:!0},ma.a.t("Selecione o tipo de rod\xedzio")),o.a.createElement(V.a,{value:"RANDOM"},"Random"),o.a.createElement(V.a,{value:"ORDENADO"},"Ordenado"))),o.a.createElement("div",null,ge&&o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"integrationId-selection-label"},ma.a.t("queueModal.form.integrationId")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",placeholder:ma.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label",value:u.integrationId||""},o.a.createElement(V.a,{value:""},"Nenhum"),M.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"fileListId-selection-label"},ma.a.t("queueModal.form.fileListId")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueModal.form.fileListId"),name:"fileListId",id:"fileListId",placeholder:ma.a.t("queueModal.form.fileListId"),labelId:"fileListId-selection-label",value:u.fileListId||""},o.a.createElement(V.a,{value:""},"Nenhum"),W.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:g,minRows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,variant:"outlined",margin:"dense"}),R&&o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:5,fullWidth:!0,required:R,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(r.outOfHoursMessage),helperText:t.outOfHoursMessage&&r.outOfHoursMessage,variant:"outlined",margin:"dense"})),o.a.createElement(z.a,{variant:"subtitle1"},ma.a.t("queueModal.bot.title"),o.a.createElement(xg,{title:ma.a.t("queueModal.bot.toolTipTitle"),content:ma.a.t("queueModal.bot.toolTip")},o.a.createElement(fg.a,{style:{marginLeft:"14px"},fontSize:"small"}))),o.a.createElement("div",null,o.a.createElement(Pt.c,{name:"chatbots"},e=>{let{push:l,remove:c}=e;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Wc.a,{nonLinear:!0,activeStep:b,orientation:"vertical"},u.chatbots&&u.chatbots.length>0&&u.chatbots.map((e,l)=>{var d,p,g,b,h,v,O,N,R,D,P,L,B,q,U,H,Q,G,K,_,X,Z,ae,ne,le,re,ie,se,ce,de,me,ue,pe,ge;return o.a.createElement(Bc.a,{key:"".concat(e.id?e.id:l,"-chatbots"),onClick:()=>E(l)},o.a.createElement(qc.a,{key:"".concat(e.id,"-chatbots")},k!==l&&(null===(d=m.chatbots[l])||void 0===d?void 0:d.name)?o.a.createElement("div",{className:i.greetingMessage,variant:"body1"},u.chatbots[l].name,o.a.createElement(F.a,{size:"small",onClick:()=>{w(l),C(!1)}},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{onClick:()=>{f(e),y(!0)},size:"small"},o.a.createElement(Rl.a,null))):o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"chatbots[".concat(l,"].name"),variant:"outlined",margin:"dense",color:"primary",label:ma.a.t("queueModal.form.greetingMessage"),disabled:s,autoFocus:!0,fullWidth:!0,size:"small",error:(null===t||void 0===t||null===(p=t.chatbots)||void 0===p||null===(g=p[l])||void 0===g?void 0:g.name)&&Boolean(null===(b=r.chatbots)||void 0===b||null===(h=b[l])||void 0===h?void 0:h.name),className:i.textField})),o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.formControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"queueType-selection-label"},ma.a.t("queueModal.form.queueType")),o.a.createElement(Pt.b,{as:Wt.a,name:"chatbots[".concat(l,"].queueType"),variant:"outlined",margin:"dense",fullWidth:!0,labelId:"queueType-selection-label",label:ma.a.t("queueModal.form.queueType"),error:(null===t||void 0===t||null===(v=t.chatbots)||void 0===v||null===(O=v[l])||void 0===O?void 0:O.queueType)&&Boolean(null===r||void 0===r||null===(N=r.chatbots)||void 0===N||null===(R=N[l])||void 0===R?void 0:R.queueType)},o.a.createElement(V.a,{value:"text"},ma.a.t("queueModal.bot.text")),o.a.createElement(V.a,{value:"attendent"},ma.a.t("queueModal.bot.attendent")),o.a.createElement(V.a,{value:"queue"},ma.a.t("queueModal.bot.queue")),o.a.createElement(V.a,{value:"integration"},ma.a.t("queueModal.bot.integration")),o.a.createElement(V.a,{value:"file"},ma.a.t("queueModal.bot.file"))))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cd.a,color:"primary",name:"chatbots[".concat(l,"].closeTicket"),checked:u.chatbots[l].closeTicket||!1}),labelPlacement:"top",label:ma.a.t("queueModal.form.closeTicket")}),o.a.createElement(F.a,{size:"small",onClick:()=>u.chatbots[l].name?ve(u):null,disabled:s},o.a.createElement(Eg.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>c(l),disabled:s},o.a.createElement(Rl.a,null))))),x&&m.chatbots[l]&&o.a.createElement(vg.a,null,o.a.createElement(o.a.Fragment,null,A!==l?o.a.createElement("div",{className:i.greetingMessage},o.a.createElement(z.a,{color:"textSecondary",variant:"body1"},"Message:"),u.chatbots[l].greetingMessage,!(null===(D=m.chatbots[l])||void 0===D?void 0:D.greetingMessage)&&o.a.createElement(xg,{title:ma.a.t("queueModal.bot.toolTipMessageTitle"),content:ma.a.t("queueModal.bot.toolTipMessageContent")},o.a.createElement(fg.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),o.a.createElement(F.a,{size:"small",onClick:()=>T(l)},o.a.createElement(Ip.a,null))):o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement("div",{className:i.greetingMessage},"text"===m.chatbots[l].queueType&&o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"chatbots[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField}))),"queue"===m.chatbots[l].queueType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"chatbots[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"queue-selection-label"},ma.a.t("queueModal.form.queue")),o.a.createElement(Pt.b,{as:Wt.a,name:"chatbots[".concat(l,"].optQueueId"),error:(null===t||void 0===t||null===(P=t.chatbots)||void 0===P||null===(L=P[l])||void 0===L?void 0:L.optQueueId)&&Boolean(null===r||void 0===r||null===(B=r.chatbots)||void 0===B||null===(q=B[l])||void 0===q?void 0:q.optQueueId),helpertext:(null===t||void 0===t||null===(U=t.chatbots)||void 0===U||null===(H=U[l])||void 0===H?void 0:H.optQueueId)&&(null===r||void 0===r||null===(Q=r.chatbots)||void 0===Q||null===(G=Q[l])||void 0===G?void 0:G.optQueueId),className:i.textField1},j.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),"attendent"===m.chatbots[l].queueType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"chatbots[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(Sl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",getOptionLabel:e=>"".concat(e.name),value:m.chatbots[l].user,onChange:(e,t)=>{a("chatbots[".concat(l,"].optUserId"),null!=t?t.id:null),null!=t&&Array.isArray(t.queues)?(1===t.queues.length&&(ee(t.queues[0].id),a("chatbots[".concat(l,"].optQueueId"),t.queues[0].id)),I(t.queues)):(I(te),ee(""))},options:oe,filterOptions:fe,freeSolo:!0,fullWidth:!0,autoHighlight:!0,noOptionsText:ma.a.t("transferTicketModal.noOptions"),loading:J,size:"small",renderOption:e=>o.a.createElement("span",null," ",o.a.createElement(fr,{user:e})," ",e.name),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>Y(e.target.value),InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(n.Fragment,null,J?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:i.formControl},o.a.createElement(Bt.a,null,ma.a.t("transferTicketModal.fieldQueueLabel")),o.a.createElement(Wt.a,{value:$,onChange:e=>{ee(e.target.value),a("chatbots[".concat(l,"].optQueueId"),e.target.value)},label:ma.a.t("transferTicketModal.fieldQueuePlaceholder")},j.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),"integration"===m.chatbots[l].queueType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"chatbots[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"optIntegrationId-selection-label"},ma.a.t("queueModal.form.integration")),o.a.createElement(Pt.b,{as:Wt.a,name:"chatbots[".concat(l,"].optIntegrationId"),error:(null===t||void 0===t||null===(K=t.chatbots)||void 0===K||null===(_=K[l])||void 0===_?void 0:_.optIntegrationId)&&Boolean(null===r||void 0===r||null===(X=r.chatbots)||void 0===X||null===(Z=X[l])||void 0===Z?void 0:Z.optIntegrationId),helpertext:(null===t||void 0===t||null===(ae=t.chatbots)||void 0===ae||null===(ne=ae[l])||void 0===ne?void 0:ne.optIntegrationId)&&(null===r||void 0===r||null===(le=r.chatbots)||void 0===le||null===(re=le[l])||void 0===re?void 0:re.optIntegrationId),className:i.textField1},M.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),"file"===m.chatbots[l].queueType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"chatbots[".concat(l,"].greetingMessage"),label:ma.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),o.a.createElement(Bt.a,null,"Selecione um Arquivo"),o.a.createElement(Pt.b,{as:Wt.a,name:"chatbots[".concat(l,"].optFileId"),error:(null===t||void 0===t||null===(ie=t.chatbots)||void 0===ie||null===(se=ie[l])||void 0===se?void 0:se.optFileId)&&Boolean(null===r||void 0===r||null===(ce=r.chatbots)||void 0===ce||null===(de=ce[l])||void 0===de?void 0:de.optFileId),helpertext:(null===t||void 0===t||null===(me=t.chatbots)||void 0===me||null===(ue=me[l])||void 0===ue?void 0:ue.optFileId)&&(null===r||void 0===r||null===(pe=r.chatbots)||void 0===pe||null===(ge=pe[l])||void 0===ge?void 0:ge.optFileId),className:i.textField1},W.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(F.a,{size:"small",onClick:()=>ve(u),disabled:s}," ",o.a.createElement(Eg.a,null))),o.a.createElement(wg,{chatBotId:e.id}))))}),o.a.createElement(Bc.a,null,o.a.createElement(qc.a,{onClick:()=>l({name:"",value:""})},ma.a.t("queueModal.bot.addOptions")))))}))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:he,disabled:s},ma.a.t("queueModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:i.btnWrapper},"".concat(l?ma.a.t("queueModal.buttons.okEdit"):ma.a.t("queueModal.buttons.okAdd")),s&&o.a.createElement(Lt.a,{size:24,className:i.buttonProgress}))))}),1===P&&o.a.createElement(Gt.a,{style:{padding:20}},o.a.createElement(Im,{loading:!1,onSubmit:async e=>{O.b.success("Clique em salvar para registar as altera\xe7\xf5es"),ce(e),L(0)},initialValues:se,labelSaveButton:ma.a.t("whatsappModal.buttons.okAdd")}))))};const Sg=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}})),jg=(e,a)=>{if("LOAD_QUEUES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_QUEUES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_QUEUE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var Ig=()=>{const e=Sg(),[a,t]=Object(n.useReducer)(jg,[]),[l,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(!1),{user:g,socket:b}=Object(n.useContext)(Ca),E=g.companyId;Object(n.useEffect)(()=>{(async()=>{r(!0);try{const{data:e}=await u.get("/queue");t({type:"LOAD_QUEUES",payload:e}),r(!1)}catch(e){ga(e),r(!1)}})()},[]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||t({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&t({type:"DELETE_QUEUE",payload:e.queueId})};return b.on("company-".concat(E,"-queue"),e),()=>{b.off("company-".concat(E,"-queue"),e)}},[b,E]);const h=e=>{d(e),s(!0)};return o.a.createElement(yo,null,o.a.createElement(Si,{title:c&&"".concat(ma.a.t("queues.confirmationModal.deleteTitle")," ").concat(c.name,"?"),open:m,onClose:()=>{p(!1),d(null)},onConfirm:()=>(async e=>{try{await u.delete("/queue/".concat(e)),O.b.success(ma.a.t("Queue deleted successfully!"))}catch(a){ga(a)}d(null)})(c.id)},ma.a.t("queues.confirmationModal.deleteMessage")),o.a.createElement(Og,{open:i,onClose:()=>{s(!1),d(null)},queueId:null===c||void 0===c?void 0:c.id,onEdit:e=>{e&&setTimeout(()=>{h(e)},500)}}),"user"===g.profile?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("queues.title")," (",a.length,")"),o.a.createElement(Am,null,o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{s(!0),d(null)}},ma.a.t("queues.buttons.add")))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("queues.table.ID")),o.a.createElement(ko.a,{align:"center"},ma.a.t("queues.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("queues.table.color")),o.a.createElement(ko.a,{align:"center"},ma.a.t("queues.table.orderQueue")),o.a.createElement(ko.a,{align:"center"},ma.a.t("queues.table.greeting")),o.a.createElement(ko.a,{align:"center"},ma.a.t("queues.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,a.map(a=>o.a.createElement(To.a,{key:a.id},o.a.createElement(ko.a,{align:"center"},a.id),o.a.createElement(ko.a,{align:"center"},a.name),o.a.createElement(ko.a,{align:"center"},o.a.createElement("div",{className:e.customTableCell},o.a.createElement("span",{style:{backgroundColor:a.color,width:60,height:20,alignSelf:"center"}}))),o.a.createElement(ko.a,{align:"center"},o.a.createElement("div",{className:e.customTableCell},o.a.createElement(z.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},a.orderQueue))),o.a.createElement(ko.a,{align:"center"},o.a.createElement("div",{className:e.customTableCell},o.a.createElement(z.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},a.greetingMessage))),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>h(a)},o.a.createElement(bm.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>{d(a),p(!0)}},o.a.createElement(Em.a,null))))),l&&o.a.createElement(kd,{columns:4})))))))};const Mg=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Ng=Dt.e().shape({name:Dt.f().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")});var Rg=e=>{let{open:a,onClose:t,tagId:l,kanban:r}=e;const i=Mg(),{user:s}=Object(n.useContext)(Ca),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)([]),[g,b]=Object(n.useState)(!1),[E,h]=Object(n.useState)(null),[f,v]=Object(n.useState)(null),y={name:"",color:function(){const e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),t=Math.floor(256*Math.random());return"#".concat(e.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0")).concat(t.toString(16).padStart(2,"0"))}(),kanban:r||0,timeLane:0,nextLaneId:0,greetingMessageLane:"",rollbackLaneId:0},[x,C]=Object(n.useState)(y);Object(n.useEffect)(()=>{a&&(b(!0),(async()=>{try{const{data:e}=await u.get("/tags/",{params:{kanban:1,tagId:l}});p(e.tags),b(!1)}catch(e){ga(e),b(!1)}})())},[a,l]),Object(n.useEffect)(()=>{a&&l?(async()=>{try{const{data:e}=await u.get("/tags/".concat(l));C(a=>Object(S.a)(Object(S.a)({},y),e)),h(e.nextLaneId||null),v(e.rollbackLaneId||null)}catch(e){ga(e)}})():a&&(C(y),h(null),v(null))},[l,a]);const k=()=>{C(y),d(!1),h(null),v(null),t()};return o.a.createElement("div",{className:i.root},o.a.createElement(H.a,{open:a,onClose:k,maxWidth:"md",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,null,l?0===r?ma.a.t("tagModal.title.edit"):ma.a.t("tagModal.title.editKanban"):0===r?ma.a.t("tagModal.title.add"):ma.a.t("tagModal.title.addKanban")),o.a.createElement(Pt.e,{initialValues:x,enableReinitialize:!0,validationSchema:Ng,onSubmit:async e=>{const a=Object(S.a)(Object(S.a)({},e),{},{userId:null===s||void 0===s?void 0:s.id,kanban:r,nextLaneId:E,rollbackLaneId:f});try{l?await u.put("/tags/".concat(l),a):await u.post("/tags",a),O.b.success(0===r?ma.a.t("tagModal.success"):ma.a.t("tagModal.successKanban")),k()}catch(t){ga(t)}}},e=>{let{touched:a,errors:t,isSubmitting:n,values:s,handleChange:u}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("tagModal.form.name"),name:"name",fullWidth:!0,error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",autoFocus:!0})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("tagModal.form.color"),name:"color",fullWidth:!0,variant:"outlined",margin:"dense",InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement("div",{style:{backgroundColor:s.color},className:i.colorAdorment})),endAdornment:o.a.createElement(F.a,{onClick:()=>d(!c)},o.a.createElement(Mm.a,null))}}),c&&o.a.createElement(fu.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:s.color,onChange:e=>{u({target:{name:"color",value:"#".concat(e.hex)}})}})),1===r&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("tagModal.form.timeLane"),name:"timeLane",fullWidth:!0,variant:"outlined",margin:"dense",type:"number"})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,null,ma.a.t("tagModal.form.nextLaneId")),o.a.createElement(Wt.a,{value:E||"",onChange:e=>h(e.target.value),label:ma.a.t("tagModal.form.nextLaneId")},o.a.createElement(V.a,{value:""},"\xa0"),m.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("tagModal.form.greetingMessageLane"),name:"greetingMessageLane",fullWidth:!0,multiline:!0,rows:4,variant:"outlined",margin:"dense"})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,null,ma.a.t("tagModal.form.rollbackLaneId")),o.a.createElement(Wt.a,{value:f||"",onChange:e=>v(e.target.value),label:ma.a.t("tagModal.form.rollbackLaneId")},o.a.createElement(V.a,{value:""},"\xa0"),m.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:k,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("tagModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},l?ma.a.t("tagModal.buttons.okEdit"):ma.a.t("tagModal.buttons.okAdd"),n&&o.a.createElement(Lt.a,{size:24,className:i.buttonProgress}))))})))},Dg=t(1510);const Pg=Object(I.a)(e=>({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"8px",overflow:"auto",maxHeight:"80vh"},closeButton:{position:"absolute",top:e.spacing(1),right:e.spacing(1)}}));var Fg=e=>{let{open:a,onClose:t,tag:l}=e;const r=Pg(),[i,s]=Object(n.useState)(l.contacts),{user:c,socket:d}=Object(n.useContext)(Ca);return Object(n.useEffect)(()=>{console.log("tagList",i)},[i]),Object(n.useEffect)(()=>{const e=e=>{var a,n,o,r;"update"!==e.action&&"create"!==e.action||(e.tag.id===l.id&&(null===(a=e.tag)||void 0===a||null===(n=a.contacts)||void 0===n?void 0:n.length)>0&&s(e.tag.contacts),e.tag.id===l.id&&0===(null===(o=e.tag)||void 0===o||null===(r=o.contacts)||void 0===r?void 0:r.length)&&(s([]),t()))};return d.on("company".concat(c.companyId,"-tag"),e),()=>{d.off("company".concat(c.companyId,"-tag"),e)}},[]),i.length>0?o.a.createElement(gc.a,{className:r.modal,open:a,onClose:t,closeAfterTransition:!0,BackdropComponent:un.a,BackdropProps:{timeout:500}},o.a.createElement(Fn.a,{in:a},o.a.createElement("div",{className:r.paper},o.a.createElement(F.a,{className:r.closeButton,onClick:t},o.a.createElement($r.a,null)),o.a.createElement("h2",{id:"transition-modal-title"},l.name," - Contatos"),o.a.createElement(wo.a,{component:Gt.a},o.a.createElement(xo.a,null,o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,null,"ID"),o.a.createElement(ko.a,null,"Nome"),o.a.createElement(ko.a,null,"N\xfamero"),o.a.createElement(ko.a,null,"A\xe7\xf5es"))),o.a.createElement(Co.a,null,null===i||void 0===i?void 0:i.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,null,e.id),o.a.createElement(ko.a,null,e.name),o.a.createElement(ko.a,null,e.number),o.a.createElement(ko.a,null,o.a.createElement(F.a,{onClick:()=>(async(e,a)=>{await u.delete("/tags-contacts/".concat(a,"/").concat(e))})(e.id,l.id)},o.a.createElement(Ai.a,null))))))))))):o.a.createElement(o.a.Fragment,null)};const Lg=(e,a)=>{switch(a.type){case"LOAD_TAGS":return[...e,...a.payload];case"UPDATE_TAGS":const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e];case"DELETE_TAGS":const o=a.payload;return e.filter(e=>e.id!==o);case"RESET":return[];default:return e}},Wg=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var Bg=()=>{const e=Wg(),{user:a,socket:t}=Object(n.useContext)(Ca),[l,r]=Object(n.useState)([]),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(1),[g,b]=Object(n.useState)(!1),[E,h]=Object(n.useState)(""),[f,v]=Object(n.useState)(null),[y,x]=Object(n.useState)(null),[C,k]=Object(n.useState)(!1),[w,A]=Object(n.useState)(""),[T,S]=Object(n.useReducer)(Lg,[]),[j,I]=Object(n.useState)(!1);Object(n.useRef)(1);Object(n.useEffect)(()=>{const e=setTimeout(()=>{m>0&&(d(!0),(async()=>{try{const{data:e}=await u.get("/tags/",{params:{searchParam:w,pageNumber:m,kanban:0}});S({type:"LOAD_TAGS",payload:e.tags}),b(e.hasMore),d(!1)}catch(e){ga(e)}})())},300);return()=>clearTimeout(e)},[w,m]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||S({type:"UPDATE_TAGS",payload:e.tag}),"delete"===e.action&&S({type:"DELETE_TAGS",payload:+e.tagId})};return t.on("company".concat(a.companyId,"-tag"),e),()=>{t.off("company".concat(a.companyId,"-tag"),e)}},[t,a.companyId]);return o.a.createElement(yo,{className:e.mainContainer},i&&o.a.createElement(Fg,{open:i,onClose:()=>{s(!1),r([]),h("")},tag:E}),o.a.createElement(Si,{title:y&&"".concat(ma.a.t("tags.confirmationModal.deleteTitle")),open:C,onClose:()=>k(!1),onConfirm:()=>(async e=>{try{await u.delete("/tags/".concat(e)),O.b.success(ma.a.t("tags.toasts.deleted"))}catch(a){ga(a)}x(null),A(""),p(1)})(y.id)},ma.a.t("tags.confirmationModal.deleteMessage")),o.a.createElement(Rg,{open:j,onClose:()=>{v(null),I(!1)},"aria-labelledby":"form-dialog-title",tagId:f&&f.id,kanban:0}),o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("tags.title")," (",T.length,")"),o.a.createElement(Am,null,o.a.createElement(Ft.a,{placeholder:ma.a.t("contacts.searchPlaceholder"),type:"search",value:w,onChange:e=>{const a=e.target.value.toLowerCase();A(a),p(1),S({type:"RESET"})},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{v(null),I(!0)}},ma.a.t("tags.buttons.add")))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!g||c)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&p(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("tags.table.id")),o.a.createElement(ko.a,{align:"center"},ma.a.t("tags.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("tags.table.contacts")),o.a.createElement(ko.a,{align:"center"},ma.a.t("tags.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,T.map(e=>{var a,t;return o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center"},e.id),o.a.createElement(ko.a,{align:"center"},o.a.createElement(Vt.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px #000",color:"white"},label:e.name,size:"small"})),o.a.createElement(ko.a,{align:"center"},null===e||void 0===e||null===(a=e.contacts)||void 0===a?void 0:a.length,o.a.createElement(F.a,{size:"small",onClick:()=>((e,a)=>{r(e),s(!0),h(a)})(null===e||void 0===e?void 0:e.contacts,e),disabled:0===(null===e||void 0===e||null===(t=e.contacts)||void 0===t?void 0:t.length)},o.a.createElement(Dg.a,null))),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{v(e),I(!0)})(e)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>{k(!0),x(e)}},o.a.createElement(Rl.a,null))))}),c&&o.a.createElement(kd,{key:"skeleton",columns:4}))))))};const qg=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{padding:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}}));var zg=()=>{const e=qg(),a=Object(T.useHistory)(),[t]=Object(n.useState)({token:"",number:"",body:"",userId:"",queueId:""}),[l]=Object(n.useState)({token:"",number:"",medias:"",body:"",userId:"",queueId:""}),[r,i]=Object(n.useState)({}),{user:s,socket:d}=Object(n.useContext)(Ca),{getPlanCompany:m}=Ia();Object(n.useEffect)(()=>{!async function(){const e=s.companyId;(await m(void 0,e)).plan.useExternalApi||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]);return o.a.createElement(Gt.a,{className:e.mainPaper,style:{marginLeft:"5px"},variant:"outlined"},o.a.createElement(z.a,{variant:"h5"},ma.a.t("messagesAPI.API.title")),o.a.createElement(z.a,{variant:"h6",color:"primary",className:e.elementMargin},ma.a.t("messagesAPI.API.methods.title")),o.a.createElement(z.a,{component:"div"},o.a.createElement("ol",null,o.a.createElement("li",null,ma.a.t("messagesAPI.API.methods.messagesText")),o.a.createElement("li",null,ma.a.t("messagesAPI.API.methods.messagesMidia")))),o.a.createElement(z.a,{variant:"h6",color:"primary",className:e.elementMargin},ma.a.t("messagesAPI.API.instructions.title")),o.a.createElement(z.a,{className:e.elementMargin,component:"div"},o.a.createElement("b",null,ma.a.t("messagesAPI.API.instructions.comments")),o.a.createElement("br",null),o.a.createElement("ul",null,o.a.createElement("li",null,ma.a.t("messagesAPI.API.instructions.comments1")),o.a.createElement("li",null,ma.a.t("messagesAPI.API.instructions.comments2"),o.a.createElement("ul",null,o.a.createElement("li",null,ma.a.t("messagesAPI.API.instructions.codeCountry")),o.a.createElement("li",null,ma.a.t("messagesAPI.API.instructions.code")),o.a.createElement("li",null,ma.a.t("messagesAPI.API.instructions.number")))))),o.a.createElement(z.a,{variant:"h6",color:"primary",className:e.elementMargin},ma.a.t("messagesAPI.API.text.title")),o.a.createElement(Yt.a,{container:!0},o.a.createElement(Yt.a,{item:!0,xs:12,sm:6},o.a.createElement(z.a,{className:e.elementMargin,component:"div"},o.a.createElement("p",null,ma.a.t("messagesAPI.API.text.instructions")),o.a.createElement("b",null,ma.a.t("messagesAPIInstructions.endpoint"))," ","https://api.datamixsistemas.com.br/api/messages/send"," ",o.a.createElement("br",null),o.a.createElement("b",null,ma.a.t("messagesAPIInstructions.method"))," ",ma.a.t("messagesAPIInstructions.post")," ",o.a.createElement("br",null),o.a.createElement("b",null,ma.a.t("messagesAPIInstructions.headers"))," ",ma.a.t("messagesAPIInstructions.headerAuthorization")," ",o.a.createElement("br",null),o.a.createElement("b",null,ma.a.t("messagesAPIInstructions.body"))," ","{"," ",o.a.createElement("br",null),ma.a.t("messagesAPIInstructions.fieldNumber")," ",o.a.createElement("br",null),ma.a.t("messagesAPIInstructions.fieldBody")," ",o.a.createElement("br",null),ma.a.t("messagesAPIInstructions.fieldUserId")," ",o.a.createElement("br",null),ma.a.t("messagesAPIInstructions.fieldQueueId")," ",o.a.createElement("br",null),ma.a.t("messagesAPIInstructions.fieldSendSignature")," ",o.a.createElement("br",null),ma.a.t("messagesAPIInstructions.fieldCloseTicket")," ",o.a.createElement("br",null),"}")),o.a.createElement(Yt.a,{item:!0,xs:12,sm:6},o.a.createElement(z.a,{className:e.elementMargin},o.a.createElement("b",null,ma.a.t("messagesAPIInstructions.testSend"))),o.a.createElement(Pt.e,{initialValues:t,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{const{number:a,body:t,userId:n,queueId:o}=e,l={number:a,body:t,userId:n,queueId:o};try{await c.a.request({url:"https://api.datamixsistemas.com.br/api/messages/send",method:"POST",data:l,headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e.token)}}),O.b.success("Mensagem enviada com sucesso")}catch(r){ga(r)}})(e),a.setSubmitting(!1),a.resetForm()},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return o.a.createElement(Pt.d,{className:e.formContainer},o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.textMessage.userId"),name:"userId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.textMessage.queueId"),name:"queueId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,className:e.textRight},o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},t?o.a.createElement(Lt.a,{size:24,className:e.buttonProgress}):o.a.createElement(o.a.Fragment,null,ma.a.t("messagesAPI.toSend"))))))}))),o.a.createElement(z.a,{variant:"h6",color:"primary",className:e.elementMargin},ma.a.t("messagesAPI.API.media.title")),o.a.createElement(Yt.a,{container:!0},o.a.createElement(Yt.a,{item:!0,xs:12,sm:6},o.a.createElement(z.a,{className:e.elementMargin,component:"div"},o.a.createElement("p",null,ma.a.t("messagesAPI.API.media.instructions")),o.a.createElement("b",null,"Endpoint: ")," ","https://api.datamixsistemas.com.br/api/messages/send"," ",o.a.createElement("br",null),o.a.createElement("b",null,"M\xe9todo: ")," POST ",o.a.createElement("br",null),o.a.createElement("b",null,"Headers: ")," Authorization Bearer (token cadastrado) e Content-Type (multipart/form-data) ",o.a.createElement("br",null),o.a.createElement("b",null,"FormData: ")," ",o.a.createElement("br",null),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("b",null,"number: ")," 558599999999"),o.a.createElement("li",null,o.a.createElement("b",null,"body:")," Message"),o.a.createElement("li",null,o.a.createElement("b",null,"userId:"),' ID usu\xe1rio ou ""'),o.a.createElement("li",null,o.a.createElement("b",null,"queueId:"),' ID da fila ou ""'),o.a.createElement("li",null,o.a.createElement("b",null,"medias: ")," arquivo"),o.a.createElement("li",null,o.a.createElement("b",null,"sendSignature:")," ",ma.a.t("messagesAPIInstructions.singMessage")," ",o.a.createElement("br",null)),o.a.createElement("li",null,o.a.createElement("b",null,"closeTicket:")," ",ma.a.t("messagesAPIInstructions.closeTicket")," ",o.a.createElement("br",null))))),o.a.createElement(Yt.a,{item:!0,xs:12,sm:6},o.a.createElement(z.a,{className:e.elementMargin},o.a.createElement("b",null,ma.a.t("messagesAPIInstructions.testSend"))),o.a.createElement(Pt.e,{initialValues:l,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{try{const a=r[0],t=new FormData;t.append("number",e.number),t.append("body",e.body?e.body:a.name),t.append("userId",e.userId),t.append("queueId",e.queueId),t.append("medias",a),await c.a.request({url:"https://api.datamixsistemas.com.br/api/messages/send",method:"POST",data:t,headers:{"Content-type":"multipart/form-data",Authorization:"Bearer ".concat(e.token)}}),O.b.success("Mensagem enviada com sucesso")}catch(a){ga(a)}})(e),a.setSubmitting(!1),a.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return o.a.createElement(Pt.d,{className:e.formContainer},o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.textMessage.userId"),name:"userId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("messagesAPI.textMessage.queueId"),name:"queueId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:e=>i(e.target.files)})),o.a.createElement(Yt.a,{item:!0,xs:12,className:e.textRight},o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},t?o.a.createElement(Lt.a,{size:24,className:e.buttonProgress}):"Enviar"))))}))))};const Ug=Object(I.a)(e=>({mainPaperContainer:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},mainPaper:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:e.spacing(3),padding:e.spacing(2),marginBottom:e.spacing(3)},helpPaper:{position:"relative",width:"100%",minHeight:"340px",padding:e.spacing(2),boxShadow:e.shadows[3],borderRadius:e.spacing(1),cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"space-between",maxWidth:"340px"},paperHover:{transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"scale(1.03)",boxShadow:"0 0 8px",color:e.palette.primary.main}},videoThumbnail:{width:"100%",height:"calc(100% - 56px)",objectFit:"cover",borderRadius:"".concat(e.spacing(1),"px ").concat(e.spacing(1),"px 0 0")},videoTitle:{marginTop:e.spacing(1),flex:1},videoDescription:{maxHeight:"100px",overflow:"hidden"},videoModal:{display:"flex",alignItems:"center",justifyContent:"center"},videoModalContent:{outline:"none",width:"90%",maxWidth:1024,aspectRatio:"16/9",position:"relative",backgroundColor:"white",borderRadius:e.spacing(1),overflow:"hidden"}}));var Vg=()=>{const e=Ug(),[a,t]=Object(n.useState)([]),{list:l}=re(),[r,i]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){const e=await l();t(e)}()},[]);const s=()=>{i(null)},c=Object(n.useCallback)(e=>{"Escape"===e.key&&s()},[]);Object(n.useEffect)(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);return o.a.createElement(yo,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("helps.title")," (",a.length,")"),o.a.createElement(Am,null)),o.a.createElement("div",{className:e.mainPaper},o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"".concat(e.mainPaper," ").concat(e.mainPaperContainer)},a.length?a.map((a,t)=>o.a.createElement(Gt.a,{key:t,className:"".concat(e.helpPaper," ").concat(e.paperHover),onClick:()=>{return e=a.video,void i(e);var e}},o.a.createElement("img",{src:"https://img.youtube.com/vi/".concat(a.video,"/mqdefault.jpg"),alt:"Thumbnail",className:e.videoThumbnail}),o.a.createElement(z.a,{variant:"button",className:e.videoTitle},a.title),o.a.createElement(z.a,{variant:"caption",className:e.videoDescription},a.description))):null))),o.a.createElement(gc.a,{open:Boolean(r),onClose:s,className:e.videoModal},o.a.createElement("div",{className:e.videoModalContent},r&&o.a.createElement("iframe",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},src:"https://www.youtube.com/embed/".concat(r),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))))},Hg=t(839),Qg=t.n(Hg);const Gg=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Kg=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var _g=e=>{let{open:a,onClose:t,contactListId:l}=e;const r=Gg(),i={name:""},[s,c]=Object(n.useState)(i);Object(n.useEffect)(()=>{(async()=>{if(l)try{const{data:e}=await u.get("/contact-lists/".concat(l));c(a=>Object(S.a)(Object(S.a)({},a),e))}catch(e){ga(e)}})()},[l,a]);const d=()=>{t(),c(i)};return o.a.createElement("div",{className:r.root},o.a.createElement(H.a,{open:a,onClose:d,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("contactLists.dialog.edit"):ma.a.t("contactLists.dialog.add"))),o.a.createElement(Pt.e,{initialValues:s,enableReinitialize:!0,validationSchema:Kg,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=Object(S.a)({},e);try{l?await u.put("/contact-lists/".concat(l),a):await u.post("/contact-lists",a),O.b.success(ma.a.t("contactList.dialog"))}catch(t){ga(t)}d()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactLists.dialog.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:d,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("contactLists.dialog.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},"".concat(l?ma.a.t("contactLists.dialog.okEdit"):ma.a.t("contactLists.dialog.okAdd")),n&&o.a.createElement(Lt.a,{size:24,className:r.buttonProgress}))))})))},Yg=t(531),Jg=t.n(Yg);const Xg=(e,a)=>{if("LOAD_CONTACTLISTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTLIST"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACTLIST"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Zg=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var $g=()=>{const e=Zg(),a=Object(T.useHistory)(),[t,l]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(""),[x,C]=Object(n.useReducer)(Xg,[]),{user:k,socket:w}=Object(n.useContext)(Ca);Object(n.useEffect)(()=>{C({type:"RESET"}),i(1)},[v]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/contact-lists/",{params:{searchParam:v,pageNumber:r}});C({type:"LOAD_CONTACTLISTS",payload:e.records}),c(e.hasMore),l(!1)}catch(e){ga(e)}})()},500);return()=>clearTimeout(e)},[v,r]),Object(n.useEffect)(()=>{const e=k.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||C({type:"UPDATE_CONTACTLIST",payload:e.record}),"delete"===e.action&&C({type:"DELETE_CONTACTLIST",payload:+e.id})};return w.on("company-".concat(e,"-ContactList"),a),()=>{w.off("company-".concat(e,"-ContactList"),a)}},[]);return o.a.createElement(yo,null,o.a.createElement(Si,{title:p&&"".concat(ma.a.t("contactLists.confirmationModal.deleteTitle")," ").concat(p.name,"?"),open:h,onClose:f,onConfirm:()=>(async e=>{try{await u.delete("/contact-lists/".concat(e)),O.b.success(ma.a.t("contactLists.toasts.deleted"))}catch(a){ga(a)}g(null),y(""),i(1)})(p.id)},ma.a.t("contactLists.confirmationModal.deleteMessage")),o.a.createElement(_g,{open:b,onClose:()=>{m(null),E(!1)},"aria-labelledby":"form-dialog-title",contactListId:d&&d.id}),o.a.createElement(km,null,o.a.createElement(Yt.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Yt.a,{xs:12,sm:8,item:!0},o.a.createElement(Tm,null,ma.a.t("contactLists.title"))),o.a.createElement(Yt.a,{xs:12,sm:4,item:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:7,sm:6,item:!0},o.a.createElement(Ft.a,{fullWidth:!0,placeholder:ma.a.t("contacts.searchPlaceholder"),type:"search",value:v,onChange:e=>{y(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}})),o.a.createElement(Yt.a,{xs:5,sm:6,item:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{m(null),E(!0)}},ma.a.t("contactLists.buttons.add"))))))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("contactLists.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("contactLists.table.contacts")),o.a.createElement(ko.a,{align:"center"},ma.a.t("contactLists.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,x.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center"},e.name),o.a.createElement(ko.a,{align:"center"},e.contactsCount||0),o.a.createElement(ko.a,{align:"center"},o.a.createElement("a",{href:Jg.a,download:"planilha.xlsx"},o.a.createElement(F.a,{size:"small",title:"Baixar Planilha Exemplo"},o.a.createElement(Qg.a,null))),o.a.createElement(F.a,{size:"small",onClick:()=>{return t=e.id,void a.push("/contact-lists/".concat(t,"/contacts"));var t}},o.a.createElement(Ge.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{m(e),E(!0)})(e)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{size:"small",onClick:a=>{f(!0),g(e)}},o.a.createElement(Rl.a,null))))),t&&o.a.createElement(kd,{columns:3}))))))};const eb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),ab=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Dt.f().min(8,"Too Short!").max(50,"Too Long!"),email:Dt.f().email("Invalid email")});var tb=e=>{let{open:a,onClose:t,contactId:l,initialValues:r,onSave:i}=e;const s=eb(),c=Object(n.useRef)(!0),{user:{companyId:d}}=Object(n.useContext)(Ca),{contactListId:m}=Object(T.useParams)(),p={name:"",number:"",email:""},[g,b]=Object(n.useState)(p);Object(n.useEffect)(()=>()=>{c.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(r&&b(e=>Object(S.a)(Object(S.a)({},e),r)),l)try{const{data:e}=await u.get("/contact-list-items/".concat(l));c.current&&b(e)}catch(e){ga(e)}})()},[l,a,r]);const E=()=>{t(),b(p)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:a,onClose:E,maxWidth:"lg",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("contactModal.title.edit"):ma.a.t("contactModal.title.add"))),o.a.createElement(Pt.e,{initialValues:g,enableReinitialize:!0,validationSchema:ab,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(l)await u.put("/contact-list-items/".concat(l),Object(S.a)(Object(S.a)({},e),{},{companyId:d,contactListId:m})),E();else{const{data:a}=await u.post("/contact-list-items",Object(S.a)(Object(S.a)({},e),{},{companyId:d,contactListId:m}));i&&i(a),E()}O.b.success(ma.a.t("contactModal.success"))}catch(a){ga(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(z.a,{variant:"subtitle1",gutterBottom:!0},ma.a.t("contactModal.form.mainInfo")),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:s.textField}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"}))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:E,color:"secondary",disabled:r,variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:s.btnWrapper},"".concat(l?ma.a.t("contactModal.buttons.okEdit"):ma.a.t("contactModal.buttons.okAdd")),r&&o.a.createElement(Lt.a,{size:24,className:s.buttonProgress}))))})))};var nb=()=>({findById:async e=>{const{data:a}=await u.request({url:"/contact-lists/".concat(e),method:"GET"});return a},save:async e=>{const{data:a}=await u.request({url:"/contact-lists",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/contact-lists/".concat(e.id),method:"PUT",data:e});return a},deleteRecord:async e=>{const{data:a}=await u.request({url:"/contact-lists/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await u.request({url:"/contact-lists/list",method:"GET",params:e});return a}});const ob=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},lb=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var rb=()=>{const e=lb(),{user:a,socket:t}=Object(n.useContext)(Ca),{contactListId:l}=Object(T.useParams)(),r=Object(T.useHistory)(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(1),[m,p]=Object(n.useState)(""),[g,b]=Object(n.useReducer)(ob,[]),[E,h]=Object(n.useState)(null),[f,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(null),[C,k]=Object(n.useState)(!1),[w,A]=Object(n.useState)(!1),[S,j]=Object(n.useState)({}),I=Object(n.useRef)(null),{findById:M}=nb();Object(n.useEffect)(()=>{M(l).then(e=>{j(e)})},[l]),Object(n.useEffect)(()=>{b({type:"RESET"}),d(1)},[m]),Object(n.useEffect)(()=>{s(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contact-list-items",{params:{searchParam:m,pageNumber:c,contactListId:l}});b({type:"LOAD_CONTACTS",payload:e.contacts}),A(e.hasMore),s(!1)}catch(e){ga(e)}})()},500);return()=>clearTimeout(e)},[m,c,l]),Object(n.useEffect)(()=>{const e=a.companyId,n=e=>{"update"!==e.action&&"create"!==e.action||b({type:"UPDATE_CONTACTS",payload:e.record}),"delete"===e.action&&b({type:"DELETE_CONTACT",payload:+e.id}),"reload"===e.action&&b({type:"LOAD_CONTACTS",payload:e.records})};return t.on("company-".concat(e,"-ContactListItem"),n),()=>{t.off("company-".concat(e,"-ContactListItem"),n)}},[l]);return o.a.createElement(yo,{className:e.mainContainer},o.a.createElement(tb,{open:f,onClose:()=>{h(null),v(!1)},"aria-labelledby":"form-dialog-title",contactId:E}),o.a.createElement(Si,{title:y?"".concat(ma.a.t("contactListItems.confirmationModal.deleteTitle")," ").concat(y.name,"?"):"".concat(ma.a.t("contactListItems.confirmationModal.importTitlte")),open:C,onClose:k,onConfirm:()=>y?(async e=>{try{await u.delete("/contact-list-items/".concat(e)),O.b.success(ma.a.t("contacts.toasts.deleted"))}catch(a){ga(a)}x(null),p(""),d(1)})(y.id):(async()=>{try{const e=new FormData;e.append("file",I.current.files[0]),await u.request({url:"contact-lists/".concat(l,"/upload"),method:"POST",data:e})}catch(e){ga(e)}})()},y?"".concat(ma.a.t("contactListItems.confirmationModal.deleteMessage")):o.a.createElement(o.a.Fragment,null,ma.a.t("contactListItems.confirmationModal.importMessage"),o.a.createElement("a",{href:Jg.a,download:"planilha.xlsx"},"Clique aqui para baixar planilha exemplo."))),"user"===a.profile&&"disabled"===(null===a||void 0===a?void 0:a.showCampaign)?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Yt.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Yt.a,{xs:12,sm:5,item:!0},o.a.createElement(Tm,null,S.name)),o.a.createElement(Yt.a,{xs:12,sm:7,item:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,sm:6,item:!0},o.a.createElement(Ft.a,{fullWidth:!0,placeholder:ma.a.t("contactListItems.searchPlaceholder"),type:"search",value:m,onChange:e=>{p(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}})),o.a.createElement(Yt.a,{xs:4,sm:2,item:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{r.push("/contact-lists")}},ma.a.t("contactListItems.buttons.lists"))),o.a.createElement(Yt.a,{xs:4,sm:2,item:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{I.current.value=null,I.current.click()}},ma.a.t("contactListItems.buttons.import"))),o.a.createElement(Yt.a,{xs:4,sm:2,item:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{h(null),v(!0)}},ma.a.t("contactListItems.buttons.add"))))))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!w||i)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&d(e=>e+1)}},o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{k(!0)},ref:I})),o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center",style:{width:"0%"}},"#"),o.a.createElement(ko.a,null,ma.a.t("contactListItems.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("contactListItems.table.number")),o.a.createElement(ko.a,{align:"center"},ma.a.t("contactListItems.table.email")),o.a.createElement(ko.a,{align:"center"},ma.a.t("contactListItems.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,g.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center",style:{width:"0%"}},o.a.createElement(F.a,null,e.isWhatsappValid?o.a.createElement(Ja.a,{titleAccess:"Whatsapp V\xe1lido",htmlColor:"green"}):o.a.createElement(di.a,{titleAccess:"Whatsapp Inv\xe1lido",htmlColor:"grey"}))),o.a.createElement(ko.a,null,e.name),o.a.createElement(ko.a,{align:"center"},e.number),o.a.createElement(ko.a,{align:"center"},e.email),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>{return a=e.id,h(a),void v(!0);var a}},o.a.createElement(Ip.a,null)),o.a.createElement(ja,{role:a.profile,perform:"contacts-page:deleteContact",yes:()=>o.a.createElement(F.a,{size:"small",onClick:()=>{k(!0),x(e)}},o.a.createElement(Rl.a,null))})))),i&&o.a.createElement(kd,{columns:4})))))))},ib=t(1511),sb=t(1512);const cb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),db=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Nome \xe9 obrigat\xf3rio"),email:Dt.f().email("Email \xe9 inv\xe1lido").required("E-mail \xe9 obrigat\xf3rio"),numberAttendants:Dt.d(),numberConections:Dt.d()});var mb=e=>{let{open:a,onClose:t,companyId:l}=e;const r=cb(),i={name:"",email:"",passwordDefault:"",numberAttendants:1,numberConections:1,status:!1},[s,c]=Object(n.useState)(i),[d,m]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{if(l)try{const{data:e}=await u.get("/companies/listPlan/".concat(l));c(a=>Object(S.a)(Object(S.a)({},a),e))}catch(e){ga(e)}})()},[l,a]);const p=()=>{t(),c(i)};return o.a.createElement("div",{className:r.root},o.a.createElement(H.a,{open:a,onClose:p,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("companyModal.title.edit"):ma.a.t("companyModal.title.add"))),o.a.createElement(Pt.e,{initialValues:s,enableReinitialize:!0,validationSchema:db,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=Object(S.a)({},e);try{l?await u.put("/companies/".concat(l),a):await u.post("/companies",a),O.b.success(ma.a.t("companyModal.success"))}catch(t){ga(t)}p()})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:i}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("companyModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,color:"primary",name:"status",checked:a.status}),label:"Ativo"})),o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("companyModal.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,name:"passwordDefault",variant:"outlined",margin:"dense",label:ma.a.t("companyModal.form.passwordDefault"),error:t.passwordDefault&&Boolean(n.passwordDefault),helperText:t.passwordDefault&&n.passwordDefault,type:d?"text":"password",InputProps:{endAdornment:o.a.createElement(yi.a,{position:"end"},o.a.createElement(F.a,{"aria-label":"toggle password visibility",onClick:()=>m(e=>!e)},d?o.a.createElement(ib.a,null):o.a.createElement(sb.a,null)))},fullWidth:!0}))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:p,color:"secondary",disabled:i,variant:"outlined"},ma.a.t("companyModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:r.btnWrapper},"".concat(l?ma.a.t("companyModal.buttons.okEdit"):ma.a.t("companyModal.buttons.okAdd")),i&&o.a.createElement(Lt.a,{size:24,className:r.buttonProgress}))))})))};const ub=(e,a)=>{if("LOAD_COMPANIES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_COMPANIES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_COMPANIES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},pb=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var gb=()=>{const e=pb(),a=Object(T.useHistory)(),[t,l]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[f,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(""),[C,k]=Object(n.useReducer)(ub,[]),{dateToClient:w,datetimeToClient:A}=An(),{user:S,socket:j}=Object(n.useContext)(Ca),{mode:I}=Object(n.useContext)(h);Object(D.a)();Object(n.useEffect)(()=>{!async function(){S.super||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{k({type:"RESET"}),i(1)},[y]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/companiesPlan/",{params:{searchParam:y,pageNumber:r}});k({type:"LOAD_COMPANIES",payload:e.companies}),c(e.hasMore),l(!1)}catch(e){ga(e)}})()},500);return()=>clearTimeout(e)},[y,r]);const M=e=>{if(ya()(e.dueDate).isValid()){const a=ya()(),t=ya()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{backgroundColor:"#fffead"};if(t<=0)return{backgroundColor:"#fa8c8c"}}return{}},N=e=>{if(ya()(e.dueDate).isValid()){const a=ya()(),t=ya()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{color:"#000"};if(t<=0)return{color:"#fff"}}return{}};return o.a.createElement(yo,null,o.a.createElement(Si,{title:p&&"".concat(ma.a.t("compaies.confirmationModal.deleteTitle")," ").concat(p.name,"?"),open:f,onClose:v,onConfirm:()=>(async e=>{try{await u.delete("/companies/".concat(e)),O.b.success(ma.a.t("compaies.toasts.deleted"))}catch(a){ga(a)}g(null),x(""),i(1)})(p.id)},ma.a.t("compaies.confirmationModal.deleteMessage")),o.a.createElement(mb,{open:b,onClose:()=>{m(null),E(!1)},"aria-labelledby":"form-dialog-title",companyId:d&&d.id}),o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("compaies.title")," (",C.length,")")),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.ID")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.status")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.email")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.namePlan")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.value")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.createdAt")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.dueDate")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.lastLogin")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.folderSize")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.totalFiles")),o.a.createElement(ko.a,{align:"center"},ma.a.t("compaies.table.lastUpdate")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,C.map(e=>{var a,t,n,l;return o.a.createElement(To.a,{style:M(e),key:e.id},o.a.createElement(ko.a,{style:N(e),align:"center"},e.id),o.a.createElement(ko.a,{style:N(e),align:"center"},!1===e.status.status?"N\xe3o":"Sim"),o.a.createElement(ko.a,{style:N(e),align:"center"},e.name),o.a.createElement(ko.a,{style:N(e),align:"center"},e.email),o.a.createElement(ko.a,{style:N(e),align:"center"},null===e||void 0===e||null===(a=e.plan)||void 0===a?void 0:a.name),o.a.createElement(ko.a,{style:N(e),align:"center"},"R$ ",(e=>null!==e.planId?e.plan.amount?e.plan.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00":"-")(e)),o.a.createElement(ko.a,{style:N(e),align:"center"},w(e.createdAt)),o.a.createElement(ko.a,{style:N(e),align:"center"},w(e.dueDate),o.a.createElement("br",null),o.a.createElement("span",{style:N(e)},e.recurrence)),o.a.createElement(ko.a,{style:N(e),align:"center"},A(e.lastLogin)),o.a.createElement(ko.a,{style:N(e),align:"center"},(e=>{if(!e||0===e)return"0 Bytes";const a=["Bytes","KB","MB","GB","TB"];let t=0,n=e;for(;n>=1024&&t<a.length-1;)n/=1024,t++;return"".concat(n.toFixed(2)," ").concat(a[t])})((null===e||void 0===e||null===(t=e.metrics)||void 0===t?void 0:t.folderSize)||0)),o.a.createElement(ko.a,{style:N(e),align:"center"},(null===e||void 0===e||null===(n=e.metrics)||void 0===n?void 0:n.numberOfFiles)||0),o.a.createElement(ko.a,{style:N(e),align:"center"},A((null===e||void 0===e||null===(l=e.metrics)||void 0===l?void 0:l.lastUpdate)||"N\xe3o dispon\xedvel")))}),t&&o.a.createElement(kd,{columns:4}))))))},bb=t(840),Eb=t.n(bb);const hb=(e,a)=>{if("LOAD_WALLETS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_WALLET"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_WALLET"===a.type){const t=a.payload;return e.filter(e=>e.id!==t)}if("RESET"===a.type)return[]},fb=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),tableRow:{"&:hover":{backgroundColor:e.palette.action.hover}},avatar:{width:e.spacing(4),height:e.spacing(4)},filterContainer:{display:"flex",gap:e.spacing(2),marginBottom:e.spacing(2),alignItems:"center"},formControl:{minWidth:200},dialogContent:{minWidth:400}}));var vb=()=>{const e=fb(),{user:a}=(Object(T.useHistory)(),Object(n.useContext)(Ca)),[t,l]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(""),[d,m]=Object(n.useReducer)(hb,[]),[p,g]=Object(n.useState)(""),[b,E]=Object(n.useState)([]),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(null),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(!1),[A,j]=Object(n.useState)(!1),[I,M]=Object(n.useState)(null),[N,D]=Object(n.useState)(null),[P,L]=Object(n.useState)(null),[W,B]=Object(n.useState)([]),[q,z]=Object(n.useState)(!1);Object(n.useEffect)(()=>{m({type:"RESET"}),i(1)},[s,p]),Object(n.useEffect)(()=>{U()},[]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/contacts/wallets",{params:{searchParam:s,pageNumber:r,userId:p||void 0}});m({type:"LOAD_WALLETS",payload:e.wallets}),w(e.hasMore),l(!1)}catch(e){ga(e)}})()},500);return()=>clearTimeout(e)},[s,r,p]);const U=async()=>{f(!0);try{const{data:e}=await u.get("/users/");E(e.users)}catch(e){ga(e)}finally{f(!1)}},_=()=>{j(!1),M(null),D(null),L(null),B([])};return o.a.createElement(yo,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("wallets.title")),o.a.createElement(Am,null,o.a.createElement(Ft.a,{placeholder:ma.a.t("wallets.searchPlaceholder"),type:"search",value:s,onChange:e=>{c(e.target.value)},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))},size:"small"}))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!k||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement("div",{className:e.filterContainer},o.a.createElement(qt.a,{className:e.formControl},o.a.createElement(Bt.a,null,ma.a.t("wallets.filterByUser")),o.a.createElement(Wt.a,{value:p,onChange:e=>{g(e.target.value)},disabled:h},o.a.createElement(V.a,{value:""},o.a.createElement("em",null,ma.a.t("wallets.allUsers"))),b.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{padding:"checkbox"}),o.a.createElement(ko.a,null,ma.a.t("wallets.contact")),o.a.createElement(ko.a,null,ma.a.t("wallets.user")),o.a.createElement(ko.a,null,ma.a.t("wallets.queue")),o.a.createElement(ko.a,null,ma.a.t("wallets.phone")),o.a.createElement(ko.a,null,ma.a.t("wallets.email")),o.a.createElement(ko.a,{align:"center"},ma.a.t("wallets.actions")))),o.a.createElement(Co.a,null,d.map(a=>o.a.createElement(To.a,{key:a.id,className:e.tableRow},o.a.createElement(ko.a,{padding:"checkbox"},o.a.createElement(R.a,{className:e.avatar},a.contactName?a.contactName.charAt(0).toUpperCase():"?")),o.a.createElement(ko.a,null,a.contactName),o.a.createElement(ko.a,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:8}},o.a.createElement(oi.a,{fontSize:"small"}),a.userName)),o.a.createElement(ko.a,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:8}},o.a.createElement(Eb.a,{fontSize:"small"}),a.queueName)),o.a.createElement(ko.a,null,(e=>{if(!e)return"";const a=e.replace(/\D/g,"").match(/^(\d{2})(\d{2})(\d{5})(\d{4})$/);return a?"+".concat(a[1]," (").concat(a[2],") ").concat(a[3],"-").concat(a[4]):e})(a.contactNumber)),o.a.createElement(ko.a,null,a.contactEmail),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{M(e),D({id:e.userId,name:e.userName}),L(e.queueId),B([{id:e.queueId,name:e.queueName}]),j(!0)})(a)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>{y(a),C(!0)}},o.a.createElement(Rl.a,null))))),t&&o.a.createElement(kd,{avatar:!0,columns:7})))),o.a.createElement(H.a,{open:A,onClose:_,maxWidth:"sm",fullWidth:!0},o.a.createElement(Q.a,null,ma.a.t("wallets.editWallet")),o.a.createElement(G.a,{className:e.dialogContent},o.a.createElement("div",{style:{marginBottom:16}},o.a.createElement(Sl.a,{value:N,onChange:(e,a)=>{D(a),a&&a.queues?(B(a.queues),1===a.queues.length?L(a.queues[0].id):L(null)):(B([]),L(null))},options:b,getOptionLabel:e=>e.name,loading:h,renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("wallets.selectUser"),variant:"outlined",fullWidth:!0,InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,h?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})),o.a.createElement("div",null,o.a.createElement(qt.a,{fullWidth:!0,variant:"outlined"},o.a.createElement(Bt.a,null,ma.a.t("wallets.selectQueue")),o.a.createElement(Wt.a,{value:P||"",onChange:e=>L(e.target.value),label:ma.a.t("wallets.selectQueue")},W.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:_,color:"secondary"},ma.a.t("wallets.cancel")),o.a.createElement(K.a,{onClick:async()=>{if(N&&P)try{var e;await u.put("/contacts/wallet/".concat(I.contactId),{wallets:{userId:N.id,queueId:P}});const a=Object(S.a)(Object(S.a)({},I),{},{userId:N.id,userName:N.name,queueId:P,queueName:(null===(e=W.find(e=>e.id===P))||void 0===e?void 0:e.name)||""});m({type:"UPDATE_WALLET",payload:a}),O.b.success(ma.a.t("wallets.updateSuccess")),_()}catch(a){ga(a)}else O.b.error(ma.a.t("wallets.selectUserAndQueue"))},color:"primary",variant:"contained"},ma.a.t("wallets.save")))),o.a.createElement(Si,{title:ma.a.t("wallets.confirmDeleteTitle"),open:x,onClose:C,onConfirm:()=>{(async e=>{try{const a=d.find(a=>a.id===e);if(!a)return void O.b.error("Carteira n\xe3o encontrada");await u.delete("/contacts/wallet/".concat(a.contactId)),m({type:"DELETE_WALLET",payload:e}),O.b.success(ma.a.t("wallets.deleteSuccess"))}catch(a){ga(a)}})(v.id),C(!1)}},ma.a.t("wallets.confirmDeleteMessage")))},yb=t(647),xb=t.n(yb),Cb=t(841),kb=t(1513),wb=t(1514),Ab=t(1515),Tb=t(1516);const Ob=Object(I.a)(e=>({recorderContainer:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2),border:"1px dashed ".concat(e.palette.grey[400]),borderRadius:e.shape.borderRadius,marginBottom:e.spacing(2)},recordingControls:{display:"flex",alignItems:"center",gap:e.spacing(1),marginBottom:e.spacing(1)},recordButton:{backgroundColor:"#f44336",color:"white","&:hover":{backgroundColor:"#d32f2f"}},recordingIndicator:{display:"flex",alignItems:"center",gap:e.spacing(1)},timeDisplay:{fontFamily:"monospace",fontSize:"1.2rem",color:e.palette.text.primary},audioControls:{display:"flex",alignItems:"center",gap:e.spacing(1),width:"100%"},waveformPlaceholder:{width:"100%",height:60,backgroundColor:e.palette.grey[200],borderRadius:e.shape.borderRadius,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1)}}));var Sb=e=>{let{onAudioRecorded:a,onAudioDeleted:t,disabled:l=!1}=e;const r=Ob(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(0),[b,E]=Object(n.useState)(null),h=Object(n.useRef)(null),f=Object(n.useRef)(null),v=Object(n.useRef)(null),y=Object(n.useRef)([]);Object(n.useEffect)(()=>()=>{v.current&&clearInterval(v.current),b&&URL.revokeObjectURL(b)},[b]);const x=e=>{const a=Math.floor(e/60),t=e%60;return"".concat(a.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))};return o.a.createElement(tn.a,{className:r.recorderContainer},!c&&!i&&o.a.createElement(K.a,{variant:"contained",className:r.recordButton,startIcon:o.a.createElement(Es.a,null),onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:48e3,channelCount:1}}),a=(()=>{const e=["audio/ogg; codecs=opus","audio/webm; codecs=opus","audio/mp4","audio/wav"];for(const a of e)if(MediaRecorder.isTypeSupported(a))return console.log("\ud83d\udcf1 Usando formato de \xe1udio: ".concat(a)),a;console.warn("\u26a0\ufe0f Nenhum formato preferido suportado, usando padr\xe3o")})(),t=a?{mimeType:a}:{};h.current=new MediaRecorder(e,t),y.current=[],h.current.ondataavailable=e=>{e.data.size>0&&y.current.push(e.data)},h.current.onstop=()=>{const a=h.current.mimeType||"audio/ogg",t=new Blob(y.current,{type:a});console.log("\ud83c\udfb5 \xc1udio gravado: ".concat(t.size," bytes, tipo: ").concat(a)),d(t);const n=URL.createObjectURL(t);E(n),e.getTracks().forEach(e=>e.stop())},h.current.start(100),s(!0),g(0),v.current=setInterval(()=>{g(e=>e+1)},1e3)}catch(e){console.error("Erro ao iniciar grava\xe7\xe3o:",e),alert("Erro ao acessar o microfone. Verifique as permiss\xf5es.")}},disabled:l,size:"large"},"Gravar \xc1udio"),i&&o.a.createElement(tn.a,{className:r.recordingIndicator},o.a.createElement(Vt.a,{icon:o.a.createElement(Es.a,null),label:"Gravando...",color:"secondary",variant:"outlined"}),o.a.createElement(z.a,{className:r.timeDisplay},x(p)),o.a.createElement(F.a,{onClick:()=>{h.current&&i&&(h.current.stop(),s(!1),v.current&&clearInterval(v.current))},color:"primary"},o.a.createElement(kb.a,null))),c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{className:r.waveformPlaceholder},o.a.createElement(z.a,{variant:"body2",color:"textSecondary"},"\xc1udio gravado - ",x(p))),o.a.createElement("audio",{ref:f,src:b,onEnded:()=>u(!1),style:{display:"none"}}),o.a.createElement(tn.a,{className:r.audioControls},o.a.createElement(F.a,{onClick:m?()=>{f.current&&(f.current.pause(),u(!1))}:()=>{f.current&&(f.current.play(),u(!0))},color:"primary"},m?o.a.createElement(wb.a,null):o.a.createElement(Ab.a,null)),o.a.createElement(tn.a,{sx:{flexGrow:1}},o.a.createElement(z.a,{variant:"body2",align:"center"},"Clique em \u2713 para confirmar ou \ud83d\uddd1\ufe0f para excluir")),o.a.createElement(F.a,{onClick:()=>{d(null),g(0),u(!1),b&&(URL.revokeObjectURL(b),E(null)),t&&t()},color:"secondary"},o.a.createElement(hu.a,null)),o.a.createElement(F.a,{onClick:()=>{c&&a&&a(c)},color:"primary"},o.a.createElement(Tb.a,null)))))};const jb=t(614),Ib=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20},mediaContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2),padding:e.spacing(2),border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,marginBottom:e.spacing(2)},mediaOptions:{display:"flex",gap:e.spacing(1),justifyContent:"center",flexWrap:"wrap"},mediaInfo:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(1),backgroundColor:e.palette.grey[100],borderRadius:e.shape.borderRadius},existingMediaActions:{display:"flex",gap:e.spacing(1),alignItems:"center"},mediaPreview:{maxWidth:"100%",maxHeight:200,borderRadius:e.shape.borderRadius,marginTop:e.spacing(1)}})),Mb=Dt.e().shape({shortcode:Dt.f().required("Obrigat\xf3rio")});var Nb=e=>{var a;let{open:t,onClose:l,quickemessageId:r,reload:i}=e;const s=Ib(),{user:c}=Object(n.useContext)(Ca),d=Object(n.useRef)(),m={shortcode:"",message:"",geral:!0,visao:!0,isOficial:!1,status:"",language:"",category:"",metaID:""},[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(m),[h,f]=Object(n.useState)(null),[v,y]=Object(n.useState)(null),[x,C]=Object(n.useState)(0),[k,w]=Object(n.useState)(null),[A,T]=Object(n.useState)(!1),j=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await u.get("/quick-messages/".concat(r));E(a=>Object(S.a)(Object(S.a)({},a),e)),T(!1),w(null)})()}catch(e){ga(e)}},[r,t]);const I=()=>{E(m),f(null),y(null),w(null),T(!1),l()},M=e=>{y(e),f(null),w("audio"),T(!0)},N=()=>{y(null),w(null),T(!1)},R=()=>{f(null),y(null),w(null),T(!1),j.current&&(j.current.value=null)},D=()=>{T(!0),w("edit")},P=null===b||void 0===b||null===(a=b.components)||void 0===a?void 0:a.map((e,a)=>Object(S.a)({id:a},e)),L=(e,a)=>{C(a)},B=h||v,q=b.mediaPath&&!A,U=B||q;return o.a.createElement("div",{className:s.root},o.a.createElement(Si,{title:ma.a.t("quickMessages.confirmationModal.deleteTitle"),open:p,onClose:()=>g(!1),onConfirm:async()=>{h&&(f(null),j.current.value=null),v&&y(null),b.mediaPath&&(await u.delete("/quick-messages/".concat(b.id,"/media-upload")),E(e=>Object(S.a)(Object(S.a)({},e),{},{mediaPath:null,mediaName:null,mediaType:null})),O.b.success(ma.a.t("quickMessages.toasts.deleted")),"function"===typeof i&&i()),w(null),T(!1)}},ma.a.t("quickMessages.confirmationModal.deleteMessage")),o.a.createElement(H.a,{open:t,onClose:I,maxWidth:"xl",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(r?ma.a.t("quickMessages.dialog.edit"):ma.a.t("quickMessages.dialog.add"))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt",ref:j,onChange:e=>(e=>{const a=Object(da.head)(e.target.files);a&&(f(a),y(null),w("file"),T(!0))})(e)})),o.a.createElement(Pt.e,{initialValues:b,enableReinitialize:!0,validationSchema:Mb,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=Object(S.a)(Object(S.a)({},e),{},{isMedia:!!(h||v||b.mediaPath&&!A),mediaPath:h?String(h.name).replace(/ /g,"_"):e.mediaPath?jb.basename(e.mediaPath).replace(/ /g,"_"):null,isOficial:!!r&&e.isOficial});try{let e;if(r)e=await u.put("/quick-messages/".concat(r),a);else{const{data:t}=await u.post("/quick-messages",a);e={data:t}}const t=r||e.data.id;if(A&&b.mediaPath&&await u.delete("/quick-messages/".concat(t,"/media-upload")),h){const e=new FormData;e.append("typeArch","quickMessage"),e.append("file",h),console.log("\ud83d\udce4 Enviando arquivo:",{name:h.name,type:h.type,size:h.size}),await u.post("/quick-messages/".concat(t,"/media-upload"),e)}if(v){const e=new FormData;e.append("typeArch","quickMessage"),e.append("audio",v,"audio_".concat(Date.now(),".webm")),console.log("\ud83c\udfb5 Enviando \xe1udio gravado:",{size:v.size,type:v.type});const a=await u.post("/quick-messages/".concat(t,"/audio-upload"),e);console.log("\u2705 Resposta do upload de \xe1udio:",a.data)}O.b.success(ma.a.t("quickMessages.toasts.success")),"function"===typeof i&&i()}catch(t){console.error("\u274c Erro ao salvar quick message:",t),ga(t)}I()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,setFieldValue:l,values:i}=e;const m=r&&i.visao&&!i.geral&&i.userId!==c.id;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Kt.a,{value:x,onChange:L,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(_t.a,{label:ma.a.t("quickMessages.dialog.general")}),i.isOficial&&o.a.createElement(_t.a,{label:"Oficial"})),0===x&&o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,autoFocus:!0,label:ma.a.t("quickMessages.dialog.shortcode"),name:"shortcode",disabled:m,error:a.shortcode&&Boolean(t.shortcode),helperText:a.shortcode&&t.shortcode,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("quickMessages.dialog.message"),name:"message",inputRef:d,error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense",disabled:m,multiline:!0,rows:7,fullWidth:!0})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(dc,{disabled:n||m,onClick:e=>(async(e,a)=>{const t=d.current,n=t.value.substring(0,t.selectionStart),o=t.value.substring(t.selectionEnd),l=t.selectionStart+e.length;a("message","".concat(n).concat(e).concat(o)),await new Promise(e=>setTimeout(e,100)),d.current.setSelectionRange(l,l)})(e,l)})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(tn.a,{className:s.mediaContainer},o.a.createElement(z.a,{variant:"h6",gutterBottom:!0},"Anexar M\xeddia"),q&&o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{className:s.mediaInfo},o.a.createElement(tn.a,{display:"flex",alignItems:"center",gap:1},o.a.createElement("span",null,(e=>{switch(e){case"audio":return"\ud83c\udfb5";case"image":return"\ud83d\uddbc\ufe0f";case"video":return"\ud83c\udfa5";default:return"\ud83d\udcce"}})(b.mediaType)),o.a.createElement(z.a,{variant:"body2"},b.mediaName),b.mediaType&&o.a.createElement(Vt.a,{size:"small",label:b.mediaType,variant:"outlined"})),o.a.createElement(tn.a,{className:s.existingMediaActions},o.a.createElement(F.a,{onClick:D,color:"primary",size:"small",title:"Editar m\xeddia",disabled:m},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{onClick:()=>g(!0),color:"secondary",size:"small",title:"Remover m\xeddia",disabled:m},o.a.createElement(Rl.a,null)))),(e=>{if(!e.mediaPath)return null;const a="".concat("https://api.datamixsistemas.com.br","/public/company").concat(c.companyId,"/quickMessage/").concat(e.mediaName);return"image"===e.mediaType?o.a.createElement("img",{src:a,alt:e.mediaName,className:s.mediaPreview,onError:e=>{e.target.style.display="none"}}):"video"===e.mediaType?o.a.createElement("video",{controls:!0,className:s.mediaPreview,src:a},"Seu navegador n\xe3o suporta o elemento de v\xeddeo."):null})(b)),h&&o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{className:s.mediaInfo},o.a.createElement(tn.a,{display:"flex",alignItems:"center",gap:1},o.a.createElement(oc.a,null),o.a.createElement(z.a,{variant:"body2"},h.name),o.a.createElement(Vt.a,{size:"small",label:"Novo Arquivo",color:"primary"})),o.a.createElement(F.a,{onClick:()=>{f(null),w(null),T(!1),j.current&&(j.current.value=null)},color:"secondary",size:"small"},o.a.createElement(Rl.a,null)))),v&&o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{className:s.mediaInfo},o.a.createElement(tn.a,{display:"flex",alignItems:"center",gap:1},o.a.createElement(xb.a,null),o.a.createElement(z.a,{variant:"body2"},"Novo \xe1udio gravado"),o.a.createElement(Vt.a,{size:"small",label:"Novo \xc1udio",color:"secondary"})),o.a.createElement(F.a,{onClick:N,color:"secondary",size:"small"},o.a.createElement(Rl.a,null)))),(!U||A)&&o.a.createElement(o.a.Fragment,null,A&&q&&o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,null),o.a.createElement(z.a,{variant:"body2",color:"textSecondary",align:"center"},"Escolha uma nova m\xeddia para substituir:")),!U&&o.a.createElement(z.a,{variant:"body2",color:"textSecondary",align:"center"},"Escolha uma op\xe7\xe3o para anexar m\xeddia:"),o.a.createElement(tn.a,{className:s.mediaOptions},o.a.createElement(K.a,{variant:"outlined",startIcon:o.a.createElement(oc.a,null),onClick:()=>j.current.click(),disabled:n||m},"Anexar Arquivo"),o.a.createElement(K.a,{variant:"outlined",startIcon:o.a.createElement(xb.a,null),onClick:()=>w("audio"),disabled:n||m},"Gravar \xc1udio"),A&&o.a.createElement(K.a,{variant:"outlined",color:"secondary",onClick:R,disabled:n},"Cancelar Edi\xe7\xe3o"))),"audio"===k&&!v&&o.a.createElement(Sb,{onAudioRecorded:M,onAudioDeleted:N,disabled:n||m}))),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,{id:"geral-selection-label"},ma.a.t("quickMessages.dialog.visao")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("quickMessages.dialog.visao"),placeholder:ma.a.t("quickMessages.dialog.visao"),labelId:"visao-selection-label",id:"visao",disabled:m,name:"visao",onChange:e=>{l("visao","true"===e.target.value)},error:a.visao&&Boolean(t.visao),value:i.visao?"true":"false"},o.a.createElement(V.a,{value:"true"},ma.a.t("announcements.active")),o.a.createElement(V.a,{value:"false"},ma.a.t("announcements.inactive")))),!0===i.visao&&o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,{id:"geral-selection-label"},ma.a.t("quickMessages.dialog.geral")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("quickMessages.dialog.geral"),placeholder:ma.a.t("quickMessages.dialog.geral"),labelId:"novo-item-selection-label",id:"geral",name:"geral",disabled:m,value:i.geral?"true":"false",error:a.geral&&Boolean(t.geral)},o.a.createElement(V.a,{value:"true"},ma.a.t("announcements.active")),o.a.createElement(V.a,{value:"false"},ma.a.t("announcements.inactive")))))),1===x&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Cb.a,{rows:P,columns:[{field:"type",headerName:"Tipo",width:150},{field:"text",headerName:"Valor",width:400}],pageSize:5,disableSelectionOnClick:!0,autoHeight:!0})),o.a.createElement(Yt.a,{container:!0,spacing:2},o.a.createElement(Yt.a,{xl:6,md:6,sm:12,xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,autoFocus:!0,label:ma.a.t("quickMessages.dialog.status"),name:"status",disabled:i.isOficial,error:a.status&&Boolean(t.status),helperText:a.status&&t.status,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{xl:6,md:6,sm:12,xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,autoFocus:!0,label:ma.a.t("quickMessages.dialog.language"),name:"language",disabled:i.isOficial,error:a.language&&Boolean(t.language),helperText:a.language&&t.language,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{xl:6,md:6,sm:12,xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,autoFocus:!0,label:ma.a.t("quickMessages.dialog.category"),name:"category",disabled:i.isOficial,error:a.category&&Boolean(t.category),helperText:a.category&&t.category,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{xl:6,md:6,sm:12,xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,autoFocus:!0,label:ma.a.t("quickMessages.dialog.metaID"),name:"metaID",disabled:i.isOficial,error:a.metaID&&Boolean(t.metaID),helperText:a.metaID&&t.metaID,variant:"outlined",margin:"dense",fullWidth:!0}))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:I,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("quickMessages.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n||m,variant:"contained",className:s.btnWrapper},"".concat(r?ma.a.t("quickMessages.buttons.edit"):ma.a.t("quickMessages.buttons.add")),n&&o.a.createElement(Lt.a,{size:24,className:s.buttonProgress}))))})))};const Rb=(e,a)=>{if("LOAD_QUICKMESSAGES"===a.type){const t=a.payload,n=[];return Object(da.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_QUICKMESSAGES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_QUICKMESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Db=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),mediaChip:{fontSize:"0.75rem",height:24}}));var Pb=()=>{const e=Db(),[a,t]=Object(n.useState)(!1),[l,r]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,h]=Object(n.useState)(!1),[f,v]=Object(n.useState)(""),[y,x]=Object(n.useReducer)(Rb,[]),{user:C,socket:k}=Object(n.useContext)(Ca),{profile:w}=C;Object(n.useEffect)(()=>{x({type:"RESET"}),r(1)},[f]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{A()},500);return()=>clearTimeout(e)},[f,l]),Object(n.useEffect)(()=>{const e=C.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_QUICKMESSAGES",payload:e.record}),"delete"===e.action&&x({type:"DELETE_QUICKMESSAGE",payload:+e.id})};return k.on("company-".concat(e,"-quickemessage"),a),()=>{k.off("company-".concat(e,"-quickemessage"),a)}},[k]);const A=async()=>{try{C.companyId;const{data:e}=await u.get("/quick-messages",{params:{searchParam:f,pageNumber:l}});x({type:"LOAD_QUICKMESSAGES",payload:e.records}),s(e.hasMore),t(!1)}catch(e){ga(e)}};return o.a.createElement(yo,null,o.a.createElement(Si,{title:m&&"".concat(ma.a.t("quickMessages.confirmationModal.deleteTitle")," ").concat(m.shortcode,"?"),open:E,onClose:h,onConfirm:()=>(async e=>{try{await u.delete("/quick-messages/".concat(e)),O.b.success(ma.a.t("quickemessages.toasts.deleted"))}catch(a){ga(a)}p(null),v(""),r(1),A(),x({type:"RESET"})})(m.id)},ma.a.t("quickMessages.confirmationModal.deleteMessage")),o.a.createElement(Nb,{resetPagination:()=>{r(1),A()},open:g,onClose:()=>{d(null),b(!1),A()},"aria-labelledby":"form-dialog-title",quickemessageId:c&&c.id}),o.a.createElement(km,null,o.a.createElement(Yt.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Yt.a,{xs:12,sm:8,item:!0},o.a.createElement(Tm,null,ma.a.t("quickMessages.title"))),o.a.createElement(Yt.a,{xs:12,sm:4,item:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,sm:6,item:!0},o.a.createElement(Ft.a,{fullWidth:!0,placeholder:ma.a.t("quickMessages.searchPlaceholder"),type:"search",value:f,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}})),o.a.createElement(Yt.a,{xs:6,sm:6,item:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",onClick:()=>{d(null),b(!0)},color:"primary"},ma.a.t("quickMessages.buttons.add"))))))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&r(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("quickMessages.table.shortcode")),o.a.createElement(ko.a,{align:"center"},"M\xeddia"),o.a.createElement(ko.a,{align:"center"},ma.a.t("quickMessages.table.status")),o.a.createElement(ko.a,{align:"center"},ma.a.t("quickMessages.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,y.map(a=>o.a.createElement(To.a,{key:a.id},o.a.createElement(ko.a,{align:"center"},a.shortcode),o.a.createElement(ko.a,{align:"center"},(a=>{if(!a.mediaName)return ma.a.t("quickMessages.noAttachment");const t=a.mediaType||"document";return o.a.createElement(tn.a,{display:"flex",alignItems:"center",gap:1},o.a.createElement("span",null,(e=>{switch(e){case"audio":return"\ud83c\udfb5";case"image":return"\ud83d\uddbc\ufe0f";case"video":return"\ud83c\udfa5";default:return"\ud83d\udcce"}})(t)),o.a.createElement(Vt.a,{size:"small",label:t,color:(e=>{switch(e){case"audio":return"secondary";case"image":return"primary";case"video":default:return"default"}})(t),className:e.mediaChip}))})(a)),o.a.createElement(ko.a,{align:"center"},!0===a.geral?o.a.createElement(Ja.a,{style:{color:"green"}}):""),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{d(e),b(!0)})(a)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{size:"small",onClick:e=>{h(!0),p(a)}},o.a.createElement(Rl.a,null))))),a&&o.a.createElement(kd,{columns:4}))))))};const Fb=["component","isPrivate"];var Lb=e=>{let{component:a,isPrivate:t=!1}=e,l=Object(at.a)(e,Fb);const{isAuth:r,loading:i}=Object(n.useContext)(Ca);return!r&&t?o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(gn,null),o.a.createElement(T.Redirect,{to:{pathname:"/login",state:{from:l.location}}})):r&&!t?o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(gn,null),o.a.createElement(T.Redirect,{to:{pathname:"/",state:{from:l.location}}}),";"):o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(gn,null),o.a.createElement(T.Route,Object.assign({},l,{component:a})))},Wb=t(658);t(1199),t(1200),t(1201);const Bb={fontSize:"14px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},qb=Object(Wb.b)(ya.a);var zb={date:ma.a.t("schedules.date"),time:ma.a.t("schedules.time"),event:ma.a.t("schedules.event"),allDay:ma.a.t("schedules.allDay"),week:ma.a.t("schedules.week"),work_week:ma.a.t("schedules.work_week"),day:ma.a.t("schedules.day"),month:ma.a.t("schedules.month"),previous:ma.a.t("schedules.previous"),next:ma.a.t("schedules.next"),yesterday:ma.a.t("schedules.yesterday"),tomorrow:ma.a.t("schedules.tomorrow"),today:ma.a.t("schedules.today"),agenda:ma.a.t("schedules.agenda"),noEventsInRange:ma.a.t("schedules.noEventsInRange"),showMore:function(e){return"+"+e+" mais"}};const Ub=(e,a)=>{if("LOAD_SCHEDULES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_SCHEDULES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_SCHEDULE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Vb=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),calendarToolbar:{"& .rbc-toolbar-label":{color:"light"===e.mode?e.palette.light:"white"},"& .rbc-btn-group button":{color:"light"===e.mode?e.palette.light:"white","&:hover":{color:"dark"===e.palette.mode?"#fff":"#000"},"&:active":{color:"dark"===e.palette.mode?"#fff":"#000"},"&:focus":{color:"dark"===e.palette.mode?"#fff":"#000"},"&.rbc-active":{color:"dark"===e.palette.mode?"#fff":"#000"}}}}));var Hb=()=>{const e=Vb(),a=Object(T.useHistory)(),{user:t,socket:l}=Object(n.useContext)(Ca),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(null),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(""),[x,C]=Object(n.useReducer)(Ub,[]),[k,w]=Object(n.useState)(!1),[A,S]=Object(n.useState)((j="contactId",+new URLSearchParams(window.location.search).get(j)));var j;const{getPlanCompany:I}=Ia();Object(n.useEffect)(()=>{!async function(){const e=t.companyId;(await I(void 0,e)).plan.useSchedules||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[t,a,I]);const M=Object(n.useCallback)(async()=>{try{const{data:e}=await u.get("/schedules",{params:{searchParam:v,pageNumber:s}});C({type:"LOAD_SCHEDULES",payload:e.schedules}),m(e.hasMore),i(!1)}catch(e){ga(e)}},[v,s]),N=Object(n.useCallback)(()=>{A&&R()},[A]);Object(n.useEffect)(()=>{C({type:"RESET"}),c(1)},[v]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{M()},500);return()=>clearTimeout(e)},[v,s,A,M,N]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||C({type:"UPDATE_SCHEDULES",payload:e.schedule}),"delete"===e.action&&C({type:"DELETE_SCHEDULE",payload:+e.scheduleId})};return l.on("company".concat(t.companyId,"-schedule"),e),()=>{l.off("company".concat(t.companyId,"-schedule"),e)}},[l]);const R=()=>{g(null),w(!0)},D=async e=>{try{await u.delete("/schedules/".concat(e)),O.b.success(ma.a.t("schedules.toasts.deleted"))}catch(a){ga(a)}E(null),y(""),c(1),C({type:"RESET"}),c(1),await M()};return o.a.createElement(yo,null,o.a.createElement(Si,{title:b&&"".concat(ma.a.t("schedules.confirmationModal.deleteTitle")),open:h,onClose:()=>f(!1),onConfirm:()=>D(b.id)},ma.a.t("schedules.confirmationModal.deleteMessage")),k&&o.a.createElement(pc,{open:k,onClose:()=>{g(null),w(!1)},reload:M,scheduleId:p?p.id:null,contactId:A,cleanContact:()=>{S("")},user:t}),o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("schedules.title")," (",x.length,")"),o.a.createElement(Am,null,o.a.createElement(Ft.a,{placeholder:ma.a.t("contacts.searchPlaceholder"),type:"search",value:v,onChange:e=>{y(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:R},ma.a.t("schedules.buttons.add")))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},o.a.createElement(Wb.a,{messages:zb,formats:{agendaDateFormat:"DD/MM ddd",weekdayFormat:"dddd"},localizer:qb,events:x.map(e=>{var a;return{title:o.a.createElement("div",{key:e.id,className:"event-container"},o.a.createElement("div",{style:Bb},null===e||void 0===e||null===(a=e.contact)||void 0===a?void 0:a.name),o.a.createElement(Rl.a,{onClick:()=>D(e.id),className:"delete-icon"}),o.a.createElement(Ip.a,{onClick:()=>{(e=>{g(e),w(!0)})(e),w(!0)},className:"edit-icon"})),start:new Date(e.sendAt),end:new Date(e.sendAt)}}),startAccessor:"start",endAccessor:"end",style:{height:500},className:e.calendarToolbar})))},Qb=t(861),Gb=t.n(Qb),Kb=t(859),_b=t.n(Kb),Yb=t(858),Jb=t.n(Yb),Xb=t(532),Zb=t.n(Xb),$b=t(860),eE=t.n($b);const aE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},recurrenceCard:{marginTop:e.spacing(2),padding:e.spacing(2),backgroundColor:e.palette.grey[50]},previewCard:{marginTop:e.spacing(1),maxHeight:200,overflow:"auto"},recurrenceIcon:{marginRight:e.spacing(1),color:e.palette.primary.main}})),tE=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),isRecurring:Dt.b().default(!1),recurrenceType:Dt.f().when("isRecurring",{is:!0,then:Dt.f().oneOf(["daily","weekly","biweekly","monthly","yearly"]).required("Tipo de recorr\xeancia \xe9 obrigat\xf3rio"),otherwise:Dt.f().nullable()}),recurrenceInterval:Dt.d().when("isRecurring",{is:!0,then:Dt.d().min(1,"Intervalo deve ser maior que 0").required("Intervalo \xe9 obrigat\xf3rio"),otherwise:Dt.d().nullable()}),recurrenceDaysOfWeek:Dt.a().when(["isRecurring","recurrenceType"],{is:(e,a)=>e&&"weekly"===a,then:Dt.a().min(1,"Selecione pelo menos um dia da semana").required(),otherwise:Dt.a().nullable()}),recurrenceDayOfMonth:Dt.d().when(["isRecurring","recurrenceType"],{is:(e,a)=>e&&"monthly"===a,then:Dt.d().min(1,"Dia deve ser entre 1 e 31").max(31,"Dia deve ser entre 1 e 31").required("Dia do m\xeas \xe9 obrigat\xf3rio"),otherwise:Dt.d().nullable()}),recurrenceEndDate:Dt.c().when("isRecurring",{is:!0,then:Dt.c().min(new Date,"Data final deve ser futura").nullable(),otherwise:Dt.c().nullable()}),maxExecutions:Dt.d().when("isRecurring",{is:!0,then:Dt.d().min(1,"N\xfamero m\xe1ximo deve ser maior que 0").nullable(),otherwise:Dt.d().nullable()})});var nE=e=>{let{open:a,onClose:t,campaignId:l,initialValues:r,onSave:i,resetPagination:s}=e;const c=aE(),d=Object(n.useRef)(!0),{user:m,socket:p}=Object(n.useContext)(Ca),{companyId:g}=m,b={name:"",message1:"",message2:"",message3:"",message4:"",message5:"",confirmationMessage1:"",confirmationMessage2:"",confirmationMessage3:"",confirmationMessage4:"",confirmationMessage5:"",status:"INATIVA",confirmation:!1,scheduledAt:"",contactListId:"",tagListId:"Nenhuma",companyId:g,statusTicket:"closed",openTicket:"disabled",isRecurring:!1,recurrenceType:"",recurrenceInterval:1,recurrenceDaysOfWeek:[],recurrenceDayOfMonth:1,recurrenceEndDate:"",maxExecutions:null},[E,h]=Object(n.useState)(b),[f,v]=Object(n.useState)([]),[y,x]=Object(n.useState)([]),[C,k]=Object(n.useState)(null),[w,A]=Object(n.useState)([]),[T,j]=Object(n.useState)([]),[I,M]=Object(n.useState)(0),[N,R]=Object(n.useState)(null),[D,P]=Object(n.useState)(!1),[W,B]=Object(n.useState)(!0),[q,U]=Object(n.useState)([]),[Y,Z]=Object(n.useState)(!1),$=Object(n.useRef)(null),[ee,ae]=Object(n.useState)([]),[te,ne]=Object(n.useState)([]),[oe,le]=Object(n.useState)([]),[re,ie]=Object(n.useState)(!1),[se,de]=Object(n.useState)(""),[me,ue]=Object(n.useState)(null),[pe,ge]=Object(n.useState)(null),{findAll:be}=Er(),Ee=[{value:0,label:"Domingo"},{value:1,label:"Segunda-feira"},{value:2,label:"Ter\xe7a-feira"},{value:3,label:"Quarta-feira"},{value:4,label:"Quinta-feira"},{value:5,label:"Sexta-feira"},{value:6,label:"S\xe1bado"}],he=e=>{const a=[];let t=ya()(e.scheduledAt);for(let n=0;n<5;n++)switch(a.push(t.format("DD/MM/YYYY HH:mm")),e.recurrenceType){case"daily":t=t.clone().add(e.recurrenceInterval,"days");break;case"weekly":t=t.clone().add(e.recurrenceInterval,"weeks");break;case"biweekly":t=t.clone().add(2*e.recurrenceInterval,"weeks");break;case"monthly":t=t.clone().add(e.recurrenceInterval,"months"),e.recurrenceDayOfMonth&&(t=t.date(e.recurrenceDayOfMonth));break;case"yearly":t=t.clone().add(e.recurrenceInterval,"years")}return a};Object(n.useEffect)(()=>()=>{d.current=!1},[]),Object(n.useEffect)(()=>{if(d.current){(async()=>{const e=await be();le(e),ne(e)})()}},[]),Object(n.useEffect)(()=>{if(se.length<3)return ie(!1),void ge("");const e=setTimeout(()=>{ie(!0);(async()=>{try{const{data:e}=await u.get("/users/");ae(e.users),ie(!1)}catch(e){ie(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[se]),Object(n.useEffect)(()=>{if(d.current){if(r&&h(e=>Object(S.a)(Object(S.a)({},e),r)),u.get("/contact-lists/list",{params:{companyId:g}}).then(e=>{let{data:a}=e;return A(a)}),u.get("/whatsapp",{params:{companyId:g,session:0}}).then(e=>{let{data:a}=e;const t=a.map(e=>Object(S.a)(Object(S.a)({},e),{},{selected:!1}));v(t)}),u.get("/tags/list",{params:{companyId:g,kanban:0}}).then(e=>{let{data:a}=e;const t=a.filter(e=>e.contacts.length>0).map(e=>({id:e.id,name:"".concat(e.name," (").concat(e.contacts.length,")")}));j(t)}).catch(e=>{console.error("Error retrieving tags:",e)}),!l)return;u.get("/campaigns/".concat(l)).then(e=>{let{data:a}=e;(null===a||void 0===a?void 0:a.user)&&ue(a.user),(null===a||void 0===a?void 0:a.queue)&&ge(a.queue.id),(null===a||void 0===a?void 0:a.whatsappId)?k(parseInt(a.whatsappId)):k(null),h(e=>{let t=Object.assign({},e);return Object.entries(a).forEach(e=>{let[a,n]=e;t[a]="scheduledAt"===a&&""!==n&&null!==n?ya()(n).format("YYYY-MM-DDTHH:mm"):"recurrenceEndDate"===a&&""!==n&&null!==n?ya()(n).format("YYYY-MM-DD"):"recurrenceDaysOfWeek"===a&&n?JSON.parse(n):null===n?"":n}),t})})}},[l,a,r,g]),Object(n.useEffect)(()=>{const e=ya()(),a=ya()(E.scheduledAt),t=!Number.isNaN(a.diff(e))&&a.diff(e,"hour")>1,n="INATIVA"===E.status||"PROGRAMADA"===E.status&&t;B(n)},[E.status,E.scheduledAt]);const fe=()=>{t(),h(b),U([]),Z(!1)},ve=e=>o.a.createElement(Pt.b,{as:Ft.a,id:e,name:e,fullWidth:!0,rows:5,label:ma.a.t("campaigns.dialog.form.".concat(e)),placeholder:ma.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",helperText:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalizadas.",disabled:!W&&"CANCELADA"!==E.status}),ye=e=>o.a.createElement(Pt.b,{as:Ft.a,id:e,name:e,fullWidth:!0,rows:5,label:ma.a.t("campaigns.dialog.form.".concat(e)),placeholder:ma.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",disabled:!W&&"CANCELADA"!==E.status}),xe=Object(Ol.a)({trim:!0});return o.a.createElement("div",{className:c.root},o.a.createElement(Si,{title:ma.a.t("campaigns.confirmationModal.deleteTitle"),open:D,onClose:()=>P(!1),onConfirm:async()=>{N&&(R(null),$.current.value=null),E.mediaPath&&(await u.delete("/campaigns/".concat(E.id,"/media-upload")),h(e=>Object(S.a)(Object(S.a)({},e),{},{mediaPath:null,mediaName:null})),O.b.success(ma.a.t("campaigns.toasts.deleted")))}},ma.a.t("campaigns.confirmationModal.deleteMessage")),o.a.createElement(H.a,{open:a,onClose:fe,fullWidth:!0,maxWidth:"lg",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},W?o.a.createElement(o.a.Fragment,null,"".concat(l?ma.a.t("campaigns.dialog.update"):ma.a.t("campaigns.dialog.new"))):o.a.createElement(o.a.Fragment,null,"".concat(ma.a.t("campaigns.dialog.readonly")))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",ref:$,onChange:e=>(e=>{const a=Object(da.head)(e.target.files);a&&R(a)})(e)})),o.a.createElement(Pt.e,{initialValues:E,enableReinitialize:!0,validationSchema:tE,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{const a=Object(S.a)(Object(S.a)({},e),{},{whatsappId:C,userId:(null===me||void 0===me?void 0:me.id)||null,queueId:pe||null,recurrenceDaysOfWeek:e.isRecurring&&e.recurrenceDaysOfWeek&&e.recurrenceDaysOfWeek.length>0?e.recurrenceDaysOfWeek:null});if(Object.entries(e).forEach(e=>{let[t,n]=e;"scheduledAt"===t&&""!==n&&null!==n||"recurrenceEndDate"===t&&""!==n&&null!==n?a[t]=ya()(n).format("YYYY-MM-DD HH:mm:ss"):"recurrenceDaysOfWeek"!==t&&(a[t]=""===n?null:n)}),e.isRecurring||(a.recurrenceType=null,a.recurrenceInterval=null,a.recurrenceDaysOfWeek=null,a.recurrenceDayOfMonth=null,a.recurrenceEndDate=null,a.maxExecutions=null),l){if(await u.put("/campaigns/".concat(l),a),null!=N){const e=new FormData;e.append("file",N),await u.post("/campaigns/".concat(l,"/media-upload"),e)}fe()}else{const{data:e}=await u.post("/campaigns",a);if(null!=N){const a=new FormData;a.append("file",N),await u.post("/campaigns/".concat(e.id,"/media-upload"),a)}i&&i(e),fe()}O.b.success(ma.a.t("campaigns.toasts.success"))}catch(a){console.log(a),ga(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r,setFieldValue:i}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("campaigns.dialog.form.name"),name:"name",error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,className:c.textField,disabled:!W})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(Bt.a,{id:"confirmation-selection-label"},ma.a.t("campaigns.dialog.form.confirmation")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("campaigns.dialog.form.confirmation"),placeholder:ma.a.t("campaigns.dialog.form.confirmation"),labelId:"confirmation-selection-label",id:"confirmation",name:"confirmation",error:n.confirmation&&Boolean(t.confirmation),disabled:!W},o.a.createElement(V.a,{value:!1},"Desabilitada"),o.a.createElement(V.a,{value:!0},"Habilitada")))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(Bt.a,{id:"contactList-selection-label"},ma.a.t("campaigns.dialog.form.contactList")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("campaigns.dialog.form.contactList"),placeholder:ma.a.t("campaigns.dialog.form.contactList"),labelId:"contactList-selection-label",id:"contactListId",name:"contactListId",error:n.contactListId&&Boolean(t.contactListId),disabled:!W},o.a.createElement(V.a,{value:""},"Nenhuma"),w&&w.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(Bt.a,{id:"tagList-selection-label"},ma.a.t("campaigns.dialog.form.tagList")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("campaigns.dialog.form.tagList"),placeholder:ma.a.t("campaigns.dialog.form.tagList"),labelId:"tagList-selection-label",id:"tagListId",name:"tagListId",error:n.tagListId&&Boolean(t.tagListId),disabled:!W},Array.isArray(T)&&T.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(Bt.a,{id:"whatsapp-selection-label"},ma.a.t("campaigns.dialog.form.whatsapp")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("campaigns.dialog.form.whatsapp"),placeholder:ma.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappIds",name:"whatsappIds",required:!0,error:n.whatsappId&&Boolean(t.whatsappId),disabled:!W,value:C,onChange:e=>{k(e.target.value)}},f&&f.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("campaigns.dialog.form.scheduledAt"),name:"scheduledAt",error:n.scheduledAt&&Boolean(t.scheduledAt),helperText:n.scheduledAt&&t.scheduledAt,variant:"outlined",margin:"dense",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,className:c.textField,disabled:!W})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Ks.a,{className:c.recurrenceCard},o.a.createElement(Gs.a,null,o.a.createElement(tn.a,{display:"flex",alignItems:"center",mb:2},o.a.createElement(Zb.a,{className:c.recurrenceIcon}),o.a.createElement(z.a,{variant:"h6"},"Configura\xe7\xe3o de Recorr\xeancia")),o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,name:"isRecurring",checked:a.isRecurring,onChange:e=>{i("isRecurring",e.target.checked),e.target.checked||(U([]),Z(!1))},disabled:!W}),label:"Habilitar recorr\xeancia"})),o.a.createElement(ce.a,{in:a.isRecurring},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,md:3,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,error:n.recurrenceType&&Boolean(t.recurrenceType)},o.a.createElement(Bt.a,null,"Tipo de Recorr\xeancia"),o.a.createElement(Pt.b,{as:Wt.a,name:"recurrenceType",label:"Tipo de Recorr\xeancia",disabled:!W,onChange:e=>{i("recurrenceType",e.target.value),i("recurrenceDaysOfWeek",[]),i("recurrenceDayOfMonth",1)}},o.a.createElement(V.a,{value:"daily"},"Di\xe1rio"),o.a.createElement(V.a,{value:"weekly"},"Semanal"),o.a.createElement(V.a,{value:"biweekly"},"Quinzenal"),o.a.createElement(V.a,{value:"monthly"},"Mensal"),o.a.createElement(V.a,{value:"yearly"},"Anual")),n.recurrenceType&&t.recurrenceType&&o.a.createElement(cu.a,{error:!0},t.recurrenceType))),o.a.createElement(Yt.a,{xs:12,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"recurrenceInterval",label:"Intervalo",type:"number",variant:"outlined",margin:"dense",fullWidth:!0,inputProps:{min:1},error:n.recurrenceInterval&&Boolean(t.recurrenceInterval),helperText:n.recurrenceInterval&&t.recurrenceInterval||"A cada ".concat(a.recurrenceInterval||1," ").concat("daily"===a.recurrenceType?"dia(s)":"weekly"===a.recurrenceType?"semana(s)":"biweekly"===a.recurrenceType?"quinzena(s)":"monthly"===a.recurrenceType?"m\xeas(es)":"yearly"===a.recurrenceType?"ano(s)":""),disabled:!W})),"weekly"===a.recurrenceType&&o.a.createElement(Yt.a,{xs:12,md:6,item:!0},o.a.createElement(z.a,{variant:"subtitle2",gutterBottom:!0},"Dias da Semana"),o.a.createElement($p.a,{row:!0},Ee.map(e=>o.a.createElement(wr.a,{key:e.value,control:o.a.createElement(qr.a,{checked:a.recurrenceDaysOfWeek.includes(e.value),onChange:t=>{const n=a.recurrenceDaysOfWeek||[];t.target.checked?i("recurrenceDaysOfWeek",[...n,e.value]):i("recurrenceDaysOfWeek",n.filter(a=>a!==e.value))},disabled:!W}),label:e.label.substring(0,3)}))),n.recurrenceDaysOfWeek&&t.recurrenceDaysOfWeek&&o.a.createElement(cu.a,{error:!0},t.recurrenceDaysOfWeek)),"monthly"===a.recurrenceType&&o.a.createElement(Yt.a,{xs:12,md:3,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"recurrenceDayOfMonth",label:"Dia do M\xeas",type:"number",variant:"outlined",margin:"dense",fullWidth:!0,inputProps:{min:1,max:31},error:n.recurrenceDayOfMonth&&Boolean(t.recurrenceDayOfMonth),helperText:n.recurrenceDayOfMonth&&t.recurrenceDayOfMonth||"Dia espec\xedfico do m\xeas (1-31)",disabled:!W})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"recurrenceEndDate",label:"Data Final (opcional)",type:"date",variant:"outlined",margin:"dense",fullWidth:!0,InputLabelProps:{shrink:!0},error:n.recurrenceEndDate&&Boolean(t.recurrenceEndDate),helperText:n.recurrenceEndDate&&t.recurrenceEndDate||"Deixe vazio para recorr\xeancia infinita",disabled:!W})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,name:"maxExecutions",label:"M\xe1ximo de Execu\xe7\xf5es (opcional)",type:"number",variant:"outlined",margin:"dense",fullWidth:!0,inputProps:{min:1},error:n.maxExecutions&&Boolean(t.maxExecutions),helperText:n.maxExecutions&&t.maxExecutions||"Deixe vazio para recorr\xeancia infinita",disabled:!W})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(K.a,{variant:"outlined",startIcon:o.a.createElement(yl.a,null),onClick:()=>{(async e=>{if(e.isRecurring&&e.recurrenceType&&e.scheduledAt)try{const a={recurrenceType:e.recurrenceType,recurrenceInterval:e.recurrenceInterval,recurrenceDaysOfWeek:JSON.stringify(e.recurrenceDaysOfWeek),recurrenceDayOfMonth:e.recurrenceDayOfMonth};if(l){const{data:e}=await u.get("/campaigns/".concat(l,"/recurrence-preview"),{params:a});U(e.executions)}else{const a=he(e);U(a)}}catch(a){console.error("Erro ao buscar preview:",a)}else U([])})(a),Z(!Y)},disabled:!a.recurrenceType||!a.scheduledAt,fullWidth:!0,style:{marginTop:8}},Y?"Ocultar":"Visualizar"," Pr\xf3ximas Execu\xe7\xf5es")),o.a.createElement(ce.a,{in:Y&&q.length>0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Ks.a,{className:c.previewCard},o.a.createElement(Gs.a,null,o.a.createElement(z.a,{variant:"subtitle2",gutterBottom:!0},"Pr\xf3ximas 5 Execu\xe7\xf5es:"),o.a.createElement(L.a,{dense:!0},q.slice(0,5).map((e,a)=>o.a.createElement(_.a,{key:a,divider:!0},o.a.createElement(J.a,{primary:"".concat(a+1,"\xaa Execu\xe7\xe3o"),secondary:"string"===typeof e?e:ya()(e).format("DD/MM/YYYY HH:mm")})))))))))))))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(Bt.a,{id:"openTicket-selection-label"},ma.a.t("campaigns.dialog.form.openTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("campaigns.dialog.form.openTicket"),placeholder:ma.a.t("campaigns.dialog.form.openTicket"),labelId:"openTicket-selection-label",id:"openTicket",name:"openTicket",error:n.openTicket&&Boolean(t.openTicket),disabled:!W},o.a.createElement(V.a,{value:"enabled"},ma.a.t("campaigns.dialog.form.enabledOpenTicket")),o.a.createElement(V.a,{value:"disabled"},ma.a.t("campaigns.dialog.form.disabledOpenTicket"))))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(Sl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",className:c.formControl,getOptionLabel:e=>"".concat(e.name),value:me,size:"small",onChange:(e,a)=>{ue(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&ge(a.queues[0].id),ne(a.queues)):(ne(oe),ge(""))},options:ee,filterOptions:xe,freeSolo:!0,fullWidth:!0,autoHighlight:!0,disabled:!W||"disabled"===a.openTicket,noOptionsText:ma.a.t("transferTicketModal.noOptions"),loading:re,renderOption:e=>o.a.createElement("span",null," ",o.a.createElement(fr,{user:e})," ",e.name),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>de(e.target.value),InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,re?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(Bt.a,null,ma.a.t("transferTicketModal.fieldQueueLabel")),o.a.createElement(Wt.a,{value:pe,onChange:e=>ge(e.target.value),label:ma.a.t("transferTicketModal.fieldQueuePlaceholder"),required:!Object(da.isNil)(me),disabled:!W||"disabled"===a.openTicket},te.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(Bt.a,{id:"statusTicket-selection-label"},ma.a.t("campaigns.dialog.form.statusTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("campaigns.dialog.form.statusTicket"),placeholder:ma.a.t("campaigns.dialog.form.statusTicket"),labelId:"statusTicket-selection-label",id:"statusTicket",name:"statusTicket",error:n.statusTicket&&Boolean(t.statusTicket),disabled:!W||"disabled"===a.openTicket},o.a.createElement(V.a,{value:"closed"},ma.a.t("campaigns.dialog.form.closedTicketStatus")),o.a.createElement(V.a,{value:"pending"},ma.a.t("campaigns.dialog.form.pendingTicketStatus")),o.a.createElement(V.a,{value:"open"},ma.a.t("campaigns.dialog.form.openTicketStatus"))))),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Kt.a,{value:I,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>M(a),variant:"fullWidth",centered:!0,style:{background:"#f2f2f2",border:"1px solid #e6e6e6",borderRadius:2}},o.a.createElement(_t.a,{label:"Msg. 1",index:0}),o.a.createElement(_t.a,{label:"Msg. 2",index:1}),o.a.createElement(_t.a,{label:"Msg. 3",index:2}),o.a.createElement(_t.a,{label:"Msg. 4",index:3}),o.a.createElement(_t.a,{label:"Msg. 5",index:4})),o.a.createElement(tn.a,{style:{paddingTop:20,border:"none"}},0===I&&o.a.createElement(o.a.Fragment,null,a.confirmation?o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(o.a.Fragment,null,ve("message1"))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(o.a.Fragment,null,ye("confirmationMessage1")))):o.a.createElement(o.a.Fragment,null,ve("message1"))),1===I&&o.a.createElement(o.a.Fragment,null,a.confirmation?o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(o.a.Fragment,null,ve("message2"))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(o.a.Fragment,null,ye("confirmationMessage2")))):o.a.createElement(o.a.Fragment,null,ve("message2"))),2===I&&o.a.createElement(o.a.Fragment,null,a.confirmation?o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(o.a.Fragment,null,ve("message3"))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(o.a.Fragment,null,ye("confirmationMessage3")))):o.a.createElement(o.a.Fragment,null,ve("message3"))),3===I&&o.a.createElement(o.a.Fragment,null,a.confirmation?o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(o.a.Fragment,null,ve("message4"))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(o.a.Fragment,null,ye("confirmationMessage4")))):o.a.createElement(o.a.Fragment,null,ve("message4"))),4===I&&o.a.createElement(o.a.Fragment,null,a.confirmation?o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,md:8,item:!0},o.a.createElement(o.a.Fragment,null,ve("message5"))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(o.a.Fragment,null,ye("confirmationMessage5")))):o.a.createElement(o.a.Fragment,null,ve("message5"))))),(E.mediaPath||N)&&o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(K.a,{startIcon:o.a.createElement(oc.a,null)},null!=N?N.name:E.mediaName),W&&o.a.createElement(F.a,{onClick:()=>P(!0),color:"primary"},o.a.createElement(Rl.a,{color:"secondary"}))))),o.a.createElement(X.a,null,"CANCELADA"===E.status&&o.a.createElement(K.a,{color:"primary",onClick:()=>(async()=>{try{await u.post("/campaigns/".concat(E.id,"/restart")),O.b.success(ma.a.t("campaigns.toasts.restart")),h(e=>Object(S.a)(Object(S.a)({},e),{},{status:"EM_ANDAMENTO"})),s()}catch(e){O.b.error(e.message)}})(),variant:"outlined"},ma.a.t("campaigns.dialog.buttons.restart")),"EM_ANDAMENTO"===E.status&&o.a.createElement(K.a,{color:"primary",onClick:()=>(async()=>{try{await u.post("/campaigns/".concat(E.id,"/cancel")),O.b.success(ma.a.t("campaigns.toasts.cancel")),h(e=>Object(S.a)(Object(S.a)({},e),{},{status:"CANCELADA"})),s()}catch(e){O.b.error(e.message)}})(),variant:"outlined"},ma.a.t("campaigns.dialog.buttons.cancel")),!N&&!E.mediaPath&&W&&o.a.createElement(K.a,{color:"primary",onClick:()=>$.current.click(),disabled:r,variant:"outlined"},ma.a.t("campaigns.dialog.buttons.attach")),o.a.createElement(K.a,{onClick:fe,color:"primary",disabled:r,variant:"outlined"},ma.a.t("campaigns.dialog.buttons.close")),(W||"CANCELADA"===E.status)&&o.a.createElement(K.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:c.btnWrapper},"".concat(l?ma.a.t("campaigns.dialog.buttons.edit"):ma.a.t("campaigns.dialog.buttons.add")),r&&o.a.createElement(Lt.a,{size:24,className:c.buttonProgress}))))})))};const oE=(e,a)=>{if("LOAD_CAMPAIGNS"===a.type){const t=a.payload,n=[];return Object(da.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CAMPAIGNS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CAMPAIGN"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},lE=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.padding,overflowY:"scroll"},e.scrollbarStyles),recurringChip:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,fontSize:"0.75rem"},statusChip:{fontSize:"0.75rem"},nextExecutionCell:{fontWeight:500,color:e.palette.text.secondary},filterContainer:{marginBottom:e.spacing(2)},tableHeader:{fontWeight:"bold",backgroundColor:e.palette.grey[100]}}));var rE=()=>{const e=lE(),a=Object(T.useHistory)(),[t,l]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(""),[k,w]=Object(n.useState)(""),[A,S]=Object(n.useState)(""),[j,I]=Object(n.useReducer)(oE,[]),{user:M,socket:N}=Object(n.useContext)(Ca),{datetimeToClient:R}=An(),{getPlanCompany:D}=Ia();Object(n.useEffect)(()=>{!async function(){const e=M.companyId;(await D(void 0,e)).plan.useCampaigns||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{I({type:"RESET"}),i(1)},[x,k,A]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{P()},500);return()=>clearTimeout(e)},[x,r,k,A]),Object(n.useEffect)(()=>{const e=M.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||I({type:"UPDATE_CAMPAIGNS",payload:e.record}),"delete"===e.action&&I({type:"DELETE_CAMPAIGN",payload:+e.id})};return N.on("company-".concat(e,"-campaign"),a),()=>{N.off("company-".concat(e,"-campaign"),a)}},[M]);const P=async()=>{try{const{data:e}=await u.get("/campaigns/",{params:{searchParam:x,pageNumber:r,status:k,isRecurring:A}});I({type:"LOAD_CAMPAIGNS",payload:e.records}),c(e.hasMore),l(!1)}catch(e){ga(e)}},L=e=>{switch(e){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return e}},W=e=>{switch(e){case"INATIVA":return"default";case"PROGRAMADA":return"primary";case"EM_ANDAMENTO":return"secondary";case"CANCELADA":case"FINALIZADA":default:return"default"}},B=e=>{switch(e){case"daily":return"Di\xe1rio";case"weekly":return"Semanal";case"biweekly":return"Quinzenal";case"monthly":return"Mensal";case"yearly":return"Anual";default:return e}};return o.a.createElement(yo,null,o.a.createElement(Si,{title:p&&"".concat(ma.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(p.name,"?"),open:h,onClose:f,onConfirm:()=>(async e=>{try{await u.delete("/campaigns/".concat(e)),O.b.success(ma.a.t("campaigns.toasts.deleted"))}catch(a){ga(a)}g(null),C(""),i(1)})(p.id)},ma.a.t("campaigns.confirmationModal.deleteMessage")),o.a.createElement(Si,{title:"Interromper Recorr\xeancia",open:v,onClose:()=>y(!1),onConfirm:()=>(async e=>{try{await u.post("/campaigns/".concat(e,"/stop-recurrence")),O.b.success("Recorr\xeancia interrompida com sucesso!"),i(1),P()}catch(a){ga(a)}y(!1),m(null)})(null===d||void 0===d?void 0:d.id)},"Tem certeza que deseja interromper a recorr\xeancia desta campanha? A campanha atual continuar\xe1 sendo executada, mas n\xe3o haver\xe3o mais execu\xe7\xf5es futuras."),b&&o.a.createElement(nE,{resetPagination:()=>{i(1),P()},open:b,onClose:()=>{m(null),E(!1)},"aria-labelledby":"form-dialog-title",campaignId:d&&d.id}),"user"===M.profile&&"disabled"===(null===M||void 0===M?void 0:M.showCampaign)?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Yt.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Yt.a,{xs:12,sm:8,item:!0},o.a.createElement(Tm,null,ma.a.t("campaigns.title"))),o.a.createElement(Yt.a,{xs:12,sm:4,item:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,sm:6,item:!0},o.a.createElement(Ft.a,{fullWidth:!0,placeholder:ma.a.t("campaigns.searchPlaceholder"),type:"search",value:x,onChange:e=>{C(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}})),o.a.createElement(Yt.a,{xs:6,sm:6,item:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",onClick:()=>{m(null),E(!0)},color:"primary"},ma.a.t("campaigns.buttons.add"))))))),o.a.createElement(Gt.a,{className:e.filterContainer,style:{padding:16,marginBottom:16}},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,sm:4,item:!0},o.a.createElement(qt.a,{fullWidth:!0,variant:"outlined",size:"small"},o.a.createElement(Bt.a,null,"Filtrar por Status"),o.a.createElement(Wt.a,{value:k,onChange:e=>{w(e.target.value)},label:"Filtrar por Status"},o.a.createElement(V.a,{value:""},"Todos"),o.a.createElement(V.a,{value:"INATIVA"},"Inativa"),o.a.createElement(V.a,{value:"PROGRAMADA"},"Programada"),o.a.createElement(V.a,{value:"EM_ANDAMENTO"},"Em Andamento"),o.a.createElement(V.a,{value:"CANCELADA"},"Cancelada"),o.a.createElement(V.a,{value:"FINALIZADA"},"Finalizada")))),o.a.createElement(Yt.a,{xs:12,sm:4,item:!0},o.a.createElement(qt.a,{fullWidth:!0,variant:"outlined",size:"small"},o.a.createElement(Bt.a,null,"Filtrar por Recorr\xeancia"),o.a.createElement(Wt.a,{value:A,onChange:e=>{S(e.target.value)},label:"Filtrar por Recorr\xeancia"},o.a.createElement(V.a,{value:""},"Todas"),o.a.createElement(V.a,{value:"true"},"Recorrentes"),o.a.createElement(V.a,{value:"false"},"\xdanicas")))))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center",className:e.tableHeader},ma.a.t("campaigns.table.name")),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},ma.a.t("campaigns.table.status")),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},"Recorr\xeancia"),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},ma.a.t("campaigns.table.contactList")),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},ma.a.t("campaigns.table.whatsapp")),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},ma.a.t("campaigns.table.scheduledAt")),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},"Pr\xf3xima Execu\xe7\xe3o"),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},ma.a.t("campaigns.table.completedAt")),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},ma.a.t("campaigns.table.confirmation")),o.a.createElement(ko.a,{align:"center",className:e.tableHeader},ma.a.t("campaigns.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,j.map(t=>{var n,l;return o.a.createElement(To.a,{key:t.id},o.a.createElement(ko.a,{align:"center"},o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8}},t.isRecurring&&o.a.createElement(de.a,{title:"Campanha Recorrente"},o.a.createElement(Zb.a,{color:"primary",fontSize:"small"})),t.name)),o.a.createElement(ko.a,{align:"center"},o.a.createElement(Vt.a,{label:L(t.status),color:W(t.status),size:"small",className:e.statusChip})),o.a.createElement(ko.a,{align:"center"},t.isRecurring?o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4}},o.a.createElement(Vt.a,{label:B(t.recurrenceType),className:e.recurringChip,size:"small"}),o.a.createElement("span",{style:{fontSize:"0.75rem",color:"#666"}},t.executionCount||0," execu\xe7\xf5es")):o.a.createElement(Vt.a,{label:"\xdanica",variant:"outlined",size:"small",className:e.statusChip})),o.a.createElement(ko.a,{align:"center"},t.contactListId?(null===(n=t.contactList)||void 0===n?void 0:n.name)||"Lista removida":t.tagListId&&"Nenhuma"!==t.tagListId?"Tag: ".concat(t.tagListId):"N\xe3o definida"),o.a.createElement(ko.a,{align:"center"},t.whatsappId?(null===(l=t.whatsapp)||void 0===l?void 0:l.name)||"WhatsApp removido":"N\xe3o definido"),o.a.createElement(ko.a,{align:"center"},t.scheduledAt?R(t.scheduledAt):"Sem agendamento"),o.a.createElement(ko.a,{align:"center",className:e.nextExecutionCell},t.isRecurring&&t.nextScheduledAt?o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:4}},o.a.createElement(Fe.a,{fontSize:"small",color:"primary"}),R(t.nextScheduledAt)):t.isRecurring&&"FINALIZADA"===t.status?o.a.createElement("span",{style:{color:"#666",fontSize:"0.875rem"}},"Recorr\xeancia finalizada"):"\u2014"),o.a.createElement(ko.a,{align:"center"},t.completedAt?R(t.completedAt):"N\xe3o conclu\xedda"),o.a.createElement(ko.a,{align:"center"},t.confirmation?"Habilitada":"Desabilitada"),o.a.createElement(ko.a,{align:"center"},o.a.createElement("div",{style:{display:"flex",justifyContent:"center",gap:4}},"EM_ANDAMENTO"===t.status&&o.a.createElement(de.a,{title:"Parar Campanha"},o.a.createElement(F.a,{onClick:()=>(async e=>{try{await u.post("/campaigns/".concat(e.id,"/cancel")),O.b.success(ma.a.t("campaigns.toasts.cancel")),i(1),P()}catch(a){O.b.error(a.message)}})(t),size:"small"},o.a.createElement(Jb.a,null))),"CANCELADA"===t.status&&o.a.createElement(de.a,{title:"Reiniciar Campanha"},o.a.createElement(F.a,{onClick:()=>(async e=>{try{await u.post("/campaigns/".concat(e.id,"/restart")),O.b.success(ma.a.t("campaigns.toasts.restart")),i(1),P()}catch(a){O.b.error(a.message)}})(t),size:"small"},o.a.createElement(_b.a,null))),t.isRecurring&&"FINALIZADA"!==t.status&&o.a.createElement(de.a,{title:"Interromper Recorr\xeancia"},o.a.createElement(F.a,{onClick:()=>{m(t),y(!0)},size:"small",color:"secondary"},o.a.createElement(eE.a,null))),o.a.createElement(de.a,{title:"Relat\xf3rio"},o.a.createElement(F.a,{onClick:()=>a.push("/campaign/".concat(t.id,"/report")),size:"small"},o.a.createElement(Gb.a,null))),o.a.createElement(de.a,{title:"Editar"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{m(e),E(!0)})(t)},o.a.createElement(Ip.a,null))),o.a.createElement(de.a,{title:"Excluir"},o.a.createElement(F.a,{size:"small",onClick:e=>{f(!0),g(t)}},o.a.createElement(Rl.a,null))))))}),t&&o.a.createElement(kd,{columns:10})))))))};const iE=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.padding},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12}})),sE={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[],sabado:"false",domingo:"false",startHour:"09:00",endHour:"18:00"};var cE=()=>{const e=iE(),a=Object(T.useHistory)(),[t,l]=Object(n.useState)(sE),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)({key:"",value:""}),{user:b,socket:E}=Object(n.useContext)(Ca),[h,f]=o.a.useState(!1),[v,y]=o.a.useState(!1),[x,C]=Object(n.useState)("08:00"),[k,w]=Object(n.useState)("19:00"),{getPlanCompany:A}=Ia();Object(n.useEffect)(()=>{!async function(){const e=b.companyId;(await A(void 0,e)).plan.useCampaigns||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{u.get("/campaign-settings").then(e=>{let{data:a}=e;const t=[];console.log(a),Array.isArray(a)&&a.length>0&&(a.forEach(e=>{t.push([e.key,e.value]),"sabado"===e.key&&f("true"===(null===e||void 0===e?void 0:e.value)),"domingo"===e.key&&y("true"===(null===e||void 0===e?void 0:e.value)),"startHour"===e.key&&C(null===e||void 0===e?void 0:e.value),"endHour"===e.key&&w(null===e||void 0===e?void 0:e.value)}),l(Object.fromEntries(t)))})},[]);const j=e=>{const a={};a[e.target.name]=e.target.value,l(e=>Object(S.a)(Object(S.a)({},e),a))};return o.a.createElement(yo,null,o.a.createElement(Si,{title:ma.a.t("campaigns.confirmationModal.deleteTitle"),open:s,onClose:()=>c(!1),onConfirm:()=>{const e=t.variables.filter(e=>e.key!==d);l(a=>Object(S.a)(Object(S.a)({},a),{},{variables:e})),m(null)}},ma.a.t("campaigns.confirmationModal.deleteMessage")),"user"===b.profile&&"disabled"===(null===b||void 0===b?void 0:b.showCampaign)?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Yt.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Tm,null,ma.a.t("campaignsConfig.title"))))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(tn.a,{className:e.tabPanelsContainer},o.a.createElement(Yt.a,{spacing:1,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(z.a,{component:"h1"},"Intervalos \xa0")),o.a.createElement(Yt.a,{xs:12,md:3,item:!0},o.a.createElement(qt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"messageInterval-label"},ma.a.t("campaigns.settings.randomInterval")),o.a.createElement(Wt.a,{name:"messageInterval",id:"messageInterval",labelId:"messageInterval-label",label:ma.a.t("campaigns.settings.randomInterval"),value:t.messageInterval,onChange:e=>j(e)},o.a.createElement(V.a,{value:0},ma.a.t("campaigns.settings.noBreak")),o.a.createElement(V.a,{value:5},"5 segundos"),o.a.createElement(V.a,{value:10},"10 segundos"),o.a.createElement(V.a,{value:15},"15 segundos"),o.a.createElement(V.a,{value:20},"20 segundos"),o.a.createElement(V.a,{value:30},"30 segundos"),o.a.createElement(V.a,{value:60},"40 segundos"),o.a.createElement(V.a,{value:70},"60 segundos"),o.a.createElement(V.a,{value:80},"80 segundos"),o.a.createElement(V.a,{value:100},"100 segundos"),o.a.createElement(V.a,{value:120},"120 segundos"),"                                                `` ``"))),o.a.createElement(Yt.a,{xs:12,md:3,item:!0},o.a.createElement(qt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"longerIntervalAfter-label"},ma.a.t("campaigns.settings.intervalGapAfter")),o.a.createElement(Wt.a,{name:"longerIntervalAfter",id:"longerIntervalAfter",labelId:"longerIntervalAfter-label",label:ma.a.t("campaigns.settings.intervalGapAfter"),value:t.longerIntervalAfter,onChange:e=>j(e)},o.a.createElement(V.a,{value:0},ma.a.t("campaigns.settings.undefined")),o.a.createElement(V.a,{value:5},"5 ",ma.a.t("campaigns.settings.messages")),o.a.createElement(V.a,{value:10},"10 ",ma.a.t("campaigns.settings.messages")),o.a.createElement(V.a,{value:15},"15 ",ma.a.t("campaigns.settings.messages")),o.a.createElement(V.a,{value:20},"20 ",ma.a.t("campaigns.settings.messages")),o.a.createElement(V.a,{value:30},"30 ",ma.a.t("campaigns.settings.messages")),o.a.createElement(V.a,{value:40},"40 ",ma.a.t("campaigns.settings.messages")),o.a.createElement(V.a,{value:50},"50 ",ma.a.t("campaigns.settings.messages")),o.a.createElement(V.a,{value:60},"60 ",ma.a.t("campaigns.settings.messages"))))),o.a.createElement(Yt.a,{xs:12,md:3,item:!0},o.a.createElement(qt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"greaterInterval-label"},ma.a.t("campaigns.settings.laggerTriggerRange")),o.a.createElement(Wt.a,{name:"greaterInterval",id:"greaterInterval",labelId:"greaterInterval-label",label:ma.a.t("campaigns.settings.laggerTriggerRange"),value:t.greaterInterval,onChange:e=>j(e)},o.a.createElement(V.a,{value:0},ma.a.t("campaigns.settings.noBreak")),o.a.createElement(V.a,{value:20},"20 segundos"),o.a.createElement(V.a,{value:30},"30 segundos"),o.a.createElement(V.a,{value:40},"40 segundos"),o.a.createElement(V.a,{value:50},"50 segundos"),o.a.createElement(V.a,{value:60},"60 segundos"),o.a.createElement(V.a,{value:70},"70 segundos"),o.a.createElement(V.a,{value:80},"80 segundos"),o.a.createElement(V.a,{value:90},"90 segundos"),o.a.createElement(V.a,{value:100},"100 segundos"),o.a.createElement(V.a,{value:110},"110 segundos"),o.a.createElement(V.a,{value:120},"120 segundos"),o.a.createElement(V.a,{value:130},"130 segundos"),o.a.createElement(V.a,{value:140},"140 segundos"),o.a.createElement(V.a,{value:150},"150 segundos"),o.a.createElement(V.a,{value:160},"160 segundos"),o.a.createElement(V.a,{value:170},"170 segundos"),o.a.createElement(V.a,{value:180},"180 segundos")))),o.a.createElement(Yt.a,{xs:12,className:e.textRight,item:!0},o.a.createElement(K.a,{onClick:async()=>{await u.post("/campaign-settings",{settings:t}),O.b.success("Configura\xe7\xf5es salvas")},color:"primary",variant:"contained"},ma.a.t("campaigns.settings.save"))))))))},dE=t(1517);const mE=Object(I.a)(e=>({cardAvatar:{fontSize:"55px",color:So.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:e.palette.text.primary},cardSubtitle:{color:So.a[600],fontSize:"14px"}}));function uE(e){const{icon:a,title:t,value:n,loading:l}=e,r=mE();return l?o.a.createElement(Oo.a,{variant:"rect",height:80}):o.a.createElement(Ks.a,null,o.a.createElement(vi.a,{avatar:o.a.createElement(R.a,{className:r.cardAvatar},a),title:o.a.createElement(z.a,{variant:"h6",component:"h2",className:r.cardTitle},t),subheader:o.a.createElement(z.a,{variant:"subtitle1",component:"p",className:r.cardSubtitle},n)}))}var pE=t(862),gE=t.n(pE),bE=t(863),EE=t.n(bE);const hE=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.padding,overflowY:"scroll"},e.scrollbarStyles),textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.padding}}));var fE=()=>{const e=hE(),a=Object(T.useHistory)(),{campaignId:t}=Object(T.useParams)(),[l,r]=Object(n.useState)({}),[i,s]=Object(n.useState)(0),[c,d]=Object(n.useState)(0),[m,p]=Object(n.useState)(0),[g,b]=Object(n.useState)(0),[E,h]=Object(n.useState)(0),[f,v]=Object(n.useState)(!1),y=Object(n.useRef)(!0),{user:x,socket:C}=Object(n.useContext)(Ca),{datetimeToClient:k}=An(),{getPlanCompany:w}=Ia();Object(n.useEffect)(()=>{!async function(){const e=x.companyId;(await w(void 0,e)).plan.useCampaigns||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>(y.current&&A(),()=>{y.current=!1}),[]),Object(n.useEffect)(()=>{if(y.current&&Object(da.has)(l,"shipping")){if(Object(da.has)(l,"contactList")){const e=Object(da.get)(l,"contactList").contacts.filter(e=>e.isWhatsappValid);s(e.length)}if(Object(da.has)(l,"shipping")){const e=Object(da.get)(l,"shipping"),a=e.filter(e=>!Object(da.isNull)(e.deliveredAt)),t=e.filter(e=>!Object(da.isNull)(e.confirmationRequestedAt)),n=e.filter(e=>!Object(da.isNull)(e.deliveredAt)&&!Object(da.isNull)(e.confirmationRequestedAt));d(a.length),p(t.length),b(n.length),d(a.length)}}},[l]),Object(n.useEffect)(()=>{h(c/i*100)},[c,i]),Object(n.useEffect)(()=>{const e=x.companyId,a=e=>{e.record.id===+t&&(r(e.record),"FINALIZADA"===e.record.status&&setTimeout(()=>{A()},5e3))};return C.on("company-".concat(e,"-campaign"),a),()=>{C.off("company-".concat(e,"-campaign"),a)}},[t]);const A=async()=>{v(!0);const{data:e}=await u.get("/campaigns/".concat(t));r(e),v(!1)};return o.a.createElement(yo,null,o.a.createElement(km,null,o.a.createElement(Yt.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Tm,null,ma.a.t("campaignReport.title")," ",l.name||ma.a.t("campaignReport.campaign"))))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(z.a,{variant:"h6",component:"h2"},"Status: ",(e=>{switch(e){case"INATIVA":return ma.a.t("campaignReport.inactive");case"PROGRAMADA":return ma.a.t("campaignReport.scheduled");case"EM_ANDAMENTO":return ma.a.t("campaignReport.process");case"CANCELADA":return ma.a.t("campaignReport.cancelled");case"FINALIZADA":return ma.a.t("campaignReport.finished");default:return e}})(l.status)," ",c," de ",i),o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(dE.a,{variant:"determinate",style:{height:15,borderRadius:3,margin:"20px 0"},value:E})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(uE,{icon:o.a.createElement(lr.a,{fontSize:"inherit"}),title:ma.a.t("campaignReport.validContacts"),value:i,loading:f})),l.confirmation&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(uE,{icon:o.a.createElement(gE.a,{fontSize:"inherit"}),title:ma.a.t("campaignReport.confirmationsRequested"),value:m,loading:f})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(uE,{icon:o.a.createElement(EE.a,{fontSize:"inherit"}),title:ma.a.t("campaignReport.confirmations"),value:g,loading:f}))),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(uE,{icon:o.a.createElement(Ja.a,{fontSize:"inherit"}),title:ma.a.t("campaignReport.deliver"),value:c,loading:f})),l.whatsappId&&o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(uE,{icon:o.a.createElement(ge.a,{fontSize:"inherit"}),title:ma.a.t("campaignReport.connection"),value:l.whatsapp.name,loading:f})),l.contactListId&&o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(uE,{icon:o.a.createElement(_e.a,{fontSize:"inherit"}),title:ma.a.t("campaignReport.contactLists"),value:l.contactList.name,loading:f})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(uE,{icon:o.a.createElement(Fe.a,{fontSize:"inherit"}),title:ma.a.t("campaignReport.schedule"),value:k(l.scheduledAt),loading:f})),o.a.createElement(Yt.a,{xs:12,md:4,item:!0},o.a.createElement(uE,{icon:o.a.createElement(qe.a,{fontSize:"inherit"}),title:ma.a.t("campaignReport.conclusion"),value:k(l.completedAt),loading:f})))))};const vE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),yE=Dt.e().shape({title:Dt.f().required("Obrigat\xf3rio"),text:Dt.f().required("Obrigat\xf3rio")});var xE=e=>{let{open:a,onClose:t,announcementId:l,reload:r}=e;const i=vE(),s={title:"",text:"",priority:3,status:!0},[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(s),[g,b]=Object(n.useState)(null),E=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!l)return;const{data:e}=await u.get("/announcements/".concat(l));p(a=>Object(S.a)(Object(S.a)({},a),e))})()}catch(e){ga(e)}},[l,a]);const h=()=>{p(s),b(null),t()};return o.a.createElement("div",{className:i.root},o.a.createElement(Si,{title:ma.a.t("announcements.confirmationModal.deleteTitle"),open:c,onClose:()=>d(!1),onConfirm:async()=>{g&&(b(null),E.current.value=null),m.mediaPath&&(await u.delete("/announcements/".concat(m.id,"/media-upload")),p(e=>Object(S.a)(Object(S.a)({},e),{},{mediaPath:null})),O.b.success(ma.a.t("announcements.toasts.deleted")),"function"==typeof r&&r())}},ma.a.t("announcements.confirmationModal.deleteMessage")),o.a.createElement(H.a,{open:a,onClose:h,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("announcements.dialog.edit"):ma.a.t("announcements.dialog.add"))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:E,onChange:e=>(e=>{const a=Object(da.head)(e.target.files);a&&b(a)})(e)})),o.a.createElement(Pt.e,{initialValues:m,enableReinitialize:!0,validationSchema:yE,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=Object(S.a)({},e);try{if(l){if(await u.put("/announcements/".concat(l),a),null!=g){const e=new FormData;e.append("typeArch","announcements"),e.append("file",g),await u.post("/announcements/".concat(l,"/media-upload"),e)}}else{const{data:e}=await u.post("/announcements",a);if(null!=g){const a=new FormData;a.append("typeArch","announcements"),a.append("file",g),await u.post("/announcements/".concat(e.id,"/media-upload"),a)}}O.b.success(ma.a.t("announcements.toasts.success")),"function"==typeof r&&r()}catch(t){ga(t)}h()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("announcements.dialog.form.title"),name:"title",error:a.title&&Boolean(t.title),helperText:a.title&&t.title,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("announcements.dialog.form.text"),name:"text",error:a.text&&Boolean(t.text),helperText:a.text&&t.text,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,{id:"status-selection-label"},ma.a.t("announcements.dialog.form.status")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("announcements.dialog.form.status"),placeholder:ma.a.t("announcements.dialog.form.status"),labelId:"status-selection-label",id:"status",name:"status",error:a.status&&Boolean(t.status)},o.a.createElement(V.a,{value:!0},ma.a.t("announcements.dialog.form.active")),o.a.createElement(V.a,{value:!1},ma.a.t("announcements.dialog.form.inactive"))))),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,{id:"priority-selection-label"},ma.a.t("announcements.dialog.form.priority")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("announcements.dialog.form.priority"),placeholder:ma.a.t("announcements.dialog.form.priority"),labelId:"priority-selection-label",id:"priority",name:"priority",error:a.priority&&Boolean(t.priority)},o.a.createElement(V.a,{value:1},ma.a.t("announcements.dialog.form.high")),o.a.createElement(V.a,{value:2},ma.a.t("announcements.dialog.form.medium")),o.a.createElement(V.a,{value:3},ma.a.t("announcements.dialog.form.low"))))),(m.mediaPath||g)&&o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(K.a,{startIcon:o.a.createElement(oc.a,null)},g?g.name:m.mediaName),o.a.createElement(F.a,{onClick:()=>d(!0),color:"secondary"},o.a.createElement(Rl.a,null))))),o.a.createElement(X.a,null,!g&&!m.mediaPath&&o.a.createElement(K.a,{color:"primary",onClick:()=>E.current.click(),disabled:n,variant:"outlined"},ma.a.t("announcements.dialog.buttons.attach")),o.a.createElement(K.a,{onClick:h,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("announcements.dialog.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(l?ma.a.t("announcements.dialog.buttons.edit"):ma.a.t("announcements.dialog.buttons.add")),n&&o.a.createElement(Lt.a,{size:24,className:i.buttonProgress}))))})))};const CE=(e,a)=>{if("LOAD_ANNOUNCEMENTS"===a.type){const t=a.payload,n=[];return Object(da.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_ANNOUNCEMENT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},kE=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.padding,overflowY:"scroll"},e.scrollbarStyles)}));var wE=()=>{const e=kE(),a=Object(T.useHistory)(),{user:t,socket:l}=Object(n.useContext)(Ca),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(null),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(""),[k,w]=Object(n.useReducer)(CE,[]);Object(n.useEffect)(()=>{!async function(){t.super||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{w({type:"RESET"}),c(1)},[x]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{A()},500);return()=>clearTimeout(e)},[x,s]),Object(n.useEffect)(()=>{if(t.companyId){const e=e=>{"update"!==e.action&&"create"!==e.action||w({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),"delete"===e.action&&w({type:"DELETE_ANNOUNCEMENT",payload:+e.id})};return l.on("company-announcement",e),()=>{l.off("company-announcement",e)}}},[t]);const A=async()=>{try{const{data:e}=await u.get("/announcements/",{params:{searchParam:x,pageNumber:s}});w({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),m(e.hasMore),i(!1)}catch(e){ga(e)}};return o.a.createElement(yo,null,o.a.createElement(Si,{title:b&&"".concat(ma.a.t("announcements.confirmationModal.deleteTitle")," ").concat(b.title,"?"),open:v,onClose:y,onConfirm:()=>(async e=>{try{e.mediaName&&await u.delete("/announcements/".concat(e.id,"/media-upload")),await u.delete("/announcements/".concat(e.id)),O.b.success(ma.a.t("announcements.toasts.deleted"))}catch(a){ga(a)}E(null),C(""),c(1)})(b)},ma.a.t("announcements.confirmationModal.deleteMessage")),o.a.createElement(xE,{resetPagination:()=>{c(1),A()},open:h,onClose:()=>{g(null),f(!1)},"aria-labelledby":"form-dialog-title",announcementId:p&&p.id}),o.a.createElement(km,null,o.a.createElement(Yt.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Yt.a,{xs:12,sm:8,item:!0},o.a.createElement(Tm,null,ma.a.t("announcements.title")," (",k.length,")")),o.a.createElement(Yt.a,{xs:12,sm:4,item:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,sm:6,item:!0},o.a.createElement(Ft.a,{fullWidth:!0,placeholder:ma.a.t("announcements.searchPlaceholder"),type:"search",value:x,onChange:e=>{C(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}})),o.a.createElement(Yt.a,{xs:6,sm:6,item:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",onClick:()=>{g(null),f(!0)},color:"primary"},ma.a.t("announcements.buttons.add"))))))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("announcements.table.title")),o.a.createElement(ko.a,{align:"center"},ma.a.t("announcements.table.priority")),o.a.createElement(ko.a,{align:"center"},ma.a.t("announcements.table.mediaName")),o.a.createElement(ko.a,{align:"center"},ma.a.t("announcements.table.status")),o.a.createElement(ko.a,{align:"center"},ma.a.t("announcements.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,k.map(e=>{var a,t;return o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center"},e.title),o.a.createElement(ko.a,{align:"center"},1===(t=e.priority)?"Alta":2===t?"M\xe9dia":3===t?"Baixa":void 0),o.a.createElement(ko.a,{align:"center"},null!==(a=e.mediaName)&&void 0!==a?a:ma.a.t("quickMessages.noAttachment")),o.a.createElement(ko.a,{align:"center"},e.status?ma.a.t("announcements.active"):ma.a.t("announcements.inactive")),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{g(e),f(!0)})(e)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{size:"small",onClick:a=>{y(!0),E(e)}},o.a.createElement(Rl.a,null))))}),r&&o.a.createElement(kd,{columns:5}))))))};var AE=t(864),TE=t.n(AE);const OE=Object(I.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,height:"calc(100% - 58px)",overflow:"hidden",borderRadius:0,backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f"},chatList:Object(S.a)({display:"flex",flexDirection:"column",position:"relative",flex:1,overflowY:"scroll"},e.scrollbarStyles),listItemActive:{cursor:"pointer",backgroundColor:e.palette.background.paper,borderLeft:"6px solid #002d6e"},listItem:{cursor:"pointer",backgroundColor:e.palette.background.color,borderBottom:"1px solid #eee","&:hover":{backgroundColor:"#f5f5f5"}},avatar:{width:40,height:40,marginRight:10},onlineIndicator:{width:10,height:10,borderRadius:"50%",backgroundColor:"#4CAF50",position:"absolute",bottom:0,right:0,border:"2px solid white"},offlineIndicator:{width:10,height:10,borderRadius:"50%",backgroundColor:"#999",position:"absolute",bottom:0,right:0,border:"2px solid white"},lastSeen:{fontSize:"0.75rem",color:"#999"},lastMessage:{fontSize:"0.875rem",color:"#666",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px"},listItemContent:{display:"flex",alignItems:"center",gap:"12px",position:"relative",height:"auto"},userName:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},messageCount:{marginLeft:"auto",fontSize:"0.75rem",backgroundColor:"#1976d2",color:"#fff",borderRadius:"12px",padding:"2px 8px",minWidth:"20px",textAlign:"center"}}));function SE(e){var a;let{chats:t,handleSelectChat:l,handleDeleteChat:r,handleEditChat:i,pageInfo:s,loading:c,findChats:d}=e;const m=OE(),p=Object(T.useHistory)(),{user:g,users:b}=Object(n.useContext)(Ca),{datetimeToClient:E}=An(),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)({}),[x,C]=Object(n.useState)(null),[k,A]=Object(n.useState)(""),[S,j]=Object(n.useState)(!1),[I,M]=Object(n.useState)(!1),[N,D]=Object(n.useState)([]),[P,W]=Object(n.useState)(!1),[B,q]=Object(n.useState)(""),{id:Z}=Object(T.useParams)(),$=[...t].sort((e,a)=>new Date(a.updatedAt)-new Date(e.updatedAt)).filter(e=>{var a;const t=e.isGroup,n=!t&&e.users.find(e=>e.userId!==g.id);return(t?e.title:(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.name)||"").toLowerCase().includes(k.toLowerCase())}),ee=$.every(e=>e.isGroup),ae=e=>e.users.find(e=>e.userId===g.id).unreads,te=e=>{let a="";if(e.lastMessage&&"object"===typeof e.lastMessage)e.lastMessage.isDeleted?a=ma.a.t("chatMessages.deleted"):"audio"===e.lastMessage.mediaType?a="[\xc1udio]":"image"===e.lastMessage.mediaType?a="[Imagem]":"video"===e.lastMessage.mediaType?a="[V\xeddeo]":e.lastMessage.mediaType&&e.lastMessage.mediaName?a="[Arquivo] ".concat(e.lastMessage.mediaName):e.lastMessage.message&&(a=e.lastMessage.message);else if("string"===typeof e.lastMessage)a=e.lastMessage;else if(e.messages&&e.messages.length>0){a=e.messages[e.messages.length-1].message}else a=ma.a.t("chatList.noMessages");return a&&a.length>40?a.substring(0,40)+"...":a},ne=()=>{C(null)},oe=()=>{M(!1),q("")},le=N.filter(e=>e.name.toLowerCase().includes(B.toLowerCase()));return o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,{id:"simple-menu",anchorEl:x,keepMounted:!0,open:Boolean(x),onClose:ne},v.ownerId===g.id&&v.isGroup&&o.a.createElement(V.a,{onClick:()=>i(v)},ma.a.t("chatList.edit")),"admin"===g.profile&&o.a.createElement(V.a,{onClick:()=>r(v)},ma.a.t("chatList.delete")),v.isGroup&&o.a.createElement(V.a,{onClick:()=>{j(!0),ne()}},ma.a.t("chatList.details"))),o.a.createElement(Si,{title:ma.a.t("chatList.deleteChat"),open:h,onClose:()=>f(!1),onConfirm:()=>{r(v),ne()}},ma.a.t("chatList.deleteChatConfirm")),o.a.createElement(Si,{title:ma.a.t("chatList.detailsTitle"),open:S,onClose:()=>{j(!1)}},o.a.createElement("div",{style:{padding:"20px"}},o.a.createElement("div",{style:{textAlign:"center",marginBottom:"20px"}},o.a.createElement(R.a,{src:(null===v||void 0===v?void 0:v.groupImage)?v.groupImage.startsWith("http")?v.groupImage:"".concat(w()).concat(v.groupImage):null,style:{width:100,height:100,margin:"0 auto"}}),o.a.createElement(z.a,{variant:"h6",style:{marginTop:"10px"}},null===v||void 0===v?void 0:v.title),(null===v||void 0===v?void 0:v.description)&&o.a.createElement(z.a,{variant:"body2",color:"textSecondary"},v.description)),o.a.createElement(L.a,null,null===v||void 0===v||null===(a=v.users)||void 0===a?void 0:a.map(e=>{var a,t;return o.a.createElement(_.a,{key:e.userId},o.a.createElement(Y.a,null,o.a.createElement(R.a,{src:(null===(a=e.user)||void 0===a?void 0:a.profileImage)?"".concat(w(),"/public/company").concat(e.user.companyId,"/user/").concat(e.user.profileImage):null})),o.a.createElement(J.a,{primary:null===(t=e.user)||void 0===t?void 0:t.name,secondary:e.userId===v.ownerId?ma.a.t("chatList.admin"):ma.a.t("chatList.member")}))})))),o.a.createElement("div",{className:m.mainContainer},o.a.createElement("div",{style:{padding:"10px",display:"flex",gap:"10px",alignItems:"center"}},o.a.createElement("input",{type:"text",placeholder:ma.a.t("chatList.searchChat"),value:k,onChange:e=>A(e.target.value),style:{flex:1,padding:"8px 12px",borderRadius:"20px",border:"1px solid #ccc",outline:"none"}}),!ee&&o.a.createElement(F.a,{onClick:()=>{M(!0),q(""),(async()=>{try{W(!0);const{data:e}=await u.get("/users/list"),a=e.filter(e=>e.id!==g.id);D(a)}catch(e){console.error(e),O.b.error("Erro ao carregar usu\xe1rios")}finally{W(!1)}})()},style:{backgroundColor:"#1976d2",color:"white",width:"40px",height:"40px"},title:ma.a.t("chatList.createNewChat")},o.a.createElement(Ts.a,null))),o.a.createElement("div",{className:m.chatList},o.a.createElement(L.a,null,console.log("Renderizando lista com",$.length,"chats"),$.map((e,a)=>{var t,n;const r=e.isGroup,i=!r&&e.users.find(e=>e.userId!==g.id);!r&&i&&(null===N||void 0===N||N.some(e=>e.id===i.user.id));return console.log("Renderizando chat ".concat(a,":"),{id:e.id,uuid:e.uuid,isGroup:r,title:e.title,name:null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.name,users:null===(n=e.users)||void 0===n?void 0:n.length}),o.a.createElement(_.a,{key:a,button:!0,onClick:()=>(async e=>{if(ae(e)>0)try{await u.post("/chats/".concat(e.id,"/read"),{userId:g.id})}catch(a){}l(e),Z!==e.uuid&&p.push("/chats/".concat(e.uuid))})(e),className:e.uuid===Z?m.listItemActive:m.listItem},o.a.createElement(Y.a,null,o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(R.a,{src:r?e.groupImage?e.groupImage.startsWith("http")?e.groupImage:"".concat(w()).concat(e.groupImage):void 0:i&&i.user&&i.user.profileImage?i.user.profileImage.startsWith("http")?i.user.profileImage:"".concat(w(),"/public/company").concat(i.user.companyId,"/user/").concat(i.user.profileImage):void 0,className:m.avatar},r?e.title?e.title.charAt(0):"G":i&&i.user&&i.user.name?i.user.name.charAt(0):"?"))),o.a.createElement(J.a,{primary:o.a.createElement("div",{className:m.listItemContent},o.a.createElement("div",{className:m.userName},o.a.createElement(z.a,{component:"div",variant:"subtitle1",className:m.userName},r?e.title||"Grupo":i&&i.user&&i.user.name?i.user.name:"Usu\xe1rio"),!r&&o.a.createElement(fr,{user:null===i||void 0===i?void 0:i.user})),ae(e)>0&&o.a.createElement("div",{style:{width:16,height:16,borderRadius:"50%",background:"red",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,marginLeft:8}},ae(e))),secondary:o.a.createElement(z.a,{component:"div",variant:"body2",style:{color:"gray"}},te(e))}),("admin"===g.profile||v.ownerId===g.id&&v.isGroup)&&o.a.createElement(F.a,{edge:"end","aria-label":"more",onClick:a=>((e,a)=>{C(e.currentTarget),y(a)})(a,e)},o.a.createElement(TE.a,null)))})))),o.a.createElement(H.a,{open:I,onClose:oe,maxWidth:"sm",fullWidth:!0},o.a.createElement(Q.a,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},o.a.createElement(Ts.a,{style:{color:"#1976d2"}}),o.a.createElement(z.a,{variant:"h6"},ma.a.t("chatList.createNewChat")))),o.a.createElement(G.a,null,o.a.createElement(Ft.a,{fullWidth:!0,placeholder:ma.a.t("chatList.searchUser"),value:B,onChange:e=>q(e.target.value),style:{marginBottom:"20px",marginTop:"10px"},InputProps:{startAdornment:o.a.createElement(si.a,{style:{marginRight:"8px",color:"#666"}})}}),P?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:"20px"}},o.a.createElement(Lt.a,null)):o.a.createElement(L.a,{style:{maxHeight:"400px",overflow:"auto"}},le.map(e=>{var a;return o.a.createElement(_.a,{key:e.userId,button:!0,onClick:()=>(async e=>{try{const a=t.find(a=>{const t=a.users.some(a=>a.userId===e.id),n=a.users.some(e=>e.userId===g.id);return!a.isGroup&&2===a.users.length&&t&&n});if(a)return O.b.info("Chat com este usu\xe1rio j\xe1 existe!"),l(a),void oe();const{data:n}=await u.post("/chats",{users:[{id:e.id}],isGroup:!1});O.b.success("Chat criado com sucesso!"),d&&await d(),l(n),oe()}catch(a){console.error(a),O.b.error("Erro ao criar chat")}})(e),style:{borderRadius:"8px",marginBottom:"4px"}},o.a.createElement(Y.a,null,o.a.createElement(R.a,{src:(null===e||void 0===e||null===(a=e.profileImage)||void 0===a?void 0:a.startsWith("http"))?e.profileImage:"".concat(w(),"/public/company").concat(e.companyId,"/user/").concat(e.profileImage)})),o.a.createElement(J.a,{primary:o.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.a.createElement(z.a,{variant:"subtitle1"},e.name),o.a.createElement(fr,{user:e})),secondary:e.email}))}),0===le.length&&!P&&o.a.createElement("div",{style:{textAlign:"center",padding:"20px",color:"#666"}},B?ma.a.t("chatList.noUserFound"):ma.a.t("chatList.noUserAvailable")))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:oe,color:"secondary"},ma.a.t("chatList.cancel")))))}var jE=t(905),IE=t(867),ME=t.n(IE),NE=t(1524),RE=t(869),DE=t.n(RE),PE=t(866),FE=t.n(PE),LE=t(533),WE=t.n(LE),BE=t(865),qE=t.n(BE),zE=t(868),UE=t.n(zE),VE=t(1621),HE=t(298),QE=t(1518),GE=t(1519),KE=t(1520),_E=t(1521),YE=t(1522),JE=t(1523);const XE=Object(I.a)(e=>({root:{"& .MuiDialog-paper":{minWidth:400,maxWidth:600}},documentInfo:{display:"flex",alignItems:"center",marginBottom:e.spacing(2)},documentIcon:{fontSize:48,marginRight:e.spacing(2),color:e.palette.primary.main},documentDetails:{flex:1},documentName:{fontWeight:"bold",marginBottom:e.spacing(1)},documentType:{marginBottom:e.spacing(1)},actions:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing(2)},downloadButton:{marginRight:e.spacing(1)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)}}));var ZE=e=>{let{open:a,onClose:t,document:l}=e;const r=XE(),[i,s]=Object(n.useState)(null);Object(n.useEffect)(()=>{if(l&&l.mediaPath){var e;const a=l.mediaName||l.mediaPath.split("/").pop(),t=null===(e=a.split(".").pop())||void 0===e?void 0:e.toLowerCase();s({name:a,extension:t,type:l.mediaType,url:l.mediaPath})}},[l]);return i?o.a.createElement(H.a,{open:a,onClose:t,className:r.root},o.a.createElement(Q.a,null,"Visualizar Documento",o.a.createElement(F.a,{className:r.closeButton,onClick:t},o.a.createElement(Bn.a,null))),o.a.createElement(G.a,null,o.a.createElement(tn.a,{className:r.documentInfo},["png","jpg","jpeg","gif","bmp","webp"].includes(i.extension)?o.a.createElement("img",{src:i.url,alt:i.name,style:{maxWidth:"100%",maxHeight:300,marginBottom:16}}):((e,a)=>{switch(e){case"pdf":return o.a.createElement(od.a,{className:r.documentIcon});case"doc":case"docx":case"odt":return o.a.createElement(oa.a,{className:r.documentIcon});case"xls":case"xlsx":case"ods":return o.a.createElement(QE.a,{className:r.documentIcon});case"ppt":case"pptx":case"odp":return o.a.createElement(GE.a,{className:r.documentIcon});case"zip":case"rar":case"7z":case"tar":case"gz":case"bz2":return o.a.createElement(KE.a,{className:r.documentIcon});case"exe":return o.a.createElement(Uc.a,{className:r.documentIcon});case"xml":case"json":case"html":return o.a.createElement(ys.a,{className:r.documentIcon});default:return"image"===a?o.a.createElement(Eu.a,{className:r.documentIcon}):"video"===a?o.a.createElement(_E.a,{className:r.documentIcon}):"audio"===a?o.a.createElement(YE.a,{className:r.documentIcon}):o.a.createElement(oa.a,{className:r.documentIcon})}})(i.extension,i.type),o.a.createElement(tn.a,{className:r.documentDetails},o.a.createElement(z.a,{className:r.documentName,variant:"h6"},i.name),o.a.createElement(z.a,{className:r.documentType,variant:"body2",color:"textSecondary"},{pdf:"Documento PDF",doc:"Documento Word",docx:"Documento Word",odt:"Documento OpenDocument",xls:"Planilha Excel",xlsx:"Planilha Excel",ods:"Planilha OpenDocument",ppt:"Apresenta\xe7\xe3o PowerPoint",pptx:"Apresenta\xe7\xe3o PowerPoint",odp:"Apresenta\xe7\xe3o OpenDocument",zip:"Arquivo Compactado",rar:"Arquivo Compactado","7z":"Arquivo Compactado",tar:"Arquivo Compactado",gz:"Arquivo Compactado",bz2:"Arquivo Compactado",xml:"Arquivo XML",json:"Arquivo JSON",html:"Arquivo HTML",ofx:"Arquivo OFX",msg:"E-mail Outlook",key:"Apresenta\xe7\xe3o Keynote",numbers:"Planilha Numbers",pages:"Documento Pages",exe:"Execut\xe1vel"}[i.extension]||"Documento"),o.a.createElement(Vt.a,{label:i.extension.toUpperCase(),size:"small",color:"primary",variant:"outlined"})))),o.a.createElement(X.a,{className:r.actions},o.a.createElement(tn.a,null,o.a.createElement(K.a,{variant:"outlined",color:"primary",startIcon:o.a.createElement(JE.a,null),onClick:()=>{(null===i||void 0===i?void 0:i.url)&&window.open(i.url,"_blank")},className:r.downloadButton},"Abrir"),o.a.createElement(K.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(Uc.a,null),onClick:()=>{(null===i||void 0===i?void 0:i.url)&&window.open(i.url,"_blank")}},"Download")))):null},$E=t(651),eh=t.n($E),ah=t(410),th=t.n(ah),nh=t(648),oh=t.n(nh),lh=t(649),rh=t.n(lh),ih=t(650),sh=t.n(ih);const ch=Object(I.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflow:"hidden",borderRadius:0,height:"100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},messageList:Object(S.a)(Object(S.a)({position:"relative",overflowY:"auto",height:"100%"},e.scrollbarStyles),{},{backgroundImage:"light"===e.mode?"url(".concat(Zc.a,")"):"url(".concat(ed.a,")"),backgroundColor:"light"===e.mode?"transparent":"#0b0b0d"}),inputArea:{position:"relative",height:"auto"},input:{padding:"20px"},buttonSend:{margin:e.spacing(1)},messageContainer:{display:"flex",margin:"10px",alignItems:"center"},messageContainerSelf:{display:"flex",margin:"10px",alignItems:"center",justifyContent:"flex-end"},messageContainerWithAvatar:{display:"flex",margin:"10px",alignItems:"flex-start"},avatarContainer:{marginRight:10,display:"flex",alignItems:"center",alignSelf:"center"},messageBubble:{padding:"15px",position:"relative",backgroundColor:"#ffffff",color:"#303030",maxWidth:350,width:"100%",borderRadius:20,border:"1px solid rgba(0, 0, 0, 0.12)"},messageBubbleSelf:{padding:"15px",position:"relative",backgroundColor:"#dcf8c6",color:"#303030",maxWidth:350,width:"100%",borderRadius:20,border:"1px solid rgba(0, 0, 0, 0.12)"},bubbleContent:{marginTop:5,whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"break-word"},senderInfo:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:5},senderName:{fontWeight:"bold"},sendMessageIcons:{color:"grey"},uploadInput:{display:"none"},circleLoading:{color:HE.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"#eee",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle",justifyContent:"flex-end"},cancelAudioIcon:{color:"red"},audioLoading:{color:HE.a[500],opacity:"70%"},sendAudioIcon:{color:"green"},messageDate:{fontSize:"0.75rem",color:"#666",marginTop:5},emojiBox:{position:"absolute",bottom:63,left:10,zIndex:1e3},sendMessageIcons:{color:"grey"},dailyTimestampText:{color:"#808888",padding:8,textAlign:"center",width:"100%",display:"block",margin:"0 auto"},replyContainer:{display:"flex",alignItems:"center",padding:"8px 16px",backgroundColor:"#f0f2f5",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},replyContent:{flex:1,marginLeft:8},replyText:{fontSize:"0.875rem",color:"#666",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},replySender:{fontSize:"0.75rem",color:"#999"},messageActions:{display:"flex",gap:4,marginLeft:8},replyPreview:{borderLeft:"3px solid #128C7E",paddingLeft:"8px",marginBottom:"8px",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"4px",padding:"4px 8px"},replyPreviewSender:{fontSize:"0.75rem",color:"#128C7E",fontWeight:"bold"},replyPreviewText:{fontSize:"0.75rem",color:"#666",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},dailyTimestamp:{width:"100%",display:"block"},highlightedMessage:{backgroundColor:"#ffe082",transition:"background 0.5s"},forwardedMessage:{},forwardedMessageHeader:{display:"flex",alignItems:"center",gap:"4px",color:"#999",fontSize:"0.75rem",marginBottom:"4px"},forwardedMessageText:{}})),dh=new js.a({bitRate:128});function mh(e){var a;let{chat:t,messages:l,handleSendMessage:r,handleLoadMore:i,scrollToBottomRef:s,pageInfo:c,loadingMore:d,onEdit:m,onDelete:p,onForward:g,justOpenedChat:b,setJustOpenedChat:E,addOptimisticMessage:h}=e;const f=Object(n.useRef)(null),v=ch(),{user:y}=Object(n.useContext)(Ca),{datetimeToClient:x}=An(),C=Object(n.useRef)(),k=Object(n.useRef)({}),[w,A]=Object(n.useState)(""),[T,O]=Object(n.useState)([]),[S,j]=Object(n.useState)(!1),[I,M]=Object(n.useState)(!1),[N,D]=Object(n.useState)(!1),P=Object(n.useRef)(),[L,W]=Object(n.useState)(null),[B,q]=Object(n.useState)(!1),[U,V]=Object(n.useState)(!1),H=()=>{C.current&&C.current.scrollIntoView({})};Object(n.useEffect)(()=>{b&&q(!1)},[b]),Object(n.useEffect)(()=>{if(t&&t.id&&(e=>{if(e&&e.users&&Array.isArray(e.users)){const a=e.users.find(e=>e.userId===y.id);return a&&a.unreads>0}return!1})(t))try{u.post("/chats/".concat(t.id,"/read"),{userId:y.id})}catch(e){console.error("Erro ao marcar mensagens como lidas:",e)}s.current=H},[]),Object(n.useEffect)(()=>{if(!l||0===l.length||d||B)return;requestAnimationFrame(()=>{setTimeout(()=>{const e=document.querySelector(".messageList");e&&(e.scrollTop=e.scrollHeight,q(!0))},100)})},[l,d,B]),Object(n.useEffect)(()=>{S||d||!B||V(!0)},[S,d,B]),Object(n.useEffect)(()=>{if(b&&l&&l.length>0){(()=>{requestAnimationFrame(()=>{setTimeout(()=>{const e=document.querySelector(".messageList");e&&(e.scrollTop=e.scrollHeight,E(!1))},200)})})()}},[b,l]);const[Q,G]=Object(n.useState)(!1),[_,Y]=Object(n.useState)(null),J=e=>"image"===e.mediaType?o.a.createElement(hi,{imageUrl:e.mediaPath}):"audio"===e.mediaType?o.a.createElement(Zs,{url:e.mediaPath,message:e,disableTranscription:!t.isGroup}):"video"===e.mediaType?o.a.createElement("video",{className:v.messageMedia,src:e.mediaPath,controls:!0}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:v.downloadMedia},o.a.createElement(K.a,{startIcon:o.a.createElement(NE.a,null),color:"primary",variant:"outlined",onClick:()=>{Y(e),G(!0)}},"Visualizar Documento"))),X=e=>{W(e),P.current&&P.current.focus()},Z=async e=>{if(""!==e.trim()){const a={id:"temp-".concat(Date.now()),chatId:t.id,senderId:y.id,message:e,createdAt:(new Date).toISOString(),sender:{id:y.id,name:y.name,profileImage:y.profileImage},replyTo:L,isDeleted:!1,isEdited:!1,mediaType:"text"};h(a),A(""),W(null),await u.post("/chats/".concat(t.id,"/messages"),{message:e,replyToId:null===L||void 0===L?void 0:L.id})}},$=e=>{m(e)},ee=e=>{p(e)},ae=e=>{g(e)},te=e=>{const a=k.current[e];a&&(a.scrollIntoView({behavior:"smooth",block:"center"}),a.classList.add(v.highlightedMessage),setTimeout(()=>a.classList.remove(v.highlightedMessage),1500))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Gt.a,{className:v.paper,style:{display:"flex",flexDirection:"column",height:"100%"}},o.a.createElement("div",{className:"messageList ".concat(v.messageList),onScroll:e=>{if(!B||!U)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;(null===c||void 0===c?void 0:c.hasMore)&&!S&&a<200&&(console.log("Carregando mais mensagens... ScrollTop:",a),i())},style:{flex:1,minHeight:0}},o.a.createElement("div",{ref:f,style:{height:1}}),d&&o.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:"10px",position:"sticky",top:0,backgroundColor:"rgba(255, 255, 255, 0.9)",zIndex:1}},o.a.createElement(VE.a,{size:20}),o.a.createElement(z.a,{variant:"caption",style:{marginLeft:8,alignSelf:"center"}},"Carregando mensagens antigas...")),Array.isArray(l)&&l.map((e,a)=>{if(!e)return null;const t=e.replyTo;return o.a.createElement(o.a.Fragment,{key:a},((e,a,t,n,l)=>{const r=Object(Ba.a)(new Date,"dd/MM/yyyy");if(0===a)return o.a.createElement("span",{className:l.dailyTimestamp,key:"timestamp-".concat(e.id)},o.a.createElement("div",{className:l.dailyTimestampText},r===Object(Ba.a)(Object(Qa.a)(t[a].createdAt),"dd/MM/yyyy")?"HOJE":Object(Ba.a)(Object(Qa.a)(t[a].createdAt),"dd/MM/yyyy")));if(a<t.length-1){let n=Object(Qa.a)(t[a].createdAt),i=Object(Qa.a)(t[a-1].createdAt);if(!Object(Ha.a)(n,i))return o.a.createElement("span",{className:l.dailyTimestamp,key:"timestamp-".concat(e.id)},o.a.createElement("div",{className:l.dailyTimestampText},r===Object(Ba.a)(Object(Qa.a)(t[a].createdAt),"dd/MM/yyyy")?"HOJE":Object(Ba.a)(Object(Qa.a)(t[a].createdAt),"dd/MM/yyyy")))}else if(a===t.length-1)return o.a.createElement("div",{key:"ref-".concat(e.id),ref:n,style:{float:"left",clear:"both"}})})(e,a,l,C,v),o.a.createElement("div",{ref:a=>k.current[e.id]=a,className:e.senderId===y.id?v.messageContainerSelf:v.messageContainer,onDoubleClick:()=>X(e),title:"Clique duas vezes para responder"},e.senderId===y.id?o.a.createElement("div",{className:v.messageBubbleSelf},o.a.createElement("div",{className:v.senderInfo},o.a.createElement(z.a,{variant:"subtitle2",className:v.senderName},e.sender&&e.sender.name?e.sender.name:"Usu\xe1rio"," ","- ",Object(Ba.a)(new Date(e.createdAt),"HH:mm")),o.a.createElement("div",{className:v.messageActions},(!e.isDeleted||"admin"===y.profile)&&o.a.createElement(o.a.Fragment,null,e.senderId===y.id&&!e.isDeleted&&new Date-new Date(e.createdAt)<6e5&&o.a.createElement(F.a,{size:"small",onClick:()=>$(e),title:ma.a.t("chatMessages.edit")},o.a.createElement(oh.a,{fontSize:"small"})),o.a.createElement(F.a,{size:"small",onClick:()=>ee(e),title:ma.a.t("chatMessages.delete")},o.a.createElement(rh.a,{fontSize:"small"})),o.a.createElement(F.a,{size:"small",onClick:()=>ae(e),title:ma.a.t("chatMessages.forward")},o.a.createElement(sh.a,{fontSize:"small"})),o.a.createElement(F.a,{size:"small",onClick:()=>X(e),title:ma.a.t("chatMessages.reply")},o.a.createElement(eh.a,{fontSize:"small"}))))),o.a.createElement("div",{className:v.bubbleContent},e.isDeleted&&"admin"!==y.profile?o.a.createElement(z.a,{variant:"body2",color:"textSecondary",style:{fontStyle:"italic"}},ma.a.t("chatMessages.deleted")):e.isDeleted&&"admin"===y.profile?o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{variant:"caption",style:{color:"#888",fontStyle:"italic",display:"block",marginBottom:4}},ma.a.t("chatMessages.deletedAdmin")),e.mediaPath&&J(e),o.a.createElement(ph,{text:e.message,replyTo:t,scrollToMessage:te,forwardedFrom:e.forwardedFrom,checkMessageMedia:J})):o.a.createElement(o.a.Fragment,null,e.mediaPath&&J(e),o.a.createElement(ph,{text:e.message,replyTo:t,scrollToMessage:te,forwardedFrom:e.forwardedFrom,checkMessageMedia:J})))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:v.avatarContainer},o.a.createElement(R.a,{src:e.sender&&e.sender.profileImage?"".concat("https://api.datamixsistemas.com.br","/public/company").concat(e.companyId,"/user/").concat(e.sender.profileImage):void 0,alt:e.sender&&e.sender.name?e.sender.name:"Usu\xe1rio"},(!e.sender||!e.sender.profileImage)&&(e.sender&&e.sender.name?e.sender.name.charAt(0):"?"))),o.a.createElement("div",{className:v.messageBubble},o.a.createElement("div",{className:v.senderInfo},o.a.createElement(z.a,{variant:"subtitle2",className:v.senderName},e.sender&&e.sender.name?e.sender.name:"Usu\xe1rio"," ","- ",Object(Ba.a)(new Date(e.createdAt),"HH:mm")),o.a.createElement("div",{className:v.messageActions},(!e.isDeleted||"admin"===y.profile)&&o.a.createElement(o.a.Fragment,null,e.senderId===y.id&&!e.isDeleted&&new Date-new Date(e.createdAt)<6e5&&o.a.createElement(F.a,{size:"small",onClick:()=>$(e),title:ma.a.t("chatMessages.edit")},o.a.createElement(oh.a,{fontSize:"small"})),o.a.createElement(F.a,{size:"small",onClick:()=>ee(e),title:ma.a.t("chatMessages.delete")},o.a.createElement(rh.a,{fontSize:"small"})),o.a.createElement(F.a,{size:"small",onClick:()=>ae(e),title:ma.a.t("chatMessages.forward")},o.a.createElement(sh.a,{fontSize:"small"})),o.a.createElement(F.a,{size:"small",onClick:()=>X(e),title:ma.a.t("chatMessages.reply")},o.a.createElement(eh.a,{fontSize:"small"}))))),o.a.createElement("div",{className:v.bubbleContent},e.isDeleted&&"admin"!==y.profile?o.a.createElement(z.a,{variant:"body2",color:"textSecondary",style:{fontStyle:"italic"}},ma.a.t("chatMessages.deleted")):e.isDeleted&&"admin"===y.profile?o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{variant:"caption",style:{color:"#888",fontStyle:"italic",display:"block",marginBottom:4}},ma.a.t("chatMessages.deletedAdmin")),e.mediaPath&&J(e),o.a.createElement(ph,{text:e.message,replyTo:t,scrollToMessage:te,forwardedFrom:e.forwardedFrom,checkMessageMedia:J})):o.a.createElement(o.a.Fragment,null,e.mediaPath&&J(e),o.a.createElement(ph,{text:e.message,replyTo:t,scrollToMessage:te,forwardedFrom:e.forwardedFrom,checkMessageMedia:J})))))))}),o.a.createElement("div",{ref:C})),o.a.createElement("div",{className:v.inputArea,style:{flexShrink:0}},L&&o.a.createElement("div",{className:v.replyContainer},o.a.createElement("div",{className:v.replyContent},o.a.createElement("div",{className:v.replySender},ma.a.t("chatMessages.replyingTo")," ",L.sender.name),o.a.createElement("div",{className:v.replyText},L.message)),o.a.createElement(F.a,{size:"small",onClick:()=>{W(null)}},o.a.createElement(th.a,{fontSize:"small"}))),o.a.createElement(qt.a,{variant:"outlined",fullWidth:!0},I?o.a.createElement("div",{className:v.recorderWrapper},o.a.createElement(F.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:S,onClick:async()=>{try{await dh.stop().getMp3(),M(!1)}catch(e){ga(e)}},size:"large"},o.a.createElement(qE.a,{className:v.cancelAudioIcon})),S?o.a.createElement("div",null,o.a.createElement(VE.a,{className:v.audioLoading})):o.a.createElement(Rs,null),o.a.createElement(F.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:async()=>{j(!0);try{const[,e]=await dh.stop().getMp3();if(e.size<1e4)return j(!1),void M(!1);const a=new FormData,n="audio-".concat((new Date).getTime(),".mp3");a.append("typeArch","chat"),a.append("fileId",t.id),a.append("medias",e,n),a.append("body",n),a.append("fromMe",!0),await u.post("/chats/".concat(t.id,"/messages"),a)}catch(e){ga(e)}M(!1),j(!1)},disabled:S,size:"large"},o.a.createElement(WE.a,{className:v.sendAudioIcon}))):o.a.createElement(o.a.Fragment,null,T.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(Gt.a,{elevation:0,square:!0,className:v.viewMediaInputWrapper},o.a.createElement(F.a,{"aria-label":"cancel-upload",component:"span",onClick:e=>O([]),size:"large"},o.a.createElement(FE.a,{className:v.sendMessageIcons})),S?o.a.createElement("div",null,o.a.createElement(VE.a,{className:v.circleLoading})):o.a.createElement("span",null,null===(a=T[0])||void 0===a?void 0:a.name),o.a.createElement(F.a,{"aria-label":"send-upload",component:"span",onClick:async e=>{j(!0),e.preventDefault();const a=new FormData;a.append("fromMe",!0),T.forEach(e=>{a.append("typeArch","chat"),a.append("fileId",t.id),a.append("medias",e),a.append("body",e.name)});try{await u.post("/chats/".concat(t.id,"/messages"),a)}catch(n){console.log(n),ga(n)}j(!1),O([])},disabled:S,size:"large"},o.a.createElement(co.a,{className:v.sendMessageIcons})))):o.a.createElement(n.Fragment,null,o.a.createElement(jE.a,{inputRef:P,multiline:!0,value:w,onKeyUp:e=>{"Enter"!==e.key||e.shiftKey||""===w.trim()||Z(w)},onChange:e=>A(e.target.value),onPaste:e=>{if(e.clipboardData.files.length>0){const a=Array.from(e.clipboardData.files);O(a),e.preventDefault()}},className:v.input,startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(F.a,{"aria-label":"emojiPicker",component:"span",disabled:S,onClick:e=>D(e=>!e)},o.a.createElement(ME.a,{className:v.sendMessageIcons})),N?o.a.createElement("div",{className:v.emojiBox},o.a.createElement($i.a,{onClickAway:e=>D(!1)},o.a.createElement(Zi.a,{perLine:16,theme:"dark",showPreview:!0,showSkinTones:!1,onSelect:e=>{let a=e.native;A(e=>e+a),P.current.focus()}}))):null,o.a.createElement(uh,{disableOption:S,handleChangeMedias:e=>{if(!e.target.files)return;const a=Array.from(e.target.files);O(a)}})),endAdornment:o.a.createElement(yi.a,{position:"end"},w?o.a.createElement(F.a,{onClick:()=>{""!==w.trim()&&Z(w)},className:v.buttonSend,size:"large"},o.a.createElement(co.a,null)):o.a.createElement(F.a,{"aria-label":"showRecorder",component:"span",disabled:S,onClick:async()=>{j(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0}),await dh.start(),M(!0),j(!1)}catch(e){ga(e),j(!1)}},size:"large"},o.a.createElement(UE.a,{className:v.sendMessageIcons})))})))))),o.a.createElement(ZE,{open:Q,onClose:()=>G(!1),document:_}))}const uh=e=>{const{handleChangeMedias:a,disableOption:t}=e,n=ch();return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:t,className:n.uploadInput,onChange:a}),o.a.createElement("label",{htmlFor:"upload-button"},o.a.createElement(F.a,{"aria-label":"upload",component:"span",disabled:t,size:"large"},o.a.createElement(DE.a,{className:n.sendMessageIcons}))))},ph=e=>{var a;let{text:t,replyTo:n,scrollToMessage:l,forwardedFrom:r,checkMessageMedia:i}=e;const s=ch();return t||n||r?o.a.createElement("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"break-word",width:"100%"}},r&&o.a.createElement("div",{className:s.forwardedMessage},o.a.createElement("div",{className:s.forwardedMessageHeader},o.a.createElement("span",null,ma.a.t("chatMessages.forwarded"))),r.mediaPath&&i(r)),n&&o.a.createElement("div",{className:s.replyPreview,style:{cursor:"pointer"},onClick:()=>l(n.id),title:ma.a.t("chatMessages.clickToGoToOriginal")},o.a.createElement("div",{className:s.replyPreviewSender},(null===(a=n.sender)||void 0===a?void 0:a.name)||"Mensagem"),o.a.createElement("div",{className:s.replyPreviewText},n.message||"[mensagem n\xe3o encontrada]")),o.a.createElement(it,null,t)):null};var gh=t(182),bh=t(1627);var Eh=()=>{const e=Object(gh.a)();return Object(bh.a)(e.breakpoints.up("md"))},hh=t(652),fh=t(870),vh=t.n(fh);const yh=Object(I.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,padding:e.spacing(2),height:"calc(100% - 48px)",overflowY:"hidden",border:"1px solid rgba(0, 0, 0, 0.12)"},gridContainer:{flex:1,height:"100%",border:"1px solid rgba(0, 0, 0, 0.12)",background:e.palette.background.color},gridItem:{height:"100%"},gridItemTab:{height:"92%",width:"100%"},btnContainer:{textAlign:"right",padding:10}}));function xh(e){let{open:a,chat:t,type:l,handleClose:r,handleLoadNewChat:i,findChats:s,setChats:c,setChatsPageInfo:d,chats:m,loggedInUserId:p}=e;const[g,b]=Object(n.useState)([]),[E,h]=Object(n.useState)(""),[f,v]=Object(n.useState)(""),[y,x]=Object(n.useState)(""),[C,k]=Object(n.useState)(null);Object(n.useEffect)(()=>{if(a&&(h(""),b([]),v(""),x(""),k(null),"edit"===l&&t&&t.users)){const e=t.users.map(e=>({id:e.user.id,name:e.user.name}));b(e),h(t.title||""),v(t.description||""),t.groupImage&&x(t.groupImage)}},[t,a,l]);return o.a.createElement(H.a,{open:a,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Q.a,{id:"alert-dialog-title"},"edit"===l?ma.a.t("chatIndex.modal.editTitle")||"Editar Grupo":ma.a.t("chatIndex.modal.title")||"Criar Grupo"),o.a.createElement(G.a,null,o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:12,style:{padding:18,textAlign:"center"},item:!0},o.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"group-image-upload",type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){const a=e.target.files[0],t=URL.createObjectURL(a);k(a),x(t),console.log("Preview URL:",t)}}}),o.a.createElement("label",{htmlFor:"group-image-upload"},o.a.createElement(K.a,{variant:"outlined",color:"primary",component:"span"},y?"Alterar Foto do Grupo":"Adicionar Foto do Grupo")),y&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{marginTop:10}},o.a.createElement("img",{src:"string"===typeof y?y.startsWith("http")||y.startsWith("blob:")?y:"".concat(w()).concat(y):URL.createObjectURL(y),alt:"Group",style:{width:80,height:80,borderRadius:"50%",objectFit:"cover"}})))),o.a.createElement(Yt.a,{xs:12,style:{padding:18},item:!0},o.a.createElement(Ft.a,{label:"T\xedtulo",placeholder:"T\xedtulo",value:E,onChange:e=>h(e.target.value),variant:"outlined",size:"small",fullWidth:!0})),o.a.createElement(Yt.a,{xs:12,style:{padding:18},item:!0},o.a.createElement(Ft.a,{label:"Descri\xe7\xe3o",placeholder:"Descri\xe7\xe3o do grupo",value:f,onChange:e=>v(e.target.value),variant:"outlined",size:"small",fullWidth:!0,multiline:!0,rows:2})),o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Hr,{onFiltered:e=>b(e),initialUsers:g})))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:r,color:"primary"},ma.a.t("chatIndex.modal.cancel")),o.a.createElement(K.a,{onClick:async()=>{try{let a=y;if(C){const e=new FormData;e.append("file",C);a=(await u.post("/chats/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data.url}if("edit"===l&&t){const{data:e}=await u.put("/chats/".concat(t.id),{users:g,title:E,description:f,groupImage:a});i(e)}else{const t=g.length>1||""!==E;if(console.log("isCreatingGroup:",t),!t){var e;const a=null===(e=g[0])||void 0===e?void 0:e.id;console.log("selectedUserId:",a),console.log("loggedInUserId:",p),console.log("chats available:",m);const t=m.find(e=>{const t=e.users.some(e=>e.userId===a),n=e.users.some(e=>e.userId===p),o=!e.isGroup&&2===e.users.length;return console.log("Checking chat ".concat(e.id,": isIndividualChat=").concat(o,", hasSelectedUser=").concat(t,", hasLoggedInUser=").concat(n)),o&&t&&n});if(console.log("Found existingChat:",t),t)return hh.toast.info("Chat com este usu\xe1rio j\xe1 existe!"),i(t),void r()}const{data:n}=await u.post("/chats",{users:g,title:E,description:f,groupImage:a,isGroup:t});i(n)}r()}catch(a){console.error(a),hh.toast.error("Erro ao criar/editar chat")}},color:"primary",variant:"contained",disabled:void 0===g||0===g.length||null===E||""===E||void 0===E},ma.a.t("chatIndex.modal.save"))))}var Ch,kh=(Ch=function(e){const a=yh(),{user:t}=Object(n.useContext)(Ca),l=Object(T.useHistory)(),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)("new"),[d,m]=Object(n.useState)({}),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)({hasMore:!1}),[h,f]=Object(n.useState)([]),[v,y]=Object(n.useState)({hasMore:!1}),[x,C]=Object(n.useState)(1),[k,w]=Object(n.useState)(!1),[A,O]=Object(n.useState)(!1),[j,I]=Object(n.useState)(0),[M,N]=Object(n.useState)(!1),R=Object(n.useRef)(!0),D=Object(n.useRef)(),P=Object(n.useRef)(),{id:L}=Object(T.useParams)(),W=Eh(),[B,q]=Object(n.useState)(!1),[U,_]=Object(n.useState)(!1),[Y,J]=Object(n.useState)(!1),[Z,$]=Object(n.useState)(null),[ee,ae]=Object(n.useState)(""),[te,ne]=Object(n.useState)(null),[oe,le]=Object(n.useState)(!1),re=null===t||void 0===t?void 0:t.companyId,ie=re?fa({companyId:re,userId:null===t||void 0===t?void 0:t.id}):null;Object(n.useEffect)(()=>{p.filter(e=>!0===e.isGroup||"true"===e.isGroup),p.filter(e=>!(!0===e.isGroup||"true"===e.isGroup))},[p,M]),Object(n.useEffect)(()=>()=>{R.current=!1},[]),Object(n.useEffect)(()=>{R.current&&(null===t||void 0===t?void 0:t.id)?pe().then(e=>{const{records:a}=e;if(console.log("Chats encontrados:",a.length),R.current&&a.length>0){if(g(a),E(e),L&&a.length){const e=a.find(e=>e.uuid===L);e&&se(e,"useEffect[user?.id] (carregar chats iniciais)")}}else console.log("Nenhum chat encontrado ou componente desmontado")}).catch(e=>{console.error("Erro ao carregar chats iniciais:",e)}):console.log("Componente n\xe3o montado ou usu\xe1rio n\xe3o dispon\xedvel")},[null===t||void 0===t?void 0:t.id]),Object(n.useEffect)(()=>{if(!t.id)return;const e=e=>{R.current&&("create"===e.action&&g(a=>[e.record,...a]),"update"===e.action&&(g(a=>a.map(a=>a.id===e.record.id?Object(S.a)(Object(S.a)({},a),e.record):a)),d&&d.id===e.record.id&&m(e.record)))},a=e=>{R.current&&R.current&&("delete"===e.action&&(g(a=>a.filter(a=>a.id!==+e.id)),f([]),C(1),y({hasMore:!1}),m({}),l.push("/chats"),I(0)),"new-message"!==e.action&&"update"!==e.action||d&&d.id===e.chat.id||g(a=>a.map(a=>a.id===e.chat.id?Object(S.a)(Object(S.a)({},a),e.chat):a)))};return ie&&re?(ie.on("company-".concat(re,"-chat-user-").concat(t.id),e),ie.on("company-".concat(re,"-chat"),a),()=>{ie.off("company-".concat(re,"-chat-user-").concat(t.id),e),ie.off("company-".concat(re,"-chat"),a)}):void 0},[t,ie,re]),Object(n.useEffect)(()=>{if(Object(da.isObject)(d)&&Object(da.has)(d,"id")&&ie&&re){const e=e=>{if(R.current){if("new-message"===e.action){f(a=>{const t=a.filter(a=>{var t;return!((null===(t=a.id)||void 0===t?void 0:t.toString().startsWith("temp-"))&&a.senderId===e.newMessage.senderId&&a.message===e.newMessage.message)});return t.some(a=>a.id===e.newMessage.id)?t:[...t,e.newMessage]});const a=p.map(a=>a.id===e.newMessage.chatId?Object(S.a)(Object(S.a)(Object(S.a)({},a),e.chat),{},{lastMessage:e.newMessage,updatedAt:e.newMessage.createdAt}):a);g(a),"function"===typeof D.current&&setTimeout(()=>{D.current()},300)}else("edit-message"===e.action||"delete-message"===e.action)&&f(a=>a.map(a=>a.id===e.message.id?e.message:a));if("update"===e.action){const a=p.map(a=>a.id===e.chat.id?Object(S.a)(Object(S.a)({},a),e.chat):a);g(a),"function"===typeof D.current&&D.current()}}};return ie.on("company-".concat(re,"-chat-").concat(d.id),e),()=>{ie.off("company-".concat(re,"-chat-").concat(d.id),e)}}},[d,p,re,ie]);const se=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manual";if(console.log("[selectChat] Motivo: ".concat(a),e),R.current){f([]),C(1),y(null),le(!0);try{const{data:a}=await u.get("/chats/".concat(e.uuid));if(!R.current)return;m(a),await me(a.id,!1,1)}catch(t){if(!R.current)return;m(e),await me(e.id,!1,1)}}},ce=async e=>{if(d&&d.id){w(!0);try{await u.post("/chats/".concat(d.id,"/messages"),{message:e})}catch(a){console.error("Erro ao enviar mensagem:",a)}w(!1)}else console.error("Nenhum chat selecionado para enviar mensagem")},de=async e=>{try{await u.delete("/chats/".concat(e.id))}catch(a){}},me=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!R.current||!e)return;a?O(!0):w(!0);let n=0,o=0;if(a){const e=document.querySelector(".messageList");n=(null===e||void 0===e?void 0:e.scrollHeight)||0,o=(null===e||void 0===e?void 0:e.scrollTop)||0}try{const l=null!==t?t:x,r="/chats/".concat(e,"/messages?pageNumber=").concat(l),{data:i}=await u.get(r);if(!R.current)return;if(R.current){const e=1===l;a&&C(e=>e+1),y(i),e?f(i.records):(f(e=>[...i.records,...e]),a&&setTimeout(()=>{if(!R.current)return;const e=document.querySelector(".messageList");if(e){const a=e.scrollHeight-n;e.scrollTop=o+a}},100))}}catch(l){if(!R.current)return;console.error("Erro ao carregar mensagens:",l)}finally{R.current&&(a?O(!1):w(!1))}},ue=async()=>{!A&&d&&d.id&&(null===v||void 0===v?void 0:v.hasMore)&&await me(d.id,!0)},pe=async()=>{if(R.current){w(!0);try{const{data:e}=await u.get("/chats");return e.records.filter(e=>!0===e.isGroup||"true"===e.isGroup),e.records.filter(e=>!(!0===e.isGroup||"true"===e.isGroup)),R.current&&(g(e.records),E(e),console.log("Chats definidos no estado")),e}catch(e){return console.log("Erro ao carregar chats:",e),{records:[],hasMore:!1}}finally{R.current&&w(!1)}}},ge=e=>{new Date-new Date(e.createdAt)>6e5?alert("S\xf3 \xe9 poss\xedvel editar mensagens enviadas h\xe1 menos de 10 minutos."):($(e),ae(e.message),q(!0))},be=e=>{$(e),_(!0)},Ee=e=>{$(e),J(!0)};Object(n.useEffect)(()=>{if(L&&p.length){const e=p.find(e=>e.uuid===L);!e||d&&d.id===e.id||se(e,"useEffect[id, chats] (mudan\xe7a de rota ou lista de chats)")}},[L,p]);const he=e=>{f(a=>[...a,e])};return o.a.createElement(o.a.Fragment,null,o.a.createElement(xh,{type:s,open:r,chat:d,handleLoadNewChat:e=>{R.current&&(f([]),C(1),y(null),m(e),le(!0),l.push("/chats/".concat(e.uuid)),se(e,"handleLoadNewChat (novo chat criado/editado)"),pe().then(e=>{R.current&&e&&e.records&&(g(e.records),E(e))}))},handleClose:()=>i(!1),findChats:pe,setChats:g,setChatsPageInfo:E,chats:p,loggedInUserId:t.id}),o.a.createElement(Gt.a,{className:a.mainContainer},W?(()=>{const e=p.filter(e=>{const a=!0===e.isGroup||"true"===e.isGroup;return M?a:!a}).sort((e,a)=>new Date(a.updatedAt)-new Date(e.updatedAt));return o.a.createElement(Yt.a,{className:a.gridContainer,container:!0},o.a.createElement(Yt.a,{className:a.gridItem,md:3,item:!0},o.a.createElement("div",{style:{display:"flex",gap:8,marginBottom:12}},o.a.createElement(K.a,{onClick:()=>N(!1),color:M?"default":"primary",variant:M?"outlined":"contained",fullWidth:!0},ma.a.t("chatIndex.chats")),o.a.createElement(K.a,{onClick:()=>N(!0),color:M?"primary":"default",variant:M?"contained":"outlined",fullWidth:!0},ma.a.t("chatIndex.groups")),o.a.createElement(K.a,{onClick:()=>{c("new"),i(!0)},color:"secondary",variant:"contained",fullWidth:!0},ma.a.t("chatIndex.createGroup"))),o.a.createElement(SE,{chats:e,pageInfo:b,loading:k,handleSelectChat:e=>se(e,"sele\xe7\xe3o manual na lista"),handleDeleteChat:e=>de(e),handleEditChat:e=>{m(e),c("edit"),i(!0)},findChats:pe})),o.a.createElement(Yt.a,{className:a.gridItem,md:9,item:!0},Object(da.isObject)(d)&&Object(da.has)(d,"id")&&o.a.createElement(mh,{chat:d,scrollToBottomRef:D,pageInfo:v,messages:h,loading:k,loadingMore:A,handleSendMessage:ce,handleLoadMore:ue,onEdit:ge,onDelete:be,onForward:Ee,justOpenedChat:oe,setJustOpenedChat:le,messageListRef:P,addOptimisticMessage:he})))})():o.a.createElement(Yt.a,{className:a.gridContainer,container:!0},d.id?o.a.createElement(Yt.a,{className:a.gridItemTab,md:12,item:!0,style:{display:"flex",flexDirection:"column",height:"100%",minHeight:0,padding:0}},o.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:"10px",borderBottom:"1px solid #eee",background:"#fff",position:"sticky",top:0,zIndex:100}},o.a.createElement(F.a,{onClick:()=>m({})},o.a.createElement(vh.a,null))),o.a.createElement("div",{style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"}},o.a.createElement(mh,{chat:d,scrollToBottomRef:D,pageInfo:v,messages:h,loading:k,loadingMore:A,handleSendMessage:ce,handleLoadMore:ue,onEdit:ge,onDelete:be,onForward:Ee,justOpenedChat:oe,setJustOpenedChat:le,addOptimisticMessage:he}))):o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"16px 16px 0 16px",background:"#fff",borderBottom:"1px solid #eee",position:"sticky",top:0,zIndex:100}},o.a.createElement(K.a,{onClick:()=>i(!0),color:"primary",variant:"contained",style:{minWidth:120}},ma.a.t("chatIndex.createGroup")||"Criar grupo")),o.a.createElement("div",{style:{background:"#fff",position:"sticky",top:56,zIndex:99}},o.a.createElement(Kt.a,{value:j,onChange:(e,a)=>I(a),indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},o.a.createElement(_t.a,{label:ma.a.t("chatIndex.chats")||"Chats"}),o.a.createElement(_t.a,{label:ma.a.t("chatIndex.groups")||"Grupos"}))),0===j&&o.a.createElement(Yt.a,{className:a.gridItemTab,md:12,item:!0},o.a.createElement(SE,{chats:p.filter(e=>!(!0===e.isGroup||"true"===e.isGroup)),pageInfo:b,loading:k,handleSelectChat:e=>se(e),handleDeleteChat:e=>de(e),findChats:pe})),1===j&&o.a.createElement(Yt.a,{className:a.gridItemTab,md:12,item:!0},o.a.createElement(SE,{chats:p.filter(e=>!0===e.isGroup||"true"===e.isGroup),pageInfo:b,loading:k,handleSelectChat:e=>se(e),handleDeleteChat:e=>de(e),handleEditChat:e=>{m(e),c("edit"),i(!0)},findChats:pe}))))),o.a.createElement(H.a,{open:B,onClose:()=>q(!1),maxWidth:"md",fullWidth:!0},o.a.createElement(Q.a,null,"Editar Mensagem"),o.a.createElement(G.a,null,o.a.createElement(Ft.a,{autoFocus:!0,margin:"dense",label:"Mensagem",type:"text",fullWidth:!0,value:ee,onChange:e=>ae(e.target.value),multiline:!0,minRows:3,maxRows:10,inputProps:{style:{fontSize:18}}})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:()=>q(!1),color:"secondary"},ma.a.t("chatIndex.cancel")),o.a.createElement(K.a,{onClick:async()=>{try{const{data:e}=await u.put("/chats/messages/".concat(Z.id),{message:ee});f(e=>e.map(e=>e.id===Z.id?Object(S.a)(Object(S.a)({},e),{},{message:ee}):e)),q(!1),$(null),ae("")}catch(e){console.error(e)}},color:"primary"},ma.a.t("chatIndex.save")))),o.a.createElement(H.a,{open:U,onClose:()=>_(!1)},o.a.createElement(Q.a,null,ma.a.t("chatIndex.deleteGroup")),o.a.createElement(G.a,null,o.a.createElement(z.a,null,ma.a.t("chatIndex.deleteGroupConfirm"))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:()=>_(!1),color:"secondary"},ma.a.t("chatIndex.cancel")),o.a.createElement(K.a,{onClick:async()=>{try{await u.delete("/chats/messages/".concat(Z.id)),f(e=>e.map(e=>e.id===Z.id?Object(S.a)(Object(S.a)({},e),{},{isDeleted:!0,message:"Esta mensagem foi apagada",mediaPath:null,forwardedFrom:null,replyTo:null}):e)),_(!1),$(null)}catch(e){console.error(e)}},color:"primary"},ma.a.t("chatIndex.delete")))),o.a.createElement(H.a,{open:Y,onClose:()=>J(!1)},o.a.createElement(Q.a,null,"Encaminhar Mensagem"),o.a.createElement(G.a,null,o.a.createElement(qt.a,{fullWidth:!0,margin:"dense"},o.a.createElement(Bt.a,null,"Selecione o chat"),o.a.createElement(Wt.a,{value:te||"",onChange:e=>ne(e.target.value)},p.map(e=>{var a,n;return o.a.createElement(V.a,{key:e.id,value:e.id},e.isGroup?e.title:null===(a=e.users.find(e=>e.userId!==t.id))||void 0===a||null===(n=a.user)||void 0===n?void 0:n.name)})))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:()=>J(!1),color:"secondary"},"Cancelar"),o.a.createElement(K.a,{onClick:async()=>{try{await u.post("/chats/messages/".concat(Z.id,"/forward"),{targetChatId:te}),J(!1),$(null),ne(null)}catch(e){console.error(e)}},color:"primary",disabled:!te},"Encaminhar"))))},e=>o.a.createElement(Ch,Object.assign({},e,{width:"xs"})));const wh=Object(I.a)(e=>({formControl:{margin:e.spacing(1),minWidth:120}}));var Ah=()=>{const e=wh(),[a,t]=Object(n.useState)([]);return Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");t(e)}catch(e){ga("QUEUESELETSINGLE >>> ".concat(e))}})()},[]),o.a.createElement("div",{style:{marginTop:6}},o.a.createElement(qt.a,{variant:"outlined",className:e.FormControl,margin:"dense",fullWidth:!0},o.a.createElement("div",null,o.a.createElement(z.a,null,ma.a.t("queueSelect.inputLabel")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueSelect.inputLabel"),name:"queueId",labelId:"queue-selection-label",id:"queue-selection",fullWidth:!0},a.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))))};const Th=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}));Dt.e().shape({name:Dt.f().min(5,"Muito curto!").max(100,"Muito longo!").required("Obrigat\xf3rio"),prompt:Dt.f().min(50,"Muito curto!").required("Descreva o treinamento para Intelig\xeancia Artificial"),voice:Dt.f().required("Informe o modo para Voz"),max_tokens:Dt.d().required("Informe o n\xfamero m\xe1ximo de tokens"),temperature:Dt.d().required("Informe a temperatura"),apikey:Dt.f().required("Informe a API Key"),queueId:Dt.d().required("Informe a fila"),max_messages:Dt.d().required("Informe o n\xfamero m\xe1ximo de mensagens")});var Oh=e=>{let{open:a,onClose:t,promptId:l}=e;const r=Th(),[i,s]=Object(n.useState)("texto"),[c,d]=Object(n.useState)(!1),m=()=>{d(!c)},p={name:"",prompt:"",voice:"texto",voiceKey:"",voiceRegion:"",maxTokens:100,temperature:1,apiKey:"",queueId:null,maxMessages:10},[g,b]=Object(n.useState)(p);Object(n.useEffect)(()=>{(async()=>{if(l)try{const{data:e}=await u.get("/prompt/".concat(l));b(a=>Object(S.a)(Object(S.a)({},a),e)),s(e.voice)}catch(e){ga(e)}else b(p)})()},[l,a]);const E=()=>{b(p),s("texto"),t()},h=e=>{s(e.target.value)};return o.a.createElement("div",{className:r.root},o.a.createElement(H.a,{open:a,onClose:E,maxWidth:"md",scroll:"paper",fullWidth:!0},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("promptModal.title.edit"):ma.a.t("promptModal.title.add"))),o.a.createElement(Pt.e,{initialValues:g,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=Object(S.a)(Object(S.a)({},e),{},{voice:i});if(e.queueId){try{l?await u.put("/prompt/".concat(l),a):await u.post("/prompt",a),O.b.success(ma.a.t("promptModal.success"))}catch(t){ga(t)}E()}else ga("Informe o setor")})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:s}=e;return o.a.createElement(Pt.d,{style:{width:"100%"}},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("promptModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,required:!0}),o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("promptModal.form.apikey"),name:"apiKey",type:c?"text":"password",error:a.apiKey&&Boolean(t.apiKey),helperText:a.apiKey&&t.apiKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,InputProps:{endAdornment:o.a.createElement(yi.a,{position:"end"},o.a.createElement(F.a,{onClick:m},c?o.a.createElement(ib.a,null):o.a.createElement(sb.a,null)))}})),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("promptModal.form.prompt"),name:"prompt",error:a.prompt&&Boolean(t.prompt),helperText:a.prompt&&t.prompt,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,rows:10,multiline:!0}),o.a.createElement(Ah,null),o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(Bt.a,null,ma.a.t("promptModal.form.voice")),o.a.createElement(Wt.a,{id:"type-select",labelWidth:60,name:"voice",value:i,onChange:h,multiple:!1},o.a.createElement(V.a,{key:"texto",value:"texto"},"Texto"),o.a.createElement(V.a,{key:"pt-BR-FranciscaNeural",value:"pt-BR-FranciscaNeural"},"Francisa"),o.a.createElement(V.a,{key:"pt-BR-AntonioNeural",value:"pt-BR-AntonioNeural"},"Ant\xf4nio"),o.a.createElement(V.a,{key:"pt-BR-BrendaNeural",value:"pt-BR-BrendaNeural"},"Brenda"),o.a.createElement(V.a,{key:"pt-BR-DonatoNeural",value:"pt-BR-DonatoNeural"},"Donato"),o.a.createElement(V.a,{key:"pt-BR-ElzaNeural",value:"pt-BR-ElzaNeural"},"Elza"),o.a.createElement(V.a,{key:"pt-BR-FabioNeural",value:"pt-BR-FabioNeural"},"F\xe1bio"),o.a.createElement(V.a,{key:"pt-BR-GiovannaNeural",value:"pt-BR-GiovannaNeural"},"Giovanna"),o.a.createElement(V.a,{key:"pt-BR-HumbertoNeural",value:"pt-BR-HumbertoNeural"},"Humberto"),o.a.createElement(V.a,{key:"pt-BR-JulioNeural",value:"pt-BR-JulioNeural"},"Julio"),o.a.createElement(V.a,{key:"pt-BR-LeilaNeural",value:"pt-BR-LeilaNeural"},"Leila"),o.a.createElement(V.a,{key:"pt-BR-LeticiaNeural",value:"pt-BR-LeticiaNeural"},"Let\xedcia"),o.a.createElement(V.a,{key:"pt-BR-ManuelaNeural",value:"pt-BR-ManuelaNeural"},"Manuela"),o.a.createElement(V.a,{key:"pt-BR-NicolauNeural",value:"pt-BR-NicolauNeural"},"Nicolau"),o.a.createElement(V.a,{key:"pt-BR-ValerioNeural",value:"pt-BR-ValerioNeural"},"Val\xe9rio"),o.a.createElement(V.a,{key:"pt-BR-YaraNeural",value:"pt-BR-YaraNeural"},"Yara"))),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("promptModal.form.voiceKey"),name:"voiceKey",error:a.voiceKey&&Boolean(t.voiceKey),helperText:a.voiceKey&&t.voiceKey,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("promptModal.form.voiceRegion"),name:"voiceRegion",error:a.voiceRegion&&Boolean(t.voiceRegion),helperText:a.voiceRegion&&t.voiceRegion,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("promptModal.form.temperature"),name:"temperature",error:a.temperature&&Boolean(t.temperature),helperText:a.temperature&&t.temperature,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("promptModal.form.max_tokens"),name:"maxTokens",error:a.maxTokens&&Boolean(t.maxTokens),helperText:a.maxTokens&&t.maxTokens,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("promptModal.form.max_messages"),name:"maxMessages",error:a.maxMessages&&Boolean(t.maxMessages),helperText:a.maxMessages&&t.maxMessages,variant:"outlined",margin:"dense",fullWidth:!0}))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("promptModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},"".concat(l?ma.a.t("promptModal.buttons.okEdit"):ma.a.t("promptModal.buttons.okAdd")),n&&o.a.createElement(Lt.a,{size:24,className:r.buttonProgress}))))})))};const Sh=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}})),jh=(e,a)=>{if("LOAD_PROMPTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_PROMPTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_PROMPT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var Ih=()=>{const e=Sh(),[a,t]=Object(n.useReducer)(jh,[]),[l,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(!1),{user:g,socket:b}=Object(n.useContext)(Ca),{getPlanCompany:E}=Ia(),h=Object(Um.useHistory)(),f=g.companyId;Object(n.useEffect)(()=>{!async function(){(await E(void 0,f)).plan.useOpenAi||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{h.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{(async()=>{r(!0);try{const{data:e}=await u.get("/prompt");t({type:"LOAD_PROMPTS",payload:e.prompts}),r(!1)}catch(e){ga(e),r(!1)}})()},[]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||t({type:"UPDATE_PROMPTS",payload:e.prompt}),"delete"===e.action&&t({type:"DELETE_PROMPT",payload:e.promptId})};return b.on("company-".concat(f,"-prompt"),e),()=>{b.off("company-".concat(f,"-prompt"),e)}},[b]);return o.a.createElement(yo,null,o.a.createElement(Si,{title:c&&"".concat(ma.a.t("prompts.confirmationModal.deleteTitle")," ").concat(c.name,"?"),open:m,onClose:()=>{p(!1),d(null)},onConfirm:()=>(async e=>{try{const{data:a}=await u.delete("/prompt/".concat(e));O.b.info(ma.a.t(a.message))}catch(a){ga(a)}d(null)})(c.id)},ma.a.t("prompts.confirmationModal.deleteMessage")),o.a.createElement(Oh,{open:i,onClose:()=>{s(!1),d(null)},promptId:null===c||void 0===c?void 0:c.id}),"user"===g.profile?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("prompts.title")),o.a.createElement(Am,null,o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{s(!0),d(null)}},ma.a.t("prompts.buttons.add")))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"left"},ma.a.t("prompts.table.name")),o.a.createElement(ko.a,{align:"left"},ma.a.t("prompts.table.queue")),o.a.createElement(ko.a,{align:"left"},ma.a.t("prompts.table.max_tokens")),o.a.createElement(ko.a,{align:"center"},ma.a.t("prompts.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,a.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"left"},e.name),o.a.createElement(ko.a,{align:"left"},e.queue.name),o.a.createElement(ko.a,{align:"left"},e.maxTokens),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{d(e),s(!0)})(e)},o.a.createElement(bm.a,null)),o.a.createElement(F.a,{size:"small",onClick:()=>{d(e),p(!0)}},o.a.createElement(Em.a,null))))),l&&o.a.createElement(kd,{columns:4})))))))},Mh=t(1622);const Nh=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{marginTop:12,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},importMessage:{marginTop:12,marginBottom:12,paddingBottom:20,paddingTop:3,padding:12,border:"solid grey 2px",borderRadius:4,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textField:{marginRight:e.spacing(1),flex:1},tokenRefresh:{minWidth:"auto",display:"flex",alignItems:"center",justifyContent:"center"}})),Rh=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Dh=o.a.memo(e=>{let{open:a,onClose:t,whatsAppId:l}=e;const r=Nh(),[i,s]=Object(n.useState)(""),c=Object(n.useRef)(null),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(""),b={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",maxUseBotQueues:3,provider:"beta",expiresTicket:0,allowGroup:!1,groupAsTicket:"disabled",timeUseBotQueues:"0",timeSendQueue:"0",sendIdQueue:0,expiresTicketNPS:"0",expiresInactiveMessage:"",timeInactiveMessage:"",inactiveMessage:"",maxUseBotQueuesNPS:3,whenExpiresTicket:0,timeCreateNewTicket:0,greetingMediaAttachment:"",importRecentMessages:"",importOldMessages:"",importOldMessagesGroups:"",integrationId:""},[E,h]=Object(n.useState)(b),[f,v]=Object(n.useState)([]),[y,x]=Object(n.useState)([]),[C,k]=Object(n.useState)("general"),[w,A]=Object(n.useState)(!1),[T,j]=Object(n.useState)(!1),[I,M]=Object(n.useState)(!1),[N,R]=Object(n.useState)(ya()().add(-1,"days").format("YYYY-MM-DDTHH:mm")),[D,P]=Object(n.useState)(ya()().add(-1,"minutes").format("YYYY-MM-DDTHH:mm")),[F,L]=Object(n.useState)(!1),[W,B]=Object(n.useState)([]),[q,z]=Object(n.useState)(!1),[U,_]=Object(n.useState)([{weekday:ma.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:ma.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}]),{get:Y}=Da(),[J,Z]=Object(n.useState)(null),[$,ee]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/prompt");ee(e.prompts)}catch(e){ga(e)}})()},[l]),Object(n.useEffect)(()=>{(async()=>{const e=await Y({column:"scheduleType"});z("connection"===e.scheduleType)})()},[]);const ae=async e=>{A(e.target.checked)};Object(n.useEffect)(()=>{(async()=>{if(l)try{var e;const{data:a}=await u.get("whatsapp-admin/".concat(l,"?session=0"));h(a),g(a.greetingMediaAttachment),s(a.token),a.promptId?Z(a.promptId):Z(null);const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);v(t),_(a.schedules),(null===a||void 0===a?void 0:a.importOldMessages)&&(A(!0),R(null===a||void 0===a?void 0:a.importOldMessages),P(null===a||void 0===a?void 0:a.importRecentMessages),M(null===a||void 0===a?void 0:a.closedTicketsPostImported),j(null===a||void 0===a?void 0:a.importOldMessagesGroups))}catch(a){ga(a)}})()},[l]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");x(e)}catch(e){ga(e)}})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration");B(e.queueIntegrations)}catch(e){ga(e)}})()},[]);const te=e=>{Z(e.target.value),v([])};function ne(e){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789";let t="";for(let n=0;n<e;n++){const e=Math.floor(Math.random()*a.length);t+=a.charAt(e)}return t}const oe=()=>{s(ne(30))},le=()=>{navigator.clipboard.writeText(i),L(!0)},re=async e=>{O.b.success("Clique em salvar para registar as altera\xe7\xf5es"),_(e)},ie=()=>{t(),h(b),m(null),g(""),L(!1)},se=(e,a)=>{k(a)},ce=()=>{const e=c.current.files[0];m(e),g(e.name),c.current.value=null},de=()=>{m(null),g(null)};return o.a.createElement("div",{className:r.root},o.a.createElement(H.a,{open:a,onClose:ie,maxWidth:"xl",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,null,l?ma.a.t("whatsappModal.title.edit"):ma.a.t("whatsappModal.title.add")),o.a.createElement(Pt.e,{initialValues:E,enableReinitialize:!0,validationSchema:Rh,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(l||s(ne(30)),!Object(da.isNil)(e.ratingMessage)&&""!==e.ratingMessage&&("0"===e.expiresTicketNPS||""===e.expiresTicketNPS||0===e.expiresTicketNPS))return void ga(ma.a.t("whatsappModal.errorExpiresNPS"));if(!Object(da.isNil)(e.ratingMessage)&&("0"===e.expiresTicketNPS||""===e.expiresTicketNPS))return void ga(ma.a.t("whatsappModal.errorExpiresNPS"));if(""===e.timeSendQueue&&(e.timeSendQueue="0"),(0===e.sendIdQueue||""===e.sendIdQueue||Object(da.isNil)(e.sendIdQueue))&&0!==e.timeSendQueue&&"0"!==e.timeSendQueue)return void ga(ma.a.t("whatsappModal.errorSendQueue"));const a=Object(S.a)(Object(S.a)({},e),{},{queueIds:f,importOldMessages:w?N:null,importRecentMessages:w?D:null,importOldMessagesGroups:T||null,closedTicketsPostImported:I||null,token:i||null,schedules:U,promptId:J||null});delete a.queues,delete a.session;try{if(l){if(l&&w&&"CONNECTED"===(null===E||void 0===E?void 0:E.status)){O.b.warning(ma.a.t("userModal.warning.updateImage"),{autoClose:!1});try{h(Object(S.a)(Object(S.a)({},E),{},{status:"qrcode"})),await u.delete("/whatsappsession/".concat(E.id))}catch(t){ga(t)}}if(await u.put("/whatsapp/".concat(l),a),null!=d){const e=new FormData;e.append("file",d),await u.post("/whatsapp/".concat(l,"/media-upload"),e)}p||null===E.greetingMediaAttachment||await u.delete("/whatsapp/".concat(l,"/media-upload"))}else{const{data:e}=await u.post("/whatsapp",a);if(null!=d){const a=new FormData;a.append("file",d),await u.post("/whatsapp/".concat(e.id,"/media-upload"),a)}}O.b.success(ma.a.t("whatsappModal.success")),ie()}catch(t){ga(t)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:s}=e;return o.a.createElement(Pt.d,null,o.a.createElement(Gt.a,{className:r.mainPaper,elevation:1},o.a.createElement(Kt.a,{value:C,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:se,className:r.tab},o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.general"),value:"general"}),o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.integrations"),value:"integrations"}),o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.messages"),value:"messages"}),o.a.createElement(_t.a,{label:"Chatbot",value:"chatbot"}),o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.assessments"),value:"nps"}),q&&o.a.createElement(_t.a,{label:ma.a.t("whatsappModal.tabs.schedules"),value:"schedules"}))),o.a.createElement(Gt.a,{className:r.paper,elevation:0},o.a.createElement(Xt,{className:r.container,value:C,name:"general"},o.a.createElement(G.a,{dividers:!0},p&&o.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},o.a.createElement(K.a,{variant:"outlined",color:"primary",endIcon:o.a.createElement(Rl.a,null),onClick:de},p)),o.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse"}},o.a.createElement("input",{type:"file",accept:"video/*,image/*",ref:c,style:{display:"none"},onChange:ce}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>c.current.click()},ma.a.t("userModal.buttons.addImage"))),o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",className:r.textField})),o.a.createElement(Yt.a,{style:{paddingTop:15},item:!0},o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,color:"primary",name:"isDefault",checked:a.isDefault}),label:ma.a.t("whatsappModal.form.default")}),o.a.createElement(wr.a,{control:o.a.createElement(Pt.b,{as:cl.a,color:"primary",name:"allowGroup",checked:a.allowGroup}),label:ma.a.t("whatsappModal.form.group")})),o.a.createElement(Yt.a,{xs:6,md:4,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},o.a.createElement(Bt.a,{id:"groupAsTicket-selection-label"},ma.a.t("whatsappModal.form.groupAsTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("whatsappModal.form.groupAsTicket"),placeholder:ma.a.t("whatsappModal.form.groupAsTicket"),labelId:"groupAsTicket-selection-label",id:"groupAsTicket",name:"groupAsTicket"},o.a.createElement(V.a,{value:"disabled"},ma.a.t("whatsappModal.menuItem.disabled")),o.a.createElement(V.a,{value:"enabled"},ma.a.t("whatsappModal.menuItem.enabled"))))))),o.a.createElement("div",{className:r.importMessage},o.a.createElement("div",{className:r.multFieldLine},o.a.createElement(wr.a,{style:{marginRight:7,color:"gray"},label:ma.a.t("whatsappModal.form.importOldMessagesEnable"),labelPlacement:"end",control:o.a.createElement(cl.a,{size:"medium",checked:w,onChange:ae,name:"importOldMessagesEnable",color:"primary"})}),w?o.a.createElement(o.a.Fragment,null,o.a.createElement(wr.a,{style:{marginRight:7,color:"gray"},label:ma.a.t("whatsappModal.form.importOldMessagesGroups"),labelPlacement:"end",control:o.a.createElement(cl.a,{size:"medium",checked:T,onChange:e=>j(e.target.checked),name:"importOldMessagesGroups",color:"primary"})}),o.a.createElement(wr.a,{style:{marginRight:7,color:"gray"},label:ma.a.t("whatsappModal.form.closedTicketsPostImported"),labelPlacement:"end",control:o.a.createElement(cl.a,{size:"medium",checked:I,onChange:e=>M(e.target.checked),name:"closedTicketsPostImported",color:"primary"})})):o.a.createElement(o.a.Fragment,null)),w?o.a.createElement(Yt.a,{style:{marginTop:18},container:!0,spacing:3},o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.importOldMessages"),type:"datetime-local",name:"importOldMessages",inputProps:{max:ya()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:ya()().add(-2,"years").format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:t.importOldMessages&&Boolean(n.importOldMessages),helperText:t.importOldMessages&&n.importOldMessages,variant:"outlined",value:ya()(N).format("YYYY-MM-DDTHH:mm"),onChange:e=>{R(e.target.value)}})),o.a.createElement(Yt.a,{item:!0,xs:6},o.a.createElement(Pt.b,{fullWidth:!0,as:Ft.a,label:ma.a.t("whatsappModal.form.importRecentMessages"),type:"datetime-local",name:"importRecentMessages",inputProps:{max:ya()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:ya()(N).format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:t.importRecentMessages&&Boolean(n.importRecentMessages),helperText:t.importRecentMessages&&n.importRecentMessages,variant:"outlined",value:ya()(D).format("YYYY-MM-DDTHH:mm"),onChange:e=>{P(e.target.value)}}))):null),w&&o.a.createElement("span",{style:{color:"red"}},ma.a.t("whatsappModal.form.importAlert")),o.a.createElement(tn.a,{display:"flex",alignItems:"center"},o.a.createElement(Yt.a,{xs:6,md:12,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.token"),type:"token",fullWidth:!0,value:i,variant:"outlined",margin:"dense",disabled:!0})),o.a.createElement(K.a,{onClick:oe,disabled:s,className:r.tokenRefresh,variant:"text",startIcon:o.a.createElement(Om.a,{style:{marginLeft:5,color:"green"}})}),o.a.createElement(K.a,{onClick:le,className:r.tokenRefresh,variant:"text",startIcon:o.a.createElement(Ic.a,{style:{color:F?"blue":"inherit"}})})),o.a.createElement("div",null,o.a.createElement("h3",null,ma.a.t("whatsappModal.form.queueRedirection")),o.a.createElement("p",null,ma.a.t("whatsappModal.form.queueRedirectionDesc")),o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,md:6,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"sendIdQueue-selection-label"},ma.a.t("whatsappModal.form.sendIdQueue")),o.a.createElement(Pt.b,{as:Wt.a,name:"sendIdQueue",id:"sendIdQueue",value:a.sendIdQueue||"0",label:ma.a.t("whatsappModal.form.sendIdQueue"),placeholder:ma.a.t("whatsappModal.form.sendIdQueue"),labelId:"sendIdQueue-selection-label"},o.a.createElement(V.a,{value:0},"\xa0"),y.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{xs:6,md:6,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeSendQueue"),fullWidth:!0,name:"timeSendQueue",variant:"outlined",margin:"dense",error:t.timeSendQueue&&Boolean(n.timeSendQueue),helperText:t.timeSendQueue&&n.timeSendQueue})))))),o.a.createElement(Xt,{className:r.container,value:C,name:"integrations"},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Qt,{selectedQueueIds:f,onChange:e=>(v(e),void Z(null))}),o.a.createElement(qt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},o.a.createElement(Bt.a,{id:"integrationId-selection-label"},ma.a.t("queueModal.form.integrationId")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",variant:"outlined",margin:"dense",placeholder:ma.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label"},o.a.createElement(V.a,{value:null},"Desabilitado"),W.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,null,ma.a.t("whatsappModal.form.prompt")),o.a.createElement(Wt.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"promptId",value:J||"",onChange:te,label:ma.a.t("whatsappModal.form.prompt"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},$.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))),o.a.createElement(Xt,{className:r.container,value:C,name:"messages"},o.a.createElement(G.a,{dividers:!0},o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(n.greetingMessage),helperText:t.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.complationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:t.complationMessage&&Boolean(n.complationMessage),helperText:t.complationMessage&&n.complationMessage,variant:"outlined",margin:"dense"})),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.outOfHoursMessage"),multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:t.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})))),o.a.createElement(Xt,{className:r.container,value:C,name:"chatbot"},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeCreateNewTicket"),fullWidth:!0,name:"timeCreateNewTicket",variant:"outlined",margin:"dense",error:t.timeCreateNewTicket&&Boolean(n.timeCreateNewTicket),helperText:t.timeCreateNewTicket&&n.timeCreateNewTicket})),o.a.createElement(Yt.a,{xs:6,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.maxUseBotQueues"),fullWidth:!0,name:"maxUseBotQueues",variant:"outlined",margin:"dense",error:t.maxUseBotQueues&&Boolean(n.maxUseBotQueues),helperText:t.maxUseBotQueues&&n.maxUseBotQueues})),o.a.createElement(Yt.a,{xs:6,md:4,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeUseBotQueues"),fullWidth:!0,name:"timeUseBotQueues",variant:"outlined",margin:"dense",error:t.timeUseBotQueues&&Boolean(n.timeUseBotQueues),helperText:t.timeUseBotQueues&&n.timeUseBotQueues}))),o.a.createElement(Yt.a,{spacing:2,container:!0},o.a.createElement(Yt.a,{xs:6,md:6,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.expiresTicket"),fullWidth:!0,name:"expiresTicket",variant:"outlined",margin:"dense",error:t.expiresTicket&&Boolean(n.expiresTicket),helperText:t.expiresTicket&&n.expiresTicket})),o.a.createElement(Yt.a,{xs:6,md:6,item:!0},o.a.createElement(qt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},o.a.createElement(Bt.a,{id:"whenExpiresTicket-selection-label"},ma.a.t("whatsappModal.form.whenExpiresTicket")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("whatsappModal.form.whenExpiresTicket"),placeholder:ma.a.t("whatsappModal.form.whenExpiresTicket"),labelId:"whenExpiresTicket-selection-label",id:"whenExpiresTicket",name:"whenExpiresTicket"},o.a.createElement(V.a,{value:"0"},ma.a.t("whatsappModal.form.closeLastMessageOptions1")),o.a.createElement(V.a,{value:"1"},ma.a.t("whatsappModal.form.closeLastMessageOptions2")))))),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.expiresInactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"expiresInactiveMessage",error:t.expiresInactiveMessage&&Boolean(n.expiresInactiveMessage),helperText:t.expiresInactiveMessage&&n.expiresInactiveMessage,variant:"outlined",margin:"dense"})),o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.timeInactiveMessage"),fullWidth:!0,name:"timeInactiveMessage",variant:"outlined",margin:"dense",error:t.timeInactiveMessage&&Boolean(n.timeInactiveMessage),helperText:t.timeInactiveMessage&&n.timeInactiveMessage}),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.inactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"inactiveMessage",error:t.inactiveMessage&&Boolean(n.inactiveMessage),helperText:t.inactiveMessage&&n.inactiveMessage,variant:"outlined",margin:"dense"})))),o.a.createElement(Xt,{className:r.container,value:C,name:"nps"},o.a.createElement(G.a,{dividers:!0},o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.ratingMessage"),multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:t.ratingMessage&&Boolean(n.ratingMessage),helperText:t.ratingMessage&&n.ratingMessage,variant:"outlined",margin:"dense"})),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.maxUseBotQueuesNPS"),fullWidth:!0,name:"maxUseBotQueuesNPS",variant:"outlined",margin:"dense",error:t.maxUseBotQueuesNPS&&Boolean(n.maxUseBotQueuesNPS),helperText:t.maxUseBotQueuesNPS&&n.maxUseBotQueuesNPS})),o.a.createElement("div",null,o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("whatsappModal.form.expiresTicketNPS"),fullWidth:!0,name:"expiresTicketNPS",variant:"outlined",margin:"dense",error:t.expiresTicketNPS&&Boolean(n.expiresTicketNPS),helperText:t.expiresTicketNPS&&n.expiresTicketNPS})))),o.a.createElement(Xt,{className:r.container,value:C,name:"schedules"},"schedules"===C&&o.a.createElement(Gt.a,{style:{padding:20}},o.a.createElement(Im,{loading:!1,onSubmit:re,initialValues:U,labelSaveButton:ma.a.t("whatsappModal.buttons.okAdd")})))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:ie,color:"secondary",disabled:s,variant:"outlined"},ma.a.t("whatsappModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:r.btnWrapper},l?ma.a.t("whatsappModal.buttons.okEdit"):ma.a.t("whatsappModal.buttons.okAdd"),s&&o.a.createElement(Lt.a,{size:24,className:r.buttonProgress}))))})))});const Ph=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll",borderRadius:"10px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:_a.a[500]},TableHead:{backgroundColor:e.palette.barraSuperior,color:"textSecondary",borderRadius:"5px"}})),Fh=e=>{let{title:a,content:t,children:n}=e;const l=Ph();return o.a.createElement(de.a,{arrow:!0,classes:{tooltip:l.tooltip,popper:l.tooltipPopper},title:o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},a),t&&o.a.createElement(z.a,null,t))},n)};var Lh=o.a.memo(e=>{let{open:a,onClose:t,whatsAppId:l,filteredWhatsapps:r,companyInfos:i}=e;const s=Ph(),{user:c,socket:d}=Object(n.useContext)(Ca),{list:m}=Km(),[p,g]=Object(n.useState)(!1),{whatsApps:b,loading:E}=Object(n.useContext)(Ta),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(null),[A,T]=Object(n.useState)(!1),S={action:"",title:"",message:"",whatsAppId:"",open:!1},[j,I]=Object(n.useState)(S),M=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{O.b.success(ma.a.t("connections.facebook.success"))}).catch(e=>{ga(e)})}},N=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{O.b.success(ma.a.t("connections.facebook.success"))}).catch(e=>{ga(e)})}},R=Object(n.useCallback)(()=>{f(!1),w(null)},[w,f]),D=Object(n.useCallback)(()=>{w(null),C(!1)},[C,w]),P=(e,a)=>{"disconnect"===e&&I({action:e,title:ma.a.t("connections.confirmationModal.disconnectTitle"),message:ma.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:a}),"delete"===e&&I({action:e,title:ma.a.t("connections.confirmationModal.deleteTitle"),message:ma.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:a}),T(!0)},L=e=>o.a.createElement(o.a.Fragment,null,"qrcode"===e.status&&o.a.createElement(K.a,{size:"small",variant:"contained",color:"primary",onClick:()=>(e=>{w(e),C(!0)})(e)},ma.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{await u.post("/whatsappsession/".concat(e))}catch(a){ga(a)}})(e.id)},ma.a.t("connections.buttons.tryAgain"))," ",o.a.createElement(K.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(async e=>{try{await u.put("/whatsappsession/".concat(e))}catch(a){ga(a)}})(e.id)},ma.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&o.a.createElement(K.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{P("disconnect",e.id)}},ma.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&o.a.createElement(K.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},ma.a.t("connections.buttons.connecting")));return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:a,onClose:()=>{t()},maxWidth:"lg",fullWidth:!0,scroll:"paper"},o.a.createElement(yo,null,o.a.createElement(Si,{title:j.title,open:A,onClose:T,onConfirm:async()=>{if("disconnect"===j.action)try{await u.delete("/whatsappsession/".concat(j.whatsAppId))}catch(e){ga(e)}if("delete"===j.action)try{await u.delete("/whatsapp/".concat(j.whatsAppId)),O.b.success(ma.a.t("connections.toasts.deleted"))}catch(e){ga(e)}I(S)}},j.message),o.a.createElement(zm,{open:x,onClose:D,whatsAppId:!h&&(null===k||void 0===k?void 0:k.id)}),o.a.createElement(Dh,{open:h,onClose:R,whatsAppId:!x&&(null===k||void 0===k?void 0:k.id)}),o.a.createElement(Gt.a,{className:s.mainPaper,style:{overflow:"hidden"},variant:"outlined"},o.a.createElement(km,null,o.a.createElement(Mh.a,null,o.a.createElement(z.a,{variant:"h5",color:"black",style:{fontWeight:"bold",marginLeft:"10px",marginTop:"10px"},gutterBottom:!0},ma.a.t("connections.connections")," ",null===i||void 0===i?void 0:i.name)),o.a.createElement(Am,null,o.a.createElement(cm.a,{variant:"popover",popupId:"demo-popup-menu"},e=>o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,Object(sm.bindMenu)(e),o.a.createElement(V.a,{onClick:()=>{w(null),f(!0),e.close()}},o.a.createElement(_l.a,{fontSize:"small",style:{marginRight:"10px"}}),"WhatsApp"),o.a.createElement(xm.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagementnt,business_management",callback:M,render:e=>o.a.createElement(V.a,{onClick:e.onClick},o.a.createElement(Gl.a,{fontSize:"small",style:{marginRight:"10px"}}),"Facebook")}),o.a.createElement(xm.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:N,render:e=>o.a.createElement(V.a,{onClick:e.onClick},o.a.createElement(Kl.a,{fontSize:"small",style:{marginRight:"10px"}}),"Instagram")})))))),o.a.createElement(Mh.a,{style:{overflowY:"auto",padding:"20px",backgroundColor:"rgb(244 244 244 / 53%)",borderRadius:"5px",height:"93%"}},o.a.createElement(Gt.a,null,o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,{className:s.TableHead},o.a.createElement(To.a,{style:{color:"#fff"}},o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},"Channel"),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.table.name")),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.table.status")),"admin"===c.profile&&o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.table.session")),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.table.lastUpdate")),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.table.default")),"admin"===c.profile&&o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.table.actions")))),o.a.createElement(Co.a,null,E?o.a.createElement(kd,null):o.a.createElement(o.a.Fragment,null,(null===r||void 0===r?void 0:r.length)>0&&r.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center"},(e=>{switch(e){case"facebook":return o.a.createElement(Gl.a,null);case"instagram":return o.a.createElement(Kl.a,null);case"whatsapp":return o.a.createElement(_l.a,null);default:return"error"}})(e.channel)),o.a.createElement(ko.a,{align:"center"},null===e||void 0===e?void 0:e.name),o.a.createElement(ko.a,{align:"center"},(e=>o.a.createElement("div",{className:s.customTableCell},"DISCONNECTED"===e.status&&o.a.createElement(Fh,{title:ma.a.t("connections.toolTips.disconnected.title"),content:ma.a.t("connections.toolTips.disconnected.content")},o.a.createElement(dm.a,{color:"secondary"})),"OPENING"===e.status&&o.a.createElement(Lt.a,{size:24,className:s.buttonProgress}),"qrcode"===e.status&&o.a.createElement(Fh,{title:ma.a.t("connections.toolTips.qrcode.title"),content:ma.a.t("connections.toolTips.qrcode.content")},o.a.createElement(mm.a,null)),"CONNECTED"===e.status&&o.a.createElement(Fh,{title:ma.a.t("connections.toolTips.connected.title")},o.a.createElement(um.a,{style:{color:_a.a[500]}})),("TIMEOUT"===e.status||"PAIRING"===e.status)&&o.a.createElement(Fh,{title:ma.a.t("connections.toolTips.timeout.title"),content:ma.a.t("connections.toolTips.timeout.content")},o.a.createElement(pm.a,{color:"secondary"}))))(e)),"admin"===c.profile&&o.a.createElement(ko.a,{align:"center"},L(e)),o.a.createElement(ko.a,{align:"center"},Object(Ba.a)(Object(Qa.a)(e.updatedAt),"dd/MM/yy HH:mm")),o.a.createElement(ko.a,{align:"center"},e.isDefault&&o.a.createElement("div",{className:s.customTableCell},o.a.createElement(gm.a,{style:{color:_a.a[500]}}))),"admin"===c.profile&&o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{w(e),f(!0)})(e)},o.a.createElement(bm.a,null)),o.a.createElement(F.a,{size:"small",onClick:a=>{P("delete",e.id)}},o.a.createElement(Em.a,null))))))))))))))});const Wh=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll",borderRadius:"10px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:_a.a[500]},TableHead:{backgroundColor:e.palette.barraSuperior,color:"textSecondary",borderRadius:"5px"}}));var Bh=()=>{const e=Wh(),{user:a,socket:t}=Object(n.useContext)(Ca),{list:l}=Km(),[r,i]=Object(n.useState)(!0),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)([]),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(null),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)([]),[A,S]=Object(n.useState)(null),j={action:"",title:"",message:"",whatsAppId:"",open:!1},[I,M]=Object(n.useState)(j),N=Object(T.useHistory)();a.super||N.push("/tickets"),Object(n.useEffect)(()=>{i(!0);(async()=>{try{const{data:e}=await u.get("/whatsapp/all/?session=0");m(e),i(!1)}catch(e){i(!1),ga(e)}})()},[]);const R=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{O.b.success(ma.a.t("connections.facebook.success"))}).catch(e=>{ga(e)})}};Object(n.useEffect)(()=>{D()},[]);const D=async()=>{c(!0);try{const e=await l();E(e)}catch(e){O.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}c(!1)},P=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{O.b.success(ma.a.t("connections.facebook.success"))}).catch(e=>{ga(e)})}},L=(e,a)=>{y(null),g(!0),(null===e||void 0===e?void 0:e.length)>0&&(w(e),S(a))},W=Object(n.useCallback)(()=>{g(!1),y(null),w([]),S(null)},[y,g]),B=Object(n.useCallback)(()=>{y(null),f(!1)},[f,y]);return o.a.createElement(yo,null,o.a.createElement(Si,{title:I.title,open:x,onClose:C,onConfirm:async()=>{if("disconnect"===I.action)try{await u.delete("/whatsappsession/".concat(I.whatsAppId))}catch(e){ga(e)}if("delete"===I.action)try{await u.delete("/whatsapp/".concat(I.whatsAppId)),O.b.success(ma.a.t("connections.toasts.deleted"))}catch(e){ga(e)}M(j)}},I.message),o.a.createElement(zm,{open:h,onClose:B,whatsAppId:!p&&(null===v||void 0===v?void 0:v.id)}),o.a.createElement(Lh,{open:p,onClose:W,filteredWhatsapps:k,companyInfos:A,whatsAppId:!h&&(null===v||void 0===v?void 0:v.id)}),"user"===a.profile?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(Gt.a,{className:e.mainPaper,style:{overflow:"hidden"},variant:"outlined"},o.a.createElement(km,null,o.a.createElement(Mh.a,null,o.a.createElement(z.a,{variant:"h5",color:"black",style:{fontWeight:"bold",marginLeft:"10px",marginTop:"10px"},gutterBottom:!0},ma.a.t("connections.title")),o.a.createElement(z.a,{style:{marginTop:"-10px",marginLeft:"10px"},variant:"caption",color:"textSecondary"},ma.a.t("connections.connectYourServiceChannelsToReceiveMessagesAndStartConversationsWithYourCustomers"))),o.a.createElement(Am,null,o.a.createElement(cm.a,{variant:"popover",popupId:"demo-popup-menu"},e=>o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,Object(sm.bindMenu)(e),o.a.createElement(V.a,{onClick:()=>{L(),e.close()}},o.a.createElement(_l.a,{fontSize:"small",style:{marginRight:"10px"}}),"WhatsApp"),o.a.createElement(xm.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:R,render:e=>o.a.createElement(V.a,{onClick:e.onClick},o.a.createElement(Gl.a,{fontSize:"small",style:{marginRight:"10px"}}),"Facebook")}),o.a.createElement(xm.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://api.datamixsistemas.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:P,render:e=>o.a.createElement(V.a,{onClick:e.onClick},o.a.createElement(Kl.a,{fontSize:"small",style:{marginRight:"10px"}}),"Instagram")})))))),o.a.createElement(Mh.a,{style:{overflowY:"auto",padding:"20px",backgroundColor:"rgb(244 244 244 / 53%)",borderRadius:"5px",height:"93%"}},o.a.createElement(Gt.a,null,o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,{className:e.TableHead},o.a.createElement(To.a,{style:{color:"#fff"}},o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.client")),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.connectedConnections")),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.disconnectedConnections")),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.totalConnections")),"admin"===a.profile&&o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.table.actions")))),o.a.createElement(Co.a,null,r?o.a.createElement(kd,null):o.a.createElement(o.a.Fragment,null,console.log(b,d),(null===b||void 0===b?void 0:b.length)>0&&b.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center"},null===e||void 0===e?void 0:e.name),o.a.createElement(ko.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)&&"CONNECTED"===(null===a||void 0===a?void 0:a.status)).length),o.a.createElement(ko.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)&&"CONNECTED"!==(null===a||void 0===a?void 0:a.status)).length),o.a.createElement(ko.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)).length),"admin"===a.profile&&o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>L(d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)),e)},o.a.createElement(bm.a,null))))),o.a.createElement(To.a,{className:e.TableHead},o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},ma.a.t("connections.total")),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(e=>"CONNECTED"===(null===e||void 0===e?void 0:e.status)).length),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(e=>"CONNECTED"!==(null===e||void 0===e?void 0:e.status)).length),o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.length),"admin"===a.profile&&o.a.createElement(ko.a,{style:{color:"#fff"},align:"center"}))))))))))},qh=t(1583);const zh=Object(I.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var Uh=e=>{let{selectedQueueIds:a,onChange:t}=e;const l=zh(),[r,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");i(e)}catch(e){ga(e)}})()},[]);return o.a.createElement("div",{style:{marginTop:6}},o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(Bt.a,null,ma.a.t("queueSelect.inputLabel")),o.a.createElement(Wt.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{t(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>o.a.createElement("div",{className:l.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{if("0"===e)return o.a.createElement(Vt.a,{key:e,size:"small",label:ma.a.t("queueSelect.withoutQueue"),className:l.chip});const a=r.find(a=>a.id===e);return a?o.a.createElement(Vt.a,{key:e,style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:l.chip}):null}))},o.a.createElement(V.a,{value:"0"},ma.a.t("queueSelect.withoutQueue")),r.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name)))))},Vh=t(1525),Hh=t(1526),Qh=t(1527);const Gh=Object(I.a)(e=>({mainContainer:{background:e.palette.fancyBackground},formControl:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},mainPaper:{flex:1,marginTop:40,borderRadius:20,border:"0px !important",marginBottom:40,overflow:"hidden"},mainPaperTable:Object(S.a)({flex:1,overflow:"auto",height:"68vh"},e.scrollbarStylesSoftBig),mainPaperFilter:Object(S.a)({flex:1,overflow:"auto",height:"20vh"},e.scrollbarStylesSoftBig),mainHeaderBlock:{[e.breakpoints.down("md")]:{display:"flex",flexWrap:"wrap"}},filterItem:{width:200,[e.breakpoints.down("md")]:{width:"45%"}}}));var Kh=()=>{const e=Gh(),a=Object(T.useHistory)(),{getReport:t}=Ro(),{user:l}=Object(n.useContext)(Ca),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(10),[p,g]=Object(n.useState)(""),[b,E]=Object(n.useState)(null),[h,f]=Object(n.useState)([]),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)(null),[k,w]=Object(n.useState)([]),[A,O]=Object(n.useState)([]),[j,I]=Object(n.useState)([]),[M,N]=Object(n.useState)(ya()("1","D").format("YYYY-MM-DD")),[R,D]=Object(n.useState)(ya()().format("YYYY-MM-DD")),[P,L]=Object(n.useState)(!1),[W,B]=Object(n.useState)(0),[q,U]=Object(n.useState)([]),[H,Q]=Object(n.useState)(!1),[G,_]=Object(n.useState)(null),[Y,J]=Object(n.useState)(!1);Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contacts",{params:{searchParam:p}});I(e.contacts),i(!1)}catch(e){i(!1),ga(e)}})()},500);return()=>clearTimeout(e)},[p]);const X=async e=>{i(!0),console.log(P);try{const a=await t({searchParam:p,contactId:b,whatsappId:JSON.stringify(h),users:JSON.stringify(A),queueIds:JSON.stringify(k),status:JSON.stringify(v),dateFrom:M,dateTo:R,page:e,pageSize:d,onlyRated:P?"true":"false"});B(a.totalTickets.total),J(a.tickets.length===d),U(a.tickets),c(e)}catch(a){ga(a)}finally{i(!1)}},Z=e=>e.number?o.a.createElement(o.a.Fragment,null,(e=>{switch(e){case"facebook":return o.a.createElement(Gl.a,{style:{color:"#3b5998",verticalAlign:"middle"}});case"instagram":return o.a.createElement(Kl.a,{style:{color:"#e1306c",verticalAlign:"middle"}});case"whatsapp":return o.a.createElement(_l.a,{style:{color:"#25d366",verticalAlign:"middle"}});default:return"error"}})(e.channel),o.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):"".concat(ma.a.t("newTicketModal.add")," ").concat(e.name),$=e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name),ee=Object(Ol.a)({trim:!0}),ae=(e,a)=>{const t=ee(e,a);return""!==a.inputValue&&!r&&p.length>=3&&t.push({name:"".concat(a.inputValue)}),t};return o.a.createElement(yo,{className:e.mainContainer},H&&o.a.createElement(zc,{isOpen:H,handleClose:()=>Q(!1),ticketId:G.id}),o.a.createElement(Tm,null,ma.a.t("reports.title")),o.a.createElement(km,{className:e.mainHeaderFilter,style:{display:"flex"}},o.a.createElement(Gt.a,{className:e.mainPaperFilter},o.a.createElement("div",{style:{paddingTop:"15px"}}),o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:3,xl:3},o.a.createElement(Yt.a,{xs:12,item:!0},o.a.createElement(Sl.a,{fullWidth:!0,options:j,loading:r,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,size:"small",clearOnEscape:!0,getOptionLabel:$,renderOption:Z,filterOptions:ae,onChange:(e,a)=>((e,a)=>{E(a.id),g("")})(0,a),renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{label:ma.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,size:"small",onChange:e=>g(e.target.value),InputProps:Object(S.a)(Object(S.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,r?o.a.createElement(Lt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}))),o.a.createElement(Yt.a,{item:!0,xs:12,md:3,xl:3},o.a.createElement(Gr,{onFiltered:e=>{const a=e.map(e=>e.id);f(a)}})),o.a.createElement(Yt.a,{item:!0,xs:12,md:3,xl:3},o.a.createElement(Qr,{onFiltered:e=>{const a=e.map(e=>e.status);y(a)}})),o.a.createElement(Yt.a,{item:!0,xs:12,md:3,xl:3},o.a.createElement(Hr,{onFiltered:e=>{const a=e.map(e=>e.id);O(a)}})),o.a.createElement(Yt.a,{item:!0,xs:12,md:3,xl:3,style:{marginTop:"-13px"}},o.a.createElement(Uh,{selectedQueueIds:k,onChange:e=>w(e)})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3,md:3},o.a.createElement(Ft.a,{label:ma.a.t("reports.startDate"),type:"date",value:M,variant:"outlined",fullWidth:!0,size:"small",onChange:e=>N(e.target.value),InputLabelProps:{shrink:!0}})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3,md:3},o.a.createElement(Ft.a,{label:ma.a.t("reports.endDate"),type:"date",value:R,variant:"outlined",fullWidth:!0,size:"small",onChange:e=>D(e.target.value),InputLabelProps:{shrink:!0}})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3,md:3,style:{display:"flex",justifyContent:"center"}},o.a.createElement(wr.a,{control:o.a.createElement(cl.a,{color:"primary",checked:P,onChange:()=>L(!P)}),label:ma.a.t("reports.buttons.onlyRated")}),o.a.createElement(F.a,{onClick:async()=>{i(!0);try{const e=(await t({searchParam:p,contactId:b,whatsappId:JSON.stringify(h),users:JSON.stringify(A),queueIds:JSON.stringify(k),status:JSON.stringify(v),dateFrom:M,dateTo:R,page:1,pageSize:9999999,onlyRated:P?"true":"false"})).tickets.map(e=>{const a=e=>{if(!e||null===e)return{date:"",time:""};if(e.includes("/")&&e.includes(" ")){const[a,t]=e.split(" ");return{date:a,time:t}}const a=new Date(e);return isNaN(a.getTime())?{date:"",time:""}:{date:a.toLocaleDateString("pt-BR"),time:a.toLocaleTimeString("pt-BR")}},t=a(e.createdAt),n=a(e.closedAt);return{id:e.id,"Conex\xe3o":e.whatsappName,Contato:e.contactName,"Usu\xe1rio":e.userName,Fila:e.queueName,Status:e.status,"\xdaltimaMensagem":e.lastMessage,DataAbertura:t.date,HoraAbertura:t.time,DataFechamento:n.date,HoraFechamento:n.time,TempoDeAtendimento:(e=>{if(!e)return"";if("0"===e)return"0min";const a=e.match(/(\d+)\s*d,?\s*(\d+)\s*hr?s?\s*e?\s*(\d+)\s*m/);if(!a)return e;const t=parseInt(a[1]),n=parseInt(a[2]),o=parseInt(a[3]);let l="";return t>0&&(l+="".concat(t,"d")),n>0&&(l+="".concat(n,"h")),o>0&&(l+="".concat(o,"min")),l||"0min"})(e.supportTime),nps:e.NPS||"",ValorDaVenda:void 0!==e.valorVenda&&null!==e.valorVenda?e.valorVenda:"-",MotivoDaNaoVenda:e.motivoNaoVenda||"-",FinalizadoComVenda:!0===e.finalizadoComVenda?"Sim":!1===e.finalizadoComVenda?"N\xe3o":"-"}});console.log(e);const a=(e,a)=>{const t=ma.a.t(e);return t!==e?t:a},n=e=>{if(!e)return a("reports.exportExcel.notInformed","N\xe3o informado");const[t,n,o]=e.split("-");return"".concat(o,"/").concat(n,"/").concat(t)},o={title:a("reports.exportExcel.title","Relat\xf3rios de Atendimentos"),startDate:a("reports.exportExcel.startDate","Data inicial"),endDate:a("reports.exportExcel.endDate","Data final"),columns:{id:a("reports.exportExcel.columns.id","ID"),connection:a("reports.exportExcel.columns.connection","Conex\xe3o"),contact:a("reports.exportExcel.columns.contact","Contato"),user:a("reports.exportExcel.columns.user","Usu\xe1rio"),queue:a("reports.exportExcel.columns.queue","Fila"),status:a("reports.exportExcel.columns.status","Status"),lastMessage:a("reports.exportExcel.columns.lastMessage","\xdaltima Mensagem"),openDate:a("reports.exportExcel.columns.openDate","Data Abertura"),openTime:a("reports.exportExcel.columns.openTime","Hora Abertura"),closeDate:a("reports.exportExcel.columns.closeDate","Data Fechamento"),closeTime:a("reports.exportExcel.columns.closeTime","Hora Fechamento"),supportTime:a("reports.exportExcel.columns.supportTime","Tempo de Atendimento"),nps:a("reports.exportExcel.columns.nps","NPS"),valorVenda:a("reports.exportExcel.columns.valorVenda","Valor da Venda"),motivoNaoVenda:a("reports.exportExcel.columns.motivoNaoVenda","Motivo da N\xe3o Venda"),finalizadoComVenda:a("reports.exportExcel.columns.finalizadoComVenda","Finalizado com Venda")}},l=ho.b.book_new(),r=ho.b.aoa_to_sheet([[o.title],["".concat(o.startDate,": ").concat(n(M))],["".concat(o.endDate,": ").concat(n(R))],[],[o.columns.id,o.columns.connection,o.columns.contact,o.columns.user,o.columns.queue,o.columns.status,o.columns.lastMessage,o.columns.openDate,o.columns.openTime,o.columns.closeDate,o.columns.closeTime,o.columns.supportTime,o.columns.nps,o.columns.valorVenda,o.columns.motivoNaoVenda,o.columns.finalizadoComVenda]]);ho.b.sheet_add_json(r,e,{origin:"A6",skipHeader:!0}),r["!merges"]||(r["!merges"]=[]),r["!merges"].push({s:{c:0,r:0},e:{c:12,r:0}}),r["!cols"]||(r["!cols"]=[]),r["!cols"]=[{wch:8},{wch:15},{wch:25},{wch:20},{wch:15},{wch:12},{wch:30},{wch:12},{wch:12},{wch:12},{wch:12},{wch:18},{wch:8},{wch:15},{wch:15},{wch:15}],r["!rows"]||(r["!rows"]=[]),r["!rows"]=[{hpt:25},{hpt:20},{hpt:20},{hpt:10},{hpt:25}];const d=ho.b.decode_range(r["!ref"]);for(let t=d.s.r;t<=d.e.r;t++)for(let e=d.s.c;e<=d.e.c;e++){const a=ho.b.encode_cell({r:t,c:e});r[a]&&(r[a].s||(r[a].s={}),0===t?r[a].s={font:{bold:!0,sz:16,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"4472C4"}},alignment:{horizontal:"center",vertical:"center"}}:1===t||2===t?r[a].s={font:{bold:!0,sz:12},fill:{fgColor:{rgb:"E7E6E6"}}}:4===t&&(r[a].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"70AD47"}},alignment:{horizontal:"center",vertical:"center"}}))}ho.b.book_append_sheet(l,r,"RelatorioDeAtendimentos"),ho.c(l,"relatorio-de-atendimentos.xlsx",{cellStyles:!0,bookType:"xlsx"}),c(s)}catch(e){ga(e)}finally{i(!1)}},"aria-label":"Exportar para Excel"},o.a.createElement(Vh.a,null)),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>X(s),size:"small"},ma.a.t("reports.buttons.filter")))))),o.a.createElement(Gt.a,{className:e.mainPaperTable,variant:"outlined"},o.a.createElement(xo.a,{size:"small",id:"grid-attendants"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("reports.table.id")),o.a.createElement(ko.a,{align:"left"},ma.a.t("reports.table.whatsapp")),o.a.createElement(ko.a,{align:"left"},ma.a.t("reports.table.contact")),o.a.createElement(ko.a,{align:"left"},ma.a.t("reports.table.user")),o.a.createElement(ko.a,{align:"left"},ma.a.t("reports.table.queue")),o.a.createElement(ko.a,{align:"left"},ma.a.t("wallets.wallet")),o.a.createElement(ko.a,{align:"center"},ma.a.t("reports.table.status")),o.a.createElement(ko.a,{align:"left"},ma.a.t("reports.table.lastMessage")),o.a.createElement(ko.a,{align:"center"},ma.a.t("reports.table.dateOpen")),o.a.createElement(ko.a,{align:"center"},ma.a.t("reports.table.dateClose")),o.a.createElement(ko.a,{align:"center"},ma.a.t("reports.table.supportTime")),o.a.createElement(ko.a,{align:"center"},ma.a.t("reports.table.NPS")),o.a.createElement(ko.a,{align:"center"},"Valor da Venda"),o.a.createElement(ko.a,{align:"center"},"Motivo da N\xe3o Venda"),o.a.createElement(ko.a,{align:"center"},"Finalizado com Venda"),o.a.createElement(ko.a,{align:"center"},ma.a.t("reports.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,q.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center"},e.id),o.a.createElement(ko.a,{align:"left"},null===e||void 0===e?void 0:e.whatsappName),o.a.createElement(ko.a,{align:"left"},null===e||void 0===e?void 0:e.contactName),o.a.createElement(ko.a,{align:"left"},null===e||void 0===e?void 0:e.userName),o.a.createElement(ko.a,{align:"left"},null===e||void 0===e?void 0:e.queueName),o.a.createElement(ko.a,{align:"left"},(null===e||void 0===e?void 0:e.walletName)||"-"),o.a.createElement(ko.a,{align:"center"},null===e||void 0===e?void 0:e.status),o.a.createElement(ko.a,{align:"left"},null===e||void 0===e?void 0:e.lastMessage),o.a.createElement(ko.a,{align:"center"},null===e||void 0===e?void 0:e.createdAt),o.a.createElement(ko.a,{align:"center"},null===e||void 0===e?void 0:e.closedAt),o.a.createElement(ko.a,{align:"center"},null===e||void 0===e?void 0:e.supportTime),o.a.createElement(ko.a,{align:"center"},null===e||void 0===e?void 0:e.NPS),o.a.createElement(ko.a,{align:"center"},void 0!==(null===e||void 0===e?void 0:e.valorVenda)&&null!==(null===e||void 0===e?void 0:e.valorVenda)?e.valorVenda:"-"),o.a.createElement(ko.a,{align:"center"},(null===e||void 0===e?void 0:e.motivoNaoVenda)||"-"),o.a.createElement(ko.a,{align:"center"},!0===(null===e||void 0===e?void 0:e.finalizadoComVenda)?"Sim":!1===(null===e||void 0===e?void 0:e.finalizadoComVenda)?"N\xe3o":"-"),o.a.createElement(ko.a,{align:"center"},o.a.createElement(z.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},o.a.createElement(de.a,{title:"Logs do Ticket"},o.a.createElement(Hh.a,{onClick:()=>{Q(!0),_(e)},fontSize:"small",style:{color:as.a[700],cursor:"pointer",marginLeft:10,verticalAlign:"middle"}})),o.a.createElement(de.a,{title:"Acessar Ticket"},o.a.createElement(Qh.a,{onClick:()=>{a.push("/tickets/".concat(e.uuid))},fontSize:"small",style:{color:_a.a[700],cursor:"pointer",marginLeft:10,verticalAlign:"middle"}})))))),r&&o.a.createElement(kd,{avatar:!0,columns:3}))))),o.a.createElement("div",null,o.a.createElement(Yt.a,{container:!0},o.a.createElement(Yt.a,{item:!0,xs:12,sm:10,md:10},o.a.createElement(qh.a,{count:Math.ceil(W/d),page:s,onChange:(e,a)=>X(a)})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:2,md:2},o.a.createElement(qt.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(Bt.a,null,ma.a.t("tickets.search.ticketsPerPage")),o.a.createElement(Wt.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"pageSize",value:d,onChange:e=>{m(e.target.value)},label:ma.a.t("tickets.search.ticketsPerPage"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"left"},getContentAnchorEl:null}},o.a.createElement(V.a,{value:5},"5"),o.a.createElement(V.a,{value:10},"10"),o.a.createElement(V.a,{value:20},"20"),o.a.createElement(V.a,{value:50},"50")))))))};const _h=Object(I.a)(e=>({root:{padding:e.spacing(3)},title:{marginBottom:e.spacing(3)},card:{marginBottom:e.spacing(2)},statsCard:{textAlign:"center",marginBottom:e.spacing(2)},statsValue:{fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},statsLabel:{color:e.palette.text.secondary},filterSection:{marginBottom:e.spacing(3),padding:e.spacing(2),backgroundColor:e.palette.background.default},table:{minWidth:650},chip:{margin:e.spacing(.5)}}));var Yh=()=>{const e=_h(),[a,t]=Object(n.useState)(!1),[l,r]=Object(n.useState)(null),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)({dateFrom:Object(Ba.a)((new Date).setDate(1),"yyyy-MM-dd"),dateTo:Object(Ba.a)(new Date,"yyyy-MM-dd"),userId:"",motivoNaoVenda:"",motivoFinalizacao:""});Object(n.useEffect)(()=>{m()},[]);const m=async()=>{try{const{data:e}=await u.get("/users");s(e.users)}catch(e){ga(e)}},p=(e,a)=>{d(t=>Object(S.a)(Object(S.a)({},t),{},{[e]:a}))},g=async()=>{if(c.dateFrom&&c.dateTo){t(!0);try{const e=new URLSearchParams({dateFrom:c.dateFrom,dateTo:c.dateTo});c.userId&&e.append("userId",c.userId);const{data:a}=await u.get("/ticketreport/vendas?".concat(e));r(a)}catch(e){ga(e)}finally{t(!1)}}else O.b.error("Por favor, selecione o per\xedodo")},b=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),E=((null===l||void 0===l?void 0:l.tickets)||[]).filter(e=>{let a=!0,t=!0;return c.motivoNaoVenda&&(a=e.motivoNaoVenda===c.motivoNaoVenda),c.motivoFinalizacao&&(t=e.motivoFinalizacao===c.motivoFinalizacao),a&&t});return l?o.a.createElement("div",{className:e.root},o.a.createElement(z.a,{variant:"h4",className:e.title},"Relat\xf3rio de Vendas"),o.a.createElement(Gt.a,{className:e.filterSection},o.a.createElement(Yt.a,{container:!0,spacing:2,alignItems:"center"},o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(Ft.a,{label:"Data Inicial",type:"date",value:c.dateFrom,onChange:e=>p("dateFrom",e.target.value),fullWidth:!0,InputLabelProps:{shrink:!0}})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(Ft.a,{label:"Data Final",type:"date",value:c.dateTo,onChange:e=>p("dateTo",e.target.value),fullWidth:!0,InputLabelProps:{shrink:!0}})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(qt.a,{fullWidth:!0},o.a.createElement(Bt.a,null,"Atendente"),o.a.createElement(Wt.a,{value:c.userId,onChange:e=>p("userId",e.target.value)},o.a.createElement(V.a,{value:""},"Todos"),i.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(qt.a,{fullWidth:!0},o.a.createElement(Bt.a,null,"Motivo da N\xe3o Venda"),o.a.createElement(Wt.a,{value:c.motivoNaoVenda,onChange:e=>p("motivoNaoVenda",e.target.value)},o.a.createElement(V.a,{value:""},"Todos"),((null===l||void 0===l?void 0:l.motivosNaoVenda)||[]).map((e,a)=>o.a.createElement(V.a,{key:a,value:e.motivo},e.motivo))))),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(qt.a,{fullWidth:!0},o.a.createElement(Bt.a,null,"Motivo da Finaliza\xe7\xe3o"),o.a.createElement(Wt.a,{value:c.motivoFinalizacao,onChange:e=>p("motivoFinalizacao",e.target.value)},o.a.createElement(V.a,{value:""},"Todos"),((null===l||void 0===l?void 0:l.motivosFinalizacao)||[]).map((e,a)=>o.a.createElement(V.a,{key:a,value:e.motivo},e.motivo))))),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:g,disabled:a,fullWidth:!0},a?"Gerando...":"Gerar Relat\xf3rio")))),o.a.createElement(Yt.a,{container:!0,spacing:3,className:e.card},o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(Ks.a,{className:e.statsCard},o.a.createElement(Gs.a,null,o.a.createElement(z.a,{className:e.statsValue},l.totalVendas),o.a.createElement(z.a,{className:e.statsLabel},"Total de Vendas")))),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(Ks.a,{className:e.statsCard},o.a.createElement(Gs.a,null,o.a.createElement(z.a,{className:e.statsValue},b(l.totalValorVendas)),o.a.createElement(z.a,{className:e.statsLabel},"Valor Total de Vendas")))),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(Ks.a,{className:e.statsCard},o.a.createElement(Gs.a,null,o.a.createElement(z.a,{className:e.statsValue},l.totalNaoVendas),o.a.createElement(z.a,{className:e.statsLabel},"N\xe3o Vendas")))),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(Ks.a,{className:e.statsCard},o.a.createElement(Gs.a,null,o.a.createElement(z.a,{className:e.statsValue},l.mediaTicketPorAtendente.toFixed(1)),o.a.createElement(z.a,{className:e.statsLabel},"M\xe9dia de Tickets por Atendente"))))),l.motivosNaoVenda.length>0&&o.a.createElement(Gt.a,{className:e.card},o.a.createElement(z.a,{variant:"h6",style:{padding:16}},"Motivos de N\xe3o Venda"),o.a.createElement(tn.a,{style:{padding:16}},l.motivosNaoVenda.map((a,t)=>o.a.createElement(Vt.a,{key:t,label:"".concat(a.motivo," (").concat(a.quantidade,")"),className:e.chip,color:"secondary",variant:"outlined"})))),E.length>0&&o.a.createElement(Gt.a,{className:e.card},o.a.createElement(z.a,{variant:"h6",style:{padding:16}},"Tickets Finalizados"),o.a.createElement(xo.a,{className:e.table},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,null,"ID"),o.a.createElement(ko.a,null,"Atendente"),o.a.createElement(ko.a,null,"Data"),o.a.createElement(ko.a,null,"Valor da Venda"),o.a.createElement(ko.a,null,"Motivo da N\xe3o Venda"),o.a.createElement(ko.a,null,"Motivo da Finaliza\xe7\xe3o"))),o.a.createElement(Co.a,null,E.map(e=>{var a;return o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,null,e.id),o.a.createElement(ko.a,null,(null===(a=e.user)||void 0===a?void 0:a.name)||"-"),o.a.createElement(ko.a,null,Object(Ba.a)(new Date(e.createdAt),"dd/MM/yyyy")),o.a.createElement(ko.a,null,e.valorVenda?b(e.valorVenda):"-"),o.a.createElement(ko.a,null,e.motivoNaoVenda||"-"),o.a.createElement(ko.a,null,e.motivoFinalizacao||"-"))})))),o.a.createElement(Gt.a,{className:e.card},o.a.createElement(z.a,{variant:"h6",style:{padding:16}},"Desempenho por Atendente"),o.a.createElement(xo.a,{className:e.table},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,null,"Atendente"),o.a.createElement(ko.a,{align:"right"},"Total de Vendas"),o.a.createElement(ko.a,{align:"right"},"Valor Total de Vendas"),o.a.createElement(ko.a,{align:"right"},"N\xe3o Vendas"),o.a.createElement(ko.a,{align:"right"},"Total de Tickets"),o.a.createElement(ko.a,{align:"right"},"M\xe9dia de Tickets"))),o.a.createElement(Co.a,null,l.atendentes.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,null,e.name),o.a.createElement(ko.a,{align:"right"},e.totalVendas),o.a.createElement(ko.a,{align:"right"},b(e.totalValorVendas)),o.a.createElement(ko.a,{align:"right"},e.totalNaoVendas),o.a.createElement(ko.a,{align:"right"},e.totalTickets),o.a.createElement(ko.a,{align:"right"},e.mediaTicket))))))):o.a.createElement("div",{className:e.root},o.a.createElement(z.a,{variant:"h4",className:e.title},"Relat\xf3rio de Vendas"),o.a.createElement(Gt.a,{className:e.filterSection},o.a.createElement(Yt.a,{container:!0,spacing:2,alignItems:"center"},o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(Ft.a,{label:"Data Inicial",type:"date",value:c.dateFrom,onChange:e=>p("dateFrom",e.target.value),fullWidth:!0,InputLabelProps:{shrink:!0}})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(Ft.a,{label:"Data Final",type:"date",value:c.dateTo,onChange:e=>p("dateTo",e.target.value),fullWidth:!0,InputLabelProps:{shrink:!0}})),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(qt.a,{fullWidth:!0},o.a.createElement(Bt.a,null,"Atendente"),o.a.createElement(Wt.a,{value:c.userId,onChange:e=>p("userId",e.target.value)},o.a.createElement(V.a,{value:""},"Todos"),i.map(e=>o.a.createElement(V.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Yt.a,{item:!0,xs:12,sm:3},o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:g,disabled:a,fullWidth:!0},a?"Gerando...":"Gerar Relat\xf3rio")))))};Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var Jh=t(871),Xh=t.n(Jh),Zh=t(872),$h=t.n(Zh),ef=t(873),af=t.n(ef),tf=t(874),nf=t.n(tf),of=t(875),lf=t.n(of);const rf=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},btnLeft:{display:"flex",marginRight:"auto",marginLeft:12},colorAdorment:{width:20,height:20}})),sf=Dt.e().shape({name:Dt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var cf=e=>{let{open:a,onClose:t,integrationId:l}=e;const r=rf(),i={type:"typebot",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3,typebotExpires:1,typebotKeywordFinish:"",typebotKeywordRestart:"",typebotRestartMessage:"",typebotSlug:"",typebotUnknownMessage:""},[s,c]=Object(n.useState)(i);Object(n.useEffect)(()=>((async()=>{if(l)try{const{data:e}=await u.get("/queueIntegration/".concat(l));c(a=>Object(S.a)(Object(S.a)({},a),e))}catch(e){ga(e)}})(),()=>{c({type:"dialogflow",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3})}),[l,a]);const d=()=>{t(),c(i)};return o.a.createElement("div",{className:r.root},o.a.createElement(H.a,{open:a,onClose:d,fullWidth:!0,maxWidth:"md",scroll:"paper"},o.a.createElement(Q.a,null,"".concat(l?ma.a.t("queueIntegrationModal.title.edit"):ma.a.t("queueIntegrationModal.title.add"))),o.a.createElement(Pt.e,{initialValues:s,enableReinitialize:!0,validationSchema:sf,onSubmit:(e,a,t)=>{setTimeout(()=>{(async e=>{try{"n8n"!==e.type&&"webhook"!==e.type&&"typebot"!==e.type&&"flowbuilder"!==e.type||(e.projectName=e.name),l?(await u.put("/queueIntegration/".concat(l),e),O.b.success(ma.a.t("queueIntegrationModal.messages.editSuccess"))):(await u.post("/queueIntegration",e),O.b.success(ma.a.t("queueIntegrationModal.messages.addSuccess"))),d()}catch(a){ga(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:i}=e;return o.a.createElement(Pt.d,null,o.a.createElement(Gt.a,{square:!0,className:r.mainPaper,elevation:1},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{container:!0,spacing:1},o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.formControl,margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,{id:"type-selection-input-label"},ma.a.t("queueIntegrationModal.form.type")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueIntegrationModal.form.type"),name:"type",labelId:"profile-selection-label",error:a.type&&Boolean(t.type),helpertext:a.type&&t.type,id:"type",required:!0},o.a.createElement(V.a,{value:"dialogflow"},"DialogFlow"),o.a.createElement(V.a,{value:"n8n"},"N8N"),o.a.createElement(V.a,{value:"webhook"},"WebHooks"),o.a.createElement(V.a,{value:"typebot"},"Typebot"),o.a.createElement(V.a,{value:"flowbuilder"},"Flowbuilder")))),"dialogflow"===i.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",fullWidth:!0,error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(qt.a,{variant:"outlined",className:r.formControl,margin:"dense",fullWidth:!0},o.a.createElement(Bt.a,{id:"language-selection-input-label"},ma.a.t("queueIntegrationModal.form.language")),o.a.createElement(Pt.b,{as:Wt.a,label:ma.a.t("queueIntegrationModal.form.language"),name:"language",labelId:"profile-selection-label",fullWidth:!0,error:a.language&&Boolean(t.language),helpertext:a.language&&t.language,id:"language-selection",required:!0},o.a.createElement(V.a,{value:"pt-BR"},"Portugues"),o.a.createElement(V.a,{value:"en"},"Ingl\xeas"),o.a.createElement(V.a,{value:"es"},"Espa\xf1ol")))),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.projectName"),name:"projectName",error:a.projectName&&Boolean(t.projectName),helpertext:a.projectName&&t.projectName,fullWidth:!0,variant:"outlined",margin:"dense"})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.jsonContent"),type:"jsonContent",multiline:!0,maxRows:5,minRows:5,fullWidth:!0,name:"jsonContent",error:a.jsonContent&&Boolean(t.jsonContent),helpertext:a.jsonContent&&t.jsonContent,variant:"outlined",margin:"dense"}))),("n8n"===i.type||"webhook"===i.type)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.name"),autoFocus:!0,required:!0,name:"name",error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:a.urlN8N&&Boolean(t.urlN8N),helpertext:a.urlN8N&&t.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField}))),"flowbuilder"===i.type&&o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",fullWidth:!0,error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",className:r.textField})),"typebot"===i.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:a.urlN8N&&Boolean(t.urlN8N),helpertext:a.urlN8N&&t.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.typebotSlug"),name:"typebotSlug",error:a.typebotSlug&&Boolean(t.typebotSlug),helpertext:a.typebotSlug&&t.typebotSlug,required:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.typebotExpires"),name:"typebotExpires",error:a.typebotExpires&&Boolean(t.typebotExpires),helpertext:a.typebotExpires&&t.typebotExpires,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.typebotDelayMessage"),name:"typebotDelayMessage",error:a.typebotDelayMessage&&Boolean(t.typebotDelayMessage),helpertext:a.typebotDelayMessage&&t.typebotDelayMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.typebotKeywordFinish"),name:"typebotKeywordFinish",error:a.typebotKeywordFinish&&Boolean(t.typebotKeywordFinish),helpertext:a.typebotKeywordFinish&&t.typebotKeywordFinish,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.typebotKeywordRestart"),name:"typebotKeywordRestart",error:a.typebotKeywordRestart&&Boolean(t.typebotKeywordRestart),helpertext:a.typebotKeywordRestart&&t.typebotKeywordRestart,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.typebotUnknownMessage"),name:"typebotUnknownMessage",error:a.typebotUnknownMessage&&Boolean(t.typebotUnknownMessage),helpertext:a.typebotUnknownMessage&&t.typebotUnknownMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),o.a.createElement(Yt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("queueIntegrationModal.form.typebotRestartMessage"),name:"typebotRestartMessage",error:a.typebotRestartMessage&&Boolean(t.typebotRestartMessage),helpertext:a.typebotRestartMessage&&t.typebotRestartMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})))))),o.a.createElement(X.a,null,"dialogflow"===i.type&&o.a.createElement(K.a,{onClick:e=>(async(e,a)=>{try{const{projectName:e,jsonContent:t,language:n}=a;await u.post("/queueIntegration/testSession",{projectName:e,jsonContent:t,language:n}),O.b.success(ma.a.t("queueIntegrationModal.messages.testSuccess"))}catch(t){ga(t)}})(0,i),color:"inherit",disabled:n,name:"testSession",variant:"outlined",className:r.btnLeft},ma.a.t("queueIntegrationModal.buttons.test")),o.a.createElement(K.a,{onClick:d,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("queueIntegrationModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},"".concat(l?ma.a.t("queueIntegrationModal.buttons.okEdit"):ma.a.t("queueIntegrationModal.buttons.okAdd")),n&&o.a.createElement(Lt.a,{size:24,className:r.buttonProgress}))))})))};const df=(e,a)=>{if("LOAD_INTEGRATIONS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_INTEGRATIONS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_INTEGRATION"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},mf=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(2),margin:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),avatar:{width:"140px",height:"40px",borderRadius:4}}));var uf=()=>{const e=mf(),[a,t]=Object(n.useState)(!1),[l,r]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,h]=Object(n.useState)(!1),[f,v]=Object(n.useState)(""),[y,x]=Object(n.useReducer)(df,[]),{user:C,socket:k}=Object(n.useContext)(Ca),{getPlanCompany:w}=Ia(),A=C.companyId,T=Object(Um.useHistory)();Object(n.useEffect)(()=>{!async function(){(await w(void 0,A)).plan.useIntegrations||(O.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{T.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{x({type:"RESET"}),r(1)},[f]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration/",{params:{searchParam:f,pageNumber:l}});x({type:"LOAD_INTEGRATIONS",payload:e.queueIntegrations}),s(e.hasMore),t(!1)}catch(e){ga(e)}})()},500);return()=>clearTimeout(e)},[f,l]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_INTEGRATIONS",payload:e.queueIntegration}),"delete"===e.action&&x({type:"DELETE_INTEGRATION",payload:+e.integrationId})};return k.on("company-".concat(A,"-queueIntegration"),e),()=>{k.off("company-".concat(A,"-queueIntegration"),e)}},[]);return o.a.createElement(yo,null,o.a.createElement(Si,{title:m&&"".concat(ma.a.t("queueIntegration.confirmationModal.deleteTitle")," ").concat(m.name,"?"),open:E,onClose:h,onConfirm:()=>(async e=>{try{await u.delete("/queueIntegration/".concat(e)),O.b.success(ma.a.t("queueIntegration.toasts.deleted"))}catch(a){ga(a)}p(null),v(""),r(1)})(m.id)},ma.a.t("queueIntegration.confirmationModal.deleteMessage")),o.a.createElement(cf,{open:g,onClose:()=>{d(null),b(!1)},"aria-labelledby":"form-dialog-title",integrationId:c&&c.id}),"user"===C.profile?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("queueIntegration.title")," (",y.length,")"),o.a.createElement(Am,null,o.a.createElement(Ft.a,{placeholder:ma.a.t("queueIntegration.searchPlaceholder"),type:"search",value:f,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{color:"secondary"}))}}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{d(null),b(!0)}},ma.a.t("queueIntegration.buttons.add")))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&r(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{padding:"checkbox"}),o.a.createElement(ko.a,{align:"center"},ma.a.t("queueIntegration.table.id")),o.a.createElement(ko.a,{align:"center"},ma.a.t("queueIntegration.table.name")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,y.map(a=>o.a.createElement(To.a,{key:a.id},o.a.createElement(ko.a,null,"dialogflow"===a.type&&o.a.createElement(R.a,{src:$h.a,className:e.avatar}),"n8n"===a.type&&o.a.createElement(R.a,{src:Xh.a,className:e.avatar}),"webhook"===a.type&&o.a.createElement(R.a,{src:af.a,className:e.avatar}),"typebot"===a.type&&o.a.createElement(R.a,{src:nf.a,className:e.avatar}),"flowbuilder"===a.type&&o.a.createElement(R.a,{src:lf.a,className:e.avatar})),o.a.createElement(ko.a,{align:"center"},a.id),o.a.createElement(ko.a,{align:"center"},a.name),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{d(e),b(!0)})(a)},o.a.createElement(bm.a,{color:"secondary"})),o.a.createElement(F.a,{size:"small",onClick:e=>{h(!0),p(a)}},o.a.createElement(Em.a,{color:"secondary"}))))),a&&o.a.createElement(kd,{columns:7})))))))};const pf=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:2e3},colorAdorment:{width:20,height:20}})),gf=Dt.e().shape({name:Dt.f().min(3,"nome muito curto").required("Obrigat\xf3rio"),message:Dt.f().required("Obrigat\xf3rio")});var bf=e=>{let{open:a,onClose:t,fileListId:l,reload:r}=e;const i=pf(),{user:s}=Object(n.useContext)(Ca),[c,d]=Object(n.useState)([]),[m,p]=Object(n.useState)([]),g={name:"",message:"",options:[{name:"",path:"",mediaType:""}]},[b,E]=Object(n.useState)(g);Object(n.useEffect)(()=>{try{(async()=>{if(!l)return;const{data:e}=await u.get("/files/".concat(l));E(e)})()}catch(e){ga(e)}},[l,a]);const h=()=>{E(g),d([]),t()};return o.a.createElement("div",{className:i.root},o.a.createElement(H.a,{open:a,onClose:h,maxWidth:"md",fullWidth:!0,scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("fileModal.title.edit"):ma.a.t("fileModal.title.add"))),o.a.createElement(Pt.e,{initialValues:b,enableReinitialize:!0,validationSchema:gf,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=async(e,a,t)=>{const n=new FormData;n.append("fileId",t),n.append("typeArch","fileList"),a.forEach((a,t)=>{a.file&&(n.append("files",a.file),n.append("mediaType",a.file.type),n.append("name",e[t].name),n.append("id",e[t].id))});try{const{data:e}=await u.post("/files/uploadList/".concat(t),n);return d([]),e}catch(o){ga(o)}return null},t=Object(S.a)(Object(S.a)({},e),{},{userId:s.id});try{if(l){const{data:n}=await u.put("/files/".concat(l),t);n.options.length>0&&a(n.options,e.options,l)}else{const{data:n}=await u.post("/files",t);n.options.length>0&&a(n.options,e.options,n.id)}O.b.success(ma.a.t("fileModal.success")),"function"==typeof r&&r()}catch(n){ga(n)}h()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("fileModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("br",null),o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("fileModal.form.message"),type:"message",multiline:!0,minRows:5,fullWidth:!0,name:"message",error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense"})),o.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},ma.a.t("fileModal.form.fileOptions")),o.a.createElement(Pt.c,{name:"options"},e=>{let{push:a,remove:t}=e;return o.a.createElement(o.a.Fragment,null,r.options&&r.options.length>0&&r.options.map((e,a)=>o.a.createElement("div",{className:i.extraAttr,key:"".concat(a,"-info")},o.a.createElement(Yt.a,{container:!0,spacing:0},o.a.createElement(Yt.a,{xs:6,md:10,item:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("fileModal.form.extraName"),name:"options[".concat(a,"].name"),variant:"outlined",margin:"dense",multiline:!0,fullWidth:!0,minRows:2,className:i.textField})),o.a.createElement(Yt.a,{xs:2,md:2,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},o.a.createElement("input",{type:"file",onChange:e=>{const t=e.target.files[0],n=[...r.options];n[a].file=t,d("options",n);const o=[...m];o[a]=t?t.name:"",p(o)},style:{display:"none"},name:"options[".concat(a,"].file"),id:"file-upload-".concat(a)}),o.a.createElement("label",{htmlFor:"file-upload-".concat(a)},o.a.createElement(F.a,{component:"span"},o.a.createElement(oc.a,null))),o.a.createElement(F.a,{size:"small",onClick:()=>t(a)},o.a.createElement(Rl.a,null))),o.a.createElement(Yt.a,{xs:12,md:12,item:!0},e.path?e.path:m[a])))),o.a.createElement("div",{className:i.extraAttr},o.a.createElement(K.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>{a({name:"",path:""}),p([...m,""])}},"+ ".concat(ma.a.t("fileModal.buttons.fileOptions")))))})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:h,color:"secondary",disabled:n,variant:"outlined"},ma.a.t("fileModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(l?ma.a.t("fileModal.buttons.okEdit"):ma.a.t("fileModal.buttons.okAdd")),n&&o.a.createElement(Lt.a,{size:24,className:i.buttonProgress}))))})))};const Ef=(e,a)=>{if("LOAD_FILES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_FILES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_FILE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},hf=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var ff=()=>{const e=hf(),{user:a,socket:t}=Object(n.useContext)(Ca),[l,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(null),[E,h]=Object(n.useState)(!1),[f,v]=Object(n.useState)(""),[y,x]=Object(n.useReducer)(Ef,[]),[C,k]=Object(n.useState)(!1),w=Object(n.useCallback)(async()=>{try{const{data:e}=await u.get("/files/",{params:{searchParam:f,pageNumber:i}});x({type:"LOAD_FILES",payload:e.files}),d(e.hasMore),r(!1)}catch(e){ga(e)}},[f,i]);Object(n.useEffect)(()=>{x({type:"RESET"}),s(1)},[f]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{w()},500);return()=>clearTimeout(e)},[f,i,w]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_FILES",payload:e.files}),"delete"===e.action&&x({type:"DELETE_FILE",payload:+e.fileId})};return t.on("company-".concat(a.companyId,"-file"),e),()=>{t.off("company-".concat(a.companyId,"-file"),e)}},[t]);return o.a.createElement(yo,null,o.a.createElement(Si,{title:g&&"".concat(ma.a.t("files.confirmationModal.deleteTitle")),open:E,onClose:h,onConfirm:()=>(async e=>{try{await u.delete("/files/".concat(e)),O.b.success(ma.a.t("files.toasts.deleted"))}catch(a){ga(a)}b(null),v(""),s(1),x({type:"RESET"}),s(1),await w()})(g.id)},ma.a.t("files.confirmationModal.deleteMessage")),o.a.createElement(bf,{open:C,onClose:()=>{p(null),k(!1)},reload:w,"aria-labelledby":"form-dialog-title",fileListId:m&&m.id}),"user"===a.profile?o.a.createElement(al,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("files.title")," (",y.length,")"),o.a.createElement(Am,null,o.a.createElement(Ft.a,{placeholder:ma.a.t("contacts.searchPlaceholder"),type:"search",value:f,onChange:e=>{v(e.target.value)},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{p(null),k(!0)}},ma.a.t("files.buttons.add")))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||l)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&s(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("files.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("files.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,y.map(e=>o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center"},e.name),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{p(e),k(!0)})(e)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{size:"small",onClick:a=>{h(!0),b(e)}},o.a.createElement(Rl.a,null))))),l&&o.a.createElement(kd,{columns:4})))))))};const vf=Object(I.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",margin:"2rem"},inputContainer:{display:"flex",width:"100%",marginBottom:"1rem"},input:{flexGrow:1,marginRight:"1rem"},listContainer:{width:"100%",height:"100%",marginTop:"1rem",backgroundColor:e.palette.background.primary,borderRadius:"5px"},list:{marginBottom:"5px",color:e.palette.text.primary}}));var yf=()=>{const e=vf(),[a,t]=Object(n.useState)(""),[l,r]=Object(n.useState)([]),[i,s]=Object(n.useState)(-1);Object(n.useEffect)(()=>{const e=localStorage.getItem("tasks");e&&r(JSON.parse(e))},[]),Object(n.useEffect)(()=>{localStorage.setItem("tasks",JSON.stringify(l))},[l]);return o.a.createElement("div",{className:e.root},o.a.createElement("div",{className:e.inputContainer},o.a.createElement(Ft.a,{className:e.input,label:"Nova tarefa",value:a,onChange:e=>{t(e.target.value)},variant:"outlined"}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{if(!a.trim())return;const e=new Date;if(i>=0){const n=[...l];n[i]={text:a,updatedAt:e,createdAt:n[i].createdAt},r(n),t(""),s(-1)}else r([...l,{text:a,createdAt:e,updatedAt:e}]),t("")}},i>=0?"Salvar":"Adicionar")),o.a.createElement("div",{className:e.listContainer},o.a.createElement(L.a,null,l.map((a,n)=>o.a.createElement(_.a,{key:n,className:e.list},o.a.createElement(J.a,{primary:a.text,secondary:a.updatedAt.toLocaleString()}),o.a.createElement(Mr.a,null,o.a.createElement(F.a,{onClick:()=>(e=>{t(l[e].text),s(e)})(n)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{onClick:()=>(e=>{const a=[...l];a.splice(e,1),r(a)})(n)},o.a.createElement(Ai.a,null))))))))},xf=t(347);const Cf=Object(I.a)(e=>({card:{padding:e.spacing(.8),background:"#fff",borderRadius:8,boxShadow:"0px 10px 17px -10px rgba(0, 0, 0, 0.59)",marginBottom:e.spacing(1),cursor:"grab",display:"flex",flexDirection:"column",position:"relative",marginRight:e.spacing(.5)},header:{display:"flex",alignItems:"center",marginBottom:e.spacing(.5),justifyContent:"space-between"},leftHeader:{display:"flex",alignItems:"center"},avatar:{marginRight:e.spacing(1),width:e.spacing(3),height:e.spacing(3)},cardTitle:{fontSize:"1rem",fontWeight:"bold",color:"light"===e.mode?e.palette.text.primary:"#000"},ticketNumber:{fontSize:"0.9rem",fontWeight:"bold",color:"#757575"},divider:{background:"#e6e6e6"},lastMessageTime:{fontSize:"0.8rem",color:"#757575"},lastMessageTimeUnread:{fontSize:"0.8rem",color:e.palette.success.main,fontWeight:"bold"},cardDescription:{fontSize:"0.9rem",color:"#757575",flexGrow:1,marginRight:e.spacing(1)},valueRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing(1)},descriptionRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(1)},footer:{display:"flex",alignItems:"center",marginTop:"auto"},cardButton:{fontSize:"0.5rem",padding:"2px 6px",color:"#fff",backgroundColor:e.palette.primary.main,borderRadius:"10px","&:hover":{backgroundColor:e.palette.primary.dark}},connectionTag:{background:"#000",color:"#FFF",padding:"2px 6px",fontWeight:"bold",borderRadius:"10px",fontSize:"0.5rem",marginLeft:"auto"},opportunityValue:{fontSize:"0.9rem",color:e.palette.primary.main,fontWeight:"bold",cursor:"pointer"},removeValueButton:{padding:0,marginLeft:e.spacing(1),color:e.palette.error.main},textField:{"& .MuiOutlinedInput-root":{borderRadius:"10px"}},dialogPaper:{borderRadius:"10px"},dialogButton:{borderRadius:"10px"}}));var kf=e=>{let{ticket:a,index:t,updateTicket:l}=e;const r=Cf(),i=Object(T.useHistory)(),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(""),p=()=>{i.push("/tickets/".concat(a.uuid))},g=Number(a.unreadMessages)>0?r.lastMessageTimeUnread:r.lastMessageTime,b=a.contact.extraInfo||[],E=b.findIndex(e=>"valor"===e.name),h=-1!==E?b[E]:null,f=h?parseFloat(h.value):null,v=()=>{m(h?h.value.toString():""),c(!0)},y=()=>{c(!1)},x=async()=>{try{await u.put("/contacts/".concat(a.contact.id),{extraInfo:[]}),-1!==E&&b.splice(E,1),l(Object(S.a)({},a))}catch(e){console.error("Erro ao remover o valor:",e)}},C=async()=>{await(async(e,a)=>{try{await u.put("/contacts/".concat(e),{extraInfo:[{name:"valor",value:a.toString()}]})}catch(t){console.error("Erro ao atualizar o valor:",t)}})(a.contact.id,d),h?h.value=d:(a.contact.extraInfo||(a.contact.extraInfo=[]),a.contact.extraInfo.push({name:"valor",value:d})),l(Object(S.a)({},a)),c(!1)};return o.a.createElement(xf.b,{draggableId:a.id.toString(),index:t},(e,t)=>{var n,l;return o.a.createElement("div",Object.assign({className:r.card,ref:e.innerRef},e.draggableProps,e.dragHandleProps),o.a.createElement("div",{className:r.header},o.a.createElement("div",{className:r.leftHeader},o.a.createElement(R.a,{src:a.contact.urlPicture,className:r.avatar}),o.a.createElement(de.a,{title:a.contact.name},o.a.createElement(z.a,{className:r.cardTitle},(null===(n=a.contact.name)||void 0===n?void 0:n.substring(0,10))||" "))),o.a.createElement(z.a,{className:r.ticketNumber},"Ticket n\xba ",a.id)),o.a.createElement(W.a,{className:r.divider}),o.a.createElement("div",{className:r.valueRow},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(z.a,{className:r.opportunityValue,onClick:v},null!==f?"Valor: R$ ".concat(f.toFixed(2)):"Atribuir Valor"),null!==f&&o.a.createElement(de.a,{title:"Remover"},o.a.createElement(F.a,{className:r.removeValueButton,onClick:x,size:"small"},o.a.createElement($r.a,{fontSize:"small"}))))),o.a.createElement("div",{className:r.descriptionRow},o.a.createElement(de.a,{title:a.lastMessage||" "},o.a.createElement(z.a,{className:r.cardDescription},(null===(l=a.lastMessage)||void 0===l?void 0:l.substring(0,20))||" ")),o.a.createElement(z.a,{className:g},Object(Ha.a)(Object(Qa.a)(a.updatedAt),new Date)?Object(Ba.a)(Object(Qa.a)(a.updatedAt),"HH:mm"):Object(Ba.a)(Object(Qa.a)(a.updatedAt),"dd/MM/yyyy"))),o.a.createElement("div",{className:r.footer},o.a.createElement(K.a,{size:"small",className:r.cardButton,onClick:p},"Ver Ticket"),a.user&&o.a.createElement(z.a,{className:r.connectionTag},a.user.name.toUpperCase())),o.a.createElement(H.a,{open:s,onClose:y,classes:{paper:r.dialogPaper}},o.a.createElement(Q.a,null,h?"Editar":"Atribuir"," Valor da Oportunidade"),o.a.createElement(G.a,null,o.a.createElement(Ft.a,{label:"Valor",type:"number",fullWidth:!0,value:d,onChange:e=>m(e.target.value),variant:"outlined",size:"small",className:r.textField,personalizados:!0})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:y,color:"secondary",variant:"outlined",className:r.dialogButton},"Cancelar"),o.a.createElement(K.a,{onClick:C,color:"primary",variant:"outlined",className:r.dialogButton},"Salvar"))))})};const wf=Object(I.a)(e=>({column:a=>({backgroundColor:a.color||"#ebecf0",borderRadius:8,minWidth:272,maxWidth:272,padding:e.spacing(1),marginRight:e.spacing(1),display:"flex",flexDirection:"column",flexShrink:0}),columnTitle:{marginBottom:e.spacing(1),fontWeight:"bold",fontSize:"1rem",color:"#D6D6D6"},cardList:Object(S.a)(Object(S.a)({flexGrow:1,overflowY:"auto"},e.scrollbarStyles),{},{maxHeight:"calc(100vh - 200px)"}),totalValue:{fontSize:"1rem",color:"#D6D6D6",fontWeight:"bold"},columnHeader:{marginBottom:e.spacing(1)}}));var Af=e=>{let{id:a,title:t,tickets:n,color:l,updateTicket:r}=e;const i=wf({color:l}),s=n.reduce((e,a)=>{const t=(a.contact.extraInfo||[]).find(e=>"valor"===e.name);return e+(t?parseFloat(t.value):0)},0);return o.a.createElement(xf.c,{droppableId:a},(e,a)=>o.a.createElement("div",Object.assign({className:i.column,ref:e.innerRef},e.droppableProps),o.a.createElement("div",{className:i.columnHeader},o.a.createElement(z.a,{className:i.columnTitle},t),o.a.createElement(z.a,{className:i.totalValue},"Total: R$ ",s.toFixed(2))),o.a.createElement("div",{className:i.cardList},n.map((e,a)=>o.a.createElement(kf,{key:e.id,ticket:e,index:a,updateTicket:r})),e.placeholder)))};const Tf=Object(I.a)(e=>({board:Object(S.a)(Object(S.a)({display:"flex",overflowX:"auto"},e.scrollbarStyles),{},{padding:e.spacing(1)})}));var Of=e=>{let{lanes:a,onCardMove:t,updateTicket:n}=e;const l=Tf();return o.a.createElement(xf.a,{onDragEnd:e=>{if(!e.destination)return;const{source:a,destination:n,draggableId:o}=e;a.droppableId===n.droppableId&&a.index===n.index||t(o,n.droppableId,a.droppableId,a.index,n.index)}},o.a.createElement("div",{className:l.board},a.map(e=>o.a.createElement(Af,{key:e.id,id:e.id,title:e.title,tickets:e.tickets,color:e.color,updateTicket:n}))))};const Sf=Object(I.a)(e=>({mainPaper:Object(S.a)(Object(S.a)({flex:1,display:"flex",padding:e.spacing(1),overflowX:"auto"},e.scrollbarStyles),{},{borderRadius:"10px"}),button:{borderRadius:"10px"},dateInput:{"& .MuiOutlinedInput-root":{borderRadius:"10px"},marginRight:e.spacing(1)},sortSelect:{minWidth:150,marginRight:e.spacing(1),"& .MuiOutlinedInput-root":{borderRadius:"10px"}}}));var jf=()=>{const e=Sf(),a=Object(T.useHistory)(),{user:t,socket:l}=Object(n.useContext)(Ca),[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)([]),[p,g]=Object(n.useState)(Object(Ba.a)(new Date,"yyyy-MM-dd")),[b,E]=Object(n.useState)(Object(Ba.a)(new Date,"yyyy-MM-dd")),h=t.queues.map(e=>e.UserQueue.queueId),[f,v]=Object(n.useState)(()=>localStorage.getItem("sortOrder")||"ticketNumber");Object(n.useEffect)(()=>{localStorage.setItem("sortOrder",f)},[f]),Object(n.useEffect)(()=>{y()},[]);const y=async()=>{try{const e=(await u.get("/tag/kanban/")).data.lista||[];i(e),x(e)}catch(e){console.log(e)}},x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;try{const{data:a}=await u.get("/ticket/kanban",{params:{queueIds:JSON.stringify(h),startDate:p,endDate:b}});c(a.tickets),k(e,a.tickets)}catch(a){console.log(a),c([])}};Object(n.useEffect)(()=>{const e=t.companyId,a=e=>{["create","update","delete"].includes(e.action)&&x()};return l.on("company-".concat(e,"-ticket"),a),l.on("company-".concat(e,"-appMessage"),a),()=>{l.off("company-".concat(e,"-ticket"),a),l.off("company-".concat(e,"-appMessage"),a)}},[l,t.companyId]);const C=e=>{const a=(e.contact.extraInfo||[]).find(e=>"valor"===e.name);return a?parseFloat(a.value):0},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;const t=[...a];"ticketNumber"===f?t.sort((e,a)=>e.id-a.id):"lastMessageTime"===f?t.sort((e,a)=>new Date(a.updatedAt)-new Date(e.updatedAt)):"valorDesc"===f&&t.sort((e,a)=>{const t=C(e);return C(a)-t});const n=t.filter(e=>0===e.tags.length),o=[{id:"lane0",title:ma.a.t("tagsKanban.laneDefault"),tickets:n,color:"#757575"},...e.map(e=>{const a=t.filter(a=>a.tags.some(a=>a.id===e.id));return{id:e.id.toString(),title:e.name,tickets:a,color:e.color||"#757575"}})];m(o)};Object(n.useEffect)(()=>{k()},[r,s,f]);const w=()=>{a.push("/tagsKanban")};return o.a.createElement(yo,null,o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("Kanban")),o.a.createElement(Am,null,o.a.createElement(qt.a,{variant:"outlined",size:"small",className:e.sortSelect},o.a.createElement(Bt.a,{htmlFor:"sort-order-select"},"Ordenar por"),o.a.createElement(Wt.a,{native:!0,value:f,onChange:e=>{v(e.target.value)},label:"Ordenar por",inputProps:{name:"sortOrder",id:"sort-order-select"}},o.a.createElement("option",{value:"ticketNumber"},"N\xfamero do Ticket"),o.a.createElement("option",{value:"lastMessageTime"},"\xdaltima Mensagem"),o.a.createElement("option",{value:"valorDesc"},"Valor (maior para menor)"))),o.a.createElement(Ft.a,{label:"Data de in\xedcio",type:"date",value:p,onChange:e=>{g(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined",className:e.dateInput,size:"small"}),o.a.createElement(Ft.a,{label:"Data de fim",type:"date",value:b,onChange:e=>{E(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined",className:e.dateInput,size:"small"}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{x()},className:e.button},"Buscar"),o.a.createElement(ja,{role:t.profile,perform:"dashboard:view",yes:()=>o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:w,className:e.button},"+ Adicionar colunas")}))),o.a.createElement(Gt.a,{variant:"outlined",className:e.mainPaper},o.a.createElement(Of,{lanes:d,onCardMove:async(e,a)=>{e=parseInt(e,10);try{await u.delete("/ticket-tags/".concat(e)),"lane0"!==a?(await u.put("/ticket-tags/".concat(e,"/").concat(a)),O.b.success("Ticket Tag atualizado com sucesso!")):O.b.success("Ticket Tag removido!"),x()}catch(t){console.log(t)}},updateTicket:e=>{c(a=>a.map(a=>a.id===e.id?e:a))}})))};const If=(e,a)=>{if("LOAD_TAGS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Mf=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var Nf=()=>{const e=Mf(),a=Object(T.useHistory)(),{user:t,socket:l}=Object(n.useContext)(Ca),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(null),[h,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(""),[x,C]=Object(n.useReducer)(If,[]),[k,w]=Object(n.useState)(!1);Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/tags/",{params:{searchParam:v,pageNumber:s,kanban:1}});C({type:"LOAD_TAGS",payload:e.tags}),m(e.hasMore),i(!1)}catch(e){ga(e)}})()},500);return()=>clearTimeout(e)},[v,s]),Object(n.useEffect)(()=>{C({type:"RESET"}),c(1)},[v]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||C({type:"UPDATE_TAGS",payload:e.tag}),"delete"===e.action&&C({type:"DELETE_TAGS",payload:+e.tagId})};return l.on("company".concat(t.companyId,"-tag"),e),()=>{l.off("company".concat(t.companyId,"-tag"),e)}},[l]);return o.a.createElement(yo,null,o.a.createElement(Si,{title:b&&"".concat(ma.a.t("tagsKanban.confirmationModal.deleteTitle")),open:h,onClose:f,onConfirm:()=>(async e=>{try{await u.delete("/tags/".concat(e)),O.b.success(ma.a.t("tags.toasts.deleted"))}catch(a){ga(a)}E(null),y(""),c(1)})(b.id)},ma.a.t("tagsKanban.confirmationModal.deleteMessage")),k&&o.a.createElement(Rg,{open:k,onClose:()=>{g(null),w(!1)},"aria-labelledby":"form-dialog-title",tagId:p&&p.id,kanban:1}),o.a.createElement(km,null,o.a.createElement(Tm,null,ma.a.t("tagsKanban.title")," (",x.length,")"),o.a.createElement(Am,null,o.a.createElement(Ft.a,{placeholder:ma.a.t("contacts.searchPlaceholder"),type:"search",value:v,onChange:e=>{y(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:"gray"}}))}}),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{g(null),w(!0)}},ma.a.t("tagsKanban.buttons.add")),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{a.push("/kanban")}},ma.a.t("tagsKanban.backToKanban")))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},o.a.createElement(xo.a,{size:"small"},o.a.createElement(Ao.a,null,o.a.createElement(To.a,null,o.a.createElement(ko.a,{align:"center"},ma.a.t("tagsKanban.table.name")),o.a.createElement(ko.a,{align:"center"},ma.a.t("tagsKanban.table.tickets")),o.a.createElement(ko.a,{align:"center"},ma.a.t("tagsKanban.table.actions")))),o.a.createElement(Co.a,null,o.a.createElement(o.a.Fragment,null,x.map(e=>{var a;return o.a.createElement(To.a,{key:e.id},o.a.createElement(ko.a,{align:"center"},o.a.createElement(Vt.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),o.a.createElement(ko.a,{align:"center"},(null===e||void 0===e?void 0:e.ticketTags)?o.a.createElement("span",null,null===e||void 0===e||null===(a=e.ticketTags)||void 0===a?void 0:a.length):o.a.createElement("span",null,"0")),o.a.createElement(ko.a,{align:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>(e=>{g(e),w(!0)})(e)},o.a.createElement(Ip.a,null)),o.a.createElement(F.a,{size:"small",onClick:a=>{f(!0),E(e)}},o.a.createElement(Rl.a,null))))}),r&&o.a.createElement(kd,{columns:4}))))))},Rf=t(1528),Df=t(1529),Pf=t(1530);const Ff=Object(I.a)(e=>({root:{padding:e.spacing(3)},paper:{padding:e.spacing(3),marginBottom:e.spacing(2)},sectionTitle:{display:"flex",alignItems:"center",gap:e.spacing(1),marginBottom:e.spacing(2),color:e.palette.primary.main,fontWeight:600},settingItem:{marginBottom:e.spacing(2)},messageField:{marginTop:e.spacing(1)},timeField:{maxWidth:200},saveButton:{background:"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)",color:"white",fontWeight:600,textTransform:"none",borderRadius:8,padding:e.spacing(1,3),"&:hover":{transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(25, 118, 210, 0.3)"}},testButton:{background:"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)",color:"white",fontWeight:600,textTransform:"none",borderRadius:8,marginLeft:e.spacing(1),"&:hover":{transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(255, 152, 0, 0.3)"}},expandButton:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandButtonOpen:{transform:"rotate(180deg)"},helpText:{fontSize:"0.875rem",color:e.palette.text.secondary,marginTop:e.spacing(.5)},messagePreview:{backgroundColor:e.palette.grey[100],padding:e.spacing(2),borderRadius:8,marginTop:e.spacing(1),border:"1px solid ".concat(e.palette.grey[300])},variableChip:{backgroundColor:e.palette.primary.main,color:"white",padding:"2px 8px",borderRadius:4,fontSize:"0.75rem",fontFamily:"monospace",margin:"0 2px"},infoBox:{backgroundColor:"#e3f2fd",border:"1px solid #90caf9",borderRadius:8,padding:e.spacing(2),marginTop:e.spacing(2),display:"flex",alignItems:"flex-start",gap:e.spacing(1)},infoIcon:{color:"#1976d2",fontSize:"1.25rem",marginTop:2},infoContent:{flex:1}}));var Lf=()=>{const e=Ff(),[a,t]=Object(n.useState)(null),[l,r]=Object(n.useState)(!0),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)({user:!0,contact:!0,general:!0});Object(n.useEffect)(()=>{m()},[]);const m=async()=>{try{const{data:e}=await u.get("/birthdays/settings");t(e.data)}catch(e){O.b.error("Erro ao carregar configura\xe7\xf5es de anivers\xe1rio")}finally{r(!1)}},p=(e,a)=>{t(t=>Object(S.a)(Object(S.a)({},t),{},{[e]:a}))},g=e=>{d(a=>Object(S.a)(Object(S.a)({},a),{},{[e]:!a[e]}))},b=(a,t)=>{if(!a)return null;let n=a;return n=n.replace(/{nome}/g,'<span class="'.concat(e.variableChip,'">Jo\xe3o Silva</span>')),n=n.replace(/{idade}/g,'<span class="'.concat(e.variableChip,'">30</span>')),o.a.createElement(tn.a,{className:e.messagePreview},o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"Pr\xe9-visualiza\xe7\xe3o:"),o.a.createElement(z.a,{variant:"body2",dangerouslySetInnerHTML:{__html:n}}))};return l?o.a.createElement(tn.a,{className:e.root},o.a.createElement(z.a,null,"Carregando configura\xe7\xf5es...")):o.a.createElement(tn.a,{className:e.root},o.a.createElement(z.a,{variant:"h4",gutterBottom:!0},"Configura\xe7\xf5es de Anivers\xe1rio"),o.a.createElement(Gt.a,{className:e.paper},o.a.createElement(tn.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},o.a.createElement(z.a,{variant:"h6",className:e.sectionTitle},o.a.createElement(rs.a,null),"Anivers\xe1rios de Usu\xe1rios"),o.a.createElement(F.a,{className:"".concat(e.expandButton," ").concat(c.user?e.expandButtonOpen:""),onClick:()=>g("user")},o.a.createElement(Hc.a,null))),o.a.createElement(ce.a,{in:c.user},o.a.createElement(Yt.a,{container:!0,spacing:3},o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(wr.a,{control:o.a.createElement(cl.a,{checked:(null===a||void 0===a?void 0:a.userBirthdayEnabled)||!1,onChange:e=>p("userBirthdayEnabled",e.target.checked),color:"primary"}),label:"Habilitar notifica\xe7\xf5es de anivers\xe1rio de usu\xe1rios"}),o.a.createElement(z.a,{className:e.helpText},"Quando habilitado, ser\xe1 exibido modal de parab\xe9ns e criado informativo autom\xe1tico")),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(wr.a,{control:o.a.createElement(cl.a,{checked:(null===a||void 0===a?void 0:a.createAnnouncementForUsers)||!1,onChange:e=>p("createAnnouncementForUsers",e.target.checked),color:"primary",disabled:!(null===a||void 0===a?void 0:a.userBirthdayEnabled)}),label:"Criar informativo autom\xe1tico para anivers\xe1rios de usu\xe1rios"}),o.a.createElement(z.a,{className:e.helpText},"Cria um informativo autom\xe1tico que \xe9 exibido para todos os usu\xe1rios da empresa")),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Ft.a,{fullWidth:!0,multiline:!0,rows:3,label:"Mensagem de anivers\xe1rio para usu\xe1rios",value:(null===a||void 0===a?void 0:a.userBirthdayMessage)||"",onChange:e=>p("userBirthdayMessage",e.target.value),disabled:!(null===a||void 0===a?void 0:a.userBirthdayEnabled),className:e.messageField,helperText:"Use {nome} para incluir o nome do usu\xe1rio"}),b(null===a||void 0===a?void 0:a.userBirthdayMessage))))),o.a.createElement(Gt.a,{className:e.paper},o.a.createElement(tn.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},o.a.createElement(z.a,{variant:"h6",className:e.sectionTitle},o.a.createElement(ud.a,null),"Anivers\xe1rios de Contatos"),o.a.createElement(F.a,{className:"".concat(e.expandButton," ").concat(c.contact?e.expandButtonOpen:""),onClick:()=>g("contact")},o.a.createElement(Hc.a,null))),o.a.createElement(ce.a,{in:c.contact},o.a.createElement(Yt.a,{container:!0,spacing:3},o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(wr.a,{control:o.a.createElement(cl.a,{checked:(null===a||void 0===a?void 0:a.contactBirthdayEnabled)||!1,onChange:e=>p("contactBirthdayEnabled",e.target.checked),color:"primary"}),label:"Habilitar envio autom\xe1tico de mensagens de anivers\xe1rio para contatos"}),o.a.createElement(z.a,{className:e.helpText},"Envia automaticamente mensagem de parab\xe9ns via WhatsApp para contatos aniversariantes")),o.a.createElement(Yt.a,{item:!0,xs:12},o.a.createElement(Ft.a,{fullWidth:!0,multiline:!0,rows:4,label:"Mensagem de anivers\xe1rio para contatos",value:(null===a||void 0===a?void 0:a.contactBirthdayMessage)||"",onChange:e=>p("contactBirthdayMessage",e.target.value),disabled:!(null===a||void 0===a?void 0:a.contactBirthdayEnabled),className:e.messageField,helperText:"Use {nome} para incluir o nome do contato e {idade} para a idade"}),b(null===a||void 0===a?void 0:a.contactBirthdayMessage),(null===a||void 0===a?void 0:a.contactBirthdayEnabled)&&o.a.createElement(K.a,{variant:"contained",className:e.testButton,startIcon:o.a.createElement(Rf.a,null),onClick:()=>(async e=>{const a=prompt("Digite o ID de um contato para teste:");if(a)try{await u.post("/birthdays/test-message",{contactId:parseInt(a),messageType:e}),O.b.success("Mensagem de teste enviada! \ud83d\udcf1")}catch(t){O.b.error("Erro ao enviar mensagem de teste")}})("contact"),size:"small",style:{marginTop:8}},"Testar Mensagem"))))),o.a.createElement(Gt.a,{className:e.paper},o.a.createElement(tn.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},o.a.createElement(z.a,{variant:"h6",className:e.sectionTitle},o.a.createElement(Df.a,null),"Configura\xe7\xf5es Gerais"),o.a.createElement(F.a,{className:"".concat(e.expandButton," ").concat(c.general?e.expandButtonOpen:""),onClick:()=>g("general")},o.a.createElement(Hc.a,null))),o.a.createElement(ce.a,{in:c.general},o.a.createElement(Yt.a,{container:!0,spacing:3},o.a.createElement(Yt.a,{item:!0,xs:12,md:6},o.a.createElement(Ft.a,{type:"time",label:"Hor\xe1rio de envio das mensagens",value:(null===a||void 0===a?void 0:a.sendBirthdayTime)||"09:00:00",onChange:e=>p("sendBirthdayTime",e.target.value),className:e.timeField,InputLabelProps:{shrink:!0},helperText:"Hor\xe1rio em que as mensagens autom\xe1ticas ser\xe3o enviadas"}))),o.a.createElement(tn.a,{className:e.infoBox},o.a.createElement(Ln.a,{className:e.infoIcon}),o.a.createElement(tn.a,{className:e.infoContent},o.a.createElement(z.a,{variant:"body2",style:{fontWeight:600,marginBottom:8}},"Vari\xe1veis dispon\xedveis nas mensagens:"),o.a.createElement(z.a,{variant:"body2",component:"div"},"\u2022 ",o.a.createElement("code",null,"{nome}")," - Nome da pessoa",o.a.createElement("br",null),"\u2022 ",o.a.createElement("code",null,"{idade}")," - Idade da pessoa (apenas para contatos)"))))),o.a.createElement(tn.a,{textAlign:"center",mt:3},o.a.createElement(K.a,{variant:"contained",className:e.saveButton,startIcon:o.a.createElement(Pf.a,null),onClick:async()=>{s(!0);try{await u.put("/birthdays/settings",a),O.b.success("Configura\xe7\xf5es de anivers\xe1rio salvas com sucesso! \ud83c\udf89")}catch(e){O.b.error("Erro ao salvar configura\xe7\xf5es")}finally{s(!1)}},disabled:i,size:"large"},i?"Salvando...":"Salvar Configura\xe7\xf5es")))};const Wf=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,padding:0,overflowY:"scroll"},e.scrollbarStyles)}));var Bf=()=>{const e=Wf();return o.a.createElement(yo,null,o.a.createElement(km,null,o.a.createElement(Tm,null,"Configura\xe7\xf5es de Anivers\xe1rio")),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(Lf,null)))},qf=t(292),zf=(t(1206),t(1245)),Uf=t(1563),Vf=t(1564),Hf=t(1565),Qf=t(1566),Gf=t(1567),Kf=t(888),_f=t.n(Kf),Yf=t(411),Jf=t.n(Yf),Xf=t(538),Zf=t.n(Xf),$f=t(886),ev=t.n($f),av=t(217),tv=t(45),nv=t(11),ov=t(285),lv=t(762),rv=t(763),iv=t(1536),sv=t(1544),cv=t(1535),dv=t(1537),mv=t(1538),uv=t(1540),pv=t(1545),gv=t(1546),bv=t(1562),Ev=t(887),hv=t.n(Ev),fv=t(1532),vv=t(1533),yv=t(1534),xv=t(877);const Cv=Object(xv.create)(e=>({node:"",connect:"",action:"idle",setNodesStorage:a=>e(e=>Object(S.a)(Object(S.a)({},e),{},{node:a})),setConnectsStorage:a=>e(e=>Object(S.a)(Object(S.a)({},e),{},{connect:a})),setAct:a=>e(e=>Object(S.a)(Object(S.a)({},e),{},{action:a}))}));var kv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#9a00ed",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(cv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Mensagem")),o.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},a.label),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#9a00ed",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),wv=Object(n.memo)(e=>{let{data:a,isConnectable:t}=e;return o.a.createElement("div",{style:{backgroundColor:"#F9FDF9",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(58, 186, 56, 0.25)"}},o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(iv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3aba38"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Inicio do fluxo")),o.a.createElement("div",{style:{color:"#727272",fontSize:"12px"}},"Este bloco marca o inicio do seu fluxo!"),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#9a00ed",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Av=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(52, 152, 219, 0.25)"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#3498db",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(qf.b,{style:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3498db"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"OpenAI")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#E8F4FD",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{textAlign:"center"}},"GPT AI Assistant")))),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#3498db",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Tv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(219, 68, 55, 0.25)"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#db4437",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(qf.a,{style:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#db4437"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Gemini")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#FDEBEA",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{textAlign:"center"}},"Google AI Assistant")))),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#db4437",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Ov=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#FAFBFF",padding:"8px",borderRadius:"8px",maxWidth:"155px",boxShadow:"0px 3px 5px rgba(0,0,0,.05)",border:"1px solid rgba(104, 58, 200, 0.25)",width:180}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#9a00ed",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#683AC8"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#683AC8"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(dv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#683AC8"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Menu")),o.a.createElement("div",null,o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",height:"50px",overflow:"hidden",marginBottom:"8px"}},a.message)),a.arrayOption.map(e=>o.a.createElement("div",{style:{marginBottom:"9px",justifyContent:"end",display:"flex"}},o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",position:"relative",display:"flex",color:"#232323",justifyContent:"center",flexDirection:"column",alignSelf:"end"}},"[".concat(e.number,"] ").concat(e.value)),o.a.createElement(tv.a,{type:"source",position:"right",id:"a"+e.number,style:{top:74+23*e.number,background:"#9a00ed",width:"18px",height:"18px",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))))}),Sv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#FFFBFA",padding:"8px",borderRadius:"8px",minWidth:"155px",border:"1px solid rgba(240, 135, 90, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#9a00ed",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(mv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#F7953B"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Intervalo")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px"}},a.sec," segundos"),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#9a00ed",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),jv=t(1539),Iv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#9a00ed"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t}),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(jv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Imagem")),o.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},o.a.createElement("img",{src:"".concat("https://api.datamixsistemas.com.br","/public/").concat(a.url),style:{width:"180px"}})),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#9a00ed"},isConnectable:t}))}),Mv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#F8FCFD",padding:"8px",borderRadius:"8px",width:"185px",border:"1px solid rgba(31, 186, 220, 0.25)"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#9a00ed",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#1FBADC"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#1FBADC"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(uv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#1FBADC"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Randomizador")),o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",justifyContent:"end",position:"relative",display:"flex",color:"#232323"}},"".concat(a.percent,"%")),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#9a00ed",width:"18px",height:"18px",right:"-11px",marginTop:"-5px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",justifyContent:"end",position:"relative",display:"flex",marginTop:"8px",color:"#232323"}},"".concat(100-a.percent,"%")),o.a.createElement(tv.a,{type:"source",position:"right",id:"b",style:{background:"#9a00ed",width:"18px",height:"18px",right:"-11px",top:73,cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Nv=t(1541),Rv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#9a00ed"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t}),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Nv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Video")),o.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},o.a.createElement("video",{controls:"controls",width:"180px"},o.a.createElement("source",{src:"".concat("https://api.datamixsistemas.com.br","/public/").concat(a.url),type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#9a00ed"},isConnectable:t}))}),Dv=t(654),Pv=t.n(Dv),Fv=Object(n.memo)(e=>{var a;let{data:t,isConnectable:n,id:l}=e;const r=Cv();return o.a.createElement("div",{style:{backgroundColor:"#FEFAFA",padding:"8px",borderRadius:"8px",border:"1px solid rgba(236, 88, 88, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},o.a.createElement(tv.a,{type:"target",position:"left",className:"bg-[#0000FF] flex justify-center w-5 h-5 cursor-pointer top-5 -left-3",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px"},onConnect:e=>console.log("handle onConnect",e),isConnectable:n},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{r.setNodesStorage(l),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#EC5858"}}),o.a.createElement(yv.a,{onClick:()=>{r.setNodesStorage(l),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#EC5858"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Pv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#EC5858"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Trocar Fluxo")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(Pv.a,{sx:{color:"#EC5858"}})),o.a.createElement(_c.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},null===t||void 0===t||null===(a=t.typebotIntegration)||void 0===a?void 0:a.message))),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"90%",right:"-11px",cursor:"pointer"},isConnectable:n},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Lv=t(1542),Wv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Lv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3aba38"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Atendente")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",position:"relative",display:"flex",color:"#232323",justifyContent:"center",flexDirection:"column"}},a.user.name))))))),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))});t(1212);var Bv=t(1543),qv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#9a00ed"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t}),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Bv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Audio")),o.a.createElement("div",{style:{color:"#ededed",fontSize:"12px"}},o.a.createElement("div",{style:{position:"absolute",right:"50px",top:"12px"}},a.record&&a.record?o.a.createElement("div",null,"Gravado na hora"):o.a.createElement("div",null,"Audio enviado")),o.a.createElement("audio",{controls:"controls"},o.a.createElement("source",{src:"".concat("https://api.datamixsistemas.com.br","/public/").concat(a.url),type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#9a00ed"},isConnectable:t}))}),zv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#FEFAFA",padding:"8px",borderRadius:"8px",border:"1px solid rgba(236, 88, 88, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#9a00ed",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#EC5858"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#EC5858"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(sv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#EC5858"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Conte\xfado")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},a.seq.map(e=>o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},e.includes("message")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(cv.a,{sx:{color:"#EC5858"}})),o.a.createElement(_c.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].value)),e.includes("interval")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(mv.a,{sx:{color:"#EC5858"}})),o.a.createElement(_c.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].value," ","segundos")),e.includes("img")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(jv.a,{sx:{color:"#EC5858"}})),o.a.createElement(_c.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].original)),e.includes("audio")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(Bv.a,{sx:{color:"#EC5858"}})),o.a.createElement(_c.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].original)),e.includes("video")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(Nv.a,{sx:{color:"#EC5858"}})),o.a.createElement(_c.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].original)),e.includes("document")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(sv.a,{sx:{color:"#EC5858"}})),o.a.createElement(_c.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].original))))),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#9a00ed",width:"18px",height:"18px",top:"90%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Uv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(pv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"3px",color:"#A13DAB"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Fila")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",position:"relative",display:"flex",color:"#232323",justifyContent:"center",flexDirection:"column"}},a.queue.name))))))),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Vv=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const l=Cv();return o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(yv.a,{onClick:()=>{l.setNodesStorage(n),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(gv.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#123AF2"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Tag")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",position:"relative",display:"flex",color:"#232323",justifyContent:"center",flexDirection:"column"}},a.tag.name))))))),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Hv=t(1613),Qv=t(1598),Gv=t(1604),Kv=t(1584),_v=t(880),Yv=t.n(_v),Jv=t(885),Xv=t.n(Jv),Zv=t(657),$v=t.n(Zv),ey=t(360),ay=t.n(ey),ty=t(537),ny=t.n(ty),oy=t(881),ly=t.n(oy),ry=t(884),iy=t.n(ry),sy=t(883),cy=t.n(sy),dy=t(882),my=t.n(dy),uy=t(655),py=t.n(uy),gy=(t(1218),t(1219),t(656)),by=t.n(gy);var Ey=o.a.memo(e=>{let{data:a,id:t,selected:l}=e;const[r,i]=Object(n.useState)((null===a||void 0===a?void 0:a.url)||""),[s,d]=Object(n.useState)((null===a||void 0===a?void 0:a.method)||"GET"),[m,p]=Object(n.useState)((null===a||void 0===a?void 0:a.requestBody)||"{}"),[g,b]=Object(n.useState)((null===a||void 0===a?void 0:a.headersString)||""),[E,h]=Object(n.useState)((null===a||void 0===a?void 0:a.queryParams)||[]),[f,v]=Object(n.useState)((null===a||void 0===a?void 0:a.saveVariables)||[]),[y,x]=Object(n.useState)((null===a||void 0===a?void 0:a.timeout)||1e4),[C,k]=Object(n.useState)(""),[w,A]=Object(n.useState)(null),[T,j]=Object(n.useState)([]),[I,M]=Object(n.useState)(!1),[N,R]=Object(n.useState)(f&&f.length>0),[D,P]=Object(n.useState)(!1),[F,L]=Object(n.useState)(!1),[W,B]=Object(n.useState)(!1),[q,z]=Object(n.useState)([]),[U,V]=Object(n.useState)(null),[H,Q]=Object(n.useState)(!1),[G,K]=Object(n.useState)(!1),_=Cv();Object(n.useEffect)(()=>{Y()},[]);const Y=async()=>{try{K(!0);const e=await u.get("/preset-webhooks?isActive=true&includeSystem=true");z(e.data.presets||[])}catch(e){console.error("Erro ao carregar presets:",e)}finally{K(!1)}},J=Object(n.useCallback)(()=>{var e,t;(a.url=r,a.method=s,a.requestBody=m,a.headersString=g,a.queryParams=E,a.timeout=y,f&&f.length>0?(a.saveVariables=f.map(e=>({path:e.path,variable:e.variable})),a.responseVariables=f.map(e=>({path:e.path,variableName:e.variable}))):(a.saveVariables=[],a.responseVariables=[]),a.responseVariables&&Array.isArray(a.responseVariables))||(a.responseVariables=(null===(e=a.saveVariables)||void 0===e?void 0:e.map(e=>({path:e.path,variableName:e.variable})))||[]);a.saveVariables&&Array.isArray(a.saveVariables)||(a.saveVariables=(null===(t=a.responseVariables)||void 0===t?void 0:t.map(e=>({path:e.path,variable:e.variableName})))||[])},[r,s,m,g,E,f,a,y]);Object(n.useEffect)(()=>{f&&f.length>0&&!N&&R(!0)},[f,N]),Object(n.useEffect)(()=>{let e;return D&&(e=x(()=>{P(!1)},3e3)),()=>clearTimeout(e)},[D]);const X=["POST","PUT","DELETE"].includes(s);let Z={};try{Z=g?JSON.parse(g):{}}catch(ie){}Object(n.useEffect)(()=>{j(w&&"object"===typeof w?function e(a){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];for(let o in a){const l=t?"".concat(t,".").concat(o):o;n.push(l),null!==a[o]&&"object"===typeof a[o]&&(n=n.concat(e(a[o],l)))}return n}(w):[])},[w]);const $=Object(n.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(!E.length)return e;const a=E.map(e=>{let a=e.value;if(window.flowVariables&&a.includes("${")){const e=/\${([^}]+)}/g;a=a.replace(e,(e,a)=>void 0!==window.flowVariables[a]?window.flowVariables[a]:e)}return{key:e.key,value:a}}),t=a.filter(e=>e.key&&e.value).map(e=>"".concat(encodeURIComponent(e.key),"=").concat(encodeURIComponent(e.value))).join("&");return t?"".concat(e,"?").concat(t):e}),[r,E]),ee=Object(n.useCallback)(()=>h([...E,{key:"",value:""}]),[E]),ae=Object(n.useCallback)((e,a,t)=>{const n=[...E];n[e][a]=t,h(n)},[E]),te=Object(n.useCallback)(e=>h(E.filter((a,t)=>t!==e)),[E]),ne=Object(n.useCallback)(()=>v([...f,{path:"",variable:""}]),[f]),oe=Object(n.useCallback)((e,a,t)=>{const n=[...f];n[e][a]=t,v(n)},[f]),le=Object(n.useCallback)(e=>v(f.filter((a,t)=>t!==e)),[f]);Object(n.useEffect)(()=>{J()},[r,s,m,g,E,f,y,J]);const re=Object(n.useCallback)(async()=>{try{let e,t=r;if(window.flowVariables&&r.includes("${")){const e=/\${([^}]+)}/g;t=r.replace(e,(e,a)=>void 0!==window.flowVariables[a]?window.flowVariables[a]:e)}const n=$(t),o={method:s,url:n,headers:Object(S.a)({"Content-Type":"application/json"},Z),timeout:y};if(X)try{if(e=m,window.flowVariables&&m.includes("${")){const a=/\${([^}]+)}/g;e=m.replace(a,(e,a)=>void 0!==window.flowVariables[a]?JSON.stringify(window.flowVariables[a]):e)}o.data=JSON.parse(e||"{}")}catch(ie){o.data=e}const l=await c()(o);if(A(l.data),window.setFlowVariable&&window.setFlowVariable("apiResponse",l.data),f.length>0){const e=[...f],t=e.map(e=>({path:e.path,variableName:e.variable}));for(let n=0;n<t.length;n++){const e=t[n];if(e&&e.path&&e.variableName){const t=e.path.split(".");let n=l.data,o="",r=!0;for(let e of t){if(o=o?"".concat(o,".").concat(e):e,!n||"object"!==typeof n||!(e in n)){r=!1;break}n=n[e]}if(r&&void 0!==n&&null!==n)if(a[e.variableName]=n,window.setFlowVariable){window.setFlowVariable(e.variableName,n);const a=new CustomEvent("flowVariableUpdate",{detail:{name:e.variableName,value:n}});window.dispatchEvent(a)}else{window.flowVariables||(window.flowVariables={}),window.flowVariables[e.variableName]=n;const a=new CustomEvent("flowVariableUpdate",{detail:{name:e.variableName,value:n}});window.dispatchEvent(a)}}}a.responseVariables=t,a.saveVariables=e,J()}}catch(e){A(e.response?e.response.data:"Erro na requisi\xe7\xe3o"),window.setFlowVariable&&window.setFlowVariable("apiError",e.response?e.response.data:e.message)}},[r,$,s,m,Z,X,f,y,a]);return o.a.createElement(Xo.a,{sx:{backgroundColor:"#fff",borderRadius:2,boxShadow:2,p:3,width:320,display:"flex",flexDirection:"column",gap:2,position:"relative"}},o.a.createElement(tv.a,{type:"target",position:"left",id:"httpRequest-in",style:{left:-8,top:"50%",transform:"translateY(-50%)",background:"#555",width:12,height:12}}),o.a.createElement(Xo.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(Xo.a,{sx:{display:"flex",alignItems:"center",gap:1}},o.a.createElement(Jf.a,{fontSize:"small",sx:{color:"#1976d2"}}),o.a.createElement(_c.a,{variant:"subtitle1",fontWeight:"bold"},"Requisi\xe7\xe3o HTTP")),o.a.createElement(Xo.a,{sx:{display:"flex",gap:1}},o.a.createElement(Hv.a,{size:"small",onClick:()=>{_.setNodesStorage(t),_.setAct("duplicate")}},o.a.createElement(ny.a,{fontSize:"small"})),o.a.createElement(Hv.a,{size:"small",onClick:()=>{_.setNodesStorage(t),_.setAct("delete")}},o.a.createElement(ay.a,{fontSize:"small"})))),o.a.createElement(Xo.a,{sx:{display:"flex",flexDirection:"column",gap:1}},o.a.createElement(Xo.a,{sx:{display:"flex",alignItems:"center",gap:1}},o.a.createElement(vm.a,{fontSize:"small",sx:{color:"#9c27b0"}}),o.a.createElement(_c.a,{variant:"body2",fontWeight:"bold"},"Webhooks Pr\xe9-configurados")),o.a.createElement(Pl.a,{options:q,getOptionLabel:e=>"".concat(e.name," (").concat(e.provider,")"),value:U,onChange:async(e,t)=>{if(!t)return V(null),void Q(!1);try{V(t),Q(!0);const e=t.configuration;if(i(e.url||""),d(e.method||"GET"),b(e.headers?JSON.stringify(e.headers,null,2):""),h(e.queryParams||[]),p(e.requestBody||"{}"),x(e.timeout||3e4),e.responseVariables&&e.responseVariables.length>0){const a=e.responseVariables.map(e=>({path:e.path,variable:e.variableName}));v(a),R(!0)}a.url=e.url||"",a.method=e.method||"GET",a.headersString=e.headers?JSON.stringify(e.headers,null,2):"",a.queryParams=e.queryParams||[],a.requestBody=e.requestBody||"{}",a.responseVariables=e.responseVariables||[],a.timeout=e.timeout||3e4,a.presetId=t.id,a.presetName=t.name,a.presetProvider=t.provider}catch(n){console.error("Erro ao aplicar preset:",n),O.b.error("Erro ao aplicar configura\xe7\xe3o do preset")}},loading:G,renderInput:e=>o.a.createElement(Qv.a,Object.assign({},e,{label:"Selecionar preset",size:"small",placeholder:"Escolha uma configura\xe7\xe3o pronta..."})),renderOption:(e,a)=>o.a.createElement(Xo.a,Object.assign({component:"li"},e),o.a.createElement(Xo.a,null,o.a.createElement(_c.a,{variant:"body2",fontWeight:"bold"},a.name),o.a.createElement(_c.a,{variant:"caption",color:"textSecondary"},a.description),o.a.createElement(Xo.a,{sx:{mt:.5}},o.a.createElement(Gv.a,{label:a.provider.toUpperCase(),size:"small",color:"primary",variant:"outlined"}),a.isSystem&&o.a.createElement(Gv.a,{label:"SISTEMA",size:"small",color:"secondary",variant:"outlined",sx:{ml:.5}})))),clearOnEscape:!0}),H&&U&&o.a.createElement(Kv.a,{severity:"info",action:o.a.createElement(Jo.a,{size:"small",onClick:()=>{V(null),Q(!1),a.presetId=null,a.presetName=null,a.presetProvider=null}},"Remover")},"Usando preset: ",o.a.createElement("strong",null,U.name))),o.a.createElement(Qv.a,{label:H?"URL (do preset)":"URL",variant:"outlined",size:"small",value:r,onChange:e=>{i(e.target.value),a.url=e.target.value},fullWidth:!0,placeholder:"https://api.exemplo.com/webhook",helperText:H?"Voc\xea pode editar a URL base do preset se necess\xe1rio":"",disabled:H&&(null===U||void 0===U?void 0:U.isSystem)}),o.a.createElement(Pl.a,{options:["GET","POST","PUT","DELETE"],value:s,onChange:(e,t)=>{t&&(d(t),a.method=t)},renderInput:e=>o.a.createElement(Qv.a,Object.assign({},e,{label:"M\xe9todo",size:"small"})),disabled:H&&(null===U||void 0===U?void 0:U.isSystem),clearOnEscape:!0}),o.a.createElement(Jo.a,{variant:"contained",startIcon:o.a.createElement(Yv.a,null),onClick:re,disabled:!r,sx:{bgcolor:"#2e7d32","&:hover":{bgcolor:"#1b5e20"},textTransform:"none"}},"Testar Requisi\xe7\xe3o"),w&&o.a.createElement(Xo.a,{sx:{mt:1}},o.a.createElement(_c.a,{variant:"body2",fontWeight:"bold",mb:1},"Resposta da API:"),o.a.createElement(Xo.a,{sx:{maxHeight:150,overflow:"auto",border:1,borderColor:"grey.300",borderRadius:1,p:1,bgcolor:"grey.50"}},"object"===typeof w?o.a.createElement(by.a,{src:w,theme:"rjv-default",displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,collapsed:1,name:!1}):o.a.createElement(_c.a,{variant:"body2",fontFamily:"monospace"},String(w))),o.a.createElement(Jo.a,{size:"small",onClick:()=>B(!0),sx:{mt:1,textTransform:"none"}},"Ver resposta completa")),o.a.createElement(Jo.a,{variant:"text",size:"small",onClick:()=>M(!I),sx:{textTransform:"none",alignSelf:"flex-start"}},o.a.createElement(Xo.a,{sx:{display:"flex",alignItems:"center",gap:.5}},o.a.createElement(ly.a,{fontSize:"small"}),I?"Ocultar avan\xe7ado":"Mostrar avan\xe7ado")),I&&o.a.createElement(Xo.a,{sx:{display:"flex",flexDirection:"column",gap:1}},H&&o.a.createElement(Kv.a,{severity:"warning",sx:{mb:1}},"Configura\xe7\xf5es avan\xe7adas podem sobrescrever as configura\xe7\xf5es do preset"),o.a.createElement(_c.a,{variant:"body2",fontWeight:"bold"},"Timeout (ms)"),o.a.createElement(Qv.a,{type:"number",size:"small",value:y,onChange:e=>x(parseInt(e.target.value)||1e4),inputProps:{min:1e3,max:6e4},fullWidth:!0}),o.a.createElement(_c.a,{variant:"body2",fontWeight:"bold"},"Par\xe2metros de Query"),E.map((e,a)=>o.a.createElement(Dl.a,{container:!0,spacing:1,key:a},o.a.createElement(Dl.a,{item:!0,xs:5},o.a.createElement(Qv.a,{size:"small",label:"Chave",value:e.key,onChange:e=>ae(a,"key",e.target.value),fullWidth:!0})),o.a.createElement(Dl.a,{item:!0,xs:5},o.a.createElement(Qv.a,{size:"small",label:"Valor",value:e.value,onChange:e=>ae(a,"value",e.target.value),fullWidth:!0})),o.a.createElement(Dl.a,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"}},o.a.createElement(Hv.a,{size:"small",onClick:()=>te(a)},o.a.createElement(ay.a,{fontSize:"small"}))))),o.a.createElement(Jo.a,{variant:"outlined",size:"small",startIcon:o.a.createElement($v.a,null),onClick:ee,sx:{textTransform:"none",width:"100%"}},"Adicionar Par\xe2metro"),o.a.createElement(_c.a,{variant:"body2",fontWeight:"bold",mt:1},"Cabe\xe7alhos (JSON)"),o.a.createElement(Qv.a,{variant:"outlined",size:"small",multiline:!0,minRows:2,value:g,onChange:e=>b(e.target.value),placeholder:'{"Authorization": "Bearer token", "Custom-Header": "XYZ"}',fullWidth:!0}),X&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_c.a,{variant:"body2",fontWeight:"bold",mt:1},"Corpo da requisi\xe7\xe3o (JSON)"),o.a.createElement(Xo.a,{sx:{position:"relative"}},o.a.createElement(py.a,{mode:"json",theme:"github",name:"requestBodyEditor",fontSize:12,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,width:"100%",height:"100px",value:m,onChange:e=>p(e),setOptions:{useWorker:!1,tabSize:2},style:{borderRadius:4,border:"1px solid #ddd"}}),o.a.createElement(Hv.a,{size:"small",onClick:()=>L(!0),sx:{position:"absolute",right:5,top:5,bgcolor:"rgba(255,255,255,0.8)","&:hover":{bgcolor:"rgba(255,255,255,0.9)"}}},o.a.createElement(my.a,{fontSize:"small"}))),o.a.createElement(Yl.a,{open:F,onClose:()=>L(!1),maxWidth:"md",fullWidth:!0},o.a.createElement(Jl.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(_c.a,{variant:"h6"},"Editar corpo da requisi\xe7\xe3o"),o.a.createElement(Hv.a,{onClick:()=>L(!1)},o.a.createElement(th.a,null))),o.a.createElement(Xl.a,null,o.a.createElement(py.a,{mode:"json",theme:"github",name:"requestBodyEditorFull",fontSize:14,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,width:"100%",height:"400px",value:m,onChange:e=>p(e),setOptions:{useWorker:!1,tabSize:2},style:{borderRadius:4,border:"1px solid #ddd"}})),o.a.createElement($l.a,null,o.a.createElement(Jo.a,{onClick:()=>L(!1)},"Fechar"))))),o.a.createElement(Jo.a,{variant:"outlined",size:"small",startIcon:o.a.createElement(cy.a,null),onClick:()=>R(!N),sx:{textTransform:"none",borderColor:"#673ab7",color:"#673ab7","&:hover":{borderColor:"#5e35b1",bgcolor:"rgba(103, 58, 183, 0.04)"}}},N?"Ocultar":"Mapear"," Vari\xe1veis da Resposta"),N&&o.a.createElement(Xo.a,{sx:{display:"flex",flexDirection:"column",gap:1.5}},o.a.createElement(_c.a,{variant:"body2",fontWeight:"bold",color:"#673ab7"},"Mapear dados da resposta para vari\xe1veis"),f.map((e,a)=>o.a.createElement(Dl.a,{container:!0,spacing:1,key:a,alignItems:"center"},o.a.createElement(Dl.a,{item:!0,xs:5},o.a.createElement(Pl.a,{options:T,freeSolo:!0,size:"small",value:e.path,onChange:(e,t)=>oe(a,"path",t||""),renderInput:e=>o.a.createElement(Qv.a,Object.assign({},e,{label:"Caminho",placeholder:"ex: data.user.id",size:"small"}))})),o.a.createElement(Dl.a,{item:!0,xs:5},o.a.createElement(Qv.a,{size:"small",label:"Nome da vari\xe1vel",value:e.variable,onChange:e=>oe(a,"variable",e.target.value),placeholder:"ex: userId",fullWidth:!0})),o.a.createElement(Dl.a,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"}},o.a.createElement(Hv.a,{size:"small",onClick:()=>le(a),sx:{color:"#f44336"}},o.a.createElement(ay.a,{fontSize:"small"}))))),o.a.createElement(Jo.a,{variant:"contained",size:"small",startIcon:o.a.createElement($v.a,null),onClick:ne,sx:{bgcolor:"#673ab7","&:hover":{bgcolor:"#5e35b1",boxShadow:"0 4px 8px rgba(103, 58, 183, 0.3)"},boxShadow:"0 2px 4px rgba(103, 58, 183, 0.2)",borderRadius:2,py:1,mb:2,fontSize:"0.9rem",fontWeight:500,letterSpacing:"0.2px"}},"Adicionar vari\xe1vel"),o.a.createElement(Xo.a,{sx:{display:"flex",alignItems:"flex-start",gap:1.5,mt:2,p:2,borderRadius:2,bgcolor:"rgba(255, 193, 7, 0.08)",border:"1px solid rgba(255, 193, 7, 0.2)",transition:"all 0.2s ease","&:hover":{boxShadow:"0 2px 8px rgba(0,0,0,0.05)",bgcolor:"rgba(255, 193, 7, 0.1)"}}},o.a.createElement(iy.a,{fontSize:"small",sx:{color:"#f57c00",mt:.3}}),o.a.createElement(Xo.a,null,o.a.createElement(_c.a,{variant:"caption",sx:{color:"text.primary",fontWeight:500,fontSize:"0.8rem",display:"block",mb:.5}},"Dicas \xfateis:"),o.a.createElement(_c.a,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1,lineHeight:1.4}},"\u2022 A resposta completa da API \xe9 salva automaticamente na vari\xe1vel global ",o.a.createElement("strong",null,"apiResponse")),o.a.createElement(_c.a,{variant:"caption",color:"text.secondary",display:"block",mt:1},"Voc\xea pode usar $","{nomeDaVariavel}"," no URL e corpo da requisi\xe7\xe3o para incluir valores de vari\xe1veis.")))),o.a.createElement(Yl.a,{open:W,onClose:()=>B(!1),maxWidth:"lg",fullWidth:!0},o.a.createElement(Jl.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(_c.a,{variant:"h6"},"Resposta completa da API"),o.a.createElement(Hv.a,{onClick:()=>B(!1)},o.a.createElement(th.a,null))),o.a.createElement(Xl.a,null,w&&"object"===typeof w?o.a.createElement(by.a,{src:w,theme:"rjv-default",displayDataTypes:!0,displayObjectSize:!0,enableClipboard:!0,collapsed:!1,name:"response",style:{padding:"15px",borderRadius:"8px",backgroundColor:"#f8f9fa"}}):o.a.createElement(Xo.a,{sx:{fontFamily:"monospace",whiteSpace:"pre-wrap",bgcolor:"#f8f9fa",p:2,borderRadius:1,border:"1px solid #dee2e6"}},String(w))),o.a.createElement($l.a,null,o.a.createElement(Jo.a,{onClick:()=>B(!1)},"Fechar"))),D&&o.a.createElement(Xo.a,{sx:{position:"absolute",top:-40,right:0,bgcolor:"success.main",color:"white",px:2,py:1,borderRadius:1,fontSize:"0.875rem",zIndex:1e3,display:"flex",alignItems:"center",gap:1}},o.a.createElement(Xv.a,{fontSize:"small"}),"Configura\xe7\xe3o salva!"),o.a.createElement(tv.a,{type:"source",position:"right",id:"httpRequest-out",style:{right:-8,top:"50%",transform:"translateY(-50%)",background:"#555",width:12,height:12}}))}),hy=t(1547),fy=Object(n.memo)(e=>{var a,t;let{data:n,isConnectable:l,id:r}=e;const i=Cv();return o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(220, 53, 69, 0.25)"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{background:"#dc3545",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:l},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(vv.a,{onClick:()=>{i.setNodesStorage(r),i.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(yv.a,{onClick:()=>{i.setNodesStorage(r),i.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(hy.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#dc3545"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Remover Tag")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#FFF5F5",marginBottom:"3px",borderRadius:"5px",padding:"8px"}},o.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#dc3545"}},o.a.createElement(gv.a,{sx:{width:"14px",height:"14px"}}),o.a.createElement("span",{style:{fontSize:"11px",fontWeight:"500"}},(null===n||void 0===n||null===(a=n.tag)||void 0===a?void 0:a.name)||"Tag n\xe3o selecionada")),(null===n||void 0===n||null===(t=n.tag)||void 0===t?void 0:t.name)&&o.a.createElement("div",{style:{fontSize:"10px",color:"#666",marginTop:"2px",fontStyle:"italic"}},"Remove a tag do contato"))),o.a.createElement(tv.a,{type:"source",position:"right",style:{background:"#dc3545",width:"18px",height:"18px",top:"20px",right:"-12px",cursor:"pointer"},isConnectable:l},o.a.createElement(fv.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))});var vy=o.a.memo(e=>{let{data:a,id:t}=e;const[l,r]=Object(n.useState)(a.variableName||""),[i,s]=Object(n.useState)(a.variableValue||""),[c,d]=Object(n.useState)(a.variableType||"text"),[m,u]=Object(n.useState)(a.savedStatus||""),[p,g]=Object(n.useState)(!1),b=Cv();Object(n.useEffect)(()=>{a.variableName=l,a.variableValue=i,a.variableType=c,a.savedStatus=m},[l,i,c,m,a]),Object(n.useEffect)(()=>{let e;return p&&(e=setTimeout(()=>{g(!1)},3e3)),()=>clearTimeout(e)},[p]);const E=Object(n.useCallback)(()=>{l&&(window.flowVariables=window.flowVariables||{},window.flowVariables[l]=i,u("Salvo!"),g(!0))},[l,i,a]);return o.a.createElement(Xo.a,{sx:{backgroundColor:"#fff",borderRadius:2,boxShadow:2,p:2,width:280,display:"flex",flexDirection:"column",gap:1.5,position:"relative"}},o.a.createElement(tv.a,{type:"target",position:"left",id:"variable-in",style:{left:-8,top:"50%",transform:"translateY(-50%)",background:"#555",width:12,height:12}}),o.a.createElement(Xo.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},o.a.createElement(Xo.a,{sx:{display:"flex",alignItems:"center",gap:1}},o.a.createElement(Zf.a,{fontSize:"small",sx:{color:"#1976d2"}}),o.a.createElement(_c.a,{variant:"subtitle1",fontWeight:"bold"},"Vari\xe1vel Global")),o.a.createElement(Xo.a,{sx:{display:"flex",gap:1}},o.a.createElement(Hv.a,{size:"small",onClick:()=>{b.setNodesStorage(t),b.setAct("duplicate")}},o.a.createElement(ny.a,{fontSize:"small"})),o.a.createElement(Hv.a,{size:"small",onClick:()=>{b.setNodesStorage(t),b.setAct("delete")}},o.a.createElement(ay.a,{fontSize:"small"})))),o.a.createElement(Qv.a,{label:"Nome da vari\xe1vel",size:"small",value:l,onChange:e=>r(e.target.value),fullWidth:!0,sx:{mb:1}}),o.a.createElement(Qv.a,{label:"Valor",size:"small",value:i,onChange:e=>s(e.target.value),fullWidth:!0,multiline:!0,minRows:2,maxRows:4,helperText:"Voc\xea pode usar valores est\xe1ticos ou refer\xeancias como ${outraVariavel}"}),o.a.createElement(Xo.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},o.a.createElement(_c.a,{variant:"caption",color:"Salvo!"===m?"success.main":"text.secondary"},m),o.a.createElement(Jo.a,{variant:"contained",color:"primary",size:"small",onClick:E,startIcon:o.a.createElement(WE.a,null),sx:{textTransform:"none",boxShadow:2}},"Salvar vari\xe1vel")),p&&o.a.createElement(Xo.a,{sx:{position:"absolute",top:"10px",right:"10px",backgroundColor:"#4caf50",color:"white",padding:"8px 16px",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:1e3,animation:"fadeIn 0.3s ease-in-out","@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(-10px)"},"100%":{opacity:1,transform:"translateY(0)"}}}},o.a.createElement(_c.a,{variant:"body2"},"Vari\xe1vel salva com sucesso!")),o.a.createElement(tv.a,{type:"source",position:"right",id:"variable-out",style:{right:-8,top:"50%",transform:"translateY(-50%)",background:"#555",width:12,height:12}}))});const yy=e=>{if(window.flowVariables)return window.flowVariables[e]},xy=(e,a)=>{window.flowVariables||(window.flowVariables={}),window.flowVariables[e]=a;const t=new CustomEvent("flowVariableUpdate",{detail:{name:e,value:a}});return window.dispatchEvent(t),a};var Cy=t(911),ky=t(1624),wy=t(1548),Ay=t(1549),Ty=t(1550),Oy=t(1551);var Sy=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:l}=e;const r=Cv(),[i,s]=Object(n.useState)(a.question||""),[c,d]=Object(n.useState)(""),[m,u]=Object(n.useState)(!1),p=Object(n.useCallback)(()=>{const e=(e=>{if(!e||"string"!==typeof e||!e.includes("${"))return e;try{const a=/\$\{([^}]+)\}/g;if(!window.flowVariables)return console.warn("window.flowVariables n\xe3o foi inicializado"),e;console.log("Vari\xe1veis dispon\xedveis:",window.flowVariables),console.log("Texto para processar:",e);const t=e.replace(a,(e,a)=>{const t=window.flowVariables[a];return console.log("Substituindo ".concat(e," por"),t),void 0!==t?"object"===typeof t?JSON.stringify(t):String(t):(console.warn("Vari\xe1vel '".concat(a,"' n\xe3o encontrada")),e)});return console.log("Texto processado:",t),t}catch(a){return console.error("Erro ao processar vari\xe1veis no texto:",a),e}})(a.question||"");s(e)},[a.question]);return Object(n.useEffect)(()=>{const e=!window.location.pathname.includes("/flowbuilder-config");if(u(e),e&&a.variableName){const e=()=>{window.flowVariables&&window.flowVariables[a.variableName]&&d(window.flowVariables[a.variableName])};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}},[a.variableName]),Object(n.useEffect)(()=>{p();const e=()=>{console.log("[inputNode] Detectada atualiza\xe7\xe3o de vari\xe1veis"),p()};window.addEventListener("flowVariableUpdate",e);const a=setInterval(()=>{p()},500);return()=>{window.removeEventListener("flowVariableUpdate",e),clearInterval(a)}},[a.question,p]),o.a.createElement(Xo.a,{sx:{backgroundColor:"#fff",borderRadius:2,boxShadow:2,p:2,width:280,display:"flex",flexDirection:"column",gap:1,position:"relative",border:"1px solid rgba(156, 39, 176, 0.2)"}},o.a.createElement(tv.a,{type:"target",position:"left",style:{left:-8,top:"50%",transform:"translateY(-50%)",background:"#9c27b0",width:12,height:12,cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t}),o.a.createElement(Xo.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(Xo.a,{sx:{display:"flex",alignItems:"center",gap:1}},o.a.createElement(wy.a,{fontSize:"small",sx:{color:"#9c27b0"}}),o.a.createElement(_c.a,{variant:"subtitle1",fontWeight:"bold"},"Input")),o.a.createElement(Xo.a,{sx:{display:"flex",gap:1}},o.a.createElement(Hv.a,{size:"small",onClick:()=>{r.setNodesStorage(l),r.setAct("duplicate")}},o.a.createElement(vv.a,{fontSize:"small"})),o.a.createElement(Hv.a,{size:"small",onClick:()=>{r.setNodesStorage(l),r.setAct("delete")}},o.a.createElement(Ay.a,{fontSize:"small"})))),o.a.createElement(Cy.a,{elevation:0,sx:{bgcolor:"#f9f4fb",p:1.5,borderRadius:1,minHeight:"60px",overflow:"auto",maxHeight:"150px",wordBreak:"break-word",border:"1px solid rgba(156, 39, 176, 0.1)"}},o.a.createElement(_c.a,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5}},"Pergunta:"),a.question?o.a.createElement(Xo.a,null,m?o.a.createElement(_c.a,{variant:"body2"},i):a.question.split(/\$\{([^}]+)\}/).map((e,a)=>a%2===0?o.a.createElement(_c.a,{key:a,variant:"body2",component:"span"},e):o.a.createElement(Gv.a,{key:a,label:e,size:"small",sx:{height:20,fontSize:"0.75rem",bgcolor:"rgba(156, 39, 176, 0.1)",color:"#9c27b0",border:"1px solid rgba(156, 39, 176, 0.2)",my:.25,mx:.5,"& .MuiChip-label":{px:1}}}))):o.a.createElement(_c.a,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"}},"Pergunta n\xe3o definida")),o.a.createElement(Cy.a,{elevation:0,sx:{bgcolor:"#f9f4fb",p:1.5,borderRadius:1,minHeight:"40px",overflow:"auto",wordBreak:"break-word",border:"1px solid rgba(156, 39, 176, 0.1)"}},o.a.createElement(_c.a,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5}},"Vari\xe1vel para armazenar resposta:"),a.variableName?o.a.createElement(Xo.a,{sx:{display:"flex",alignItems:"center"}},o.a.createElement(Gv.a,{label:a.variableName,size:"small",sx:{height:24,fontSize:"0.85rem",bgcolor:"rgba(156, 39, 176, 0.1)",color:"#9c27b0",border:"1px solid rgba(156, 39, 176, 0.2)","& .MuiChip-label":{px:1.5}}}),m&&c&&o.a.createElement(ky.a,{title:"Valor: ".concat(c)},o.a.createElement(Xo.a,{sx:{ml:1.5,p:.75,borderRadius:1,bgcolor:"rgba(25, 118, 210, 0.1)",border:"1px solid rgba(25, 118, 210, 0.2)",display:"flex",alignItems:"center",gap:.5}},o.a.createElement(Ty.a,{fontSize:"small",sx:{color:"#1976d2",width:16,height:16}}),o.a.createElement(_c.a,{variant:"caption",color:"primary"},c.length>15?"".concat(c.substring(0,15),"..."):c)))):o.a.createElement(_c.a,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"}},"Vari\xe1vel n\xe3o definida")),a.question&&a.question.includes("${")&&o.a.createElement(Xo.a,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5,bgcolor:"rgba(156, 39, 176, 0.05)",p:.75,borderRadius:1}},o.a.createElement(Oy.a,{fontSize:"small",sx:{color:"#9c27b0",width:16,height:16}}),o.a.createElement(_c.a,{variant:"caption",sx:{color:"#9c27b0"}},"Usando vari\xe1veis: ",(e=>{if(!e)return[];const a=/\$\{([^}]+)\}/g,t=[];let n;for(;null!==(n=a.exec(e));)t.push(n[1]);return[...new Set(t)]})(a.question).join(", "))),o.a.createElement(tv.a,{type:"source",position:"right",id:"a",style:{right:-8,top:"50%",transform:"translateY(-50%)",background:"#9c27b0",width:12,height:12,cursor:"pointer"},isConnectable:t}))}),jy=t(286),Iy=t.n(jy);const My=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Ny=e=>{let{open:a,onSave:t,onUpdate:l,data:r,close:i}=e;const s=My(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(),[h,f]=Object(n.useState)(),[v,y]=Object(n.useState)({title:"Adicionar imagem ao fluxo",btn:"Adicionar"}),[x,C]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===a?(y({title:"Editar imagem",btn:"Salvar"}),f(r.data.url),E("https://api.datamixsistemas.com.br/public/"+r.data.url),m(!0)):"create"===a?(y({title:"Adicionar imagem ao fluxo",btn:"Adicionar"}),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const k=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:k,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},v.title),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Mh.a,{gap:"16px"},b&&o.a.createElement("img",{src:b,style:{width:"552px"}}),!p&&"edit"!==a&&o.a.createElement(K.a,{variant:"contained",component:"label"},"Enviar imagem",o.a.createElement("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",disabled:p,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>2e6)return void O.b.error("Arquivo \xe9 muito grande! 2MB m\xe1ximo");const a=Array.from(e.target.files);E(URL.createObjectURL(e.target.files[0])),C(a)}})),p&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Mh.a,{justifyContent:"center",alignSelf:"center"},o.a.createElement(Lt.a,null))))),o.a.createElement(X.a,null,!p&&o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{onClick:()=>{k(),C([]),E()},color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),"edit"!==a&&o.a.createElement(K.a,{type:"submit",disabled:p,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return k(),void l(Object(S.a)(Object(S.a)({},r),{},{data:{url:""}}));if("create"===a){g(!0);const e=new FormData;e.append("fromMe",!0),x.forEach(async(a,t)=>{const n=a;n&&("image"==(null===a||void 0===a?void 0:a.type.split("/")[0])?new Iy.a(n,{quality:.7,async success(a){e.append("medias",a),e.append("body",a.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{console.log(e),await u.post("/flowbuilder/img",e).then(e=>{k(),t({url:e.data.name}),O.b.success("Imagem adicionada com sucesso!"),g(!1),C([]),E()})},1e3)}})()},"".concat(v.btn)))))))};const Ry=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Dy=e=>{let{open:a,onSave:t,data:l,onUpdate:r,close:i}=e;const s=Ry(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)(),[h,f]=Object(n.useState)([]),[v,y]=Object(n.useState)();Object(n.useEffect)(()=>("edit"===a?(async()=>{try{const e=l.data.queue,a=l.data.user,{data:t}=await u.get("/queue"),{data:n}=await u.get("/users");f(n.users),g(t),E(e.id),y(a.id),m(!0)}catch(e){console.log(e)}})():"create"===a&&(async()=>{try{const{data:e}=await u.get("/queue"),{data:a}=await u.get("/users");f(a.users),g(e),y(""),E(""),m(!0)}catch(e){console.log(e)}})(),()=>{c.current=!1}),[a]);const x=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:x,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"create"===a?"Adicionar uma fila ao fluxo":"Editar fila"),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Dl.a,{style:{width:"100%",marginTop:10},container:!0},o.a.createElement(z.a,null,"Escolha a fila que deseja tranferir"),o.a.createElement(Wt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,style:{width:"95%"},onChange:e=>{E(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===b)return"Selecione uma Conex\xe3o";return p.find(e=>e.id===b).name}},p.length>0&&p.map((e,a)=>o.a.createElement(V.a,{dense:!0,key:a,value:e.id},e.name))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:x,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>{if(!b)return O.b.error("Adicione uma fila");if("edit"===a){const e=p.find(e=>e.id===b),a=h.find(e=>e.id===v);r(Object(S.a)(Object(S.a)({},l),{},{data:{queue:e||"",user:a||""}}))}else if("create"===a){const e=p.find(e=>e.id===b),a=h.find(e=>e.id===v);t({queue:e||"",user:a||""})}x()}},"create"===a?"Adicionar":"Editar")))))};const Py=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Fy=e=>{let{open:a,onSave:t,onUpdate:l,data:r,close:i}=e;const s=Py(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(),[v,y]=Object(n.useState)({title:"Adicionar audio ao fluxo",btn:"Adicionar"}),[x,C]=Object(n.useState)(),[k,w]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===a?(y({title:"Editar audio",btn:"Salvar"}),f("https://api.datamixsistemas.com.br/public/"+r.data.url),E(r.data.record),m(!0)):"create"===a?(y({title:"Adicionar audio ao fluxo",btn:"Adicionar"}),C(""),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const A=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:A,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},v.title),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Mh.a,{gap:"16px"},h&&o.a.createElement(Mh.a,{direction:"row",justifyContent:"center"},o.a.createElement("audio",{controls:"controls"},o.a.createElement("source",{src:h,type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),h&&o.a.createElement(Mh.a,{direction:"row",justifyContent:"center"},o.a.createElement(cd.a,{checked:b,onChange:e=>E(e=>!e)}),o.a.createElement(Mh.a,{justifyContent:"center"},o.a.createElement(z.a,null,"Enviar como audio gravado na hora"))),!p&&"edit"!==a&&o.a.createElement(K.a,{variant:"contained",component:"label"},"Enviar audio",o.a.createElement("input",{type:"file",accept:"audio/ogg, audio/mp3",disabled:p,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>5e6)return void O.b.error("Arquivo \xe9 muito grande! 5MB m\xe1ximo");const a=Array.from(e.target.files);f(URL.createObjectURL(e.target.files[0])),w(a)}})),p&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Mh.a,{justifyContent:"center",alignSelf:"center"},o.a.createElement(Lt.a,null))))),o.a.createElement(X.a,null,!p&&o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{onClick:()=>{A(),w([]),f()},color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",disabled:p,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return A(),void l(Object(S.a)(Object(S.a)({},r),{},{data:{url:r.data.url,record:b}}));if("create"===a){g(!0);const e=new FormData;e.append("fromMe",!0),k.forEach(async(a,t)=>{const n=a;n&&("image"==(null===a||void 0===a?void 0:a.type.split("/")[0])?new Iy.a(n,{quality:.7,async success(a){e.append("medias",a),e.append("body",a.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{await u.post("/flowbuilder/audio",e).then(e=>{A(),t({url:e.data.name,record:b}),O.b.success("Audio adicionada com sucesso!"),g(!1),w([]),f()})},1e3)}})()},"".concat(v.btn)))))))};const Ly=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Wy=e=>{let{open:a,onSave:t,data:l,onUpdate:r,close:i}=e;const s=Ly(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)();Object(n.useEffect)(()=>("edit"===a?(async()=>{try{const e=l.data.tag,{data:a}=await u.get("/tags/list");E(e.id),g(a),m(!0)}catch(e){console.log(e)}})():"create"===a&&(async()=>{try{const{data:e}=await u.get("/tags/list");E(""),g(e),m(!0)}catch(e){console.log(e)}})(),()=>{c.current=!1}),[a]);const h=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:h,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"create"===a?"Adicionar uma tag ao fluxo":"Editar tag"),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Dl.a,{style:{width:"100%",marginTop:40},container:!0},o.a.createElement(z.a,null,"Escolha uma tag"),o.a.createElement(Wt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,style:{width:"95%"},onChange:e=>{E(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===b)return"Selecione uma tag";const e=p.find(e=>e.id===b);return void 0===e?"Nenhuma tag selecionada":e.name}},o.a.createElement(V.a,{value:""},o.a.createElement("em",null,"Selecione uma tag")),p.length>0&&p.map((e,a)=>o.a.createElement(V.a,{dense:!0,key:a,value:e.id},e.name))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:h,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>{if(!b)return O.b.error("Adicione uma tag");if("edit"===a){const e=p.find(e=>e.id===b);r(Object(S.a)(Object(S.a)({},l),{},{data:{tag:e||""}}))}else if("create"===a){const e=p.find(e=>e.id===b);t({tag:e||""})}h()}},"create"===a?"Adicionar":"Editar")))))},By=t(1582);const qy=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var zy=e=>{let{open:a,onSave:t,data:l,onUpdate:r,close:i}=e;const s=qy(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>("edit"===a?(m(l.data.percent),p(!0)):"create"===a&&(m(0),p(!0)),()=>{c.current=!1}),[a]);const g=()=>{i(null),p(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:u,onClose:g,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"create"===a?"Adicionar um randomizador ao fluxo":"Editar randomizador"),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Mh.a,{direction:"row",minHeight:120,alignItems:"center",gap:4},o.a.createElement(z.a,null,d,"%"),o.a.createElement(By.a,{"aria-label":"Temperature",defaultValue:d,valueLabelDisplay:"auto",onChange:(e,a)=>{m(a)},step:10,marks:!0,min:0,max:100}),o.a.createElement(z.a,null,100-d,"%"))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:g,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async e=>!d||parseInt(d)<=0?O.b.error("Adicione o valor de intervalo"):parseInt(d)>120?O.b.error("M\xe1ximo de tempo atingido 120 segundos"):("edit"===a?r(Object(S.a)(Object(S.a)({},l),{},{data:{percent:d}})):"create"===a&&t({percent:d}),void g()))()},"create"===a?"Adicionar":"Editar")))))};const Uy=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Vy=e=>{let{open:a,onSave:t,onUpdate:l,data:r,close:i}=e;const s=Uy(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[h,f]=Object(n.useState)(),[v,y]=Object(n.useState)({title:"Adicionar video ao fluxo",btn:"Adicionar"}),[x,C]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===a?(y({title:"Editar video",btn:"Salvar"}),f("https://api.datamixsistemas.com.br/public/"+r.data.url),E(r.data.record),m(!0)):"create"===a?(y({title:"Adicionar video ao fluxo",btn:"Adicionar"}),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const k=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:k,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},v.title),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Mh.a,{gap:"16px"},h&&o.a.createElement(Mh.a,{direction:"row",justifyContent:"center"},o.a.createElement("video",{controls:"controls",width:"552px"},o.a.createElement("source",{src:h,type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),!p&&"edit"!==a&&!h&&o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{variant:"contained",component:"label"},"Enviar video",o.a.createElement("input",{type:"file",accept:"video/mp4",disabled:p,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>2e7)return void O.b.error("Arquivo \xe9 muito grande! 20MB m\xe1ximo");const a=Array.from(e.target.files);f(URL.createObjectURL(e.target.files[0])),C(a)}})),o.a.createElement(z.a,null,"ATEN\xc7\xc3O! Apenas videos em MP4!")),p&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Mh.a,{justifyContent:"center",alignSelf:"center"},o.a.createElement(Lt.a,null))))),o.a.createElement(X.a,null,!p&&o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{onClick:()=>{k(),C([]),f()},color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",disabled:p,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return k(),void l(Object(S.a)(Object(S.a)({},r),{},{data:{url:r.data.url,record:b}}));if("create"===a){g(!0);const e=new FormData;e.append("fromMe",!0),x.forEach(async(a,t)=>{const n=a;n&&("image"==(null===a||void 0===a?void 0:a.type.split("/")[0])?new Iy.a(n,{quality:.7,async success(a){e.append("medias",a),e.append("body",a.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{await u.post("/flowbuilder/audio",e).then(e=>{k(),t({url:e.data.name}),O.b.success("Audio adicionada com sucesso!"),g(!1),C([]),f()})},1e3)}})()},"".concat(v.btn)))))))},Hy=t(1552);function Qy(e){return 0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)}const Gy=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Ky=e=>{let{open:a,onSave:t,onUpdate:l,data:r,close:i}=e;Gy();const s=Object(n.useRef)(!0),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(),[g,b]=Object(n.useState)([]),[E,h]=Object(n.useState)(),[f,v]=Object(n.useState)([]),[y,x]=Object(n.useState)([]),[C,k]=Object(n.useState)([]),[w,A]=Object(n.useState)([]),[T,j]=Object(n.useState)(0),[I,M]=Object(n.useState)(0),[N,R]=Object(n.useState)(0),[D,P]=Object(n.useState)(0),[F,L]=Object(n.useState)(0),[W,B]=Object(n.useState)(0),[q,z]=Object(n.useState)(0),[U,V]=Object(n.useState)(0),[G,_]=Object(n.useState)(0),[Y,J]=Object(n.useState)(0),[Z,$]=Object(n.useState)(!1),[ee,ae]=Object(n.useState)([]),[te,ne]=Object(n.useState)([]),[oe,le]=Object(n.useState)([]),[re,ie]=Object(n.useState)([]),[se,ce]=Object(n.useState)([]),[de,me]=Object(n.useState)([]),[ue,pe]=Object(n.useState)(0),[ge,be]=Object(n.useState)(0),[Ee,he]=Object(n.useState)({title:"Adicionar conte\xfado ao fluxo",btn:"Adicionar"}),{user:fe}=Object(n.useContext)(Ca),ve=fe.companyId,ye=e=>{let a=[];const t=y.filter(e=>e.includes("message")),n=y.filter(e=>e.includes("interval")),o=y.filter(e=>e.includes("img")),l=y.filter(e=>e.includes("audio")),r=y.filter(e=>e.includes("video"));for(let i=0;i<T;i++){const e=document.querySelector(".".concat(t[i])).querySelector(".MuiInputBase-input").value;if(!e)throw O.b.error("Campos de mensagem vazio!"),$(!1),"";a.push({type:"message",value:e,number:t[i]}),console.log("text")}for(let i=0;i<N;i++){const e=document.querySelector(".".concat(n[i])).querySelector(".MuiInputBase-input").value;if(0===parseInt(e)||parseInt(e)>120)throw O.b.error("Intervalo n\xe3o pode ser 0 ou maior que 120!"),$(!1),"";a.push({type:"interval",value:e,number:n[i]})}for(let i=0;i<G;i++){const t=null!==e&&e.filter(e=>e.includes("png")||e.includes("jpg")||e.includes("jpeg")),n=g.filter(e=>e.name.includes("png")||e.name.includes("jpg")||e.name.includes("jpeg"));if(C.includes(o[i])){const e=w.filter(e=>e.number===o[i])[0];a.push({type:"img",value:e.value,original:e.original,number:e.number,teste:"image"})}else{let e=0;e=C.filter(e=>e.includes("img")).length>0?C.filter(e=>e.includes("img")).length-i:i,a.push({type:"img",value:t[e],original:n[e].name,number:o[i],teste:"image"})}}for(let i=0;i<F;i++){const t=null!==e&&e.filter(e=>e.includes("mp3")||e.includes("ogg")||e.includes("mpeg")||e.includes("opus")),n=g.filter(e=>e.name.includes("mp3")||e.name.includes("ogg")||e.name.includes("mpeg")||e.name.includes("opus"));if(C.includes(l[i])){const e=w.filter(e=>e.number===l[i])[0];a.push({type:"audio",value:e.value,original:e.original,number:e.number,record:document.querySelector(".check".concat(l[i])).querySelector(".PrivateSwitchBase-input").checked})}else{let e=0;e=C.filter(e=>e.includes("audio")).length>0?C.filter(e=>e.includes("audio")).length-i:i,a.push({type:"audio",value:t[e],original:n[e].name,number:l[i],record:document.querySelector(".check".concat(l[i])).querySelector(".PrivateSwitchBase-input").checked})}}for(let i=0;i<q;i++){const t=null!==e&&e.filter(e=>e.includes("mp4")||e.includes("avi")),n=g.filter(e=>e.name.includes("mp4")||e.name.includes("avi"));if(C.includes(r[i])){const e=w.filter(e=>e.number===r[i])[0];a.push({type:"video",value:e.value,original:e.original,number:e.number})}else{let e=0;e=C.filter(e=>e.includes("video")).length>0?C.filter(e=>e.includes("video")).length-i:i,a.push({type:"video",value:t[e],original:n[e].name,number:r[i]})}}for(let i=0;i<ge;i++){const t=null!==e&&e.filter(e=>e.includes("pdf")),n=g.filter(e=>e.name.includes("pdf"));if(C.includes("document".concat(i))){const e=w.filter(e=>e.number==="document".concat(i))[0];a.push({type:"document",value:null===e||void 0===e?void 0:e.value,original:null===e||void 0===e?void 0:e.original,number:null===e||void 0===e?void 0:e.number})}else{let e=0;e=C.filter(e=>e.includes("document")).length>0?C.filter(e=>e.includes("document")).length-i:i,a.push({type:"document",value:t[e],original:n[e].name,number:"document".concat(i)})}}return console.log("elementsSequence",a),a},xe=(e,a)=>{"message"===a&&(j(e=>e-1),x(a=>a.filter(a=>a!=="message".concat(e))),k(a=>a.filter(a=>a!=="message".concat(e))),document.querySelector(".stackMessage".concat(e)).remove()),"interval"===a&&(R(e=>e-1),x(a=>a.filter(a=>a!=="interval".concat(e))),k(a=>a.filter(a=>a!=="interval".concat(e))),document.querySelector(".stackInterval".concat(e)).remove()),"img"===a&&(_(e=>e-1),ae(a=>(b(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),x(a=>a.filter(a=>a!=="img".concat(e))),k(a=>a.filter(a=>a!=="img".concat(e))),document.querySelector(".stackImg".concat(e)).remove()),"audio"===a&&(L(e=>e-1),ne(a=>(b(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),x(a=>a.filter(a=>a!=="audio".concat(e))),k(a=>a.filter(a=>a!=="audio".concat(e))),document.querySelector(".stackAudio".concat(e)).remove()),"video"===a&&(z(e=>e-1),le(a=>(b(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),x(a=>a.filter(a=>a!=="video".concat(e))),k(a=>a.filter(a=>a!=="video".concat(e))),document.querySelector(".stackVideo".concat(e)).remove()),"document"===a&&(be(e=>e-1),me(a=>(b(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),x(a=>a.filter(a=>a!=="document".concat(e))),k(a=>a.filter(a=>a!=="document".concat(e))),document.querySelector(".stackDocument".concat(e)).remove())};const Ce=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>2e6)return void O.b.error("Arquivo \xe9 muito grande! 2MB m\xe1ximo");const t=URL.createObjectURL(e.target.files[0]);ae(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);const n=Array.from(e.target.files);b(e=>[...e,n[0]]),document.querySelector(".img".concat(a)).src=t,document.querySelector(".btnImg".concat(a)).remove()},ke=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>5e6)return void O.b.error("Arquivo \xe9 muito grande! 5MB m\xe1ximo");const t=URL.createObjectURL(e.target.files[0]);ne(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);const n=Array.from(e.target.files);b(e=>[...e,n[0]]),document.querySelector(".audio".concat(a)).innerHTML='<audio controls="controls">\n    <source src="'.concat(t,'" type="audio/mp3" />\n    seu navegador n\xe3o suporta HTML5\n  </audio>'),document.querySelector(".btnAudio".concat(a)).remove()},we=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>2e7)return void O.b.error("Arquivo \xe9 muito grande! 20MB m\xe1ximo");const t=URL.createObjectURL(e.target.files[0]);le(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);var n=document.createElement("div");const o=Array.from(e.target.files);b(e=>[...e,o[0]]),n.innerHTML='<video controls="controls" style="width: 200px;">\n    <source src="'.concat(t,'" type="video/mp4" />\n    seu navegador n\xe3o suporta HTML5\n  </video>'),document.querySelector(".video".concat(a)).appendChild(n),document.querySelector(".btnVideo".concat(a)).remove()},Ae=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement(Mh.a,{sx:{border:"1px solid #9a00ed",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackImg".concat(e),key:"stackImg".concat(e)},o.a.createElement(Mh.a,{sx:{position:"absolute",right:6}},o.a.createElement(yv.a,{onClick:()=>xe(e,"img")})),o.a.createElement(_c.a,{textAlign:"center"},"Imagem"),o.a.createElement(Mh.a,{direction:"row",justifyContent:"center"},o.a.createElement("img",{src:a.length>0?"".concat("https://api.datamixsistemas.com.br","/public/company").concat(ve,"/flow/").concat(a):"",className:"img".concat(e),style:{width:"200px"}})),0===a.length&&o.a.createElement(K.a,{variant:"contained",component:"label",className:"btnImg".concat(e)},"Enviar imagem",o.a.createElement("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,onChange:a=>Ce(a,e)})))},Te=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return o.a.createElement(Mh.a,{sx:{border:"1px solid #9a00ed",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackAudio".concat(e),key:"stackAudio".concat(e)},o.a.createElement(Mh.a,{sx:{position:"absolute",right:6},direction:"row",gap:1},o.a.createElement(yv.a,{sx:{cursor:"pointer"},onClick:()=>xe(e,"audio")})),o.a.createElement(_c.a,{textAlign:"center"},"Audio"),o.a.createElement("div",{className:"audio".concat(e),style:{display:"flex",flexDirection:"row",justifyContent:"center"}},a.length>0&&o.a.createElement("audio",{controls:"controls"},o.a.createElement("source",{src:"".concat("https://api.datamixsistemas.com.br","/public/company").concat(ve,"/flow/").concat(a),type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),0===a.length&&o.a.createElement(K.a,{variant:"contained",component:"label",className:"btnAudio".concat(e)},"Enviar audio",o.a.createElement("input",{type:"file",accept:"audio/ogg, audio/mp3, audio/opus",hidden:!0,onChange:a=>ke(a,e)})),o.a.createElement(Mh.a,{direction:"row",justifyContent:"center"},o.a.createElement(cd.a,{className:"checkaudio".concat(e),defaultChecked:"ok"!==t}),o.a.createElement(Mh.a,{justifyContent:"center"},o.a.createElement(_c.a,null,"Enviar como audio gravado na hora"))))},Oe=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement(Mh.a,{sx:{border:"1px solid #9a00ed",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackVideo".concat(e),key:"stackVideo".concat(e)},o.a.createElement(Mh.a,{sx:{position:"absolute",right:6}},o.a.createElement(yv.a,{onClick:()=>xe(e,"video")})),o.a.createElement(_c.a,{textAlign:"center"},"Video"),o.a.createElement("div",{className:"video".concat(e),style:{display:"flex",flexDirection:"row",justifyContent:"center"}},a.length>0&&o.a.createElement("video",{controls:"controls",style:{width:"200px"}},o.a.createElement("source",{src:"".concat("https://api.datamixsistemas.com.br","/public/company").concat(ve,"/flow/").concat(a),type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),0===a.length&&o.a.createElement(K.a,{variant:"contained",component:"label",className:"btnVideo".concat(e)},"Enviar video",o.a.createElement("input",{type:"file",accept:"video/mp4",hidden:!0,onChange:a=>we(a,e)})))},Se=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement(Mh.a,{sx:{border:"1px solid #9a00ed",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackMessage".concat(e),key:"stackMessage".concat(e)},o.a.createElement(Mh.a,{sx:{position:"absolute",right:6}},o.a.createElement(yv.a,{onClick:()=>xe(e,"message")})),o.a.createElement(_c.a,{textAlign:"center"},"Texto"),o.a.createElement(Ft.a,{label:"Mensagem",defaultValue:a,multiline:!0,rows:7,className:"message".concat(e),name:"text",variant:"outlined",margin:"dense",style:{width:"100%"}}))},je=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.a.createElement(Mh.a,{sx:{border:"1px solid #9a00ed",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackInterval".concat(e),key:"stackInterval".concat(e)},o.a.createElement(Mh.a,{sx:{position:"absolute",right:6}},o.a.createElement(yv.a,{onClick:()=>xe(e,"interval")})),o.a.createElement(_c.a,{textAlign:"center"},"Intervalo"),o.a.createElement(Ft.a,{label:"Tempo em segundos",className:"interval".concat(e),defaultValue:a,type:"number",InputProps:{inputProps:{min:0,max:120}},variant:"outlined",margin:"dense",style:{width:"100%"}}))},Ie=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement(Mh.a,{sx:{border:"1px solid #9a00ed",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackDocument".concat(e),key:"stackDocument".concat(e)},o.a.createElement(Mh.a,{sx:{position:"absolute",right:6}},o.a.createElement(yv.a,{onClick:()=>xe(e,"document")})),o.a.createElement(_c.a,{textAlign:"center"},"Documento"),o.a.createElement("div",{className:"document".concat(e),style:{display:"flex",flexDirection:"row",justifyContent:"center"}},a.length>0?o.a.createElement("embed",{src:"".concat("https://api.datamixsistemas.com.br","/public/company").concat(ve,"/flow/").concat(a),type:"application/pdf",width:"200px",height:"200px"}):null),0===a.length&&o.a.createElement(K.a,{variant:"contained",component:"label",className:"btnDocument".concat(e)},"Enviar Documento",o.a.createElement("input",{type:"file",accept:".doc,.docx,.pdf",hidden:!0,onChange:a=>Me(a,e)})))},Me=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>1e7)return void O.b.error("Arquivo \xe9 muito grande! 10MB m\xe1ximo");const t=e.target.files[0],n=URL.createObjectURL(t),o="application/pdf"===t.type;me(e=>[...e,{number:a,url:n,name:t.name}]);const l=Array.from(e.target.files);b(e=>[...e,l[0]]),document.querySelector(".document".concat(a)).innerHTML=o?'\n        <embed src="'.concat(n,'" type="application/pdf" width="200px" height="200px" />\n      '):'\n        <a href="'.concat(n,'" target="_blank" rel="noopener noreferrer">Visualizar Documento</a>\n      '),document.querySelector(".btnDocument".concat(a)).remove()};Object(n.useEffect)(()=>{const e=localStorage.getItem("variables");if(e&&ce(JSON.parse(e)),"edit"===a){if(he({title:"Editar conte\xfado",btn:"Salvar"}),x(r.data.seq),k(r.data.seq),A(r.data.elements),r){const e=r.data.elements,a=r.data.seq;a.map(t=>{const n=e.filter(e=>e.number===t)[0];if("message"===n.type){const e=parseInt(t.replace("message",""));v(a=>[...a,Se(e,n.value)]),j(e=>{const t=a.filter(e=>e.includes("message")).map(e=>parseInt(e.replace("message","")));return M(Math.max.apply(null,t)+1),e+1})}if("interval"===n.type){const e=parseInt(t.replace("interval",""));v(a=>[...a,je(e,n.value)]),R(e=>{const t=a.filter(e=>e.includes("interval")).map(e=>parseInt(e.replace("interval","")));return P(Math.max.apply(null,t)+1),e+1})}if("audio"===n.type){const e=parseInt(t.replace("audio",""));v(a=>[...a,Te(e,n.value,n.record?"":"ok")]),L(e=>{const t=a.filter(e=>e.includes("audio")).map(e=>parseInt(e.replace("audio","")));return B(Math.max.apply(null,t)+1),e+1})}if("img"===n.type){const e=parseInt(t.replace("img",""));v(a=>[...a,Ae(e,n.value)]),_(e=>{const t=a.filter(e=>e.includes("img")).map(e=>parseInt(e.replace("img","")));return J(Math.max.apply(null,t)+1),e+1})}if("video"===n.type){const e=parseInt(t.replace("video",""));v(a=>[...a,Oe(e,n.value)]),z(e=>{const t=a.filter(e=>e.includes("video")).map(e=>parseInt(e.replace("video","")));return V(Math.max.apply(null,t)+1),e+1})}if("document"===n.type){const e=parseInt(t.replace("document",""));v(a=>[...a,Ie(e,n.value)]),be(e=>{const t=a.filter(e=>e.includes("document")).map(e=>parseInt(e.replace("document","")));return pe(Math.max.apply(null,t)+1),e+1})}})}d(!0)}"create"===a&&(he({title:"Adicionar menu ao fluxo",btn:"Adicionar"}),h(),ie([]),d(!0))},[a]),Object(n.useEffect)(()=>()=>{s.current=!1},[]);const Ne=async()=>{i(null),d(!1),setTimeout(()=>{b([]),ae([]),ne([]),le([]),ie([]),v([]),x([]),A([]),k([]),j(0),M(0),R(0),P(0),L(0),B(0),z(0),V(0),_(0),J(0)},500)},Re=()=>{const e=y.filter(e=>e.includes("img")),a=y.filter(e=>e.includes("audio")),t=y.filter(e=>e.includes("video"));y.filter(e=>e.includes("document"));for(let n=0;n<G;n++){if(document.querySelector(".btn".concat(Qy(e[n]))))return!0}for(let n=0;n<F;n++){if(document.querySelector(".btn".concat(Qy(a[n]))))return!0}for(let n=0;n<q;n++){if(document.querySelector(".btn".concat(Qy(t[n]))))return!0}for(let n=0;n<ge;n++){if(document.querySelector(".btnDocument".concat(n)))return!0}},De=e=>{const a=document.querySelector(e);a.scrollTop=a.scrollHeight};return o.a.createElement("div",null,o.a.createElement(H.a,{open:c,fullWidth:"lg",scroll:"paper"},!Z&&o.a.createElement(Q.a,{id:"form-dialog-title"},"Adicionar conte\xfado ao fluxo"),o.a.createElement(Mh.a,null,o.a.createElement(Mh.a,{className:"body-card",style:{gap:"8px",padding:"16px",overflow:"auto",height:"70vh",scrollBehavior:"smooth",display:Z&&"none"}},f.map(e=>o.a.createElement(o.a.Fragment,null,e)),o.a.createElement(Mh.a,{direction:"row",gap:1},o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{v(e=>[...e,Se(I)]),j(e=>(x(e=>[...e,"message".concat(I)]),e+1)),M(e=>e+1),setTimeout(()=>{De(".body-card")},100)}},o.a.createElement(cv.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Texto"),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{v(e=>[...e,je(D)]),R(e=>(x(e=>[...e,"interval".concat(D)]),e+1)),P(e=>e+1),setTimeout(()=>{De(".body-card")},100)}},o.a.createElement(mv.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Intervalo"),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{v(e=>[...e,Ae(Y)]),_(e=>(x(e=>[...e,"img".concat(Y)]),e+1)),J(e=>e+1),setTimeout(()=>{De(".body-card")},100)}},o.a.createElement(jv.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Imagem"),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{v(e=>[...e,Te(W)]),L(e=>(x(e=>[...e,"audio".concat(W)]),e+1)),B(e=>e+1),setTimeout(()=>{De(".body-card")},100)}},o.a.createElement(Bv.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Audio"),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{v(e=>[...e,Oe(U)]),z(e=>(x(e=>[...e,"video".concat(U)]),e+1)),V(e=>e+1),setTimeout(()=>{De(".body-card")},100)}},o.a.createElement(Nv.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Video"),o.a.createElement(K.a,{variant:"contained",color:"primary",onClick:()=>{v(e=>[...e,Ie(ue)]),be(e=>(x(e=>[...e,"document".concat(ue)]),e+1)),pe(e=>e+1),setTimeout(()=>{De(".body-card")},100)}},o.a.createElement(Hy.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Documento")),o.a.createElement(tn.a,{style:{width:"100%",textAlign:"center"}},o.a.createElement("div",{className:"shadow- py-2 font-bold bg-blue-900 rounded text-white"},"Vari\xe1veis"),se&&o.a.createElement("div",{className:"w-full  max-h-full overflow-y-auto space-y-2 py-2"},se.map(e=>o.a.createElement("div",{className:"rounded border-2 border-dashed border-zinc-800"},o.a.createElement("p",{className:"text-zinc-600"},(e=>"{{"+e+"}}")(e))))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:Ne,color:"secondary",variant:"outlined",style:{display:Z&&"none"}},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",onClick:()=>(async()=>{if("edit"===a){$(!0);const e=new FormData;g.forEach(async(a,t)=>{const n=a;n&&("image"===(null===a||void 0===a?void 0:a.type.split("/")[0])||"audio"===(null===a||void 0===a?void 0:a.type.split("/")[0])||"video"===(null===a||void 0===a?void 0:a.type.split("/")[0])?(e.append("typeArch","flow"),e.append("medias",n),e.append("body",n.name)):("application"===(null===a||void 0===a?void 0:a.type.split("/")[0])||"document"===(null===a||void 0===a?void 0:a.type.split("/")[1])||null===a||void 0===a||a.type.split("/")[1],e.append("typeArch","flow"),e.append("medias",n),e.append("body",n.name)))}),setTimeout(async()=>{if(0===F&&0===q&&0===G&&0===ge||0===g.length){try{const e={seq:y,elements:ye(null)};return l(Object(S.a)(Object(S.a)({},r),{},{data:e})),O.b.success("Conte\xfado adicionada com sucesso!"),Ne(),void $(!1)}catch(a){console.log("error1",a),$(!1),Ne()}return}if(Re())return $(!1),O.b.error("Delete os cards vazios(Imagem, Audio e Video)");await u.post("/flowbuilder/content",e).then(async e=>{const a={seq:y,elements:ye(e.data)};l(Object(S.a)(Object(S.a)({},r),{},{data:a})),O.b.success("Conte\xfado adicionada com sucesso!"),Ne(),$(!1)}).catch(e=>{console.log("error2",e),Ne(),$(!1)})},1500)}else if("create"===a){$(!0);const e=new FormData;g.forEach(async(a,t)=>{a&&("image"===(null===a||void 0===a?void 0:a.type.split("/")[0])||"audio"===(null===a||void 0===a?void 0:a.type.split("/")[0])||"video"===(null===a||void 0===a?void 0:a.type.split("/")[0])?(e.append("typeArch","flow"),e.append("medias",a),e.append("body",a.name)):("application"===(null===a||void 0===a?void 0:a.type.split("/")[0])||"document"===(null===a||void 0===a?void 0:a.type.split("/")[1])||null===a||void 0===a||a.type.split("/")[1],e.append("typeArch","flow"),e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{if(0===F&&0===q&&0===G&&0===ge)try{const e={seq:y,elements:ye(null)};return t(Object(S.a)({},e)),O.b.success("Conte\xfado adicionada com sucesso!"),Ne(),void $(!1)}catch(a){console.log("error3",a),$(!1),Ne()}if(Re())return $(!1),O.b.error("Delete os cards vazios(Imagem, Audio e Video)");await u.post("/flowbuilder/content",e).then(e=>{const a={seq:y,elements:ye(e.data)};t(Object(S.a)({},a)),O.b.success("Conte\xfado adicionada com sucesso!"),Ne(),$(!1)}).catch(e=>{console.log("error4",e),$(!1),Ne()})},1500)}})(),style:{display:Z&&"none"}},"".concat(Ee.btn)))),Z&&o.a.createElement(Mh.a,{style:{gap:"8px",padding:"16px",height:"70vh",alignSelf:"center",justifyContent:"center"}},o.a.createElement(Mh.a,null,o.a.createElement(_c.a,null,"Subindo os arquivos e criando o conte\xfado..."),o.a.createElement(Mh.a,{style:{alignSelf:"center",marginTop:"12px"}},o.a.createElement(Lt.a,null))))))};const _y=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));Dt.e().shape({name:Dt.f().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!"),text:Dt.f().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite uma mensagem!")});var Yy=e=>{let{open:a,onSave:t,onUpdate:l,data:r,close:i}=e;const s=_y(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)({title:"Adicionar mensagem ao fluxo",btn:"Adicionar"}),[g,b]=Object(n.useState)();Object(n.useEffect)(()=>{"edit"===a?(p({title:"Editar mensagem ao fluxo",btn:"Salvar"}),b(r.data.label),m(!0)):"create"===a?(p({title:"Adicionar mensagem ao fluxo",btn:"Adicionar"}),b(""),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const E=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:E,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},u.title),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Ft.a,{label:"Mensagem",multiline:!0,rows:7,name:"text",variant:"outlined",value:g,margin:"dense",onChange:e=>b(e.target.value),className:s.textField,style:{width:"95%"}})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:E,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return E(),void l(Object(S.a)(Object(S.a)({},r),{},{data:{label:g}}));"create"===a&&(E(),t({text:g}))})()},"".concat(u.btn))))))};const Jy=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Xy=e=>{let{open:a,onSave:t,data:l,onUpdate:r,close:i}=e;const s=Jy(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>("edit"===a?(m(l.data.sec),p(!0)):"create"===a&&(m(0),p(!0)),()=>{c.current=!1}),[a]);const g=()=>{i(null),p(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:u,onClose:g,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"create"===a?"Adicionar um intervalo ao fluxo":"Editar intervalo"),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Ft.a,{label:"Tempo em segundos",name:"timer",type:"number",value:d,onChange:e=>m(e.target.value),autoFocus:!0,variant:"outlined",InputProps:{inputProps:{min:0}},margin:"dense",className:s.textField,style:{width:"95%"}})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:g,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async e=>!d||parseInt(d)<=0?O.b.error("Adicione o valor de intervalo"):parseInt(d)>120?O.b.error("M\xe1ximo de tempo atingido 120 segundos"):("edit"===a?r(Object(S.a)(Object(S.a)({},l),{},{data:{sec:d}})):"create"===a&&t({sec:d}),void g()))()},"create"===a?"Adicionar":"Editar")))))},Zy=t(1599),$y=t(1625),ex=t(1587),ax=t(1553);const tx=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));Dt.e().shape({name:Dt.f().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!"),text:Dt.f().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite uma mensagem!")});var nx=e=>{let{open:a,onSave:t,onUpdate:l,data:r,close:i}=e;const s=tx(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(),[g,b]=Object(n.useState)(),[E,h]=Object(n.useState)([]),[f,v]=Object(n.useState)("number"),[y,x]=Object(n.useState)({title:"Adicionar menu ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>{console.log(r),"edit"===a?(x({title:"Editar menu",btn:"Salvar"}),b(r.data.message),h(r.data.arrayOption),v(r.data.typeMenu),m(!0)):"create"===a?(x({title:"Adicionar menu ao fluxo",btn:"Adicionar"}),b(),h([]),v(),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const C=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:C,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},y.title),o.a.createElement(Mh.a,null,o.a.createElement(Mh.a,{dividers:!0,style:{gap:"8px",padding:"16px"}},o.a.createElement(Mh.a,{sx:{padding:"20px 20px",display:"flex"}},o.a.createElement(Zy.a,{defaultValue:"numero",value:f,onChange:e=>{v(e.target.value),console.log(e.target.value)},style:{width:"100%",display:"flex",justifyContent:"space-between"},row:!0},o.a.createElement($y.a,{value:"number",control:o.a.createElement(ex.a,null),label:"N\xfamero"}),o.a.createElement($y.a,{value:"list",control:o.a.createElement(ex.a,null),label:"Lista"}),o.a.createElement($y.a,{value:"button",control:o.a.createElement(ex.a,null),label:"Bot\xe3o"}))),o.a.createElement(Ft.a,{label:"Mensagem de explica\xe7\xe3o do menu",rows:4,name:"text",multiline:!0,variant:"outlined",value:g,onChange:e=>b(e.target.value),className:s.textField,style:{width:"100%"}}),o.a.createElement(Mh.a,{direction:"row",justifyContent:"space-between"},o.a.createElement(z.a,null,"Adicionar Op\xe7\xe3o"),o.a.createElement(K.a,{onClick:()=>h(e=>[...e,{number:e.length+1,value:""}]),color:"primary",variant:"contained"},o.a.createElement(ax.a,null))),E.map((e,a)=>o.a.createElement(Mh.a,{width:"100%",key:e.number},o.a.createElement(z.a,null,"Digite ",e.number),o.a.createElement(Mh.a,{direction:"row",width:"100%",style:{gap:"8px"}},o.a.createElement(Ft.a,{placeholder:"Digite op\xe7\xe3o",variant:"outlined",defaultValue:e.value,style:{width:"100%"},onChange:e=>h(t=>{let n=t;return n[a].value=e.target.value,n})}),E.length===e.number&&o.a.createElement(F.a,{onClick:()=>{return a=e.number,void h(e=>e.filter(e=>e.number!==a));var a}},o.a.createElement(yv.a,null)))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:C,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return C(),void l(Object(S.a)(Object(S.a)({},r),{},{data:{message:g,arrayOption:E,typeMenu:f}}));"create"===a&&(C(),t({message:g,arrayOption:E,typeMenu:f}))})()},"".concat(y.btn))))))};const ox=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var lx=e=>{let{open:a,onSave:t,onUpdate:l,data:r,close:i}=e;const s=ox(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(),[h,f]=Object(n.useState)(),[v,y]=Object(n.useState)(),[x,C]=Object(n.useState)(),[k,w]=Object(n.useState)({title:"Adicionar Perguta ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>(T(),"edit"===a?(w({title:"Editar Perguta do fluxo",btn:"Salvar"}),console.log(r.data.flowSelected.name),C(r.data.flowSelected.name),g(!0)):"create"===a&&(w({title:"Cria Perguta no fluxo",btn:"Salvar"}),C(""),g(!0)),()=>{c.current=!1}),[a]);const A=()=>{i(null),g(!1)},T=async()=>await u.get("/flowbuilder").then(e=>(f(e.data.flows.map(e=>e.name)),y(e.data.flows),e.data.flows));return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:p,onClose:A,fullWidth:!0,maxWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"create"===a?"Adicionar Troca de Fluxo":"Editar Troca de Fluxo"),o.a.createElement(G.a,{dividers:!0},o.a.createElement(Yt.a,{style:{with:"100%",marginTop:10,height:"250px"}},v&&v.length&&o.a.createElement(Pl.a,{disablePortal:!0,id:"combo-box-demo",value:x,options:h,onChange:(e,a)=>{C(a)},sx:{width:"100%"},renderInput:e=>o.a.createElement(Ft.a,Object.assign({},e,{variant:"outlined",placeholder:"Escolha um fluxo"})),renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(Gv.a,Object.assign({variant:"outlined",label:e},a({index:t}),{style:{borderRadius:"8px"}})))}))),o.a.createElement(G.a,null,o.a.createElement(K.a,{onClick:A,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:e=>{if("edit"===a){A();const e=v.find(e=>e.name===x);l(Object(S.a)(Object(S.a)({},r),{},{data:{flowSelected:e}}))}else if("create"===a){const e=v.find(e=>e.name===x);A(),t({flowSelected:e})}}},"create"===a?"Adicionar":"Editar"))))};const rx=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var ix=e=>{let{open:a,onSave:t,data:l,onUpdate:r,close:i}=e;const s=rx(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)();Object(n.useEffect)(()=>("edit"===a?(async()=>{try{const e=l.data.user,{data:a}=await u.get("/users");g(a.users),E(e.id),m(!0)}catch(e){console.log(e)}})():"create"===a&&(async()=>{try{const{data:e}=await u.get("/users");g(e.users),E(""),m(!0)}catch(e){console.log(e)}})(),()=>{c.current=!1}),[a]);const h=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:h,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"create"===a?"Adicionar um atendente ao fluxo":"Editar atendente"),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Dl.a,{style:{width:"100%",marginTop:40},container:!0},o.a.createElement(z.a,null,"Escolha um atendente"),o.a.createElement(Wt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,style:{width:"95%"},onChange:e=>{E(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===b)return"Selecione um usu\xe1rio";const e=p.find(e=>e.id===b);return void 0===e?"Selecione um usu\xe1rio":e.name}},o.a.createElement(V.a,{value:""},o.a.createElement("em",null,"Selecione um usu\xe1rio")),p.length>0&&p.map((e,a)=>o.a.createElement(V.a,{dense:!0,key:a,value:e.id},e.name))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:h,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>{if(!b)return O.b.error("Adicione um atendente");if("edit"===a){const e=p.find(e=>e.id===b);r(Object(S.a)(Object(S.a)({},l),{},{data:{user:e||""}}))}else if("create"===a){const e=p.find(e=>e.id===b);t({user:e||""})}h()}},"create"===a?"Adicionar":"Editar")))))},sx=t(1554),cx=t(1556),dx=t(1555),mx=t(1557);const ux=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},dialogTitle:{backgroundColor:"#f8f8f8",padding:e.spacing(2),"& h2":{display:"flex",alignItems:"center",gap:e.spacing(1),"& svg":{color:sx.a[500]}}},dialogContent:{padding:e.spacing(2,3)},dialogActions:{padding:e.spacing(1,3,2)},chip:{margin:e.spacing(.5),backgroundColor:"rgba(156, 39, 176, 0.1)",color:sx.a[500],border:"1px solid ".concat(sx.a[200]),cursor:"pointer","&:hover":{backgroundColor:"rgba(156, 39, 176, 0.2)"}},infoBox:{backgroundColor:"rgba(156, 39, 176, 0.05)",borderRadius:e.spacing(1),padding:e.spacing(1.5),marginTop:e.spacing(2),border:"1px solid rgba(156, 39, 176, 0.1)","& svg":{color:sx.a[500]}},actionButton:{borderRadius:8,textTransform:"none",padding:e.spacing(1,2),fontWeight:500}}));var px=e=>{let{open:a,onSave:t,onUpdate:l,data:r,close:i}=e;const s=ux(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(""),[E,h]=Object(n.useState)(""),f=Object(n.useRef)(null),[v,y]=Object(n.useState)({title:"Adicionar input ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>{"edit"===a?(y({title:"Editar input do fluxo",btn:"Salvar altera\xe7\xf5es"}),b(r.data.question||""),h(r.data.variableName||""),m(!0)):"create"===a?(y({title:"Adicionar input ao fluxo",btn:"Adicionar"}),b(""),h(""),m(!0)):m(!1)},[a,r]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const x=()=>{i(null),m(!1),p(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:x,fullWidth:!0,maxWidth:"sm",scroll:"paper",TransitionProps:{style:{transition:"all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",transform:d?"none":"translateY(-20px)",opacity:d?1:0}}},o.a.createElement(Q.a,{className:s.dialogTitle},o.a.createElement(Xo.a,{display:"flex",alignItems:"center",gap:1},o.a.createElement(wy.a,{style:{color:"#9c27b0"}}),o.a.createElement(_c.a,{variant:"h6"},v.title))),o.a.createElement(G.a,{className:s.dialogContent,dividers:!0},o.a.createElement(Mh.a,{spacing:3},o.a.createElement(Xo.a,null,o.a.createElement(Mh.a,{direction:"row",alignItems:"center",spacing:1,mb:1},o.a.createElement(_c.a,{variant:"subtitle2"},"Pergunta"),o.a.createElement(ky.a,{title:"A pergunta que ser\xe1 enviada ao usu\xe1rio. Voc\xea pode incluir vari\xe1veis usando ${nomeVariavel}"},o.a.createElement(Hv.a,{size:"small"},o.a.createElement(dx.a,{fontSize:"small"})))),o.a.createElement(Ft.a,{label:"Digite a pergunta",multiline:!0,rows:4,name:"question",variant:"outlined",value:g,onChange:e=>b(e.target.value),className:s.textField,fullWidth:!0,ref:f,placeholder:"Ex: Ol\xe1 ${nome}, qual \xe9 a sua idade?"}),o.a.createElement(Xo.a,{mt:1},o.a.createElement(_c.a,{variant:"caption",color:"textSecondary"},"Vari\xe1veis dispon\xedveis (clique para inserir):"),o.a.createElement(Xo.a,{display:"flex",flexWrap:"wrap",mt:.5},[{name:"nome",description:"Nome do cliente"},{name:"email",description:"Email do cliente"},{name:"telefone",description:"Telefone do cliente"},{name:"cidade",description:"Cidade do cliente"}].map(e=>o.a.createElement(Gv.a,{key:e.name,label:e.name,className:s.chip,onClick:()=>(e=>{if(f.current){const a=f.current.querySelector("textarea");if(a){const t=a.selectionStart,n=a.selectionEnd,o="${".concat(e.name,"}"),l=g.substring(0,t)+o+g.substring(n);b(l);const r=t+o.length;setTimeout(()=>{a.focus(),a.setSelectionRange(r,r)},100)}}})(e),size:"small"}))))),o.a.createElement(cx.a,null),o.a.createElement(Xo.a,null,o.a.createElement(Mh.a,{direction:"row",alignItems:"center",spacing:1,mb:1},o.a.createElement(_c.a,{variant:"subtitle2"},"Nome da vari\xe1vel"),o.a.createElement(ky.a,{title:"Nome da vari\xe1vel onde a resposta ser\xe1 armazenada. N\xe3o use espa\xe7os ou caracteres especiais."},o.a.createElement(Hv.a,{size:"small"},o.a.createElement(dx.a,{fontSize:"small"})))),o.a.createElement(Ft.a,{label:"Nome da vari\xe1vel",name:"variableName",variant:"outlined",value:E,onChange:e=>h(e.target.value),className:s.textField,fullWidth:!0,placeholder:"Ex: idade_cliente",helperText:"A resposta do usu\xe1rio ser\xe1 armazenada nesta vari\xe1vel"})),o.a.createElement(Xo.a,{className:s.infoBox},o.a.createElement(Mh.a,{direction:"row",spacing:1},o.a.createElement(mx.a,{fontSize:"small"}),o.a.createElement(Xo.a,null,o.a.createElement(_c.a,{variant:"subtitle2"},"Como funciona"),o.a.createElement(_c.a,{variant:"body2"},"Este n\xf3 enviar\xe1 a pergunta ao usu\xe1rio e aguardar\xe1 uma resposta. Quando o usu\xe1rio responder, o valor ser\xe1 armazenado na vari\xe1vel especificada e o fluxo continuar\xe1 para o pr\xf3ximo n\xf3.")))))),o.a.createElement(X.a,{className:s.dialogActions},o.a.createElement(K.a,{onClick:x,color:"secondary",variant:"outlined",className:s.actionButton},ma.a.t("contactModal.buttons.cancel")),o.a.createElement("div",{className:s.btnWrapper},o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",onClick:async()=>{p(!0);try{"edit"===a?(x(),l(Object(S.a)(Object(S.a)({},r),{},{data:{question:g,variableName:E}}))):"create"===a&&(x(),t({question:g,variableName:E}))}catch(e){console.error(e)}finally{c.current&&p(!1)}},disabled:u||!(""!==g.trim()&&""!==E.trim()),className:s.actionButton},v.btn),u&&o.a.createElement(Lt.a,{size:24,className:s.buttonProgress})))))};const gx=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var bx=e=>{let{open:a,onSave:t,data:l,onUpdate:r,close:i}=e;const s=gx(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)("");Object(n.useEffect)(()=>("edit"===a?(async()=>{try{const e=l.data.tag,{data:a}=await u.get("/tags/list");E(e.id),g(a),m(!0)}catch(e){console.log(e)}})():"create"===a&&(async()=>{try{const{data:e}=await u.get("/tags/list");E(""),g(e),m(!0)}catch(e){console.log(e)}})(),()=>{c.current=!1}),[a]);const h=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:d,onClose:h,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"create"===a?"Remover uma tag do fluxo":"Editar remo\xe7\xe3o de tag"),o.a.createElement(Mh.a,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Dl.a,{style:{width:"100%",marginTop:40},container:!0},o.a.createElement(z.a,{style:{marginBottom:10}},"Escolha uma tag para remover do contato"),o.a.createElement(z.a,{variant:"caption",style:{marginBottom:20,color:"#666",fontSize:"12px",fontStyle:"italic"}},"Esta a\xe7\xe3o remover\xe1 a tag selecionada do contato quando o fluxo for executado"),o.a.createElement(Wt.a,{labelId:"remove-tag-select-label",id:"remove-tag-select",value:b,style:{width:"95%"},onChange:e=>{E(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===b)return"Selecione uma tag para remover";const e=p.find(e=>e.id===b);return void 0===e?"Nenhuma tag selecionada":e.name}},o.a.createElement(V.a,{value:""},o.a.createElement("em",null,"Selecione uma tag para remover")),p.length>0&&p.map((e,a)=>o.a.createElement(V.a,{dense:!0,key:a,value:e.id},e.name))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:h,color:"secondary",variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>{if(!b)return O.b.error("Selecione uma tag para remover");if("edit"===a){const e=p.find(e=>e.id===b);r(Object(S.a)(Object(S.a)({},l),{},{data:{tag:e||""}}))}else if("create"===a){const e=p.find(e=>e.id===b);t({tag:e||""})}h()},style:{backgroundColor:"#dc3545",color:"#fff"}},"create"===a?"Adicionar Remo\xe7\xe3o":"Editar")))))},Ex=t(1558),hx=t(1559),fx=t(1560),vx=t(1561);const yx=["gpt-3.5-turbo","gpt-3.5-turbo-1106","gpt-3.5-turbo-16k","gpt-4","gpt-4-turbo","gpt-4o","gpt-4o-mini"],xx=["texto","pt-BR-FabioNeural","pt-BR-FranciscaNeural","pt-BR-AntonioNeural","pt-BR-BrendaNeural","pt-BR-DonatoNeural","pt-BR-ElzaNeural","pt-BR-GiovannaNeural","pt-BR-HumbertoNeural","pt-BR-JulioNeural","pt-BR-LeilaNeural","pt-BR-LeticiaNeural","pt-BR-ManuelaNeural","pt-BR-NicolauNeural","pt-BR-ValerioNeural","pt-BR-YaraNeural"],Cx=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},sectionTitle:{fontWeight:"bold",color:e.palette.primary.main,marginBottom:e.spacing(1),display:"flex",alignItems:"center",gap:e.spacing(1)},flowModeCard:{border:"1px solid ".concat(e.palette.divider),borderRadius:e.spacing(1),padding:e.spacing(2),marginBottom:e.spacing(2),backgroundColor:e.palette.background.default},temporarySettings:{marginTop:e.spacing(2),padding:e.spacing(2),backgroundColor:e.palette.grey[50],borderRadius:e.spacing(1),border:"1px dashed ".concat(e.palette.primary.light)},keywordChip:{margin:e.spacing(.5)},helpText:{fontSize:"0.75rem",color:e.palette.text.secondary,marginTop:e.spacing(.5)},accordion:{marginBottom:e.spacing(1),"&:before":{display:"none"}},accordionSummary:{backgroundColor:e.palette.grey[50],borderRadius:e.spacing(.5),minHeight:48,"&.Mui-expanded":{minHeight:48}},accordionDetails:{padding:e.spacing(2),flexDirection:"column"}})),kx=Dt.e().shape({name:Dt.f().min(5,"Muito curto!").max(100,"Muito longo!").required("Obrigat\xf3rio"),prompt:Dt.f().min(50,"Muito curto!").required("Descreva o treinamento para Intelig\xeancia Artificial"),model:Dt.f().oneOf(yx,"Modelo inv\xe1lido").required("Informe o modelo"),maxTokens:Dt.d().min(10,"M\xednimo 10 tokens").max(4e3,"M\xe1ximo 4000 tokens").required("Informe o n\xfamero m\xe1ximo de tokens"),temperature:Dt.d().min(0,"M\xednimo 0").max(2,"M\xe1ximo 2").required("Informe a temperatura"),apiKey:Dt.f().required("Informe a API Key"),maxMessages:Dt.d().min(1,"M\xednimo 1 mensagem").max(100,"M\xe1ximo 100 mensagens").required("Informe o n\xfamero m\xe1ximo de mensagens"),voice:Dt.f().required("Informe o modo para Voz"),voiceKey:Dt.f().when("voice",{is:e=>"texto"!==e,then:Dt.f().required("Voice Key \xe9 obrigat\xf3ria para s\xedntese de voz"),otherwise:Dt.f().notRequired()}),voiceRegion:Dt.f().when("voice",{is:e=>"texto"!==e,then:Dt.f().required("Voice Region \xe9 obrigat\xf3ria para s\xedntese de voz"),otherwise:Dt.f().notRequired()}),flowMode:Dt.f().oneOf(["permanent","temporary"],"Modo de fluxo inv\xe1lido").required("Selecione o modo de fluxo"),maxInteractions:Dt.d().when("flowMode",{is:"temporary",then:Dt.d().min(1,"M\xednimo 1 intera\xe7\xe3o").max(50,"M\xe1ximo 50 intera\xe7\xf5es").nullable(),otherwise:Dt.d().nullable()}),completionTimeout:Dt.d().when("flowMode",{is:"temporary",then:Dt.d().min(1,"M\xednimo 1 minuto").max(60,"M\xe1ximo 60 minutos").nullable(),otherwise:Dt.d().nullable()}),continueKeywords:Dt.a().when("flowMode",{is:"temporary",then:Dt.a().of(Dt.f().required("Palavra-chave n\xe3o pode estar vazia")).min(1,"Pelo menos uma palavra-chave \xe9 obrigat\xf3ria no modo tempor\xe1rio"),otherwise:Dt.a()}),objective:Dt.f().when(["flowMode","autoCompleteOnObjective"],{is:(e,a)=>"temporary"===e&&a,then:Dt.f().required("Objetivo \xe9 obrigat\xf3rio quando auto completar est\xe1 ativo"),otherwise:Dt.f()})});var wx=e=>{let{open:a,onSave:t,data:l,onUpdate:r,close:i}=e;const s=Cx(),c=Object(n.useRef)(!0),d={name:"",prompt:"",model:"gpt-4o",voice:"texto",voiceKey:"",voiceRegion:"",maxTokens:1e3,temperature:.7,apiKey:"",maxMessages:10,queueId:0,flowMode:"permanent",maxInteractions:5,completionTimeout:10,continueKeywords:["continuar","pr\xf3ximo","avan\xe7ar"],objective:"",autoCompleteOnObjective:!1},[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(d),[b,E]=Object(n.useState)({title:"Adicionar OpenAI ao fluxo",btn:"Adicionar"}),[h,f]=Object(n.useState)("");Object(n.useEffect)(()=>{if("edit"===a){var e;E({title:"Editar OpenAI do fluxo",btn:"Salvar"});const a=(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.typebotIntegration)||{};g(Object(S.a)(Object(S.a)(Object(S.a)({},d),a),{},{model:yx.includes(a.model)?a.model:"gpt-4o",flowMode:a.flowMode||"permanent",continueKeywords:a.continueKeywords||["continuar","pr\xf3ximo","avan\xe7ar"],maxInteractions:a.maxInteractions||5,completionTimeout:a.completionTimeout||10,objective:a.objective||"",autoCompleteOnObjective:a.autoCompleteOnObjective||!1}))}else"create"===a&&(E({title:"Adicionar OpenAI ao fluxo",btn:"Adicionar"}),g(d));return()=>{c.current=!1}},[a,l]);const v=()=>{f(""),i(null)},y=(e,a)=>{a.trim()&&!p.continueKeywords.includes(a.trim())&&(e.push(a.trim()),f(""))};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:"create"===a||"edit"===a,onClose:v,fullWidth:!0,maxWidth:"lg",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},b.title),o.a.createElement(Pt.e,{initialValues:p,enableReinitialize:!0,validationSchema:kx,onSubmit:(e,n)=>{let{setSubmitting:o}=n;const i=Object(S.a)(Object(S.a)({},e),{},{maxInteractions:"temporary"===e.flowMode?e.maxInteractions:null,completionTimeout:"temporary"===e.flowMode?e.completionTimeout:null,continueKeywords:"temporary"===e.flowMode?e.continueKeywords:[],objective:"temporary"===e.flowMode?e.objective:"",autoCompleteOnObjective:"temporary"===e.flowMode&&e.autoCompleteOnObjective,provider:"openai"});"edit"===a?r(Object(S.a)(Object(S.a)({},l),{},{data:{typebotIntegration:i}})):"create"===a&&(i.projectName=i.name,t({typebotIntegration:i})),v(),o(!1)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:l,setFieldValue:r}=e;return o.a.createElement(Pt.d,{style:{width:"100%"}},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Ex.a,{className:s.accordion,defaultExpanded:!0},o.a.createElement(hx.a,{expandIcon:o.a.createElement(Hc.a,null),className:s.accordionSummary},o.a.createElement(z.a,{className:s.sectionTitle},o.a.createElement(Rf.a,null),"Configura\xe7\xf5es B\xe1sicas - OpenAI")),o.a.createElement(fx.a,{className:s.accordionDetails},o.a.createElement(Pt.b,{as:Ft.a,label:"Nome do Assistente",name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,required:!0}),o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(Pt.b,{as:Ft.a,label:"API Key OpenAI",name:"apiKey",type:m?"text":"password",error:a.apiKey&&Boolean(t.apiKey),helperText:a.apiKey&&t.apiKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,InputProps:{endAdornment:o.a.createElement(yi.a,{position:"end"},o.a.createElement(F.a,{onClick:()=>u(!m)},m?o.a.createElement(ib.a,null):o.a.createElement(sb.a,null)))}})),o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined",error:a.model&&Boolean(t.model)},o.a.createElement(Bt.a,null,"Modelo OpenAI"),o.a.createElement(Pt.b,{as:Wt.a,label:"Modelo OpenAI",name:"model"},yx.map(e=>o.a.createElement(V.a,{key:e,value:e},(e=>({"gpt-3.5-turbo":"GPT 3.5 Turbo","gpt-3.5-turbo-1106":"GPT 3.5 Turbo (1106)","gpt-3.5-turbo-16k":"GPT 3.5 Turbo 16K","gpt-4":"GPT 4","gpt-4-turbo":"GPT 4 Turbo","gpt-4o":"GPT 4o","gpt-4o-mini":"GPT 4o Mini"}[e]||e))(e)))),a.model&&t.model&&o.a.createElement("div",{style:{color:"red",fontSize:"12px"}},t.model)),o.a.createElement(Pt.b,{as:Ft.a,label:"Prompt do Sistema",name:"prompt",error:a.prompt&&Boolean(t.prompt),helperText:a.prompt&&t.prompt,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,rows:6,multiline:!0,placeholder:"Descreva como a IA deve se comportar, que informa\xe7\xf5es deve coletar, como deve responder..."}),o.a.createElement("div",{className:s.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:"Temperatura",name:"temperature",error:a.temperature&&Boolean(t.temperature),helperText:a.temperature&&t.temperature||"0 = conservador, 2 = criativo",variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{step:"0.1",min:"0",max:"2"}}),o.a.createElement(Pt.b,{as:Ft.a,label:"Max Tokens",name:"maxTokens",error:a.maxTokens&&Boolean(t.maxTokens),helperText:a.maxTokens&&t.maxTokens||"Tamanho m\xe1ximo da resposta",variant:"outlined",margin:"dense",fullWidth:!0,type:"number"}),o.a.createElement(Pt.b,{as:Ft.a,label:"Max Mensagens",name:"maxMessages",error:a.maxMessages&&Boolean(t.maxMessages),helperText:a.maxMessages&&t.maxMessages||"Hist\xf3rico de contexto",variant:"outlined",margin:"dense",fullWidth:!0,type:"number"})))),o.a.createElement(Ex.a,{className:s.accordion},o.a.createElement(hx.a,{expandIcon:o.a.createElement(Hc.a,null),className:s.accordionSummary},o.a.createElement(z.a,{className:s.sectionTitle},o.a.createElement(vx.a,null),"Configura\xe7\xf5es de Voz (Opcional)")),o.a.createElement(fx.a,{className:s.accordionDetails},o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined",error:a.voice&&Boolean(t.voice)},o.a.createElement(Bt.a,null,"Tipo de Resposta"),o.a.createElement(Pt.b,{as:Wt.a,label:"Tipo de Resposta",name:"voice"},xx.map(e=>o.a.createElement(V.a,{key:e,value:e},(e=>"texto"===e?"Apenas Texto":e.replace("pt-BR-","").replace("Neural",""))(e)))),a.voice&&t.voice&&o.a.createElement("div",{style:{color:"red",fontSize:"12px"}},t.voice)),"texto"!==l.voice&&o.a.createElement("div",{className:s.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:"Voice Key (Azure)",name:"voiceKey",error:a.voiceKey&&Boolean(t.voiceKey),helperText:a.voiceKey&&t.voiceKey,variant:"outlined",margin:"dense",fullWidth:!0,placeholder:"Chave do Azure Speech Service"}),o.a.createElement(Pt.b,{as:Ft.a,label:"Voice Region (Azure)",name:"voiceRegion",error:a.voiceRegion&&Boolean(t.voiceRegion),helperText:a.voiceRegion&&t.voiceRegion,variant:"outlined",margin:"dense",fullWidth:!0,placeholder:"ex: brazilsouth"})))),o.a.createElement(Ex.a,{className:s.accordion,defaultExpanded:!0},o.a.createElement(hx.a,{expandIcon:o.a.createElement(Hc.a,null),className:s.accordionSummary},o.a.createElement(z.a,{className:s.sectionTitle},o.a.createElement(us.a,null),"Comportamento do Fluxo",o.a.createElement(de.a,{title:"Configure como o OpenAI deve se comportar no fluxo"},o.a.createElement(Ln.a,{fontSize:"small",color:"action"})))),o.a.createElement(fx.a,{className:s.accordionDetails},o.a.createElement(qt.a,{component:"fieldset",margin:"normal"},o.a.createElement(Cr.a,{component:"legend"},"Modo de Funcionamento"),o.a.createElement(kr.a,{name:"flowMode",value:l.flowMode,onChange:e=>r("flowMode",e.target.value)},o.a.createElement(wr.a,{value:"permanent",control:o.a.createElement(Ar.a,null),label:o.a.createElement(tn.a,null,o.a.createElement(z.a,{variant:"body1"},o.a.createElement("strong",null,"Permanente")," - Encerrar fluxo aqui"),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"O usu\xe1rio fica conversando com a IA at\xe9 pedir transfer\xeancia ou encerrar"))}),o.a.createElement(wr.a,{value:"temporary",control:o.a.createElement(Ar.a,null),label:o.a.createElement(tn.a,null,o.a.createElement(z.a,{variant:"body1"},o.a.createElement("strong",null,"Tempor\xe1rio")," - Volta ao fluxo depois"),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"A IA executa uma tarefa espec\xedfica e depois retorna ao fluxo normal"))}))),"temporary"===l.flowMode&&o.a.createElement("div",{className:s.temporarySettings},o.a.createElement(z.a,{variant:"h6",gutterBottom:!0},"\u23f1\ufe0f Configura\xe7\xf5es do Modo Tempor\xe1rio"),o.a.createElement(z.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},"Configure quando a IA deve parar e retornar ao fluxo"),o.a.createElement(Pt.b,{as:Ft.a,label:"M\xe1ximo de Intera\xe7\xf5es",name:"maxInteractions",error:a.maxInteractions&&Boolean(t.maxInteractions),helperText:a.maxInteractions&&t.maxInteractions||"N\xfamero m\xe1ximo de mensagens antes de voltar ao fluxo (0 = ilimitado)",variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{min:0,max:50}}),o.a.createElement(Pt.b,{as:Ft.a,label:"Timeout (minutos)",name:"completionTimeout",error:a.completionTimeout&&Boolean(t.completionTimeout),helperText:a.completionTimeout&&t.completionTimeout||"Tempo limite antes de voltar ao fluxo (0 = sem limite)",variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{min:0,max:60}}),o.a.createElement(qt.a,{fullWidth:!0,margin:"dense"},o.a.createElement(z.a,{variant:"subtitle2",gutterBottom:!0},"Palavras-chave para Continuar Fluxo"),o.a.createElement(Pt.c,{name:"continueKeywords"},e=>o.a.createElement("div",null,o.a.createElement(tn.a,{display:"flex",gap:1,alignItems:"center",mb:1},o.a.createElement(Ft.a,{variant:"outlined",size:"small",placeholder:"Digite uma palavra-chave",value:h,onChange:e=>f(e.target.value),onKeyPress:a=>{"Enter"===a.key&&y(e,h)}}),o.a.createElement(K.a,{variant:"outlined",size:"small",startIcon:o.a.createElement(ml.a,null),onClick:()=>y(e,h),disabled:!h.trim()},"Adicionar")),o.a.createElement(tn.a,{display:"flex",flexWrap:"wrap",gap:.5},l.continueKeywords.map((a,t)=>o.a.createElement(Vt.a,{key:t,label:a,className:s.keywordChip,onDelete:()=>((e,a)=>{e.remove(a)})(e,t),deleteIcon:o.a.createElement(hu.a,null),variant:"outlined",size:"small"}))),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"Quando o usu\xe1rio enviar uma dessas palavras, o fluxo continuar\xe1 automaticamente"),a.continueKeywords&&t.continueKeywords&&o.a.createElement(z.a,{variant:"caption",color:"error"},t.continueKeywords)))),o.a.createElement(Pt.b,{as:Ft.a,label:"Objetivo da IA",name:"objective",error:a.objective&&Boolean(t.objective),helperText:a.objective&&t.objective||"Descreva o que a IA deve completar (ex: 'Coletar nome, email e telefone')",variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,rows:2,placeholder:"Ex: Coletar dados do cliente, Qualificar interesse, Diagnosticar problema..."}),o.a.createElement(wr.a,{control:o.a.createElement(qr.a,{checked:l.autoCompleteOnObjective,onChange:e=>r("autoCompleteOnObjective",e.target.checked),name:"autoCompleteOnObjective"}),label:o.a.createElement(tn.a,null,o.a.createElement(z.a,{variant:"body2"},"Auto completar quando atingir objetivo"),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"A IA analisar\xe1 automaticamente se completou o objetivo e voltar\xe1 ao fluxo"))}),o.a.createElement(Pt.b,{as:Ft.a,label:"ID da Fila (para transfer\xeancia)",name:"queueId",error:a.queueId&&Boolean(t.queueId),helperText:"ID da fila para onde transferir se usu\xe1rio pedir atendente (0 = n\xe3o transferir)",variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{min:0}}))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:v,color:"secondary",variant:"outlined",disabled:n},"Cancelar"),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,disabled:n},b.btn)))})))};const Ax=["gemini-pro","gemini-1.5-pro","gemini-1.5-flash","gemini-2.0-flash","gemini-2.0-pro"],Tx=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},sectionTitle:{fontWeight:"bold",color:e.palette.primary.main,marginBottom:e.spacing(1),display:"flex",alignItems:"center",gap:e.spacing(1)},flowModeCard:{border:"1px solid ".concat(e.palette.divider),borderRadius:e.spacing(1),padding:e.spacing(2),marginBottom:e.spacing(2),backgroundColor:e.palette.background.default},temporarySettings:{marginTop:e.spacing(2),padding:e.spacing(2),backgroundColor:e.palette.grey[50],borderRadius:e.spacing(1),border:"1px dashed ".concat(e.palette.primary.light)},keywordChip:{margin:e.spacing(.5)},helpText:{fontSize:"0.75rem",color:e.palette.text.secondary,marginTop:e.spacing(.5)},accordion:{marginBottom:e.spacing(1),"&:before":{display:"none"}},accordionSummary:{backgroundColor:e.palette.grey[50],borderRadius:e.spacing(.5),minHeight:48,"&.Mui-expanded":{minHeight:48}},accordionDetails:{padding:e.spacing(2),flexDirection:"column"}})),Ox=Dt.e().shape({name:Dt.f().min(5,"Muito curto!").max(100,"Muito longo!").required("Obrigat\xf3rio"),prompt:Dt.f().min(50,"Muito curto!").required("Descreva o treinamento para Intelig\xeancia Artificial"),model:Dt.f().oneOf(Ax,"Modelo inv\xe1lido").required("Informe o modelo"),maxTokens:Dt.d().min(10,"M\xednimo 10 tokens").max(8e3,"M\xe1ximo 8000 tokens").required("Informe o n\xfamero m\xe1ximo de tokens"),temperature:Dt.d().min(0,"M\xednimo 0").max(2,"M\xe1ximo 2").required("Informe a temperatura"),apiKey:Dt.f().required("Informe a API Key"),maxMessages:Dt.d().min(1,"M\xednimo 1 mensagem").max(100,"M\xe1ximo 100 mensagens").required("Informe o n\xfamero m\xe1ximo de mensagens"),flowMode:Dt.f().oneOf(["permanent","temporary"],"Modo de fluxo inv\xe1lido").required("Selecione o modo de fluxo"),maxInteractions:Dt.d().when("flowMode",{is:"temporary",then:Dt.d().min(1,"M\xednimo 1 intera\xe7\xe3o").max(50,"M\xe1ximo 50 intera\xe7\xf5es").nullable(),otherwise:Dt.d().nullable()}),completionTimeout:Dt.d().when("flowMode",{is:"temporary",then:Dt.d().min(1,"M\xednimo 1 minuto").max(60,"M\xe1ximo 60 minutos").nullable(),otherwise:Dt.d().nullable()}),continueKeywords:Dt.a().when("flowMode",{is:"temporary",then:Dt.a().of(Dt.f().required("Palavra-chave n\xe3o pode estar vazia")).min(1,"Pelo menos uma palavra-chave \xe9 obrigat\xf3ria no modo tempor\xe1rio"),otherwise:Dt.a()}),objective:Dt.f().when(["flowMode","autoCompleteOnObjective"],{is:(e,a)=>"temporary"===e&&a,then:Dt.f().required("Objetivo \xe9 obrigat\xf3rio quando auto completar est\xe1 ativo"),otherwise:Dt.f()})});var Sx=e=>{let{open:a,onSave:t,data:l,onUpdate:r,close:i}=e;const s=Tx(),c=Object(n.useRef)(!0),d={name:"",prompt:"",model:"gemini-1.5-flash",maxTokens:1e3,temperature:.7,apiKey:"",maxMessages:10,queueId:0,flowMode:"permanent",maxInteractions:5,completionTimeout:10,continueKeywords:["continuar","pr\xf3ximo","avan\xe7ar"],objective:"",autoCompleteOnObjective:!1},[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(d),[b,E]=Object(n.useState)({title:"Adicionar Gemini ao fluxo",btn:"Adicionar"}),[h,f]=Object(n.useState)("");Object(n.useEffect)(()=>{if("edit"===a){var e;E({title:"Editar Gemini do fluxo",btn:"Salvar"});const a=(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.typebotIntegration)||{};g(Object(S.a)(Object(S.a)(Object(S.a)({},d),a),{},{model:Ax.includes(a.model)?a.model:"gemini-1.5-flash",flowMode:a.flowMode||"permanent",continueKeywords:a.continueKeywords||["continuar","pr\xf3ximo","avan\xe7ar"],maxInteractions:a.maxInteractions||5,completionTimeout:a.completionTimeout||10,objective:a.objective||"",autoCompleteOnObjective:a.autoCompleteOnObjective||!1}))}else"create"===a&&(E({title:"Adicionar Gemini ao fluxo",btn:"Adicionar"}),g(d));return()=>{c.current=!1}},[a,l]);const v=()=>{f(""),i(null)},y=(e,a)=>{a.trim()&&!p.continueKeywords.includes(a.trim())&&(e.push(a.trim()),f(""))};return o.a.createElement("div",{className:s.root},o.a.createElement(H.a,{open:"create"===a||"edit"===a,onClose:v,fullWidth:!0,maxWidth:"lg",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},b.title),o.a.createElement(Pt.e,{initialValues:p,enableReinitialize:!0,validationSchema:Ox,onSubmit:(e,n)=>{let{setSubmitting:o}=n;const i=Object(S.a)(Object(S.a)({},e),{},{maxInteractions:"temporary"===e.flowMode?e.maxInteractions:null,completionTimeout:"temporary"===e.flowMode?e.completionTimeout:null,continueKeywords:"temporary"===e.flowMode?e.continueKeywords:[],objective:"temporary"===e.flowMode?e.objective:"",autoCompleteOnObjective:"temporary"===e.flowMode&&e.autoCompleteOnObjective,provider:"gemini",voice:"texto"});"edit"===a?r(Object(S.a)(Object(S.a)({},l),{},{data:{typebotIntegration:i}})):"create"===a&&(i.projectName=i.name,t({typebotIntegration:i})),v(),o(!1)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:l,setFieldValue:r}=e;return o.a.createElement(Pt.d,{style:{width:"100%"}},o.a.createElement(G.a,{dividers:!0},o.a.createElement(Ex.a,{className:s.accordion,defaultExpanded:!0},o.a.createElement(hx.a,{expandIcon:o.a.createElement(Hc.a,null),className:s.accordionSummary},o.a.createElement(z.a,{className:s.sectionTitle},o.a.createElement(Rf.a,null),"Configura\xe7\xf5es B\xe1sicas - Google Gemini")),o.a.createElement(fx.a,{className:s.accordionDetails},o.a.createElement(Pt.b,{as:Ft.a,label:"Nome do Assistente",name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,required:!0}),o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(Pt.b,{as:Ft.a,label:"API Key Google AI",name:"apiKey",type:m?"text":"password",error:a.apiKey&&Boolean(t.apiKey),helperText:a.apiKey&&t.apiKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,InputProps:{endAdornment:o.a.createElement(yi.a,{position:"end"},o.a.createElement(F.a,{onClick:()=>u(!m)},m?o.a.createElement(ib.a,null):o.a.createElement(sb.a,null)))}})),o.a.createElement(qt.a,{fullWidth:!0,margin:"dense",variant:"outlined",error:a.model&&Boolean(t.model)},o.a.createElement(Bt.a,null,"Modelo Gemini"),o.a.createElement(Pt.b,{as:Wt.a,label:"Modelo Gemini",name:"model"},Ax.map(e=>o.a.createElement(V.a,{key:e,value:e},(e=>({"gemini-pro":"Gemini Pro","gemini-1.5-pro":"Gemini 1.5 Pro","gemini-1.5-flash":"Gemini 1.5 Flash","gemini-2.0-flash":"Gemini 2.0 Flash","gemini-2.0-pro":"Gemini 2.0 Pro"}[e]||e))(e)))),a.model&&t.model&&o.a.createElement("div",{style:{color:"red",fontSize:"12px"}},t.model)),o.a.createElement(Pt.b,{as:Ft.a,label:"Prompt do Sistema",name:"prompt",error:a.prompt&&Boolean(t.prompt),helperText:a.prompt&&t.prompt,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,rows:6,multiline:!0,placeholder:"Descreva como a IA deve se comportar, que informa\xe7\xf5es deve coletar, como deve responder..."}),o.a.createElement("div",{className:s.multFieldLine},o.a.createElement(Pt.b,{as:Ft.a,label:"Temperatura",name:"temperature",error:a.temperature&&Boolean(t.temperature),helperText:a.temperature&&t.temperature||"0 = conservador, 2 = criativo",variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{step:"0.1",min:"0",max:"2"}}),o.a.createElement(Pt.b,{as:Ft.a,label:"Max Tokens",name:"maxTokens",error:a.maxTokens&&Boolean(t.maxTokens),helperText:a.maxTokens&&t.maxTokens||"Tamanho m\xe1ximo da resposta",variant:"outlined",margin:"dense",fullWidth:!0,type:"number"}),o.a.createElement(Pt.b,{as:Ft.a,label:"Max Mensagens",name:"maxMessages",error:a.maxMessages&&Boolean(t.maxMessages),helperText:a.maxMessages&&t.maxMessages||"Hist\xf3rico de contexto",variant:"outlined",margin:"dense",fullWidth:!0,type:"number"})))),o.a.createElement(Ex.a,{className:s.accordion,defaultExpanded:!0},o.a.createElement(hx.a,{expandIcon:o.a.createElement(Hc.a,null),className:s.accordionSummary},o.a.createElement(z.a,{className:s.sectionTitle},o.a.createElement(us.a,null),"Comportamento do Fluxo",o.a.createElement(de.a,{title:"Configure como o Gemini deve se comportar no fluxo"},o.a.createElement(Ln.a,{fontSize:"small",color:"action"})))),o.a.createElement(fx.a,{className:s.accordionDetails},o.a.createElement(qt.a,{component:"fieldset",margin:"normal"},o.a.createElement(Cr.a,{component:"legend"},"Modo de Funcionamento"),o.a.createElement(kr.a,{name:"flowMode",value:l.flowMode,onChange:e=>r("flowMode",e.target.value)},o.a.createElement(wr.a,{value:"permanent",control:o.a.createElement(Ar.a,null),label:o.a.createElement(tn.a,null,o.a.createElement(z.a,{variant:"body1"},o.a.createElement("strong",null,"Permanente")," - Encerrar fluxo aqui"),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"O usu\xe1rio fica conversando com a IA at\xe9 pedir transfer\xeancia ou encerrar"))}),o.a.createElement(wr.a,{value:"temporary",control:o.a.createElement(Ar.a,null),label:o.a.createElement(tn.a,null,o.a.createElement(z.a,{variant:"body1"},o.a.createElement("strong",null,"Tempor\xe1rio")," - Volta ao fluxo depois"),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"A IA executa uma tarefa espec\xedfica e depois retorna ao fluxo normal"))}))),"temporary"===l.flowMode&&o.a.createElement("div",{className:s.temporarySettings},o.a.createElement(z.a,{variant:"h6",gutterBottom:!0},"\u23f1\ufe0f Configura\xe7\xf5es do Modo Tempor\xe1rio"),o.a.createElement(z.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},"Configure quando a IA deve parar e retornar ao fluxo"),o.a.createElement(Pt.b,{as:Ft.a,label:"M\xe1ximo de Intera\xe7\xf5es",name:"maxInteractions",error:a.maxInteractions&&Boolean(t.maxInteractions),helperText:a.maxInteractions&&t.maxInteractions||"N\xfamero m\xe1ximo de mensagens antes de voltar ao fluxo (0 = ilimitado)",variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{min:0,max:50}}),o.a.createElement(Pt.b,{as:Ft.a,label:"Timeout (minutos)",name:"completionTimeout",error:a.completionTimeout&&Boolean(t.completionTimeout),helperText:a.completionTimeout&&t.completionTimeout||"Tempo limite antes de voltar ao fluxo (0 = sem limite)",variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{min:0,max:60}}),o.a.createElement(qt.a,{fullWidth:!0,margin:"dense"},o.a.createElement(z.a,{variant:"subtitle2",gutterBottom:!0},"Palavras-chave para Continuar Fluxo"),o.a.createElement(Pt.c,{name:"continueKeywords"},e=>o.a.createElement("div",null,o.a.createElement(tn.a,{display:"flex",gap:1,alignItems:"center",mb:1},o.a.createElement(Ft.a,{variant:"outlined",size:"small",placeholder:"Digite uma palavra-chave",value:h,onChange:e=>f(e.target.value),onKeyPress:a=>{"Enter"===a.key&&y(e,h)}}),o.a.createElement(K.a,{variant:"outlined",size:"small",startIcon:o.a.createElement(ml.a,null),onClick:()=>y(e,h),disabled:!h.trim()},"Adicionar")),o.a.createElement(tn.a,{display:"flex",flexWrap:"wrap",gap:.5},l.continueKeywords.map((a,t)=>o.a.createElement(Vt.a,{key:t,label:a,className:s.keywordChip,onDelete:()=>((e,a)=>{e.remove(a)})(e,t),deleteIcon:o.a.createElement(hu.a,null),variant:"outlined",size:"small"}))),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"Quando o usu\xe1rio enviar uma dessas palavras, o fluxo continuar\xe1 automaticamente"),a.continueKeywords&&t.continueKeywords&&o.a.createElement(z.a,{variant:"caption",color:"error"},t.continueKeywords)))),o.a.createElement(Pt.b,{as:Ft.a,label:"Objetivo da IA",name:"objective",error:a.objective&&Boolean(t.objective),helperText:a.objective&&t.objective||"Descreva o que a IA deve completar (ex: 'Coletar nome, email e telefone')",variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,rows:2,placeholder:"Ex: Coletar dados do cliente, Qualificar interesse, Diagnosticar problema..."}),o.a.createElement(wr.a,{control:o.a.createElement(qr.a,{checked:l.autoCompleteOnObjective,onChange:e=>r("autoCompleteOnObjective",e.target.checked),name:"autoCompleteOnObjective"}),label:o.a.createElement(tn.a,null,o.a.createElement(z.a,{variant:"body2"},"Auto completar quando atingir objetivo"),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},"A IA analisar\xe1 automaticamente se completou o objetivo e voltar\xe1 ao fluxo"))}),o.a.createElement(Pt.b,{as:Ft.a,label:"ID da Fila (para transfer\xeancia)",name:"queueId",error:a.queueId&&Boolean(t.queueId),helperText:"ID da fila para onde transferir se usu\xe1rio pedir atendente (0 = n\xe3o transferir)",variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{min:0}}))))),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:v,color:"secondary",variant:"outlined",disabled:n},"Cancelar"),o.a.createElement(K.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,disabled:n},b.btn)))})))};const jx=Object(I.a)(e=>({root:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:e.palette.background.default},header:{flexShrink:0,backgroundColor:e.palette.background.paper,borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:1,display:"flex",position:"relative",overflow:"hidden"},sidebar:{width:e=>e.sidebarOpen?300:60,backgroundColor:e.palette.background.paper,borderRight:"1px solid ".concat(e.palette.divider),transition:"width 0.3s ease",display:"flex",flexDirection:"column",zIndex:1e3,[e.breakpoints.down("md")]:{display:"none"}},sidebarHeader:{padding:e.spacing(1),borderBottom:"1px solid ".concat(e.palette.divider),display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:56,backgroundColor:e.palette.background.paper},sidebarContent:Object(S.a)({flex:1,overflowY:"auto",backgroundColor:e.palette.background.paper},e.scrollbarStyles),flowContainer:{flex:1,position:"relative",backgroundColor:"dark"===e.palette.type?"#121212":"#F8F9FA","& .react-flow__controls":{zIndex:1100,bottom:e.spacing(2),left:e.spacing(2),[e.breakpoints.down("md")]:{display:"none"}}},bottomSheet:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:e.palette.background.paper,borderTopLeftRadius:20,borderTopRightRadius:20,boxShadow:e.shadows[8],zIndex:1500,maxHeight:"80vh",display:"flex",flexDirection:"column",border:"1px solid ".concat(e.palette.divider),[e.breakpoints.up("lg")]:{display:"none"}},bottomSheetHandle:{width:40,height:4,backgroundColor:e.palette.divider,borderRadius:2,margin:"8px auto",cursor:"pointer"},bottomSheetHeader:{padding:e.spacing(1,2),borderBottom:"1px solid ".concat(e.palette.divider),display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:e.palette.background.paper},bottomSheetContent:Object(S.a)({flex:1,overflowY:"auto",padding:e.spacing(1),backgroundColor:e.palette.background.paper},e.scrollbarStyles),fab:{position:"fixed",top:60,right:e.spacing(2),zIndex:1400,backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark},[e.breakpoints.down("md")]:{bottom:e.spacing(9),top:"auto"}},addFab:{position:"fixed",bottom:e.spacing(2),left:e.spacing(2),zIndex:1400,backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,"&:hover":{backgroundColor:e.palette.secondary.dark},[e.breakpoints.up("lg")]:{display:"none"}},categoryButton:{margin:e.spacing(.5),textTransform:"none",borderRadius:e.spacing(1),minWidth:"auto",fontSize:"0.75rem",color:e.palette.text.primary,borderColor:e.palette.divider},nodeButton:{justifyContent:"flex-start",textTransform:"none",padding:e.spacing(1),marginBottom:e.spacing(.5),borderRadius:e.spacing(1),transition:"all 0.2s ease",color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.action.hover,transform:"translateX(4px)"}},collapsedNodeButton:{width:48,height:48,minWidth:48,padding:0,margin:e.spacing(.5,.5),justifyContent:"center",color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.action.hover}},categoryHeader:{padding:e.spacing(1),backgroundColor:e.palette.action.hover,fontWeight:"bold",color:e.palette.text.primary,cursor:"pointer",userSelect:"none","&:hover":{backgroundColor:e.palette.action.selected}},quickActions:{position:"fixed",top:120,right:e.spacing(2),display:"flex",flexDirection:"column",gap:e.spacing(1),zIndex:1200,[e.breakpoints.down("md")]:{display:"none"}},quickActionButton:{backgroundColor:e.palette.background.paper,backdropFilter:"blur(10px)",boxShadow:e.shadows[3],color:e.palette.text.primary,border:"1px solid ".concat(e.palette.divider),"&:hover":{backgroundColor:e.palette.action.hover,transform:"scale(1.05)",boxShadow:e.shadows[6]}},mobileControls:{position:"fixed",bottom:80,left:e.spacing(2),display:"flex",flexDirection:"column",gap:e.spacing(1),zIndex:1300,[e.breakpoints.up("lg")]:{display:"none"}},controlButton:{backgroundColor:e.palette.background.paper,backdropFilter:"blur(10px)",boxShadow:e.shadows[3],width:48,height:48,color:e.palette.text.primary,border:"1px solid ".concat(e.palette.divider),"&:hover":{backgroundColor:e.palette.action.hover,transform:"scale(1.05)"}},categoryCard:{backgroundColor:e.palette.background.paper,borderRadius:8,border:"1px solid ".concat(e.palette.divider),marginBottom:e.spacing(1)},categoryTitle:{fontWeight:"bold",marginBottom:e.spacing(1),display:"flex",alignItems:"center",gap:e.spacing(1),color:e.palette.text.primary},categoryNodeBtn:{width:"100%",marginBottom:e.spacing(.5),justifyContent:"flex-start",textTransform:"none",fontSize:"0.8rem",padding:e.spacing(1,1.5),color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.action.hover}},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh",backgroundColor:e.palette.background.paper}})),Ix=[{name:"B\xe1sicos",color:e=>e.palette.primary.main,icon:o.a.createElement(iv.a,null),nodes:[{icon:o.a.createElement(iv.a,null),name:"In\xedcio",type:"start",description:"Ponto inicial do fluxo"}]},{name:"Conte\xfado",color:e=>e.palette.success.main,icon:o.a.createElement(sv.a,null),nodes:[{icon:o.a.createElement(sv.a,null),name:"Conte\xfado",type:"content",description:"Enviar texto, imagem, \xe1udio ou v\xeddeo"},{icon:o.a.createElement(cv.a,null),name:"Texto",type:"text",description:"Mensagem de texto simples"}]},{name:"Intera\xe7\xe3o",color:e=>e.palette.warning.main,icon:o.a.createElement(dv.a,null),nodes:[{icon:o.a.createElement(dv.a,null),name:"Menu",type:"menu",description:"Menu de op\xe7\xf5es para o usu\xe1rio"},{icon:o.a.createElement(ev.a,null),name:"Input",type:"input",description:"Coletar entrada do usu\xe1rio"},{icon:o.a.createElement(mv.a,null),name:"Intervalo",type:"interval",description:"Pausar execu\xe7\xe3o por tempo"}]},{name:"L\xf3gica",color:e=>e.palette.secondary.main,icon:o.a.createElement(uv.a,null),nodes:[{icon:o.a.createElement(uv.a,null),name:"Randomizador",type:"random",description:"Escolha aleat\xf3ria de caminhos"}]},{name:"Sistema",color:e=>e.palette.info.main,icon:o.a.createElement(pv.a,null),nodes:[{icon:o.a.createElement(pv.a,null),name:"Filas",type:"ticket",description:"Gerenciar filas de atendimento"},{icon:o.a.createElement(gv.a,null),name:"Tags",type:"tag",description:"Adicionar tags ao contato"},{icon:o.a.createElement(gv.a,null),name:"Remover Tag",type:"removeTag",description:"Remover tags do contato"},{icon:o.a.createElement(hv.a,null),name:"Trocar Flow",type:"switchFlow",description:"Direcionar para outro fluxo"},{icon:o.a.createElement(bv.a,null),name:"Atendente",type:"attendant",description:"Transferir para atendente"}]},{name:"Integra\xe7\xf5es",color:e=>e.palette.error.main,icon:o.a.createElement(Jf.a,null),nodes:[{icon:o.a.createElement(Jf.a,null),name:"HTTP Request",type:"httpRequest",description:"Requisi\xe7\xe3o HTTP externa"},{icon:o.a.createElement(Zf.a,null),name:"Vari\xe1vel",type:"variable",description:"Definir vari\xe1veis globais"},{icon:o.a.createElement(qf.b,null),name:"Gemini",type:"gemini",description:"Integra\xe7\xe3o com Gemini"},{icon:o.a.createElement(qf.b,null),name:"OpenAI",type:"openai",description:"Integra\xe7\xe3o com OpenAI/"}]}];function Mx(e){for(var a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}const Nx={message:kv,start:wv,menu:Ov,interval:Sv,img:Iv,gemini:Tv,audio:qv,randomizer:Mv,video:Rv,singleBlock:zv,ticket:Uv,tag:Vv,removeTag:fy,switchFlow:Fv,attendant:Wv,httpRequest:Ey,variable:vy,openai:Av,input:Sy},Rx={buttonedge:function(e){let{id:a,sourceX:t,sourceY:n,targetX:l,targetY:r,sourcePosition:i,targetPosition:s,style:c={},data:d,arrowHeadType:m,markerEndId:u}=e;const p=Object(tv.c)({sourceX:t,sourceY:n,sourcePosition:i,targetX:l,targetY:r,targetPosition:s}),g=u?"url(#".concat(u,")"):null,[b,E]=Object(tv.d)({sourceX:t,sourceY:n,targetX:l,targetY:r});return o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{id:a,style:c,className:"react-flow__edge-path",d:p,markerEnd:g}),o.a.createElement("foreignObject",{width:40,height:40,x:b-20,y:E-20,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml"},o.a.createElement("body",null)))}},Dx=[{id:"1",position:{x:250,y:100},data:{label:"Inicio do fluxo"},type:"start"}],Px=[],Fx=()=>{const e=jx(),{zoomIn:a,zoomOut:t,fitView:n}=Object(av.b)();return o.a.createElement("div",{className:e.mobileControls},o.a.createElement(F.a,{onClick:()=>a(),className:e.controlButton,size:"small"},o.a.createElement(Uf.a,null)),o.a.createElement(F.a,{onClick:()=>t(),className:e.controlButton,size:"small"},o.a.createElement(Vf.a,null)),o.a.createElement(F.a,{onClick:()=>n({padding:.2}),className:e.controlButton,size:"small"},o.a.createElement(_f.a,null)))},Lx=e=>{let{onActionClick:a}=e;const t=jx(),n=[{icon:o.a.createElement(cv.a,null),name:"Texto",type:"text"},{icon:o.a.createElement(dv.a,null),name:"Menu",type:"menu"},{icon:o.a.createElement(mv.a,null),name:"Intervalo",type:"interval"},{icon:o.a.createElement(sv.a,null),name:"Conte\xfado",type:"content"}];return o.a.createElement("div",{className:t.quickActions},n.map(e=>o.a.createElement(de.a,{key:e.type,title:e.name,placement:"left"},o.a.createElement(F.a,{onClick:()=>a(e.type),className:t.quickActionButton,size:"medium"},e.icon))))},Wx=()=>{const e=Object(D.a)(),a=Object(E.a)(e.breakpoints.down("md")),{id:t}=Object(Um.useParams)(),[l,r]=Object(n.useState)(!a),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(["B\xe1sicos"]),m=jx({sidebarOpen:l}),{user:p}=Object(n.useContext)(Ca),[g,b]=Object(n.useState)(!1),[h,f]=Object(n.useState)(1),[v,y]=Object(n.useState)(null),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(null),[A,T]=Object(n.useState)(!1),[j,I]=Object(n.useState)(null),[M,N]=Object(n.useState)(null),[R,P]=Object(n.useState)(null),[W,B]=Object(n.useState)(null),[q,U]=Object(n.useState)(null),[V,H]=Object(n.useState)(null),[Q,G]=Object(n.useState)(null),[Y,J]=Object(n.useState)(null),[X,Z]=Object(n.useState)(null),[$,ee]=Object(n.useState)(null),[ae,te]=Object(n.useState)(null),[ne,oe]=Object(n.useState)(null),[le,re]=Object(n.useState)(null),[ie,se]=Object(n.useState)(null),[me,ue,pe]=Object(tv.f)(Dx),[ge,be,Ee]=Object(tv.e)(Px),he=Cv(),fe={stroke:e.palette.primary.main,strokeWidth:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0?"8px":"6px"};Object(n.useEffect)(()=>{window.flowVariables||(window.flowVariables={},console.log("Sistema de vari\xe1veis globais inicializado")),window.getFlowVariable=yy,window.setFlowVariable=xy},[]);const ve=(e,a)=>{const t=me[me.length-1].position.y,n=me[me.length-1].position.x+(me[me.length-1].width||200)+40;return"start"===e?ue(e=>[...e.filter(e=>"1"!==e.id),{id:"1",position:{x:n,y:t},data:{label:"Inicio do fluxo"},type:"start"}]):"text"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:{label:a.text},type:"message"}]):"interval"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:{label:"Intervalo ".concat(a.sec," seg."),sec:a.sec},type:"interval"}]):"menu"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:{message:a.message,arrayOption:a.arrayOption},type:"menu"}]):"img"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:{url:a.url},type:"img"}]):"audio"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:{url:a.url,record:a.record},type:"audio"}]):"randomizer"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:{percent:a.percent},type:"randomizer"}]):"video"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:{url:a.url},type:"video"}]):"singleBlock"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({},a),type:"singleBlock"}]):"ticket"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({},a),type:"ticket"}]):"openai"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({},a),type:"openai"}]):"gemini"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({},a),type:"gemini"}]):"tag"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({},a),type:"tag"}]):"removeTag"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({tag:(null===a||void 0===a?void 0:a.tag)||""},a),type:"removeTag"}]):"switchFlow"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({},a),type:"switchFlow"}]):"attendant"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({},a),type:"attendant"}]):"httpRequest"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({url:"",method:(null===a||void 0===a?void 0:a.method)||"POST",requestBody:(null===a||void 0===a?void 0:a.requestBody)||"{}",headersString:(null===a||void 0===a?void 0:a.headersString)||"",queryParams:(null===a||void 0===a?void 0:a.queryParams)||[],saveVariables:(null===a||void 0===a?void 0:a.saveVariables)||[]},a),type:"httpRequest"}]):"variable"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({variableName:(null===a||void 0===a?void 0:a.variableName)||"",variableValue:(null===a||void 0===a?void 0:a.variableValue)||"",variableType:(null===a||void 0===a?void 0:a.variableType)||"text",variableExpression:(null===a||void 0===a?void 0:a.variableExpression)||"",isExpression:(null===a||void 0===a?void 0:a.isExpression)||!1},a),type:"variable"}]):"input"===e?ue(e=>[...e,{id:Mx(30),position:{x:n,y:t},data:Object(S.a)({question:(null===a||void 0===a?void 0:a.question)||"",variableName:(null===a||void 0===a?void 0:a.variableName)||""},a),type:"input"}]):void 0};Object(n.useEffect)(()=>{b(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/flowbuilder/flow/".concat(t));if(null!==e.flow.flow){const a=e.flow.flow.nodes.map(e=>{var a,t;"httpRequest"===e.type&&(console.log("[FlowBuilder] Processando n\xf3 HTTP Request: ".concat(e.id)),e.data.saveVariables&&e.data.saveVariables.length>0?(console.log("[FlowBuilder] N\xf3 ".concat(e.id," tem ").concat(e.data.saveVariables.length," vari\xe1veis configuradas")),e.data.responseVariables&&Array.isArray(e.data.responseVariables)||(console.log("[FlowBuilder] Configurando responseVariables para n\xf3 ".concat(e.id)),e.data.responseVariables=e.data.saveVariables.map(e=>({path:e.path,variableName:e.variable})))):(e.data.saveVariables=e.data.saveVariables||[],e.data.responseVariables=e.data.responseVariables||[]),console.log("[FlowBuilder] N\xf3 HTTP Request ".concat(e.id," processado:"),{url:e.data.url,method:e.data.method,saveVariables:(null===(a=e.data.saveVariables)||void 0===a?void 0:a.length)||0,responseVariables:(null===(t=e.data.responseVariables)||void 0===t?void 0:t.length)||0}));return e});ue(a),be(e.flow.flow.connections)}b(!1)}catch(e){ga(e)}})()},500);return()=>clearTimeout(e)},[t]),Object(n.useEffect)(()=>{if("delete"===he.action&&(ue(e=>e.filter(e=>e.id!==he.node)),be(e=>e.filter(e=>e.source!==he.node).filter(e=>e.target!==he.node)),he.setNodesStorage(""),he.setAct("idle")),"duplicate"===he.action){const a=me.filter(e=>e.id===he.node)[0],t=me.map(e=>e.position.x),n=Math.max(...t),o=me[me.length-1].position.y,l=Object(S.a)(Object(S.a)({},a),{},{id:Mx(30),position:{x:n+240,y:o},selected:!1,style:{backgroundColor:e.palette.grey[800],padding:0,borderRadius:8,border:"1px solid ".concat(e.palette.divider)}});ue(e=>[...e,l]),he.setNodesStorage(""),he.setAct("idle")}},[he.action,me,e]);const ye=Object(n.useCallback)(e=>be(a=>Object(nv.n)(e,a)),[be]),xe=e=>{ue(a=>a.map(a=>a.id===e.id?e:a)),w(null),T(null),I(null),N(null),te(null),P(null),B(null),U(null),oe(null),H(null),G(null),se(null),J(null),Z(null),ee(null),re(null)},Ce=e=>{switch(s(!1),e){case"start":ve("start");break;case"menu":I("create");break;case"content":H("create");break;case"text":w("create");break;case"random":B("create");break;case"interval":T("create");break;case"ticket":G("create");break;case"tag":J("create");break;case"removeTag":se("create");break;case"switchFlow":Z("create");break;case"attendant":ee("create");break;case"httpRequest":ve("httpRequest");break;case"variable":ve("variable");break;case"input":re("create");break;case"openai":te("create");break;case"gemini":oe("create");break;case"img":N("create");break;case"audio":P("create");break;case"video":U("create")}},ke=()=>o.a.createElement("div",{className:m.sidebarContent},Ix.map(a=>o.a.createElement("div",{key:a.name},l?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:m.categoryHeader},o.a.createElement(tn.a,{display:"flex",alignItems:"center",justifyContent:"space-between",onClick:()=>{return e=a.name,void d(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e]);var e},style:{cursor:"pointer"}},o.a.createElement(tn.a,{display:"flex",alignItems:"center",gap:1},o.a.createElement(tn.a,{sx:{color:"function"===typeof a.color?a.color(e):a.color}},a.icon),o.a.createElement(z.a,{variant:"body2"},a.name)),c.includes(a.name)?o.a.createElement(Hf.a,null):o.a.createElement(Hc.a,null))),o.a.createElement(ce.a,{in:c.includes(a.name)},o.a.createElement(L.a,{dense:!0},a.nodes.map(t=>o.a.createElement(_.a,{key:t.type,disablePadding:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"text",className:m.nodeButton,onClick:()=>Ce(t.type),startIcon:o.a.createElement(tn.a,{sx:{color:"function"===typeof a.color?a.color(e):a.color}},t.icon)},o.a.createElement(tn.a,{textAlign:"left",width:"100%"},o.a.createElement(z.a,{variant:"body2"},t.name),o.a.createElement(z.a,{variant:"caption",color:"textSecondary"},t.description)))))))):o.a.createElement("div",null,a.nodes.map(t=>o.a.createElement(de.a,{key:t.type,title:t.name,placement:"right"},o.a.createElement(F.a,{className:m.collapsedNodeButton,onClick:()=>Ce(t.type),style:{color:"function"===typeof a.color?a.color(e):a.color}},t.icon))))))),we=()=>o.a.createElement(zf.a,{direction:"up",in:i,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement("div",{className:m.bottomSheet},o.a.createElement("div",{className:m.bottomSheetHandle,onClick:()=>s(!1)}),o.a.createElement("div",{className:m.bottomSheetHeader},o.a.createElement(z.a,{variant:"h6"},"Adicionar N\xf3s"),o.a.createElement(F.a,{onClick:()=>s(!1),size:"small"},o.a.createElement(Bn.a,null))),o.a.createElement("div",{className:m.bottomSheetContent},o.a.createElement(Yt.a,{container:!0,spacing:2},Ix.map(a=>o.a.createElement(Yt.a,{item:!0,xs:6,key:a.name},o.a.createElement(Gt.a,{elevation:1,className:m.categoryCard,style:{padding:8}},o.a.createElement(z.a,{variant:"subtitle2",className:m.categoryTitle,style:{color:"function"===typeof a.color?a.color(e):a.color,marginBottom:8}},a.name),a.nodes.map(t=>o.a.createElement(K.a,{key:t.type,fullWidth:!0,variant:"outlined",onClick:()=>Ce(t.type),startIcon:o.a.createElement(tn.a,{sx:{color:"function"===typeof a.color?a.color(e):a.color}},t.icon),className:m.categoryNodeBtn,size:"small"},t.name)))))))));return g?o.a.createElement("div",{className:m.root},o.a.createElement("div",{className:m.header},o.a.createElement(km,null,o.a.createElement(Tm,null,"Editor de Fluxos"))),o.a.createElement("div",{className:m.loadingContainer},o.a.createElement(Lt.a,{style:{color:e.palette.primary.main}}))):o.a.createElement("div",{className:m.root},o.a.createElement("div",{className:m.header},o.a.createElement(km,null,o.a.createElement(Tm,null,"Editor de Fluxos"))),o.a.createElement("div",{className:m.content},!a&&o.a.createElement("div",{className:m.sidebar},o.a.createElement("div",{className:m.sidebarHeader},l&&o.a.createElement(z.a,{variant:"subtitle1",fontWeight:"bold"},"Adicionar N\xf3s"),o.a.createElement(F.a,{onClick:()=>r(!l),size:"small"},l?o.a.createElement(Qf.a,null):o.a.createElement(Gf.a,null))),o.a.createElement(ke,null)),o.a.createElement("div",{className:m.flowContainer},o.a.createElement(tv.b,{nodes:me,edges:ge,deleteKeyCode:["Backspace","Delete"],onNodesChange:pe,onEdgesChange:Ee,onNodeDoubleClick:(e,a)=>{y(a),"message"===a.type&&w("edit"),"interval"===a.type&&T("edit"),"menu"===a.type&&I("edit"),"img"===a.type&&N("edit"),"audio"===a.type&&P("edit"),"randomizer"===a.type&&B("edit"),"video"===a.type&&U("edit"),"singleBlock"===a.type&&H("edit"),"ticket"===a.type&&G("edit"),"tag"===a.type&&J("edit"),"removeTag"===a.type&&se("edit"),"switchFlow"===a.type&&Z("edit"),"openai"===a.type&&te("edit"),"gemini"===a.type&&oe("edit"),"attendant"===a.type&&ee("edit"),"httpRequest"===a.type&&a.data.saveVariables&&a.data.saveVariables.length>0&&(a.data.responseVariables&&Array.isArray(a.data.responseVariables)||(a.data.responseVariables=a.data.saveVariables.map(e=>({path:e.path,variableName:e.variable})),ue(e=>e.map(e=>e.id===a.id?a:e)),console.log("[FlowBuilder] N\xf3 HTTP Request atualizado:",a.id))),"input"===a.type&&re("edit")},onNodeClick:(a,t)=>{ue(a=>a.map(a=>a.id===t.id?Object(S.a)(Object(S.a)({},a),{},{style:{backgroundColor:e.palette.primary.main,padding:1,borderRadius:8,border:"2px solid ".concat(e.palette.primary.dark)}}):Object(S.a)(Object(S.a)({},a),{},{style:{backgroundColor:e.palette.grey[800],padding:0,borderRadius:8,border:"1px solid ".concat(e.palette.divider)}})))},onEdgeClick:(a,t)=>{ue(a=>a.map(a=>Object(S.a)(Object(S.a)({},a),{},{style:{backgroundColor:e.palette.grey[800],padding:0,borderRadius:8,border:"1px solid ".concat(e.palette.divider)}})))},onConnect:ye,nodeTypes:Nx,fitView:!0,connectionLineStyle:fe,style:{backgroundColor:"#F8F9FA"},edgeTypes:Rx,variant:"cross",defaultEdgeOptions:{style:{color:"#ff0000",strokeWidth:"6px"},animated:!1}},o.a.createElement(ov.b,null),o.a.createElement(lv.a,null),o.a.createElement(rv.a,{variant:"dots",gap:12,size:-1})))),a&&o.a.createElement(Fx,null),o.a.createElement(es.a,{color:"primary",className:m.fab,onClick:async()=>{try{console.log("[FlowBuilder] Preparando para salvar fluxo...");const e=me.map(e=>{var a,t;"httpRequest"===e.type&&(console.log("[FlowBuilder] Processando n\xf3 HTTP Request: ".concat(e.id)),e.data.saveVariables&&e.data.saveVariables.length>0?(console.log("[FlowBuilder] N\xf3 ".concat(e.id," tem ").concat(e.data.saveVariables.length," vari\xe1veis configuradas")),e.data.responseVariables&&Array.isArray(e.data.responseVariables)||(console.log("[FlowBuilder] Configurando responseVariables para n\xf3 ".concat(e.id)),e.data.responseVariables=e.data.saveVariables.map(e=>({path:e.path,variableName:e.variable})))):(e.data.saveVariables=e.data.saveVariables||[],e.data.responseVariables=e.data.responseVariables||[]),console.log("[FlowBuilder] N\xf3 HTTP Request ".concat(e.id," processado:"),{url:e.data.url,method:e.data.method,saveVariables:(null===(a=e.data.saveVariables)||void 0===a?void 0:a.length)||0,responseVariables:(null===(t=e.data.responseVariables)||void 0===t?void 0:t.length)||0}));return e});console.log("[FlowBuilder] Enviando fluxo para o servidor..."),await u.post("/flowbuilder/flow",{idFlow:t,nodes:e,connections:ge}).then(a=>{O.b.success("Fluxo salvo com sucesso"),ue(e)})}catch(e){O.b.error("Erro ao salvar o fluxo"),console.error("Erro ao salvar o fluxo:",e)}},title:"Salvar Fluxo"},o.a.createElement(Pf.a,null)),!a&&o.a.createElement(Lx,{onActionClick:Ce}),a&&o.a.createElement(we,null),a&&o.a.createElement(es.a,{color:"secondary",className:m.addFab,onClick:()=>s(!0)},o.a.createElement(ml.a,null)),a&&i&&o.a.createElement($i.a,{onClickAway:()=>s(!1)},o.a.createElement("div",null)),o.a.createElement(Yy,{open:k,onSave:e=>ve("text",e),data:v,onUpdate:xe,close:w}),o.a.createElement(Xy,{open:A,onSave:e=>ve("interval",e),data:v,onUpdate:xe,close:T}),o.a.createElement(nx,{open:j,onSave:e=>ve("menu",e),data:v,onUpdate:xe,close:I}),o.a.createElement(Ny,{open:M,onSave:e=>ve("img",e),data:v,onUpdate:xe,close:N}),o.a.createElement(Fy,{open:R,onSave:e=>ve("audio",e),data:v,onUpdate:xe,close:P}),o.a.createElement(zy,{open:W,onSave:e=>ve("randomizer",e),data:v,onUpdate:xe,close:B}),o.a.createElement(Vy,{open:q,onSave:e=>ve("video",e),data:v,onUpdate:xe,close:U}),o.a.createElement(Ky,{open:V,onSave:e=>ve("singleBlock",e),data:v,onUpdate:xe,close:H}),o.a.createElement(Dy,{open:Q,onSave:e=>ve("ticket",e),data:v,onUpdate:xe,close:G}),o.a.createElement(wx,{open:ae,onSave:e=>ve("openai",e),data:v,onUpdate:xe,close:te}),o.a.createElement(Sx,{open:ne,onSave:e=>ve("gemini",e),data:v,onUpdate:xe,close:oe}),o.a.createElement(Wy,{open:Y,onSave:e=>ve("tag",e),data:v,onUpdate:xe,close:J}),o.a.createElement(bx,{open:ie,onSave:e=>ve("removeTag",e),data:v,onUpdate:xe,close:()=>se(null)}),o.a.createElement(lx,{open:X,onSave:e=>ve("switchFlow",e),data:v,onUpdate:xe,close:Z}),o.a.createElement(ix,{open:$,onSave:e=>ve("attendant",e),data:v,onUpdate:xe,close:ee}),o.a.createElement(px,{open:le,onSave:e=>ve("input",e),data:v,onUpdate:xe,close:re}))};var Bx=t(1570),qx=t(1571),zx=t(1572),Ux=t(1573),Vx=t(1574),Hx=t(1575),Qx=t(1568),Gx=t(1569),Kx=t(891),_x=t(1626);const Yx=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:_a.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Jx=Dt.e().shape({name:Dt.f().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!")});var Xx=e=>{let{open:a,onClose:t,flowId:l,nameWebhook:r="",initialValues:i,onSave:s}=e;const c=Yx(),d=Object(n.useRef)(!0),[m,p]=Object(n.useState)({name:r});Object(n.useEffect)(()=>()=>{d.current=!1},[]);const g=()=>{t(),p({name:""})};return o.a.createElement("div",{className:c.root},o.a.createElement(H.a,{open:a,onClose:g,fullWidth:"md",scroll:"paper"},o.a.createElement(Q.a,{id:"form-dialog-title"},"".concat(l?ma.a.t("contacts.editFlow"):ma.a.t("contacts.addFlow"))),o.a.createElement(Pt.e,{initialValues:m,enableReinitialize:!0,validationSchema:Jx,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(l)try{await u.put("/flowbuilder",{name:e.name,flowId:l}),s(e.name),g(),O.b.success(ma.a.t("webhookModal.toasts.update"))}catch(a){ga(a)}else try{await u.post("/flowbuilder",{name:e.name}),s(e.name),g(),O.b.success(ma.a.t("webhookModal.saveSuccess"))}catch(a){ga(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r}=e;return o.a.createElement(Pt.d,null,o.a.createElement(G.a,{dividers:!0},o.a.createElement(Pt.b,{as:Ft.a,label:ma.a.t("contactModal.form.name"),name:"name",autoFocus:!0,defaultValue:m.name,error:Boolean(t.name),helperText:t.name,variant:"outlined",margin:"dense",className:c.textField,style:{width:"95%"}})),o.a.createElement(X.a,null,o.a.createElement(K.a,{onClick:g,color:"secondary",disabled:r,variant:"outlined"},ma.a.t("contactModal.buttons.cancel")),o.a.createElement(K.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:c.btnWrapper},"".concat(l?ma.a.t("contactModal.buttons.okEdit"):ma.a.t("contactModal.buttons.okAdd")),r&&o.a.createElement(Lt.a,{size:24,className:c.buttonProgress}))))})))};const Zx=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},$x=Object(I.a)(e=>({root:{backgroundColor:e.palette.background.default,minHeight:"100vh"},mainContainer:{maxWidth:1200,margin:"0 auto",padding:e.spacing(3),[e.breakpoints.down("sm")]:{padding:e.spacing(1)}},mainPaper:Object(S.a)(Object(S.a)({flex:1,padding:e.spacing(2),overflowY:"scroll"},e.scrollbarStyles),{},{backgroundColor:e.palette.background.paper,borderRadius:16,marginTop:e.spacing(2),border:"1px solid ".concat(e.palette.divider)}),header:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1],borderRadius:16,padding:e.spacing(3),marginBottom:e.spacing(3),border:"1px solid ".concat(e.palette.divider),[e.breakpoints.down("sm")]:{padding:e.spacing(2),marginBottom:e.spacing(2),borderRadius:12}},title:{fontSize:"1.75rem",fontWeight:700,color:e.palette.text.primary,margin:0,[e.breakpoints.down("sm")]:{fontSize:"1.5rem"}},searchContainer:{backgroundColor:e.palette.background.paper,borderRadius:16,padding:e.spacing(2),marginBottom:e.spacing(3),boxShadow:e.shadows[1],border:"1px solid ".concat(e.palette.divider),[e.breakpoints.down("sm")]:{padding:e.spacing(1.5),marginBottom:e.spacing(2),borderRadius:12}},searchField:{"& .MuiOutlinedInput-root":{backgroundColor:"dark"===e.palette.type?e.palette.grey[800]:e.palette.grey[50],borderRadius:12,"& fieldset":{border:"none"},"&:hover":{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[100]},"&.Mui-focused":{backgroundColor:e.palette.background.paper,boxShadow:"dark"===e.palette.type?"0 0 0 3px rgba(144, 202, 249, 0.16)":"0 0 0 3px rgba(25, 118, 210, 0.12)"}},"& .MuiInputBase-input":{color:e.palette.text.primary,fontSize:"0.95rem"}},flowCard:{backgroundColor:e.palette.background.paper,borderRadius:16,marginBottom:e.spacing(2),border:"1px solid ".concat(e.palette.divider),transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[4],borderColor:e.palette.primary.light},[e.breakpoints.down("sm")]:{marginBottom:e.spacing(1.5),borderRadius:12}},flowCardContent:{padding:e.spacing(3),"&:last-child":{paddingBottom:e.spacing(3)},[e.breakpoints.down("sm")]:{padding:e.spacing(2),"&:last-child":{paddingBottom:e.spacing(2)}}},flowIcon:{width:48,height:48,backgroundColor:e.palette.primary.main,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.spacing(2),[e.breakpoints.down("sm")]:{width:40,height:40,marginRight:e.spacing(1.5)}},flowName:{fontSize:"1.125rem",fontWeight:600,color:e.palette.text.primary,lineHeight:1.4,[e.breakpoints.down("sm")]:{fontSize:"1rem"}},flowActions:{display:"flex",alignItems:"center",gap:e.spacing(1),marginTop:e.spacing(2),[e.breakpoints.down("sm")]:{marginTop:e.spacing(1.5)}},statusChip:{fontWeight:500,borderRadius:8,"&.active":{backgroundColor:"dark"===e.palette.type?"#1b5e20":"#e8f5e8",color:"dark"===e.palette.type?"#4caf50":"#2e7d32",border:"1px solid ".concat("dark"===e.palette.type?"#2e7d32":"#c8e6c9")},"&.inactive":{backgroundColor:"dark"===e.palette.type?"#b71c1c":"#ffebee",color:"dark"===e.palette.type?"#f44336":"#c62828",border:"1px solid ".concat("dark"===e.palette.type?"#c62828":"#ffcdd2")}},actionButton:{minWidth:40,width:40,height:40,borderRadius:10,color:e.palette.text.secondary,"&:hover":{backgroundColor:e.palette.action.hover,color:e.palette.primary.main},[e.breakpoints.down("sm")]:{minWidth:36,width:36,height:36}},menuButton:{minWidth:40,width:40,height:40,borderRadius:10,color:e.palette.text.secondary,border:"1px solid ".concat(e.palette.divider),"&:hover":{backgroundColor:e.palette.action.hover,borderColor:e.palette.text.secondary}},emptyState:{textAlign:"center",padding:e.spacing(6),backgroundColor:e.palette.background.paper,borderRadius:16,border:"1px solid ".concat(e.palette.divider),[e.breakpoints.down("sm")]:{padding:e.spacing(4)}},emptyIcon:{fontSize:64,color:e.palette.text.disabled,marginBottom:e.spacing(2)},emptyTitle:{fontSize:"1.25rem",fontWeight:600,color:e.palette.text.primary,marginBottom:e.spacing(1)},emptyDescription:{color:e.palette.text.secondary,fontSize:"0.95rem"},addButton:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,borderRadius:12,padding:e.spacing(1.5,3),textTransform:"none",fontWeight:600,fontSize:"0.95rem",boxShadow:e.shadows[3],"&:hover":{backgroundColor:e.palette.primary.dark,boxShadow:e.shadows[6]},[e.breakpoints.down("sm")]:{padding:e.spacing(1.2,2.5)}},fab:{position:"fixed",bottom:e.spacing(3),right:e.spacing(3),backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,width:64,height:64,boxShadow:e.shadows[6],"&:hover":{backgroundColor:e.palette.primary.dark,boxShadow:e.shadows[12]},[e.breakpoints.down("sm")]:{bottom:e.spacing(2),right:e.spacing(2),width:56,height:56}},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,backgroundColor:e.palette.background.paper,borderRadius:16,border:"1px solid ".concat(e.palette.divider)},menu:{"& .MuiPaper-root":{borderRadius:12,border:"1px solid ".concat(e.palette.divider),boxShadow:e.shadows[8],minWidth:180,backgroundColor:e.palette.background.paper},"& .MuiMenuItem-root":{padding:e.spacing(1.5,2),fontSize:"0.9rem",color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.action.hover}}}}));function eC(e){let{children:a}=e;const t=Object(Qx.a)();return o.a.createElement(Gx.a,{appear:!1,direction:"up",in:!t},a)}function aC(e){let{flow:a,onEdit:t,onDuplicate:l,onDelete:r,onNavigate:i,classes:s}=e;const[c,d]=Object(n.useState)(null),m=Object(D.a)(),u=Object(E.a)(m.breakpoints.down("sm")),p=()=>{d(null)},g=e=>{p(),e()};return o.a.createElement(Ks.a,{className:s.flowCard,onClick:e=>{e.target.closest("button")||e.target.closest('[role="button"]')||i(a.id)}},o.a.createElement(Gs.a,{className:s.flowCardContent},o.a.createElement(Mh.a,{direction:"row",alignItems:"flex-start",spacing:2},o.a.createElement("div",{className:s.flowIcon},o.a.createElement(Bx.a,{style:{color:m.palette.primary.contrastText,fontSize:u?20:24}})),o.a.createElement(Xo.a,{flex:1},o.a.createElement(_c.a,{className:s.flowName},a.name),o.a.createElement("div",{className:s.flowActions},o.a.createElement(Gv.a,{size:"small",label:a.active?"Ativo":"Inativo",className:"".concat(s.statusChip," ").concat(a.active?"active":"inactive"),icon:a.active?o.a.createElement(qx.a,null):o.a.createElement(zx.a,null)}),o.a.createElement(Xo.a,{flex:1}),o.a.createElement(Hv.a,{className:s.actionButton,onClick:e=>{e.stopPropagation(),t()},size:"small"},o.a.createElement(Ux.a,{fontSize:"small"})),o.a.createElement(Hv.a,{className:s.actionButton,onClick:e=>{e.stopPropagation(),l()},size:"small"},o.a.createElement(vv.a,{fontSize:"small"})),o.a.createElement(Hv.a,{className:s.menuButton,onClick:e=>{e.stopPropagation(),d(e.currentTarget)},size:"small"},o.a.createElement(Vx.a,{fontSize:"small"}))))),o.a.createElement(Kx.a,{className:s.menu,anchorEl:c,open:Boolean(c),onClose:p},o.a.createElement(Bl.a,{onClick:()=>g(()=>i(a.id))},o.a.createElement(Hx.a,{fontSize:"small",style:{marginRight:12,color:m.palette.text.secondary}}),"Editar fluxo"),o.a.createElement(cx.a,null),o.a.createElement(Bl.a,{onClick:()=>g(()=>r(a.id))},o.a.createElement(yv.a,{fontSize:"small",style:{marginRight:12,color:m.palette.error.main}}),"Excluir fluxo"))))}var tC=()=>{const e=$x(),a=Object(D.a)(),t=Object(E.a)(a.breakpoints.down("sm")),l=Object(T.useHistory)(),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(Zx,[]),[b,h]=Object(n.useState)([]),[f,v]=Object(n.useState)(null),[y,x]=Object(n.useState)(null),[C,k]=Object(n.useState)(!1),[w,A]=Object(n.useState)(!1),[S,j]=Object(n.useState)({}),[I,M]=Object(n.useState)(null),[N,R]=Object(n.useState)(!1),[P,F]=Object(n.useState)(!1),[L,W]=Object(n.useState)(!1),[B,q]=Object(n.useState)(!1),{user:z,socket:U}=Object(n.useContext)(Ca);Object(n.useEffect)(()=>{g({type:"RESET"}),c(1)},[d]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/flowbuilder");h(e.flows),g({type:"LOAD_CONTACTS",payload:e.flows}),W(e.hasMore),i(!1)}catch(e){ga(e),i(!1)}})()},500);return()=>clearTimeout(e)},[d,s,B]),Object(n.useEffect)(()=>{const e=z.companyId;return U.on("company-".concat(e,"-contact"),e=>{"update"!==e.action&&"create"!==e.action||g({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&g({type:"DELETE_CONTACT",payload:+e.contactId})}),()=>{U.disconnect()}},[]);const V=()=>{v(null),k(!0)},H=b.filter(e=>e.name.toLowerCase().includes(d.toLowerCase()));return o.a.createElement(yo,{className:e.mainContainer},o.a.createElement(nr,{modalOpen:w,initialContact:S,onClose:e=>{(e=>{A(!1),void 0!==e&&void 0!==e.uuid&&l.push("/tickets/".concat(e.uuid))})(e)}}),o.a.createElement(Xx,{open:C,onClose:()=>{v(null),k(!1)},"aria-labelledby":"form-dialog-title",flowId:f,nameWebhook:y,onSave:()=>q(e=>!e)}),o.a.createElement(Si,{title:I?'Excluir fluxo "'.concat(I.name,'"?'):"".concat(ma.a.t("contacts.confirmationModal.importTitlte")),open:N,onClose:R,onConfirm:e=>I?(async e=>{try{await u.delete("/flowbuilder/".concat(e)).then(e=>{M(null),q(e=>!e)}),O.b.success("Fluxo exclu\xeddo com sucesso")}catch(a){ga(a)}})(I.id):()=>{}},I?"Esta a\xe7\xe3o n\xe3o pode ser desfeita. Todas as integra\xe7\xf5es relacionadas ser\xe3o perdidas.":"".concat(ma.a.t("contacts.confirmationModal.importMessage"))),o.a.createElement(Si,{title:I?'Duplicar fluxo "'.concat(I.name,'"?'):"".concat(ma.a.t("contacts.confirmationModal.importTitlte")),open:P,onClose:F,onConfirm:e=>I?(async e=>{try{await u.post("/flowbuilder/duplicate",{flowId:e}).then(e=>{M(null),q(e=>!e)}),O.b.success("Fluxo duplicado com sucesso")}catch(a){ga(a)}})(I.id):()=>{}},I?"Uma c\xf3pia do fluxo ser\xe1 criada para voc\xea editar.":"".concat(ma.a.t("contacts.confirmationModal.importMessage"))),o.a.createElement(km,null,o.a.createElement(Tm,null,"Fluxos de Conversa (",b.length,")"),o.a.createElement(Am,null,o.a.createElement(Ft.a,{className:e.searchField,placeholder:"Buscar fluxos...",type:"search",value:d,onChange:e=>{m(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(yi.a,{position:"start"},o.a.createElement(si.a,{style:{color:a.palette.text.secondary}}))}}),o.a.createElement(Jo.a,{variant:"contained",color:"primary",onClick:V},"Novo Fluxo"))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!L||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},r&&!b.length?o.a.createElement("div",{className:e.loadingContainer},o.a.createElement(VE.a,{style:{color:a.palette.primary.main}})):0===H.length?o.a.createElement("div",{className:e.emptyState},o.a.createElement(Bx.a,{className:e.emptyIcon}),o.a.createElement(_c.a,{className:e.emptyTitle},d?"Nenhum fluxo encontrado":"Nenhum fluxo criado ainda"),o.a.createElement(_c.a,{className:e.emptyDescription},d?"Tente usar outros termos de pesquisa":"Crie seu primeiro fluxo de conversa para automatizar atendimentos"),!d&&o.a.createElement(Jo.a,{className:e.addButton,onClick:V,startIcon:o.a.createElement(ax.a,null),style:{marginTop:24}},"Criar Primeiro Fluxo")):o.a.createElement(Mh.a,{spacing:2},H.map(a=>o.a.createElement(aC,{key:a.id,flow:a,classes:e,onEdit:()=>{return v((e=a).id),x(e.name),void k(!0);var e},onDuplicate:()=>{M(a),F(!0)},onDelete:()=>{M(a),R(!0)},onNavigate:e=>l.push("/flowbuilder/".concat(e))})),r&&b.length>0&&o.a.createElement(Xo.a,{display:"flex",justifyContent:"center",p:3},o.a.createElement(VE.a,{size:24,style:{color:a.palette.primary.main}})))),t&&o.a.createElement(eC,null,o.a.createElement(_x.a,{className:e.fab,onClick:V,"aria-label":"Criar fluxo"},o.a.createElement(ax.a,null))))};Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,backgroundColor:"#ffff",borderRadius:12,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}));var nC=t(1576),oC=t(1577),lC=t(1580),rC=t(297);const iC=Object(lC.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:8,flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:HE.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},online:{color:HE.a[500]},offline:{color:rC.a[500]},phraseContainer:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"16px",marginBottom:"8px",backgroundColor:"#fafafa"},addButton:{alignSelf:"flex-start",marginTop:"8px"},whatsappChip:{margin:"2px"}}));var sC=e=>{let{open:a,onClose:t,FlowCampaignId:l,onSave:r}=e;const i=iC(),s=Object(n.useRef)(!0),{user:c}=Object(n.useContext)(Ca),d=null===c||void 0===c?void 0:c.companyId,[m,p]=Object(n.useState)(!0),[g,b]=Object(n.useState)(!1),[E,h]=Object(n.useState)(!0),[f,v]=Object(n.useState)({name:""}),[y,x]=Object(n.useState)({name:!1,flowId:!1,phrases:!1,whatsappIds:!1}),[C,k]=Object(n.useState)([{text:"",type:"exact"}]),[w,A]=Object(n.useState)(null),[T,j]=Object(n.useState)([]),[I,M]=Object(n.useState)([]),[N,R]=Object(n.useState)([]),[D,P]=Object(n.useState)([]),F=()=>{v({name:""}),k([{text:"",type:"exact"}]),A(null),R([]),h(!0),W()};Object(n.useEffect)(()=>{s.current=!0;return(async()=>{if(a){console.log("Modal aberto. FlowCampaignId:",l),F();const e=await(async()=>{try{const e=await u.get("/flowbuilder");return s.current&&(M(e.data.flows||[]),j((e.data.flows||[]).map(e=>e.name))),e.data.flows||[]}catch(e){return console.error("Erro ao buscar flows:",e),s.current&&O.b.error("Erro ao carregar fluxos"),[]}})();await(async()=>{try{const e=await u.get("/whatsapp");s.current&&P(e.data||[])}catch(e){console.error("Erro ao buscar WhatsApps:",e),s.current&&O.b.error("Erro ao carregar conex\xf5es")}})(),l&&await(async e=>{if(l&&s.current){b(!0);try{console.log("Buscando dados da campanha ID: ".concat(l));const n=await u.get("/flowcampaign/".concat(l));console.log("Resposta da API detailsPhrase:",n.data);const o=n.data;if(!s.current)return;v({name:o.name||""}),h(!1!==o.status),o.whatsappIds&&Array.isArray(o.whatsappIds)?R(o.whatsappIds):o.whatsappId&&R([o.whatsappId]);let r=[];try{if(o.phrase)if("string"===typeof o.phrase)try{const e=JSON.parse(o.phrase);r=Array.isArray(e)?e:[{text:o.phrase,type:"exact"}]}catch(a){r=[{text:o.phrase,type:"exact"}]}else Array.isArray(o.phrase)?r=o.phrase:"object"===typeof o.phrase&&(r=[o.phrase]);r=r.map(e=>({text:e.text||e,type:e.type||"exact"})),0===r.length&&(r=[{text:"",type:"exact"}]),console.log("Frases processadas:",r),k(r)}catch(t){console.error("Erro ao processar frases:",t),k([{text:"",type:"exact"}])}if(o.flowId&&e&&e.length>0){const a=e.find(e=>e.id===o.flowId);a?(console.log("Flow encontrado:",a.name),A(a.name)):console.warn("Flow n\xe3o encontrado para ID:",o.flowId)}}catch(t){console.error("Erro ao carregar detalhes:",t),s.current&&O.b.error("Erro ao carregar dados da campanha")}finally{s.current&&b(!1)}}})(e)}})(),()=>{s.current=!1}},[a,l]);const L=(e,a,t)=>{k(n=>{const o=[...n];return o[e]&&(o[e]=Object(S.a)(Object(S.a)({},o[e]),{},{[a]:t})),o})},W=()=>{x({name:!1,flowId:!1,phrases:!1,whatsappIds:!1})},B=()=>{s.current&&(F(),t())};return c&&d?o.a.createElement(Yl.a,{open:a,onClose:B,fullWidth:!0,maxWidth:"md",scroll:"paper",disableEscapeKeyDown:g},o.a.createElement(Jl.a,null,m?o.a.createElement(o.a.Fragment,null,"".concat(l?ma.a.t("campaignsPhrase.editCampaignWithFlowByPhrase"):ma.a.t("campaignsPhrase.newCampaignWithFlowByPhrase"))):o.a.createElement(o.a.Fragment,null,"".concat(ma.a.t("campaigns.dialog.readonly")))),!g&&o.a.createElement(Mh.a,{sx:{padding:"24px",gap:"20px"}},o.a.createElement(Mh.a,{gap:1},o.a.createElement(_c.a,{variant:"subtitle1",fontWeight:500},ma.a.t("campaignsPhrase.phraseTriggerName")),o.a.createElement(Qv.a,{label:"Nome da campanha",name:"name",variant:"outlined",error:y.name,value:f.name,margin:"dense",onChange:e=>{const a=e.target.value;v(e=>Object(S.a)(Object(S.a)({},e),{},{name:a})),a.trim()&&y.name&&x(e=>Object(S.a)(Object(S.a)({},e),{},{name:!1}))},className:i.textField,style:{width:"100%"},helperText:y.name?"Nome \xe9 obrigat\xf3rio":"",disabled:g})),o.a.createElement(Mh.a,{gap:1},o.a.createElement(_c.a,{variant:"subtitle1",fontWeight:500},ma.a.t("campaignsPhrase.chooseAStream")),o.a.createElement(Pl.a,{value:w,onChange:(e,a)=>{A(a),a&&y.flowId&&x(e=>Object(S.a)(Object(S.a)({},e),{},{flowId:!1}))},options:T,disabled:g,renderInput:e=>o.a.createElement(Qv.a,Object.assign({},e,{label:"Selecione um fluxo",variant:"outlined",error:y.flowId,helperText:y.flowId?"Fluxo \xe9 obrigat\xf3rio":""})),style:{width:"100%"}})),o.a.createElement(Mh.a,{gap:1},o.a.createElement(_c.a,{variant:"subtitle1",fontWeight:500},ma.a.t("campaignsPhrase.selectAConnection")," (M\xfaltiplas)"),o.a.createElement(Fl.a,{fullWidth:!0,variant:"outlined",error:y.whatsappIds},o.a.createElement(Ll.a,null,"Conex\xf5es WhatsApp"),o.a.createElement(Wl.a,{multiple:!0,value:N,onChange:e=>{const a=e.target.value;R("string"===typeof a?a.split(","):a),a.length>0&&y.whatsappIds&&x(e=>Object(S.a)(Object(S.a)({},e),{},{whatsappIds:!1}))},label:"Conex\xf5es WhatsApp",disabled:g,renderValue:e=>o.a.createElement(Xo.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},e.map(e=>{const a=D.find(a=>a.id===e);return o.a.createElement(Gv.a,{key:e,label:a?a.name:"ID: ".concat(e),className:i.whatsappChip,size:"small",color:"CONNECTED"===(null===a||void 0===a?void 0:a.status)?"success":"default"})}))},(null===D||void 0===D?void 0:D.length)>0&&D.map(e=>o.a.createElement(Bl.a,{key:e.id,value:e.id},o.a.createElement(cd.a,{checked:N.indexOf(e.id)>-1}),o.a.createElement(nC.a,{primary:o.a.createElement(_c.a,{component:"span",style:{fontSize:14}},e.name," \xa0",o.a.createElement("span",{className:"CONNECTED"===e.status?i.online:i.offline},"(",e.status,")"))})))),y.whatsappIds&&o.a.createElement(_c.a,{variant:"caption",color:"error",sx:{mt:1,ml:2}},"Pelo menos uma conex\xe3o deve ser selecionada")),N.length>0&&o.a.createElement(Kv.a,{severity:"info",sx:{mt:1}},o.a.createElement(_c.a,{variant:"body2"},o.a.createElement("strong",null,N.length," conex\xe3o(\xf5es) selecionada(s):"),o.a.createElement("br",null),"A campanha ser\xe1 executada quando qualquer uma dessas conex\xf5es receber mensagens que fa\xe7am match com as frases configuradas."))),o.a.createElement(cx.a,null),o.a.createElement(Mh.a,{gap:2},o.a.createElement(Xo.a,{display:"flex",alignItems:"center",gap:1},o.a.createElement(_c.a,{variant:"subtitle1",fontWeight:500},"Frases/Palavras que disparam o fluxo"),o.a.createElement(Hv.a,{size:"small"},o.a.createElement(dx.a,{fontSize:"small"}))),o.a.createElement(Kv.a,{severity:"info",sx:{mb:2}},o.a.createElement(_c.a,{variant:"body2"},o.a.createElement("strong",null,"Correspond\xeancia Exata:")," A mensagem deve ser id\xeantica \xe0 frase configurada.",o.a.createElement("br",null),o.a.createElement("strong",null,"Correspond\xeancia Parcial:")," A frase pode estar contida em qualquer parte da mensagem.")),C.map((e,a)=>o.a.createElement(Xo.a,{key:a,className:i.phraseContainer},o.a.createElement(Mh.a,{direction:"row",gap:2,alignItems:"flex-start"},o.a.createElement(Qv.a,{label:"Frase ".concat(a+1),value:e.text,onChange:e=>{L(a,"text",e.target.value),e.target.value.trim()&&y.phrases&&x(e=>Object(S.a)(Object(S.a)({},e),{},{phrases:!1}))},variant:"outlined",fullWidth:!0,placeholder:"Digite a frase ou palavra-chave",error:y.phrases&&!e.text.trim(),helperText:y.phrases&&!e.text.trim()?"Frase \xe9 obrigat\xf3ria":"",disabled:g}),o.a.createElement(Fl.a,{sx:{minWidth:140}},o.a.createElement(Ll.a,null,"Tipo"),o.a.createElement(Wl.a,{value:e.type,onChange:e=>L(a,"type",e.target.value),label:"Tipo",disabled:g},o.a.createElement(Bl.a,{value:"exact"},"Exata"),o.a.createElement(Bl.a,{value:"partial"},"Parcial"))),C.length>1&&o.a.createElement(Hv.a,{onClick:()=>(e=>{C.length>1&&k(a=>a.filter((a,t)=>t!==e))})(a),color:"error",sx:{mt:1},disabled:g},o.a.createElement(yv.a,null))))),o.a.createElement(Jo.a,{variant:"outlined",startIcon:o.a.createElement(oC.a,null),onClick:()=>{k(e=>[...e,{text:"",type:"exact"}])},className:i.addButton,disabled:g},"Adicionar Frase")),o.a.createElement(cx.a,null),o.a.createElement(Mh.a,{direction:"row",gap:2,alignItems:"center"},o.a.createElement(_c.a,{variant:"subtitle1",fontWeight:500},ma.a.t("campaignsPhrase.status")),o.a.createElement(cd.a,{checked:E,onChange:()=>h(e=>!e),disabled:g}),o.a.createElement(_c.a,{variant:"body2",color:"textSecondary"},E?"Ativa":"Inativa"))),o.a.createElement($l.a,{sx:{padding:"16px 24px"}},o.a.createElement(Jo.a,{variant:"outlined",onClick:B,disabled:g},ma.a.t("campaignsPhrase.cancel")),o.a.createElement(Jo.a,{variant:"contained",onClick:async()=>{if((()=>{const e={name:!f.name.trim(),flowId:!w,phrases:0===C.length||C.some(e=>!e.text.trim()),whatsappIds:0===N.length};return x(e),!Object.values(e).some(e=>e)})()){b(!0);try{var e;const a=null===(e=I.find(e=>e.name===w))||void 0===e?void 0:e.id;if(!a)return void O.b.error("Fluxo selecionado n\xe3o encontrado");const t=C.filter(e=>e.text.trim()),n=Object(S.a)({name:f.name.trim(),flowId:a,phrases:t,whatsappIds:N,status:E},l&&{id:l});console.log("Payload para salvar:",n),l?(await u.put("/flowcampaign",n),O.b.success("Campanha atualizada com sucesso!")):(await u.post("/flowcampaign",n),O.b.success("Campanha criada com sucesso!")),r&&r(),B()}catch(a){console.error("Erro ao salvar:",a),O.b.error("Erro ao salvar campanha")}finally{s.current&&b(!1)}}else O.b.error("Por favor, preencha todos os campos obrigat\xf3rios")},disabled:g},g?"Salvando...":l?"Atualizar":"Criar"))):null},cC=t(1578);const dC=Object(I.a)(e=>({mainPaper:Object(S.a)({flex:1,backgroundColor:"#2a273b",borderRadius:12,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),whatsappChip:{margin:"2px",fontSize:"0.75rem",height:"20px"},connectionContainer:{display:"flex",flexWrap:"wrap",gap:"4px",alignItems:"center"}}));var mC=()=>{const e=dC(),{user:a}=(Object(T.useHistory)(),Object(n.useContext)(Ca)),[t,l]=Object(n.useState)(!0),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(null),[d,m]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(),[h,f]=Object(n.useState)([]),v=async()=>{try{l(!0);const e=await u.get("/flowcampaign");console.log("Resposta completa da API:",e.data);let a=[];if(e.data)if(Array.isArray(e.data.flow))a=e.data.flow;else if(e.data.data&&Array.isArray(e.data.data.flow))a=e.data.data.flow;else if(Array.isArray(e.data.data))a=e.data.data;else if(Array.isArray(e.data))a=e.data;else{const t=Object.keys(e.data);for(const n of t)if(Array.isArray(e.data[n])){a=e.data[n];break}}console.log("Dados das campanhas extra\xeddos:",a),m(a)}catch(e){console.error("Erro ao buscar campanhas:",e),ga(e),m([])}finally{l(!1)}};return Object(n.useEffect)(()=>{v(),(async()=>{try{const e=await u.get("/whatsapp");f(e.data||[])}catch(e){console.error("Erro ao buscar WhatsApps:",e)}})()},[]),o.a.createElement(yo,null,o.a.createElement(Si,{title:s&&"".concat(ma.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(s.name,"?"),open:r,onClose:()=>i(!1),onConfirm:()=>(async e=>{try{await u.delete("/flowcampaign/".concat(e)),O.b.success("Campanha deletada com sucesso"),v()}catch(a){ga(a)}i(!1),c(null)})(s.id)},ma.a.t("campaigns.confirmationModal.deleteMessage")),o.a.createElement(sC,{open:p,onClose:()=>g(!1),FlowCampaignId:b,onSave:()=>{v()}}),o.a.createElement(km,null,o.a.createElement(Dl.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Dl.a,{xs:12,sm:8,item:!0},o.a.createElement(Tm,null,"Campanhas de Fluxo")),o.a.createElement(Dl.a,{xs:12,sm:4,item:!0},o.a.createElement(Dl.a,{spacing:2,container:!0},o.a.createElement(Dl.a,{xs:6,sm:6,item:!0}),o.a.createElement(Dl.a,{xs:6,sm:6,item:!0},o.a.createElement(K.a,{fullWidth:!0,variant:"contained",onClick:()=>{E(void 0),g(!0)},color:"primary",style:{textTransform:"none"}},o.a.createElement(Mh.a,{direction:"row",gap:1},o.a.createElement(ax.a,null),"Nova Campanha"))))))),o.a.createElement(Gt.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(Mh.a,null,o.a.createElement(Dl.a,{container:!0,style:{padding:"8px"}},o.a.createElement(Dl.a,{item:!0,xs:3,style:{color:"#ededed"}},"Nome"),o.a.createElement(Dl.a,{item:!0,xs:3,style:{color:"#ededed"},align:"center"},"Conex\xf5es"),o.a.createElement(Dl.a,{item:!0,xs:3,style:{color:"#ededed"},align:"center"},"Status"),o.a.createElement(Dl.a,{item:!0,xs:3,align:"end",style:{color:"#ededed"}},ma.a.t("contacts.table.actions"))),t?o.a.createElement(Mh.a,{justifyContent:"center",alignItems:"center",minHeight:"50vh"},o.a.createElement(VE.a,null)):o.a.createElement(o.a.Fragment,null,d&&Array.isArray(d)&&d.length>0?d.map(t=>o.a.createElement(Dl.a,{container:!0,key:t.id,sx:{padding:"8px",backgroundColor:"#065183",borderRadius:4,marginTop:.5,"&:hover":{backgroundColor:"#07074a"}}},o.a.createElement(Dl.a,{item:!0,xs:3},o.a.createElement(Mh.a,{justifyContent:"center",height:"100%",style:{color:"#ededed"}},o.a.createElement(Mh.a,{direction:"row",alignItems:"center"},o.a.createElement(cC.a,null),o.a.createElement(Mh.a,{justifyContent:"center",marginLeft:1},o.a.createElement(z.a,{variant:"body2",style:{fontWeight:500}},t.name||"Nome n\xe3o definido"),t.phrase&&Array.isArray(t.phrase)&&o.a.createElement(z.a,{variant:"caption",style:{color:"#bbb"}},t.phrase.length," frase(s) configurada(s)"))))),o.a.createElement(Dl.a,{item:!0,xs:3,align:"center"},o.a.createElement(Mh.a,{justifyContent:"center",height:"100%"},(a=>{if(!a||!Array.isArray(a)||0===a.length)return o.a.createElement(z.a,{variant:"body2",color:"textSecondary"},"Nenhuma conex\xe3o");if(a.length>3){const t=a.slice(0,2),n=a.length-2;return o.a.createElement(Xo.a,{className:e.connectionContainer},t.map(a=>{const t=h.find(e=>e.id===a);return o.a.createElement(ky.a,{key:a,title:t?"".concat(t.name," (").concat(t.status,")"):"ID: ".concat(a)},o.a.createElement(Gv.a,{label:t?t.name:"ID: ".concat(a),className:e.whatsappChip,size:"small",color:"CONNECTED"===(null===t||void 0===t?void 0:t.status)?"success":"default",variant:"outlined"}))}),o.a.createElement(ky.a,{title:"Mais ".concat(n," conex\xe3o(\xf5es)")},o.a.createElement(Gv.a,{label:"+".concat(n),className:e.whatsappChip,size:"small",color:"primary",variant:"outlined"})))}return o.a.createElement(Xo.a,{className:e.connectionContainer},a.map(a=>{const t=h.find(e=>e.id===a);return o.a.createElement(ky.a,{key:a,title:t?"".concat(t.name," (").concat(t.status,")"):"ID: ".concat(a)},o.a.createElement(Gv.a,{label:t?t.name:"ID: ".concat(a),className:e.whatsappChip,size:"small",color:"CONNECTED"===(null===t||void 0===t?void 0:t.status)?"success":"default",variant:"outlined"}))}))})(t.whatsappIds))),o.a.createElement(Dl.a,{item:!0,xs:3,align:"center",style:{color:"#ededed"}},o.a.createElement(Mh.a,{justifyContent:"center",height:"100%"},o.a.createElement(Gv.a,{label:t.status?"Ativo":"Desativado",size:"small",color:t.status?"success":"default",variant:t.status?"filled":"outlined"}))),o.a.createElement(Dl.a,{item:!0,xs:3,align:"end"},o.a.createElement(Mh.a,{direction:"row",justifyContent:"flex-end",alignItems:"center"},o.a.createElement(F.a,{size:"small",onClick:()=>{E(t.id),g(!0)},title:"Editar campanha"},o.a.createElement(Ip.a,{style:{color:"#ededed"}})),o.a.createElement(ja,{role:a.profile,perform:"contacts-page:deleteContact",yes:()=>o.a.createElement(F.a,{size:"small",onClick:e=>{i(!0),c(t)},title:"Excluir campanha"},o.a.createElement(Rl.a,{style:{color:"#ededed"}}))}))))):o.a.createElement(Mh.a,{justifyContent:"center",alignItems:"center",minHeight:"20vh",style:{color:"#ededed"}},o.a.createElement(z.a,{variant:"body1"},"Nenhuma campanha encontrada"),o.a.createElement(z.a,{variant:"body2",style:{marginTop:"8px",color:"#bbb"}},'Clique em "Nova Campanha" para criar sua primeira campanha de fluxo'))))))};var uC=()=>{const[e,a]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{void 0!==localStorage.getItem("cshow")&&a(!0)},[]),o.a.createElement(A.a,null,o.a.createElement(ka,null,o.a.createElement(bt,null,o.a.createElement(T.Switch,null,o.a.createElement(Lb,{exact:!0,path:"/login",component:rm}),o.a.createElement(Lb,{exact:!0,path:"/signup",component:Yd}),o.a.createElement(Oa,null,o.a.createElement(_n,null,o.a.createElement(Lb,{exact:!0,path:"/financeiro",component:Sp,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/financeiro-aberto",component:Sp,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/companies",component:gb,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/birthday-settings",component:Bf,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/",component:ll,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/tickets/:ticketId?",component:zd,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/connections",component:Gm,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/quick-messages",component:Pb,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/todolist",component:yf,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/schedules",component:Hb,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/tags",component:Bg,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/contacts",component:Xp,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/contacts/import",component:rg,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/wallets",component:vb,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/helps",component:Vg,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/users",component:Fp,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/messages-api",component:zg,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/settings",component:Ou,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/queues",component:Ig,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/reports",component:Kh,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/relatorio-vendas",component:Yh,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/queue-integration",component:uf,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/announcements",component:wE,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/chats/:id?",component:kh,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/files",component:ff,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/moments",component:gg,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/Kanban",component:jf,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/TagsKanban",component:Nf,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/prompts",component:Ih,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/allConnections",component:Bh,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/phrase-lists",component:mC,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/flowbuilders",component:tC,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/flowbuilder/:id?",component:Wx,isPrivate:!0}),e&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Lb,{exact:!0,path:"/contact-lists",component:$g,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/contact-lists/:contactListId/contacts",component:rb,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/campaigns",component:rE,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/campaign/:campaignId/report",component:fE,isPrivate:!0}),o.a.createElement(Lb,{exact:!0,path:"/campaigns-config",component:cE,isPrivate:!0}))))),o.a.createElement(O.a,{position:"top-center",autoClose:3e3}))))};t(1220);const pC=new p.QueryClient;var gC=()=>{const[e,a]=Object(n.useState)(),t=localStorage.getItem("primaryColorLight")||localStorage.getItem("primaryColorDark")||"#065183",l=localStorage.getItem("appName")||"",r=Object(E.a)("(prefers-color-scheme: dark)"),i=window.localStorage.getItem("preferredTheme"),[s,c]=Object(n.useState)(i||(r?"dark":"light")),[d,m]=Object(n.useState)(t),[f,v]=Object(n.useState)(t),[x,k]=Object(n.useState)(xn.a),[A,T]=Object(n.useState)(kn.a),[O,S]=Object(n.useState)(wt.a),[j,I]=Object(n.useState)(l),{getPublicSetting:M}=Pn(),N=Object(n.useMemo)(()=>({toggleColorMode:()=>{c(e=>{const a="light"===e?"dark":"light";return window.localStorage.setItem("preferredTheme",a),a})},setPrimaryColorLight:m,setPrimaryColorDark:v,setAppLogoLight:k,setAppLogoDark:T,setAppLogoFavicon:S,setAppName:I,appLogoLight:x,appLogoDark:A,appLogoFavicon:O,appName:j,mode:s}),[x,A,O,j,s]),R=Object(n.useMemo)(()=>Object(g.b)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"light"===s?d:f,borderRadius:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"light"===s?"#f5f5f5":"#2a2a2a",borderRadius:"4px"}},scrollbarStylesSoft:{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"light"===s?"#E0E0E0":"#404040",borderRadius:"4px","&:hover":{backgroundColor:"light"===s?"#BDBDBD":"#505050"}},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"}},palette:{type:s,primary:{main:"light"===s?d:f,light:"".concat("light"===s?d:f,"80"),dark:"".concat("light"===s?d:f,"CC"),contrastText:"#ffffff"},textPrimary:"light"===s?d:f,borderPrimary:"light"===s?d:f,dark:{main:"light"===s?"#333333":"#F3F3F3"},light:{main:"light"===s?"#F3F3F3":"#333333"},fontColor:"light"===s?d:f,tabHeaderBackground:"light"===s?"#EEE":"#666",optionsBackground:"light"===s?"#fafafa":"#333",fancyBackground:"light"===s?"#fafafa":"#333",total:"light"===s?"#fff":"#222",messageIcons:"light"===s?"grey":"#F3F3F3",inputBackground:"light"===s?"#FFFFFF":"#333",barraSuperior:"light"===s?d:"#666"},typography:{fontFamily:["Inter","Roboto","-apple-system","BlinkMacSystemFont",'"Segoe UI"','"Helvetica Neue"',"Arial","sans-serif"].join(","),h1:{fontWeight:700,letterSpacing:"-0.025em"},h2:{fontWeight:700,letterSpacing:"-0.025em"},h3:{fontWeight:600,letterSpacing:"-0.025em"},h4:{fontWeight:600,letterSpacing:"-0.025em"},h5:{fontWeight:600,letterSpacing:"-0.025em"},h6:{fontWeight:600,letterSpacing:"-0.025em"},button:{fontWeight:600,textTransform:"none",letterSpacing:"0.025em"}},shape:{borderRadius:8},overrides:{MuiButton:{root:{borderRadius:8,textTransform:"none",fontWeight:600,letterSpacing:"0.025em",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"}},contained:{boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)"}}},MuiContainer:{root:{paddingLeft:"0 !important",paddingRight:"0 !important",maxWidth:"none !important",width:"100% !important"},maxWidthLg:{maxWidth:"none !important"},maxWidthMd:{maxWidth:"none !important"},maxWidthSm:{maxWidth:"none !important"},maxWidthXl:{maxWidth:"none !important"},maxWidthXs:{maxWidth:"none !important"}},MuiPaper:{root:{backgroundImage:"none",marginLeft:0,marginRight:0,width:"100%"},rounded:{borderRadius:12},elevation1:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},elevation2:{boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)"},elevation3:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"}},MuiMenu:{paper:{width:"auto !important",maxWidth:"300px !important",minWidth:"180px !important"}},MuiPopover:{paper:{width:"auto !important",maxWidth:"300px !important",minWidth:"auto !important"}},MuiTextField:{root:{"& .MuiOutlinedInput-root":{borderRadius:8,transition:"all 0.3s ease","&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"light"===s?"#ccc":"#555"}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"light"===s?d:f,borderWidth:2}}}}},MuiTab:{root:{textTransform:"none",fontWeight:600,letterSpacing:"0.025em",borderRadius:"8px 8px 0 0",transition:"all 0.3s ease","&:hover":{backgroundColor:"".concat("light"===s?d:f,"08")},"&.Mui-selected":{color:"light"===s?d:f}}},MuiDrawer:{paper:{border:"none"}},MuiAppBar:{root:{boxShadow:"none"}}},mode:s,appLogoLight:x,appLogoDark:A,appLogoFavicon:O,appName:j,calculatedLogoDark:()=>A===kn.a&&x!==xn.a?x:A,calculatedLogoLight:()=>A!==kn.a&&x===xn.a?A:x},e),[x,A,O,j,e,s,f,d]);return Object(n.useEffect)(()=>{window.localStorage.setItem("preferredTheme",s)},[s]),Object(n.useEffect)(()=>{M("primaryColorLight").then(e=>{m(e||"#0000FF")}).catch(e=>{console.log("Error reading setting",e)}),M("primaryColorDark").then(e=>{v(e||"#39ACE7")}).catch(e=>{console.log("Error reading setting",e)}),M("appLogoLight").then(e=>{k(e?w()+"/public/"+e:xn.a)}).catch(e=>{console.log("Error reading setting",e)}),M("appLogoDark").then(e=>{T(e?w()+"/public/"+e:kn.a)}).catch(e=>{console.log("Error reading setting",e)}),M("appLogoFavicon").then(e=>{S(e?w()+"/public/"+e:wt.a)}).catch(e=>{console.log("Error reading setting",e)}),M("appName").then(e=>{I(e||"Multi100")}).catch(e=>{console.log("Error reading setting",e),I("Multi100")})},[]),Object(n.useEffect)(()=>{document.documentElement.style.setProperty("--primaryColor","light"===s?d:f)},[d,f,s]),Object(n.useEffect)(()=>{!async function(){try{const e=await u.get("/version"),{data:a}=e;window.localStorage.setItem("frontendVersion",a.version)}catch(e){console.log("Error fetching data",e)}}()},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{url:O||wt.a}),o.a.createElement(h.Provider,{value:{colorMode:N}},o.a.createElement(b.a,{theme:R},o.a.createElement(p.QueryClientProvider,{client:pC},o.a.createElement(y,null,o.a.createElement(uC,null))))))};r.a.render(o.a.createElement(i.a,null,o.a.createElement(gC,null)),document.getElementById("root"),()=>{window.finishProgress()}),console.log("Registrando service worker",navigator),"serviceWorker"in navigator&&window.addEventListener("load",()=>{const e="".concat("","/service-worker.js");navigator.serviceWorker.register(e).then(e=>{console.log("Service worker registrado com sucesso!",e)}).catch(e=>{console.error("Erro durante o registro do service worker:",e)})})},190:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAAoCAMAAACMwkUuAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAL3UExURQAAABkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjTv///2F+/xcAAAD7dFJOUwAAAQsIYYB/d2VPMBUkeHweGW5+QixjIHJzDC96glNvgVwKPX06Q6g2EcX36cyRBw6juhfH8wSF/dBa9gaq6hhg+Qlx8vRL3Kcd1coQw+/w+50obIQFD7Pr8ds3TeylDVlnApn+51+mA2lQ3vwWNdHOK+4xP1uVyS34TiWyI2pUiYNR4/qYE8uIl8EmQKmxdsghV5/dOUbkruCPxqC50maTXUrTOOH1ipS0H0XUhyp5uBK+mxusrRzESMAu1uZHt2LCzxSvQb2MbbyhVs1Mnhqc2O1EkOKGWFIplugnkiKrO6KadDw+M47Xe0l1i9lVa2S/Xo2kcLAyaOU0QSIuzwAAAAFiS0dE/DwOo38AAAAHdElNRQfpAhISCgiW2Ts4AAAKMklEQVRYw+1XfUBT1xXvfQkfNhGiEJDgF0QsFGbCmJFiEiWoBYuK4KMoKAiIQYgTSW00ApVqqpLMYoVWq3M6bZ1MrYo6SsUqpaVrLVrtQDuRVaBb3Ypzc7jmn93zvvICiU3/HueP5H6ce8/53fP5nnpqhEZohEboSYScyM3eMD5XGy4OuRIxVJo74U9Q1wMgzmz8NXeqDDs47J7hpwjXD+QRDkLghhMJvbx9aPId9bRITPCfarQfXvYXUQo7+FjylVBAxozFGwGB3DEpnnoHCXgmCh6Hl0JkCIWO9/GZMBFJJk3GLGHhmAWfkgfgu6ZEEB4AwdxTn4l0jQRFPWvnKDrmZ9MCFQwjQspYavXncSAx6hf2ITRdDoqoZsTD5DkpCyQBpjND1Nx7iDWwop2F0OxEPHgG6ZLm4P+5k3XwaPOeh93kFA8sAqjn218IdYkEpS7A98QvjNFqF6XBlYsWp7M+kzGTUjh+CYknmS9mabXamKUUYBhmLcsGRXKW07BW5DL486jpwpX5jOtkFhTCwioMpAguXI2QvjgLbpmAzbamBI9KFxs8w7H2l9Hr4heUuQeyfpRUVG58aQP1Oi+baCDZWEbhRnjMTfgOvVmEqcwPODZnh+KxCdy1AgwVjVWNriRozWkg9pgqRLmO7pVE+1AgSOUVA2bbIqt+Ff9v3WbxIEQAx2tp2yU77DtrXLDTQLRWOgqlNvATTSpoIP4ViN81H/++XstF5G5Q6g01OxVuwBjmBuzEi3vqnIDYS+qBQb2LNisfCMRs2JvgXW/txb+J+6I8s4f07fh9SmTZbz9Q4Q5IViCTgGp/zcLSB2zFBtmuOhiNV36jYz2eUnO/jokidGg6OLjsMDzwZgtlSRaI/bdHsMIHF9mHAwEkVUeZjXfezfXMHmU7449l4v9Zq+2/Oz68VjiAwExIxXceZmsA3RakoPBk/L+0yDWQ0N/j2fMilH8CWzJtih6cieKIgXh79iSq0uL/OUuHAgG9TsXTQN477Zk9Rp+xn7VQbtB4zn7+wpOAYB7xH0BwE0KS9/Fgo3ezyDQKdPnAxA9lGghOaytgVlAuCs2BmL3YwgGZlgwRfunDPeBAMy4PtwiSX2EskjVJ9aNIIBgv2WNbmTQU/JHdFjfEJkyMtNEub6Ai8+MxSP0JKBK/HLLTViopZfIigAKC3aMdUkHhQsykBQe0X8ZJlOYYf/wSbIHiiUtSPh0WI6j+A4jyFyDlTffV/QgSzJ/yoj15FlsXUPAl+x/jXAFZXh0lFkvWVp4BpY82IPTZwiFFI7p9OBB5yRCmwk/UDBB/1Pw5s7hYafl4aNZCVyE/ln7RWLmeqyhPBNKosX/UwesezJ8WXnNOdTSQtGXrrly5/iVYofT9GwidXAcvtcPHG8jnJmSYryIQ5zgABJsPHj0xOYBi8v7TdUjjnSwQAsmvUzg2dyDxMCBdkK1KC8RIvxIqysYZuU8AAp6SbN9c69TP3bpceNsp2TlX7K1fHyg2sCX9mpDtjfwB4YFGAELV7VgAol5ChaqBzcSH5uLp/JM0RwAuh1SgL/gzDjyItywMxAsMbkNk2NcUjtNURQHvKr1jcY8EodY3Cg90D2nYTG/HT5PxWzrBBI2Nptg7pyY2wx4K/UJju1tQxh0y3NTYNKupWtNz12bTVEIdCZ5216aJlXNMuf7nbBpbJ8VxdyKujvkJNs1foPorA/DON6kIGWM1tvOTUMXNc5glwEIVzPzOZHzjihZ3QPD50wWlr94ed49HIZM/I8rXpW2X8XtTFalXy5TKXCHXlCKVmiTVemokFAqx1vmwQKpIklQIBLpwHZ6SQiH+IQmSI4UCmAhqhTqM8JSyKNxHAjR6S6Ug6TnFI8xVClQqknALJPVO6eUjFWYe1dQEnismIp9LmyHkd9265ra2Xrm8LWIMnd30og7GpRrl1j68YTRR7Z2q3Gq1Go3GoHqjEY+s4FSCKitHPUrgSj0kYLpy9ln6W3geYe3S82b6WmNbn7zXajST7rpzJPs2/qvO0QyE0RUwwmm4TNOuj/hr4t8UDiAd1Wtb8Tvqlea8ehKAkF3NVIJSyb/rlhEEoYgzFgUDLoUOSJgkEVIDPdbVMIkeUxv5cNpwvpr/uDhxTh7P6+j97ksdMatomnpBhyXoGpvyxK6bcyQ4UTr/7yGMS93fl3zC33/JXaNaLXrrnjDwHzN9uS5bl5fOvo/i+0gKSLWJAlKWR7I76bMFjmcc4OIbqz3gFIEAJMQrm59fwh+0FHOPpipeW5vBZSgU2MC5c91EtauWFgm9N16J5O4n75Qcu+fnv/nls36+O87koPqSd8Yy5RSJi/VcnVFn8oEcruO+TFCUyhFVGAg3xkCGiDYUGzKOO+ydX93C8SDU96EKrcnhdg9e4CQQqXrkAodi/Ma5xxJeoimhM2HLfp8Bs8Hy9D8fxsUZUgmUs3cpoz9SV0eQzm/KAuk+ZHB+bddAnFlgpXklm03wt0CRmgWC06gvhpgaUsvuru1SupLAS0T3Zi6b3dbAUPt7GzKKk878K91ck/T6JtqYa1atD9LTjYvMmlMnTcnEHs6owgJB5qsN/WZDOOksxRnIWC5GFAQLBDV1sV9VKZUG1mr4joc5cFPkAOPXKF+0ySrqtoSrXMEAHBlz937nADrxtX+Pe/TI5z9Xloy7t+9+K92z5cVoHxLMl6AseNB4eF59RIXaySL4IrG0ruFqk7H/tDuLiCcEMnSjnOSAqIsimEd6gIsRB8SUREWaPijQ4cxjTD0tWIJJOQwKdsviRUfXsM5HyBQqcTict3w7rZVzAJQf9qV2N4uESkmW0YHVVPFmgLDpUy8b07+mz32MECxxroVQXDuECQ6QJsQCwWG/q1dNmS59ihjxJaiUKUeqB4cUEqxi0fqLVSw+dGSnLeNxcSWmx+M/f1fmyCbEg4X/7XL4JjUwe5EsEIfTA6k7mz0O9gE4LK2Er6Xs2WoWCP6ft+UGZbupbb5FTmEFJBvV6NzM4o/ImJg8gksM3aceR/bTNFhuEvIr+sCco1eRIpD7PsNdhleUA8itUMcGym76aUBQ/fd6JHlsYVI03CF5ZGGshwTtIlC+vIYnoUqKnHFUrcoKQx4RMXbOnhbU0pnJrQziF+CAzFrZzGV5WVG3J1kLPcWpTc6uEwSV8VZUdNzQWkofQU9X89jRCRpGWZyA5O++aH9z/1mP6JtYrb1kqn6wKluSi1uqVHNDZyu8oIpxLfHVw+mtOqFQ1zGYdyTfoXwlH0iSpZUlC9UXGCppdzm9stLKQIMV9EOQitcWJcwD7SXVU81RWIJAkh0mdQp2lOpXcHubZzjOXju77XZBhhIJan4wyuU9PZHBJCU4v9tC60J0NEf09fX2REidspZJ5xgL2yI4ilTCaR2bKY5bSToEqBVkauV3qsp+KturJOW9ffKe3rpb/I7ckQZ+MtFJh3EOfgw6dpxkuJPn2HVOI86nWBnuJIzQCI3Q/wH9D2UaSRvRip/7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI1LTAyLTE4VDE4OjEwOjAwKzAwOjAwwZYuFAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNS0wMi0xOFQxODoxMDowMCswMDowMLDLlqgAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjUtMDItMThUMTg6MTA6MDgrMDA6MDDUMfkQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},191:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAAoCAMAAACMwkUuAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAL3UExURQAAABkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjThkjTv///2F+/xcAAAD7dFJOUwAAAQsIYYB/d2VPMBUkeHweGW5+QixjIHJzDC96glNvgVwKPX06Q6g2EcX36cyRBw6juhfH8wSF/dBa9gaq6hhg+Qlx8vRL3Kcd1coQw+/w+50obIQFD7Pr8ds3TeylDVlnApn+51+mA2lQ3vwWNdHOK+4xP1uVyS34TiWyI2pUiYNR4/qYE8uIl8EmQKmxdsghV5/dOUbkruCPxqC50maTXUrTOOH1ipS0H0XUhyp5uBK+mxusrRzESMAu1uZHt2LCzxSvQb2MbbyhVs1Mnhqc2O1EkOKGWFIplugnkiKrO6KadDw+M47Xe0l1i9lVa2S/Xo2kcLAyaOU0QSIuzwAAAAFiS0dE/DwOo38AAAAHdElNRQfpAhISCgiW2Ts4AAAKMklEQVRYw+1XfUBT1xXvfQkfNhGiEJDgF0QsFGbCmJFiEiWoBYuK4KMoKAiIQYgTSW00ApVqqpLMYoVWq3M6bZ1MrYo6SsUqpaVrLVrtQDuRVaBb3Ypzc7jmn93zvvICiU3/HueP5H6ce8/53fP5nnpqhEZohEboSYScyM3eMD5XGy4OuRIxVJo74U9Q1wMgzmz8NXeqDDs47J7hpwjXD+QRDkLghhMJvbx9aPId9bRITPCfarQfXvYXUQo7+FjylVBAxozFGwGB3DEpnnoHCXgmCh6Hl0JkCIWO9/GZMBFJJk3GLGHhmAWfkgfgu6ZEEB4AwdxTn4l0jQRFPWvnKDrmZ9MCFQwjQspYavXncSAx6hf2ITRdDoqoZsTD5DkpCyQBpjND1Nx7iDWwop2F0OxEPHgG6ZLm4P+5k3XwaPOeh93kFA8sAqjn218IdYkEpS7A98QvjNFqF6XBlYsWp7M+kzGTUjh+CYknmS9mabXamKUUYBhmLcsGRXKW07BW5DL486jpwpX5jOtkFhTCwioMpAguXI2QvjgLbpmAzbamBI9KFxs8w7H2l9Hr4heUuQeyfpRUVG58aQP1Oi+baCDZWEbhRnjMTfgOvVmEqcwPODZnh+KxCdy1AgwVjVWNriRozWkg9pgqRLmO7pVE+1AgSOUVA2bbIqt+Ff9v3WbxIEQAx2tp2yU77DtrXLDTQLRWOgqlNvATTSpoIP4ViN81H/++XstF5G5Q6g01OxVuwBjmBuzEi3vqnIDYS+qBQb2LNisfCMRs2JvgXW/txb+J+6I8s4f07fh9SmTZbz9Q4Q5IViCTgGp/zcLSB2zFBtmuOhiNV36jYz2eUnO/jokidGg6OLjsMDzwZgtlSRaI/bdHsMIHF9mHAwEkVUeZjXfezfXMHmU7449l4v9Zq+2/Oz68VjiAwExIxXceZmsA3RakoPBk/L+0yDWQ0N/j2fMilH8CWzJtih6cieKIgXh79iSq0uL/OUuHAgG9TsXTQN477Zk9Rp+xn7VQbtB4zn7+wpOAYB7xH0BwE0KS9/Fgo3ezyDQKdPnAxA9lGghOaytgVlAuCs2BmL3YwgGZlgwRfunDPeBAMy4PtwiSX2EskjVJ9aNIIBgv2WNbmTQU/JHdFjfEJkyMtNEub6Ai8+MxSP0JKBK/HLLTViopZfIigAKC3aMdUkHhQsykBQe0X8ZJlOYYf/wSbIHiiUtSPh0WI6j+A4jyFyDlTffV/QgSzJ/yoj15FlsXUPAl+x/jXAFZXh0lFkvWVp4BpY82IPTZwiFFI7p9OBB5yRCmwk/UDBB/1Pw5s7hYafl4aNZCVyE/ln7RWLmeqyhPBNKosX/UwesezJ8WXnNOdTSQtGXrrly5/iVYofT9GwidXAcvtcPHG8jnJmSYryIQ5zgABJsPHj0xOYBi8v7TdUjjnSwQAsmvUzg2dyDxMCBdkK1KC8RIvxIqysYZuU8AAp6SbN9c69TP3bpceNsp2TlX7K1fHyg2sCX9mpDtjfwB4YFGAELV7VgAol5ChaqBzcSH5uLp/JM0RwAuh1SgL/gzDjyItywMxAsMbkNk2NcUjtNURQHvKr1jcY8EodY3Cg90D2nYTG/HT5PxWzrBBI2Nptg7pyY2wx4K/UJju1tQxh0y3NTYNKupWtNz12bTVEIdCZ5216aJlXNMuf7nbBpbJ8VxdyKujvkJNs1foPorA/DON6kIGWM1tvOTUMXNc5glwEIVzPzOZHzjihZ3QPD50wWlr94ed49HIZM/I8rXpW2X8XtTFalXy5TKXCHXlCKVmiTVemokFAqx1vmwQKpIklQIBLpwHZ6SQiH+IQmSI4UCmAhqhTqM8JSyKNxHAjR6S6Ug6TnFI8xVClQqknALJPVO6eUjFWYe1dQEnismIp9LmyHkd9265ra2Xrm8LWIMnd30og7GpRrl1j68YTRR7Z2q3Gq1Go3GoHqjEY+s4FSCKitHPUrgSj0kYLpy9ln6W3geYe3S82b6WmNbn7zXajST7rpzJPs2/qvO0QyE0RUwwmm4TNOuj/hr4t8UDiAd1Wtb8Tvqlea8ehKAkF3NVIJSyb/rlhEEoYgzFgUDLoUOSJgkEVIDPdbVMIkeUxv5cNpwvpr/uDhxTh7P6+j97ksdMatomnpBhyXoGpvyxK6bcyQ4UTr/7yGMS93fl3zC33/JXaNaLXrrnjDwHzN9uS5bl5fOvo/i+0gKSLWJAlKWR7I76bMFjmcc4OIbqz3gFIEAJMQrm59fwh+0FHOPpipeW5vBZSgU2MC5c91EtauWFgm9N16J5O4n75Qcu+fnv/nls36+O87koPqSd8Yy5RSJi/VcnVFn8oEcruO+TFCUyhFVGAg3xkCGiDYUGzKOO+ydX93C8SDU96EKrcnhdg9e4CQQqXrkAodi/Ma5xxJeoimhM2HLfp8Bs8Hy9D8fxsUZUgmUs3cpoz9SV0eQzm/KAuk+ZHB+bddAnFlgpXklm03wt0CRmgWC06gvhpgaUsvuru1SupLAS0T3Zi6b3dbAUPt7GzKKk878K91ck/T6JtqYa1atD9LTjYvMmlMnTcnEHs6owgJB5qsN/WZDOOksxRnIWC5GFAQLBDV1sV9VKZUG1mr4joc5cFPkAOPXKF+0ySrqtoSrXMEAHBlz937nADrxtX+Pe/TI5z9Xloy7t+9+K92z5cVoHxLMl6AseNB4eF59RIXaySL4IrG0ruFqk7H/tDuLiCcEMnSjnOSAqIsimEd6gIsRB8SUREWaPijQ4cxjTD0tWIJJOQwKdsviRUfXsM5HyBQqcTict3w7rZVzAJQf9qV2N4uESkmW0YHVVPFmgLDpUy8b07+mz32MECxxroVQXDuECQ6QJsQCwWG/q1dNmS59ihjxJaiUKUeqB4cUEqxi0fqLVSw+dGSnLeNxcSWmx+M/f1fmyCbEg4X/7XL4JjUwe5EsEIfTA6k7mz0O9gE4LK2Er6Xs2WoWCP6ft+UGZbupbb5FTmEFJBvV6NzM4o/ImJg8gksM3aceR/bTNFhuEvIr+sCco1eRIpD7PsNdhleUA8itUMcGym76aUBQ/fd6JHlsYVI03CF5ZGGshwTtIlC+vIYnoUqKnHFUrcoKQx4RMXbOnhbU0pnJrQziF+CAzFrZzGV5WVG3J1kLPcWpTc6uEwSV8VZUdNzQWkofQU9X89jRCRpGWZyA5O++aH9z/1mP6JtYrb1kqn6wKluSi1uqVHNDZyu8oIpxLfHVw+mtOqFQ1zGYdyTfoXwlH0iSpZUlC9UXGCppdzm9stLKQIMV9EOQitcWJcwD7SXVU81RWIJAkh0mdQp2lOpXcHubZzjOXju77XZBhhIJan4wyuU9PZHBJCU4v9tC60J0NEf09fX2REidspZJ5xgL2yI4ilTCaR2bKY5bSToEqBVkauV3qsp+KturJOW9ffKe3rpb/I7ckQZ+MtFJh3EOfgw6dpxkuJPn2HVOI86nWBnuJIzQCI3Q/wH9D2UaSRvRip/7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI1LTAyLTE4VDE4OjEwOjAwKzAwOjAwwZYuFAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNS0wMi0xOFQxODoxMDowMCswMDowMLDLlqgAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjUtMDItMThUMTg6MTA6MDgrMDA6MDDUMfkQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},219:function(e,a,t){e.exports=t.p+"static/media/favicon.3efdcc7e.ico"},399:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAADJCAMAAABYMS1zAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABtlBMVEXk5ufj5ebk5ebk5ubk5ujk5Obi5Obk5Ojm6Ojo6Oro7Ozs7vDq7Ozk6Oje4OLY3NzU2NjQ1NbQ1NTc4OLj5efs7Ozs8PDIzM68wMSwtriqsLKmrLCkrLCkrK6orLDY2tzm6Oru7vC8wMKqsLSkqq6orrKssrSstLautLiosLLQ0tTu8PDo6uzc3uDAxsikqqyorrCwtLiutLets7bAxMja3ODi5OS4vMC4vL7g4uSkqKzu8PLs7O7EyMzEyMqus7bw8PLKztCiqKzIzNCgqKyyuLqutLassLTo6Oi0ury0uLzj5ufw8PDAxMbM0NSgqKqiqKrM0NLg5OTg4OTk5ee8wsTc4OCts7fa3N66vsCttLe+xMTs7u7M0NC4vsCosLTj5uba3NymrK7MztCkqrDKzNCyuLzU2NrO0tTS1tjGyszU1tiwuLjEyMjW2NzCxsi0vLy8vsLO0NTS2NjGzMyqrrLIzMy8wMDCyMjAxMSyuLi2vL7c4OTq7O6wtLbW2tyus7fEyszY3N6stLTw8vSstLiqsrTw8vKqrrDK0NC4vsLo6Oy6wMC6wMKgpKicoKTg4OL///+JFsWqAAAAAWJLR0SRDw2+mgAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+cICQo3GXMWCPMAAAABb3JOVAHPoneaAAAAtGVYSWZJSSoACAAAAAYAEgEDAAEAAAABAAAAGgEFAAEAAABWAAAAGwEFAAEAAABeAAAAKAEDAAEAAAACAAAAEwIDAAEAAAABAAAAaYcEAAEAAABmAAAAAAAAAC8ZAQDoAwAALxkBAOgDAAAGAACQBwAEAAAAMDIxMAGRBwAEAAAAAQIDAACgBwAEAAAAMDEwMAGgAwABAAAA//8AAAKgAwABAAAAzAAAAAOgAwABAAAAyQAAAAAAAAAhqaDfAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA4LTA5VDEwOjU1OjI1KzAwOjAw+1J2QwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wOC0wOVQxMDo1NToyNSswMDowMIoPzv8AAAAVdEVYdGV4aWY6Q29sb3JTcGFjZQA2NTUzNTN7AG4AAAAndEVYdGV4aWY6Q29tcG9uZW50c0NvbmZpZ3VyYXRpb24AMSwgMiwgMywgMFWkI78AAAATdEVYdGV4aWY6RXhpZk9mZnNldAAxMDJzQimnAAAAH3RFWHRleGlmOkV4aWZWZXJzaW9uADQ4LCA1MCwgNDksIDQ40p+IugAAACN0RVh0ZXhpZjpGbGFzaFBpeFZlcnNpb24ANDgsIDQ5LCA0OCwgNDjv2QdrAAAAGHRFWHRleGlmOlBpeGVsWERpbWVuc2lvbgAyMDRDGTotAAAAGHRFWHRleGlmOlBpeGVsWURpbWVuc2lvbgAyMDGufC/UAAAAF3RFWHRleGlmOllDYkNyUG9zaXRpb25pbmcAMawPgGMAAAtlSURBVHja7Z2LX9vWFcdRcq9iWVIMtDiAbCVgkERkKstyTaCC8HYTWGloQjqiQNqlQENeSzeWrVvTdVn37LY/eedKhk8eJLGsC/ey6ZfwSQLJJ/5yHvfcq3OPOzpSpUqVKlWqVKlSpUqVKlWqVKlSpUqVKlWqVKlSpUqV6v9WQocgnIIPUMdp+BBYv6AkIAg+8IGEDnQigcLXLGARn0EZKUskZRCCPwvNr50ggQHAEkiSZUU9m+vs6u7qzL2nKrIsIfg8+fL7rF9iiyDkGw8kPXkpd663r18rFIkKen9f77nzF/IK8HScFOOEKNJApnuwNFQYNkxrX6YxUiiUBi+qtnRCcCDoMS7Lox+MOBXTci2rWvUiVasW/NmsOCO1D/NZMJ3AOw74WF2yc2OObrpW1TMBBX4Qhb+aHhCZunPpvC2JnCcCYhZkj49NjIBFQpBX5ZGfllWaGHvvI0SMwy0PMUvZn3SGLcvzDiHZ5/E8yxp2pnylzq9x4JVhe9R03ooS4VwGHMcYtTGvNLC0oOmZWcOtvh1lP4BcY3ZuGmEuaYBFzffOQ3y/EyXCgZw9PyirEDisX/phLFJ2YagVs7xgnIKblUTuaAiLtKi7Zksg+zJdvZEp80YDLB+XGyNuay72gqu5/Y0LEldxQ8pKVVmMy7JPk1XD0pMTQX5F9hU9NktEo1/Ng58tsYY4gEF4uea0wRLROD+b5ialLQmonv9kpS2WiObTa3adk7LzFCSyVQdQ2mEJqzXL+YyXJAC7/PxCyWoPJcSxSn15zIVlwMnsuQlwsstt00DYnCOOxhqFnFqoSDu03I/jaAVRxddZo5DlcvmGnsDJIkfTB5d5WGywtOYAy80ELDeBxvkccgB7w9g/r1htZrIDy3jWyJjNOqFBJiOGWU+EEjma86GEWR+mYbumJzVMaBr9FmPTgGFUVY9X9r9Jpg4JjWkKQGJwG4qypIYB08BaMyeLiK1l/Csli4plrMZCwNQyAs58ptFhWYeFcy2DBWY5QECiPzNEw8uqYU3D1s9OYXljk45lwM9Kl2R8h5mfCQJSS3RyGfEzs19VGS41WPriy+SLTFOeNXRewuwyAA5+cTfm6dKbWUy3+FXA7NgJ6jK5VqEVMhA0lVsyu2KTrDINijCNLZ/ZSgPxXzaMhFuZF2UaGWbnGlCY4RFaySyE0VdVZn6GM2sFel7mVa3iaIZVOoO9TK5ALTOT3FzYZpabBZztLFIMGc8qdmUZwnRRhulmCdNNF6aw04MZnaDTh2Frma//h2Ck7bt03ayTGQysM6NFK8G57CssVUvLMVxn1HGd3qIJxZk2nmFVAUBtdqHR3iOmw2WWVMTKMksCVvoMaqbxLKNPYfgADQe9IxS3AJuDAT7FCGUJicE9jdZOs2q62qTPrsEBFppdegsN09IsTGd1nVYGgMysj6sMYQQcbFHLAJZxX2F5PovE/KRGyc88S3vA8DwjfNR0fojO9szzLOdhlqVlYNlUTEp+ZplGmW2bBhLtKY2GacAw2qMB1s9npFGHStBEz5uZWoa0mjwuJa+cIS+XrrJ91kSEe7onKBQBpjsBW2a2KCQF+K6R1DRgGMNQOOg/x8FOctOAYa4FTMM/sgxUAWCaRAmNGGYx4MAwYBple7bFzuzDtQ6Gmd1VWEdMaJsObP8ybkPzK5ax9LFpHpqaQFhFeoKGM3KtpojZHf+/JAHKzSezbfabRh2ns9fyXDQChjR4ureQoHtWG+SnF5jg+Iuk5bSdvmbPMhoKRyjkVoPotG2ZidUyJ9Ef4aC6n5s3W75usq91ssSsnPd5CZgDGvubFSsmjReydPHRBfwKTdeKGWvxjFgucsdCCs663TlrxMhp5KKWOfsNsFznDCakCUb1EdKw1dqdM890+7XPgYWPWwCv0SjqgkNu0L27kz68P+f0qST22TXMvZVGzNhT5G7ju3wNUKquMf9A/ljk5KrJITgIo+mc4ZhvxwlRLMd4OI04Wvhfp+kQRMX/laZZbvUNpScpKwFF0+75CudXtaOb2mdqhUJ46bz60sKz3rym7ZqFYq1uI/4v0ZPL2upHq1MlZ5OMNah63v5Ox/TIfXPLLE30T63aKudmadKAcUTVli5uVIo6mdPgNgc1uGRWg16sbOxcsDMiMQurB0uxcVCPfKb7g4VfFwtFfXhzc3NYh98N3691n5F7kMi/h72EI2CsKrKCchf3Htzo/U3vjad7OzmsDCgqxsIJQVk6tSRc74hG59TrdRFlsnIg+4EvB0E2g0T4HCYHl2S6Dtcx0xwBFA7/QWomq/h52Vey2XKkrKIE+aAnK6kIYzEcEMQpEbyoO4QDoiGT9Qf8LFrrfDI3+dvescdbfX3uotv3u6vfDt54tHe7KzcuKYHfI6n7E4+44hHePx3GCERJNh+Uf787V7tiDutOQdMrm6WGsa8SZAGtUNT0xtbg5M4XkCJ6pGjiES8hJETRLgKIrNS7JjcMbUirNMLZOa71utxwms4mQPVv1W6PlvNBBkUexw2JFAS469GWXtRKRvSCyfMjMzq03Z+hUz34XDQgqFFxCsbgzFp2IBvyMA2g8L8nJPk/rJ173FwiyaJvem89ErxJvuythwOCjM27he9qu9EEJ3YpmwwBIIuJLI9O9t0tlprFS8snm+RvmhFQxSn1dksDWfjGMAofQBFR1l6dWwBnsdxYIC/X0MTlgKf2zA/UaCLVsQKdjiqWwN8e1J0GITGr37d51gz/bL05wcmdOXPsA7ZONWvJ8m3XqZghSbLnzZebE5wMR6+t2eVjxSEOptrqvZJjhPOlvMUkJAcG8jzY6ejOWO4Y54WR3SSy1T/qsDt+11CmuDwkfkYmLuVsSTyOCVvhLLYgu6dHG33Kgm/NIpkX9u3asnr0E7aIWST7k8a7ziySeZs14txC9hH7WrjDn167OtHCaVJCHE2fk8tHubMOz16Up07JtRKNmWgJx3TcH6aPajadEJ6KLT9rhEeWR4jSxKm6hjPll48mcmDjUZfkp/NGq4fJybQeHt/+aW35KGbTERfLr1pOq7PYaBjHdI2Jr54TV7tD9R4Kmb76/CJEy7GYZR+HzKbbUMp1uoETZrGplT+DWZKPy4hjnKqrN1b9OqJYTAtIlIJvndZH5NETuJqzbVPM0QKqlzOWTunef0zjmJb56bVpammAPERClX5qbfIxachzz73nlE49CMuq/mPb7SQJdTOkufcXKjQhy5fGcWXkw63jzk+GNAkzNMR+GetGW60k1FgIDfG0hKaB9SVT/uuPLFn24+ZvSfsFSEGWd+OPlDwCHmulM2EblyDg5Y12m68o05jO2UT9QhD803vtt8XRpbGMUjg9tF2zIFF5Nmsddb3fkkhTqr6xnKAnHasStYtLSUU6Bufn2p63SboV/56sLZYuTdVyxiXc0c5jXTKIaYeTgGniWKX7bc7bFLD6j8qRb5BjyXRnZ9pabcAw9qMCN05GRE7ZddTWhcFwciFHTkZkulptOf69VNIU/8/EIyXpK8wBp+OxLIFhfpigOLiAjshQx97YQx2JYX7i0DBgmuLZTMyMJuDM2SLNuQWUFF4atGPeGoJU9pTKlUX6ip3QoCyTqM3Hoyoyb/N2rJFuwhJWuh0+DUPuQPrxlhqc/2mY3twSyjTa2TgzUASMMg0uvSzysxk5RnYmo3549bLmvM3WWZCYn6J1zf8IZPbHyWcUx+PSlxdv3iaZJ9/PachUSbVZONf6bVsyHk/jNZeRPVrlRowMgHueDPEbMlXL2FJajxnskzEf3IpM3G39AA3LtdJhLYncqH+15XQGyey7f2lFfqX9+2HLNQCUmdtdu1/zq92u/8S4Co2jNyflV62/11v0NqVcK8YjTiF6P1+exb4NOlWqVKlSpUqVKlWqE6n/AptD/XBBgP7QAAAAAElFTkSuQmCC"},526:function(e,a,t){e.exports=t.p+"static/media/wa-background.8c20254f.png"},527:function(e,a,t){e.exports=t.p+"static/media/wa-background-dark.8244f042.png"},531:function(e,a,t){e.exports=t.p+"static/media/planilha.549edeba.xlsx"},636:function(e,a,t){e.exports=t.p+"static/media/whatsapp.ae8a9a2f.png"},733:function(e,a,t){},784:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABFWAAARVgEAHlmhAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtxQTFRF////R1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTULm9ygAAAPN0Uk5TAAECAwQFBgcICQoLDA0ODxAREhQVFhcZGhscHR4fICEiIyQlJigpKissLS4vMDEzNDU3ODo7PD0+P0FCQ0RGR0hJSktMTU5QUVJTVFVWV1hZWltcXV5fYWJlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+Oq6zpQAADphJREFUeNrtnX1wVNUZh9+9WUKwG74cLQkhKCBERFFAEwq0YoE6wRqIAoKtFAa1zlB1/ENErFhmFK2UqkWHQaV+VKifEAcQBQXJxCSAEkzEACYGjIQJGooJIWCS7R8gAmazd8Pu9d7zPs/ojGM29+59z3N+7zmb3bs+aSu+lF6905ICgcRAYiBewHmO1dXW1dbVVZWWlVcG2zyMbfqlARnp/fqewxC4hvpdOwsLSoKOCJCWMfLqrpTchdRs3FBQGmMBBkyYnESlXUzV8jeKYybAL8fdchkldj3FL6/YHwsBfjNzdBzV9QTN7y/6IMoC+MbcN4TCeohtj73THD0B4n4/awA19Rif/31lY5QEGPPoRdTTg5TPXhMNAXo+eh219Chr7/0ybLqH+Xn7O1+6hEJ6lT7Tmj5pOqsEGPEk6e9tvrgzt+0J4J/z9LmU0Nt0ndIur7mNCZC8dBgFNID86ZWhf2iF/tHIjxh/IxiaN7oNLcC6fxF/7jOEDpMScoMRtoD2i2+kcAaRM6MhIgES/3MNRTOKTVMORSDAeW9eQckMY3t2tW0BLljRh4IZR9m4CpsCXPAeb/owkaoxFbYEOP+93hTLzAwYU23jdYBObzH+htL7rU7hBUhYNpBKmcrAZQln/q8zXwiK+/fvqJO59OyXE2xdgIemUSWTSYvf2OoicPRb1Mhwste1IkBKHh/5MJ2aYZUhF4H+pYy/8XRd6g+5BnhgEvUxnx5xH4ZoASNW+yiPAoJjc1sUoH0+7//Twe6hR1tqATMnUBodnPtdYQsJkLq1A6VRwpEhe3+6C5jP+Kuhw/yfbgNHXU9d9HD9qDNbgFWYRlkUUZrefHoCZDL+qkjLPCMBci+nKKooGnFaAoxi/JVx+ajTBJhFRbQx61QBhmVQEG1kDDtFgJnUQx8zf1wEnrfLTz3U0dj3wA8JkMX4K8SfdbIFTKUaGpn6gwD92QPq3An2PyHARGqhk4knFoE7k6mFSvb1E7FE0hh/pSSniVgivAiklgwRS2QkhdDKSBGf+Cr4MIBWai4IWjKA8VdL1wFisQTQvQiwJJ0y6CVdLOlHGfTST3y+/dwQVC/13awUxl8x56RYvaiCZnpZ3BJMNb0tPg+gmjSLm4KqJskKUATNBBBAuwCJFEEziSQACQAkAOhNgHiKoJl4ixroBgEQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAyDuwTHgsaD9fWHT/zTFOHvdhx0RUcE8Cj1e/fs2VP59ddVTWdzFF/vIX9z7N6NvlqGLRoEd27eUrznm2gdrsv8mxHAM3y1eUtR8XdRPui1S7oggAc4uHrVluqYHDnzVQRw/dTPWV3QGLOjL5mMAG6mZOXa7TE9QdfCbgjgVv639KWymJ/k5sVsA91J8aKV9Q6c5hNagBtpXLkk35kzxVV1IAHcxoElL+1z6lxNRUMRwF3U/+OZOgdPtw0BXEXTC4/ud/SETrRnBLDNmrmlBl4VAthdkt+fZ+R1IYAtDt3zelAQQC0b76g09dJ4R1B4jt2bZez4kwDh+ezWYoOvjgQIQ/Cpq00efxIgDNXTNpl9gQjQKruzKwy/QlpAaxSMNn38EaA13s76VhBAL4tvqTf/IlkDhGTOUxquEgFC0HTr6yqukxYQgtt1jD8ChGD2q4IAinlikSCAYpY9KAigmHdnBhFAMZunfi8IoJeyiYcFAfTy/bRvBQEUM3ebIIBiNj4tCKCYg7c3I4Bm7tgnCKCYpasFARSze44ggGZuq0MAzby6VRBAMQ3zBAE088ReBNBM9b8EATTz4HcIoJmS/woCaGZWEwJo5t1NggCa+acggOoVQB4CqOYpQQDN1KxEANU8ewQBNNP0giCAZlZUIoBqFgsCaKaoEAFUs0wQQDXvIoBqSspd+sQSEMCZPYBbn9hlCOAIa136vHyDEMAJ9nzq0id2YScEUN0BBrIIdAS3fhosYTYCOMGBLS59YrMuRgAnWOXS9wJeeQ+vAzjCR+58WgOetxDAEba78Un57950oUNn0j7+dTvd95zaDXx8iGOqaRdgq6O3hPElduycGLBEfHLy31P+U3wigUGDL23vYNZoF2CzI2dJvjK9e+fOnbt0cl3LVS/AxzGf9GmDhw/v6drrVy9AUWzX2Jl/+FUXV1+/dgGqYnlXMCvrvv5uL4B2AWK4BPCPv6+v+wuAALHixr/28kIBtAtQEqv0n3eXNwqgXYCvY3PY9otvFATwArH5REiXV0YIAniBb2Ly3RApb/YXBPAEe2Jx0IScvt6pgIUAUeduD40/AkSfi+8VBFAsgPVkOwTQvAn441BBAM9QFfUjnjtfEEBzAmQmIoB3OFwT9UPeJAjgHaJ/e+huwxHAQ0T/3mDXWQjgIeqjfsRJggCaBeiRgQCqBUgXBFAtQB8E0C1AGgLoFqAfAqgWwLoIAVQLkNoeAVQL0EsQwFNE+5XA7gjgLaL90fAAAujmFwiAAAiAAAiAAAiAAAiAAAigjAQE0I0PAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABwBZ+ky7m4NZ9kf3C51F+AmsronKY83v0ceyrJ3y1poz+8jWflhujcuC3069BgEjYd8cHhmXzbY+2Yw1gm1cyTBt/WTKqggSwy4pbTFyfdV59GQLY4purDhi5Qs9YRwuwxUwzx18KXicBbG2+Jpi6Se/xcQcSIDzvmzr+8tXztAAbfGqsAJKPAOEJfmauAJ8hQHjKDpkrwGEECM+35o6/xCGAjY2MwQIEEEC3AEkIoFuAZATQsZMNRU+qpzsBUhEAARAAARBAqQBWCgKoFqCbHwFUCxD7XSACuJruCKBbgBQE0C1AKgIgAAIgAAKYfgkIQAK0RMfOCKBaAAd2gQjgZpIQQLcAyQigW4CeCKBbgFQEQAAEQAAEUCpAHNtA3QIkxSGAagGc2AXytwAX053q6U6AFATQLUAqAiAAAiAAAiAAAmgUoHNHBFAtgCO7QARwL0kIoFuAZATQLUBPBNAtQCoCqLkEBCABEAABTsfPIlC3AMkWAugWgBWUbgG6I4BuAVIQQLcAqQiAAAiAAAiAAAigUYCuAQRQbYBDu0AEcCtJCKBbgGQE0C1ATwTQLUAqAiAAAiAAArioVk4Szy7APpcaKEB/HwLY5goDBcgUBLDNYAMFGI8A9rnyQuPGv28aAtgn4RnjPhowRxAgAobPMGz8/5zt3B661oSCNfxmh0njn/GOnwSIrAl8MM2gV4Oyljs3/oYkgIh8+JcvzbiQixZc4+TpjBFA6nO3FpVUevsaki6+ZFBWO0GANnMsGNHDC8dG9/R/WnB2gxHvfMX8Ro2/xMf04eGr2d5zFTP4S/dsEIzy8Ty4EtUtACAAAtACaAFAApAAJACQACQACQAkAAlAAgAJAAhAC6AFAAlAApAAQAKQACQAkACAALQAWgCQACQACQAkAAlAAgAJQAKQAEACAALQAhAAEIAEQABAABIAAQABAAFoAQgACEACIAAgAAmAAIAAJAACAAIAAtACEAAQgARAAEAAEgABAAEAAWgBCAAIQAIgACAACYAAgAAkAAIAAgAC0AIQABCABEAAQAASAAEAAQABaAEIAAhAAiAAIAAJgACAAD8fJIDyFkACAAKwCEQAQAASAAEAAUgABAAEAASgBSAAIAAJgACAACQAAgACAALQAhAAEIAEQABAABIAAQABSAAEAAQABKAFIAAgAAmAAIAAJAACAAIAAtACEAAQgARAAEAAEgABICoCHCMBNCfAMauOSaCZOquWImimVncC0AJIABKABNCdACwClS8Cq0gAzQlQZZUyCzRTapVRBM2UWeW0AM0toNyqrGca6KW+0gruIgH0JsCuoCU7mQd62SmWFJIAehOgUCwpYB7opUAsKakhAbQmQE2JWBLcyETQysagWCIbKIRWNohYonkRoL0FFIhYIqX7mAo62Vd6/F3By0kAnQmwXI4L8BpzQSevnRBgRxEJoDEBinacEEBeZDJo5EX5QYCcRqqhj8ackwIcWEsL0NcC1h44KYAsYj7o4/igHxcgr4AE0JYABXmnCCCPMSG0cWLITwiwvogE0JUARetPE4AIUBoAJwVYU0oCaEqA0jVnCNA8m0mhidnNZwgg69+mKnp4e72cKYDMPkIL0NICjvyY9z8KsPdhJoYWHt7bggCyeDcJoCMBdi+WlgQ4eleQuaFC+7uOtiiA5C4gATQkwIJcaVkAeSSf6WE++Y9IKAEap9dQH9Opmd4YUgCpnEELML0FzKiU0ALIuoVMEbNZuE5aE0Dm5ZAAJidAzjxpXYCmGZuYJeayaUZTGAGkYcp2EsDUBNg+pUHCCSCHsrlxmKGUZR+S8AJI9bgqEsDEBKgaVy12BJCKMWSAifN/TIXYE0AqxmynXqaxvcXxD/GdQdVjdewFFLWATWOrxb4AcuiGHOaMSeTccEgiEUAapi4kAcxJgIVTGyQyAaRpbjZ/GTKEmuy5TRKpACLrhuWTACYkQP6wdaF/2NoXR1ZmPs57hLwv+eOZldI2AaRx3tjdVNDbfDF2Xqt3fwjz1bG5Qx8w+d3ixreAhrkZua0/Itx3Bx99cgifGPEsa69aeFTOTgCRvTePLyUBvJgA5ZMmfBn2QXa+PXx9+uQiZpPX+Hza4DU2Hmbr6+ObV40YX0ACeCkBtt2U8YatW39ZNg+4fvS1q7iXmEdoXpf169XN9h7rt33UvLzzsqZeTgK4PgGKX16x3/6j/REc+cBzz/WfODmZGeZiqpa/URzRL/gjO/6Ohx5Kyxh5dVcq7UJqNm4oiHjD5o/4NKWlL/gGZKT363sOLcA1LaB+187CgpK2XI6/TXUrLn5WfCm9eqclBQKJgcRAPNPvZ+BYXW1dbV1dVWlZeWWbVf4/O3cEtZePVasAAAAASUVORK5CYII="},785:function(e,a,t){e.exports=t.p+"static/media/instagram.0b6b3c8d.png"},788:function(e,a,t){e.exports=t.p+"static/media/sound.9fd5812c.mp3"},796:function(e,a,t){e.exports=t.p+"static/media/chat_notify.2529c259.mp3"},824:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAF00lEQVR42u1Ye0yVZRgHNAFJ4RxM4CggHOBwLhwOcORy5KInyc25+sPNdfGeWJPLAbwmJnoqVm0pB1GgoxA0xTwqaFzMw0UO2Eqnq62slmWsf1qZ2ZYgYP16enbks4FtUiC079l+2/vd3vf5Pdf3/VxEEUUUUUQRZeKLJXUn4Y8JheLUwkH9+aIkDRMLIoF/gCUNUwjKirlQv62He0kq3yNMAALF8+FbOg8bDofj0lkvfGL3QvaRMMzcb+Bn45eAhZWHojwexxt8cb1jMvo6XRg/d0xCfaMUKnrGJCzjiYCFgZADSdh+bA5+ODcZv39Iine5oNfhyqAx3/uJSBXagiEvS3R+93AJsAIeFN+PV0bjbLMPes67kcVdcbnGD8deUaE0V49Skx7vmVW4VB2A3k439J53RSu9+0SlFp5Cbow1ASHWzWTRq20ebOHvT09D0boUpCieR5QsE8qZOVD65dA4C/Mi1sG8Ng3d9dNxh979ts0dRbYgITfGiABby2dfMp56R4MrLZ64Q+ExcN4FjrJApGtXIsQnH4rHTMOBnxk1q9FeGgz6hr/9qtUDS6vVkNCcTm+MBgEhSWOoLO47KeNY76cE7SclvqvzglG1HMGPmhAmyUa4NBsRvtmkdA4rHjmTwWO5NA9G9Wpcq5uOPiJBc+BHmmt/nQx6a5yQ5P8ZAaGus6U+I6vfcrhydblN6KWY379lEQwxZqQn78ZCw26k6l6GPnQrEwmdlkmkshAuEGJP7Fo1Hz0ON56jj9BD83xBcz9do4I7e+LfE+BJHiEkH4zBSSqNtzoFxRkOF9zoikJ9pw0H25pRYW9ERUsjqjvsOHvhMhraLmJLURVWrSzBk8bXETEjhzyTw0QM4Rm4WBXAXuC5BCI43SBF2iEdGY2TfEQE+EN/SrAsakJfU5wOdAkL3btg014dli1+DUb9LsQrtiFBuQ1psTuxxFiEF9eWw7znKMrrm1Bjb8WGTeVIjilAhDQHmoBM1O5So2+YeQcIlOTIq5VDRjoIufEABFLIAu9T8/mFmhBbfSg4fA7kxULtz1bluCcrE4Q8UAfkcUiteM4Cy7FTsLY0Y/0LB6Cg53sz9dwnhpmb17xJazc2SbDgUDRI4QcjMJ9q+5lmCW463O5HgBcvy4+Dyi97MFGjZuUjPnwbE1H650JFIHIIk2YhcoYJzyzbA6u9CW9abThStBA95+5P4Fda2049I71S+8AE2GWzqLvmHw1ldw4MXYTdb3tVyTU/UfEStLM3OqvNX/U/F3HyrdATNLI80D1GOFUpg6YAxZU2dH+0lPJo+BDqbnfHVlo7kHRwKR5BCAnVJ5VcqENDowS9f09iTsBL1f5I122ANnAjYuZsRmzIZrD1/UyICd7Eyt/1AoFJJkUWYElSPq4clw9J4ttdrjjTJOHuLuxiR15GByfwJCLP1ijxZYsnVQrB7T0URuY1qVQa80j5LSCLMxkqmzyeS+EUSYpH+pk4H3TBm2FQm7FjhRG/dbjdm09cLFa9G4mpg4qPQiOLt8ZRVQng5tPv9EL3qencYUMluYgO2ghd0Cb2wt28oGsmY1AWUFjtwMLoDFw94Y1+ZyO7TslqrfdHkjV2NBrZUCJSavvLqlVsMd5K0N6mtXQOFqjXOLcSrDxb3Wl59kpU4HZSfj0+KA5xbiW4XLJnfUtHeSshEBC84Uc1+o3jgbjW7s6buWt13iikDmsIy6A6n8V5QOBxojwDO5Yb8c0JH363u30K3joxGzJOUrY6Yey30xyvi6q0aG/25q1yL5W+C1UyHCnUYG9WAtX6BBzeGYWPD81CD4XKbXqn44w3Fldp4FWSIij+sA80YWWJMNuCKJ6dBxruE24ETlS+d8MxCUXkMUVZgqD4eDtSasrncge/4ezgBB43U2mMrtBDCJfxe6jnQ4qpNgyf2qficyq7+bVyBIzrQ/1Qb3AT0lLJ1RE8JtJvFYEELwKGRfwz9/8kIP6VF0UUUUQRZcLLn9jQgAFFowfeAAAAAElFTkSuQmCC"},825:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAHa0lEQVR42u1ZW2tUVxT+zpk5maRJc1PbXLQm3iq2WmqpFmkrLVoQFEX0QZ/6ZB988qUoKgr1YfoPhIqtF1DBWx7EBxERrw/i/ZZY4yTqmGiMyUzmdi57d62953BmiLYFB4MwCz7W2eyzMuvb+1trHQjKVrayla1sZXufzdD4dXtb24StkYgFISSklDBNE4YBtSajtQEpeS1g0AbvAxLseB0KmWqPrCj2KP4ARUKZfI3nGM/Df5lEYJ7rIhmL7ZgHbAsDMAHbWrdugbFgQTuuXRuA47hobq5FfX0FuroG1e/MmNGIRMJGPJ6AZYXx1Vcf4c6dQbiug6qqCL78cjyuX9exLS069sGDV5jmVcJA3oTwfZA8JUNB/5uAoLhkNouX23TuYYBPUBrptINbt16hvz9NCVqw7RF6NvHiRRaRCCeTQDptExyEw1DvPnmS5NMmuMjlBB4/TipyAwODqKw0FVm5fhFgoCTGymAgk4FbW2tgwwbDhDZKJkEn+AzZrIsffmjB8+dZ3L8/oAK++64Z3d3D6OkZopupptuox82bLzA8nMHs2ePw4YcRurl+inXgx969O4CXLzNA22TIyaUB2toAfm5thfjiC7DlCQj6cYHvv5+EVMrFgQOdqKuz8PnnE1QShw8/wPTpdSwrItmPixfj+PbbZghh4tSpHsRiQ1i4cGJR7Jw5HwGs/qNHS4tjxyCOH4fYu7eYgOt6JIER9koWIyM2nWRGFaJhaCklEjmdlAS9m4LjeKqAPU+it3eEvCiITau/JY8cAUoEmQeIgNyzp5hAOp3D7dv9sCwDK1a0I5l08OjRIKqrw1i2bDKePk1SUkl8+mkDFfAE3Ls3QAk7LC8q2hqKfa5qw499+HCQ6sKFnD4dokSQPqZNg5gzp5gAt9Aff/yETs/Fvn33qIsoGVBBZnDwYCdmzqxHa2strl7tw7lzT0lurUTAxMmTMaqPVxQ7qTCWutLHYJNbtpQWmzcDmzZBRKNgC/tNyrYd0nKSr527EMuFJcKyoLWpulMymdN0haSCTlKMy5Lhd14Xy9ASLGEXEkL4XhMIilhLqLY2gtWrp+DQoYfo6xvG+PEfYOnSNrqFLvXO3LlNGDeuGmfO9CAUknTybSS1FLXVvqLYZ8+GiJCAXLkSgCwNAR+OA/v06WIJVVRYWLRIS2j37jtoaODh1ETFm8H+/fcxa1YjJk6sx5UrfTh79glLRnWhEye6Se9D+Omn9nzsXY4los264F2H4JYMnLzwPAig8AZc2LZNiSTIu0Smgnq8LyEmZ9KJagnpASrp1JOqSE3T4JOmOkjw+3wQfqyC3PEbSmXCl1AmA7FwIbB9e3ADqVQGN27EYVnAmjVT+bOBpu8LGlIWVq2aQm1ymEgM02xoxDfffEyDrJ+7EN3EREyaVEODzI+dRgRsdHY+J8nZkJ99BlECeLNm6b9FXsycCWfGjEIJ8amHSQaT6ZRt7Nx5k2RgUbtsouJNsaQo8XGUaD0uX47j9OleLF78iepCHR1/o6vrFZYsmUKxroptbKzAvHktSkKC+rUsBWhwCfKC/aFDcHkeBBLi687x54KaB7bt0QSu4K6i1kAO8XgV3wrpPMv7JKEEMhmb9rOoqhJqrWMdmh0WkctL6M+/3qKIiyM9X0ahENwrV8BmEEJTp/68Y/bsuRstqxahkKUmL6A/md/WfkdHaboPJ05whUAGwMXr16O/dHZuVQSi0eiO+fPnb2xqauICJhIhBf1dbyiMlXHivudbdV2XVDBCw/RcdP369VtZQtyBeJMrnMGJ68DAmMSYJM+/y57hk2DPRNg0gW3b4LW3wxMCntYVB2qoSh8bkwUQnDwDgBeJwO7qCgjwJg8Hhk/ApOR9LzGWFhDwvQiHiweZWLsW4uuvIRoa9GYopLxB3jBNiOA23rXpxPUBazgOJME7fx7YtUsT8Fpb9Wdqc7MmwLAsmOQlkaDsmciY3ITM16Vkdejk1SR2e3sLbuDCBYjhYYiqKj5tTlpB5LtQiCCCGyh5cUsp31wDwQ34XuUirl0rIHDpEmR3N2Q6DcmbACHQP6E4+SBp9X4JGAR+dAEHcyD/jJoaiHg8IOCShEBdCEJwchqm6fuAAK9HX0EA4PX7Uv5r0v6zHL1XOMTYazlVVsK1LCAW0wTE8uWQixcDLS1aPqx9y2Kv10xCE3pnQ4uMkw3gugxVA7BtiI4OIBqFieIXObjw2UewLj2KE9XggeV7H6NyCGpg505I+sIzaURrC/TNgIa6BSNMIeQVKiqAUEg/W1ah7IrlJWUxWKqOoyXiP/Ppep56FpoUewUv0L8C6uqAwcGAADgp7kCcoP9iQEDJyLAslbCMRAISpEUiwPGMgMyb5MYJCsFQUvDXMpuFtG1ITj6VgvBP3ycBBJ4gq6uBRILjNYEaSiRGiz5KkDuPCajWGQJ4zc96qEnJ+lOnpSyb5URH400FL+VrIZmEL189OJmATtafwIXdKJfTt0/e/9RpzMPE+2GCMMgw84shQg8h9p6gJ5+zKP+HpGxlK1vZ3sr+AfS4owXPI9pZAAAAAElFTkSuQmCC"},826:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAqCAIAAACMZMq1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAA11JREFUeNrt2M1rG0cUAPB5M7vSSrsraaOvOrZsx25ty0mwS0NdlZS2NJDQHtpeCr331kP/nx5KKbQ9OFBoCLSlSRxqxwSSQIhxbbn+kJIaSZa1kna1u9qdnalCCYSccgorvPMBw8xcfsy8w3twRx5Hw9zwYIaAEBACQkAIOLkAgfvDDYCNUn64Af5NGG4AXz2xQQzIY9C0MH+6HioAZdhypaYpH7SU+/++dthVWr244wmM4yEA9PrCXi22+Vg52I2Ye8w+4r1durkv79ejj1vywBBsAKCOLVRXcOMH2FzGOz/HjAf9R9+p1WtQ+z5S+Ru7jAQXwDhiDKUViuKsxsFUXbPAPOZ1p7GFnaqLNNWVBMqfOoMHoC6s/CWs3hFERJcuWaOXdWOa1TVuMdTIU1qki18axXO22UY3/hB3tkjgAD7iDeof+dQwYWNZ7t+MK7dE9QaoySuz89/kpr4ys1/v2x9bjFf7tOH6PGgATCD/+rvaxBJj0LwvHTaRc8pNMpIYmUul39Tqxd6TCwY9L0hS7tzl7NgUBA6AcSJ5ScIXnQ5hmHcmY3pRslVEMPb1XqxLxKgyUHqdWFL5VIoVEQQMULkr1q7+1ry+8vBqvKfjlptoeVkbxOZenSuYaZJMRL0SffQL6Nd/2rtWPq4QBMEBAOo0MJ/9CC9cHH/HIRkv3TZPbfNyrvCjBRu3b3dHSJvYat5MTeFo6QsnMu9a/NUAhJe8d2bJO763Y5SPyYesP+FpTSPHzT/xnC2z2tbDM701hgjX2iMpz7q1Pnm+lplgiAfpCx2sRSwzkf98NjPNiMzFFEsU/FL03ntbdxeTZUn5J862SbdeeB9rH8zVt6J6lSAIEqBQcnNXipF8HgFHg84RAjSSa781uqOlXT0qM044AGCIzcxMfpZJjflBegGOEnlK7WWr9atAeFTgnP+/LfiQQV2kNWzkITXFKet1Dr8F8iAioyABAJWPxlZ3T69XJp4Yo3MLnqAiF8vd7Nve/CdGdNHRYxERZkrOxvHZ9f3079tna0YyWEEsEjqpmYBYhNA3LtBsgR9Zox01bzmN5EIupZdPjxlKylcO7SnNkAUbEAtYRgbPrfmzl+PPnfLBeOFamBOfiKrEmjQ+1AABSFhaDAEhIASEgBMM+A+GLIRcgrmDBQAAAABJRU5ErkJggg=="},827:function(e,a,t){e.exports=t.p+"static/media/arabe.577c98d9.png"},838:function(e,a,t){e.exports=t.p+"static/media/upload.4de185d5.gif"},871:function(e,a,t){e.exports=t.p+"static/media/n8n.5c788b8d.png"},872:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAADICAMAAAApx+PaAAABrVBMVEUAAAB2dnZ1dXV2dnZ2dnZ2dnZ1dXWYmJh2dnZ7e3t1dXV2dnaHh4d2dnZ2dnb/8fF2dnZ1dXV9fX11dXV3d3d1dXV2dnZ4eHh1dXWFhYV1dXV1dXXvbxB8fHx9fX12dnZ1dXV1dXV2dnZ1dXV3d3d1dXV3d3d3d3d3d3d1dXV9fX12dnZ2dnZ2dnZ4eHh4eHh1dXV1dXV2dnZ7e3t2dnZ1dXV3d3eEhIT0lxp3d3fyjRd2dnZ1dXV2dnZ3d3d2dnZ2dnb/jiD0kxl2dnZ2dnZ2dnZ2dnZ3d3d2dnbtbw52dnZ2dnb0lhp1dXV4eHh3d3d2dnZ2dnZ3d3d4eHj1jBv1hRvEmHj1lxr0lRp4eHh8fHzsbg7zlhn0lxryhxbxgxX0lxrtbg/1lxp3d3fucBDvdA/tcA7wehLtbg7tbg70lhrtbg7vcxDxgRPvdxHtbg/tbQ7zlxv0lhr0lxvubg/tbw/zmBv2mBz2mRzwcA94eHjsbg7zlxvtbg7tbg7tbg72lxrubg/ubg7scBDwfRLzlxrtbQ/1lhv0mBr0lxz2lxz1lhzsbQ51dXXzlhptsIrZAAAAjHRSTlMAy7fZp62fA6Af9qYGzvwB0t4R0GqJcRs/C/qVPhQP/e7qm+KOYzE7NuYY88JUKiXxxoEi1btQCPtH3KqleXZgDQretLCSfFxL/oRY6r9AJ+xtNC4dEgT25DMh9vLv49rQhGxBM/v58u7Tua/x6+jgv6yfh1RGQTUoJCDm2cmhk5JzaV/gxZp6YVlRSVahGaQAAAzRSURBVHja7NcxCoJgGADQ72rdodShQLyBCrq4OojwnbkhgggbW37fu8ULAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP6u6pauCs5kajOznYLTuPb50l+DU7iMdb7V4yUo39bkp2YLCjev+W2dg4Ldhjwy3IJCVd0jj931rVD7kr8te1CcJ3tn2pTIEQbgV10dZREWEBAobrkVwQN0PeOxGm9jLjebc3NU5fqQfMhVSaUqqUoqNa+/OUw3dM9MDwuzUM6oPJ8WxIbh6e73mN7dn7++eTVf/wwD7hVv/Lhy04mVQfl2n3D/e3LTDSf/umHA/eCnT2665ZNB+XYvePuHGzP8MOjM3nne+OfFjTle/DMI7Xeb/3ZuzLPzHwy4s7Qv0wbl2z3lnT9Xbl6XlT8Hndk7yLufndz0wsmgM3vnIEdjemBwsObOQY7G9MDgYM3d48/3bvrDytfQG04JBtwO3+30SfrJ92DI0bCKvZQ/cFAGA1bTiENX0JmAMk4K+s+0f9aTKDwZP5YAYDPSIAP3FPnNj97vg/L3PpZlMGQYBQrjB9ugJR/HBhdF6MgYNhiBfnM2hE0moQF5NAr3FFmWv3j6Ya9b+9M35W6kcxIbIVCzjAS/VdI34thi6kFIl+WvdlZ6cf7+t7JsQjolGZCAk0TCsEXSA8gobT8Q6bLcQ2j/8G9ZNiGds7sNDB8Sxq2R/lYcGSl4MNIbof3k9Xb2RjDvLH1phhJ5tOxzYYuleWixiYRVC6Sz4OKaeRl8Pnf+gKQrof01qrenX8qdpOtX8PbhzAVSEsy6tIaI8QWwRHqQ7utZIDwo6UpoN12mybIJ6YzQZhIJIzFesx09uwZrpGdQ4RIepHRZNlW+vSA7uxnpnOgyEvbcoMIi6X5UiD1U6fKbXZdvK09lhnnpIM0gYdMG0lOkeQAPVnrX5dvOt7J56eJXjYmY9dLXSU/mIUvvqnz7kATz3qQ7q6iwMJB+68gCpHzr2HPtXTpMhDstdcn7vOjsUnrseQxehXOivA3GPO5e+v049y0L0PLtRacyrXfpkOJtTzjPNvgVVOQik2RWXOwFiq+WHqqlPA5EDHvG5gzFus8iaWxQmc2Q7u9irsG5MhOyCsNkyDyl2E56MDPqK7gcnqHIYZ1PJa+CdmKSp0LaT0ieA7sgCwihXey59kn6oot/tZPY4LFKuQ85jlSwvfT6ZgI5lWch0HNdVQ21IAFEsMEjZbNBgSlj6eVd5JT8MaC8hQrPNFeFCmlQM4sNfGAXZDWdy7cXtOfau3T+XSQkUbr7CLVc1NpJz6VRS+ElEPhYcVQzNG9eej0VRw3JA6CQd68CgzUX88CJuejUsAuyCC/fTgx6rv2UvkC/HkG6e7yNDFH6sQP1hLdAhSSMVQialR6tosARDe+k8oxHgTMk3jA8RoUy2AVZpF1ndmXnA7m/0s9oK0yQPsNXVCGMlHjNSHqG79sFBxeny9IopSRSnqyZk170oAFjoDCNCgfqni7FA5xx+pltgywglm+859pn6V5etPlU0l82NY7nQgDOs8cuWtF7RelvNUWPTC0CuINTPiSEc9BiCinDc14AZ27GgRQqPbikUCHv5qMcC9KlUyS41o5/DcWuAkOIfLJKSTqWeJf2CgjsNX6wDXIH6MEaWqb1Xbqb6IzopQ9Rkee6sO0XpMc8dHZMSa0BM1RqIQqUK/o4nWMLcY9Lb/GILP+2JZsfCbPz0GSuoJpaKZaXUGbZ/g8t8qjwFtgGuQPkYA05GtNn6fzsxJp+e8+OORA9MWAskteVnFy6OidIqL/O66QmotKcezIKDCliUvo83Wj2JWAEn9CUEBqsosI0NCnGEZGEpCVt6pIG+yB3wVdPaZnWf+kj2OBUzN6jG+k5EDKhM530WIIE+1VQkwuTxU81Z2nqPwEq3MPmpI8h/zNTS9f6IQA4K5q9e4o8crDEjQ22D/ZBNkFfpfOCZ9eoTpe0ccBDNkyd9IDhubpntHRWCZsDDdGSGelBF1mn20Yp6Cxr4rLfXia6d9UlWrG5F9gHa6WXSBosSBdJkVG4dD50KQpathO8dC6QF7tBy4wZ6VsspxcvyxVTIjwqTAAh6iKfbqvVjGEjJO10qt9S6XW+VEXp+c3RJ+mKp7q2P+ekYXFYK93poFNGzz7zUUaFAOgom5H+mKUTGg5RoQYAIYdqVmToBXnJ9rAIhFF69M5GWCp9HhU2DaRLU0vIuZhJsdXLpedZiaylRhMAtkqzQtGQNCGdRSAtIZI6zDCpu+xqSZ6+3LwwFvRXwUZYKj1DQ64oPe9DA4a4dL7YztsceTtudUTjEuhZNiE9bNBBZTXmOjQ4IJljnaSWyqvT7mY+N8S7DhUn2AhLpa8TKV5Bes2BHaTzKRNtEzQuWxX2BQisdS89xkK60XUtM9N4yPzvtyo3DLIMYh3shJXSnQWqUi/9pQspyeHxyNjokkuUzpN3cQnxxRmh/VCBVPfSn7NtQ8ca/+zDrMW0xyrLKssmRmjwtxNWSedL9UgvPeRBwl4OKKEDn5H0rXYrnS3OI9K76Wmle1Eh0+a6Tvl1eFo5XVJiM3K2NWtKdbATFkqXRmiepZd+iULSLa23jell0DNBMwW2F4gx/bRL6axTvAECQ3wMupeXm9Vbin+IeBHg0oYHr6ySzpTsgl56Fdl2ydjXSecHGLZAAyucc6yRlxey90SX0lmpvyaGphIN37zfvtncQQ5VI0w1r/8YbIV10s9oqL7WS5doleYUj1sMGdXp62LEZtn0r2i4TLNoQjoJ00k3cMRbqgG61ddLqjx9gyR6dMcPx8BWWCb9PEkDN+ilF1FcW8G4gXTYJXaLoMVbYnk1eEi0lUBLxIz0KdaFEQsPLKoCiitWU1cg5+S56CHtKtkLq6TXKjQ/DwrSacdmX1i8ovRLFgfU+FUZwb5RBAg6zEinH2dS0k1ZF3kW1J9+blzT6F8iGSCZYHb7Jy2skR6dQUJ4GgTpXhQWRw0NpYeSBvdTVuMkZd9WHb2szIMKadbcXbY9g9s6dZ+2G7hBBkwgoiOkuaE6nCbrHeyFFdKf+x3CuSYqnadZrhwwDh2idP5do2MVOLkEu8nGd+GRCc2ZOXPSr8UjWPVROqyk6eazcEW5whanYDNuR/roIqU8XcukPNgkvgEE3ckZaqWSB0p9IY5tpIdo0efacALFGQhTHaHW/KJRpHAITRaX0Yx0PnFwfxuazE8ioaY9GKAPJew6L8Fm3Ip0YyqHYCg9h5S91SCEss/Shm1YStmBBM9CNgTO7IYHCY6yqn6jnG4FJfCuphxoWnpoCQmFDSVMOKdTLvG86xFSXF5NckEJgs2wTvpSGQTpXAIljBSPX5ROnbqwBdfpmtPldZR4a7TTlCnpMJ9g7zGSZm+zLAHnuvUkcPJIqYLdsEq6Z4t9Z0LvPTaJWirlgCidslpBPaVVULMgzLZYxJx0OPegwCMnqPGIkd9dQMIm2A1LpLuqGa5cXOkQnUU16RwI0hlXPtTiuwItmRKq2YsCkb7evXSInqKW8ILb6DQOFrVtRMI82I3bll4Zqe7XtkGDeD9dCiT5rvzYC6J0jnTgQU6a7SCc4CP1DtNKFSNdSOfUllDFmiBy2mAnP0M6sO34Q+4Xf4Ah0QkVRSe0oaj8OAqMemY0iegqVDeCZMcnv83GC4IaKb8w6ymhwzN7lJfAiInAaTqMF77xl27WylsAgvGQ2ekGZc2bTPufkHieWA4w5eofK8wbPHcO9uPz3+V+8Pvn0HekmATd44RX4+YvGHndQmp7MWirIzCvjfuv3+Re+e2vu/S39Ytou1Nrt88bn34g98KXn9r5P23KThne0w2H4IHzyzc9OP/mF7AtzuMq4jVoqP/f3h20RBWFYQC+kdEiMVpEmy8wsigUgqBFBBG4CLdKbdxK6MpZOJugRBeu7v3PgiPIMIIz9x7xfPo8f+GDmft+973nfJy0WhgftP0cjJt67by5mO/ytaee0Pw+3W8Xt39S9Z09zyctnM3lmc+e3t6PB7LBfh1vtYvZOqv9dq73k5c1G9vNpb/fuq7GV9x3Z2/ULmK011RvrZvY/Pnh9audd0uX+/dnmdLGbTs6bOd1eNQkcNGjnbHhx71PfNutOqZNHzQ0Y+lHw5TxXDEtzzVsT1+udFPW/Z/PiDliWjSZbH/prqx+rufkxnrEjTHtNN1T0KfvTx6vrqy/eLT29cEv4voM/c9x7TGN0kMfVbxzpbdIH9MoOPTdkyQxjWJD/58nplFm6P8S7FzpK/JXY1hUZKvGMFykqsZQRGSqxlBGZKrGUEakqsZQROSqxlBC2Lk+PJGsGkMBka0aw3CRrxrDUJGxGsMwoRoDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQue6vJdUy+5+yQAAAABJRU5ErkJggg=="},873:function(e,a,t){e.exports=t.p+"static/media/webhook.e5374d73.png"},874:function(e,a){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QCYRXhpZgAASUkqAAgAAAAFABoBBQABAAAASgAAABsBBQABAAAAUgAAACgBAwABAAAAAgAAADEBAgALAAAAWgAAAGmHBAABAAAAZgAAAAAAAABgAAAAAQAAAGAAAAABAAAAUGhvdG9TY2FwZQAAAwABoAMAAQAAAAEAAAACoAQAAQAAAAMBAAADoAQAAQAAAFcAAAAAAAAA/9sAQwACAQEBAQECAQEBAgICAgIEAwICAgIFBAQDBAYFBgYGBQYGBgcJCAYHCQcGBggLCAkKCgoKCgYICwwLCgwJCgoK/9sAQwECAgICAgIFAwMFCgcGBwoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoK/8AAEQgAVwEDAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A/HOrei+H9e8SXo07w7ol3f3BGRBZWzSuf+AqCaqV/Vp/wQH/AGfPhx8F/wDgl18KtY8J+ErC21Txb4eXXNf1OG1UT31xcu8gaWTG59sZSMZPCxgCv9kvHDxfh4PcO0MesL9YqVqns4x5uRL3XJyb5ZPS1rJat7o/Pcty95hVceaySufy5f8AClPjJ/0SbxL/AOCK4/8AiKT/AIUp8ZP+iTeJv/BFcf8AxFf2v+RH/do8iL+7X8tf8Tw5t/0JIf8Ag+X/AMqPb/1ap/8APx/d/wAE/ig/4Up8ZP8Aok3ib/wRXH/xFH/ClPjJ/wBEm8Tf+CK4/wDiK/tf8iL+7R5EX92j/ieHNv8AoSQ/8Hy/+VB/q1T/AOfj+7/gn8UH/ClPjJ/0SbxN/wCCK4/+Io/4Up8ZP+iTeJv/AARXH/xFf2v+RF/do8iL+7R/xPDm3/Qkh/4Pl/8AKg/1ap/8/H93/BP4oP8AhSnxk/6JN4m/8EVx/wDEVS1z4c/ELwxafb/EngTWdPg/57X2mSxJ+bKBX9tnkRf3ap+IPDmg+JNIuNC8Q6Na39ldwtFdWd5brLFNGwwVdGBDAjggjmqh9OLMlNc+SQ5etq7vby/dCfDULaVPw/4J/ENRXu//AAU/+DvhD4Af8FC/jF8H/h/pkdjoeiePb+PSLCEYS1tnkMkcKjsqK4QeyivCK/vjIs2o59kuGzKimoV6cKiT3SnFSSfnZny1Wm6VRwfR2CiiivVICiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr+vH/gjZ/yiu+An/ZM9M/9FCv5Dq/rx/4I2f8AKK74Cf8AZM9M/wDRQr+I/puf8kllX/X+f/ps+l4b/jz9P1PpeimtIqnBNBlUDPav837n146im+anrR50f94fnSugHUU3zo/7w/Ojzo/7w/OjmQ7MdSP0/GjzFxnNNZg3AouI/ke/4LZ/8pX/AI6/9j3cf+gR18t19Sf8Fs/+Ur/x1/7Hu4/9Ajrif2G/+Cev7TP/AAUT8d6x8OP2YPDenanquhaSNS1GLUtXis1S3Mqxbg0hAY7nUYHPNf7acG5zlXD/AIVZZmGY1o0aFPC4dynN2jFOnBat7atL5n5viKc6uOnCCu3J/meI0V+h0f8Awa8f8Fbn+98MvCS/73ja1/oaJP8Ag14/4K3J934Z+Em/3fG1r/U1y/8AEb/CK/8AyPMN/wCDY/5lf2Zj/wDn0/uPzxor339uz/gml+1d/wAE4tV8OaL+1L4W0zTLjxXb3M2jLputQ3gkSBo1kLGInbgypjPXPtXgVffZLnmUcR5bDMMsrxrUJ35ZwalF2bTs1o7NNeqOSpTqUZuE1ZroFFFFeqQFFFFABRRRQAUUV+gf/BGb/giBpH/BVzwB4y+IOs/tF3PgqLwjrVvYGytfDC3zXfmwmXfva4j8vGMY2tn1r5bjLjLh/gLIp5xnVV08PBxTkoyk7ydlpFN6t9vU3w+Gq4qr7Omrs/PyitDxZoieGvFWp+HEmMg0/UJrYSMuC3luVzjt0rPr6ShWhiKMakNpJNejMWmnYKKKK1EFFFaPhbwj4r8c61H4c8FeGNR1jUZlZorDS7KS4mcKCzEJGCxAAJPHAFZ1a1KhTdSrJRitW27JLu2xpNuyM6itHxT4Q8WeB9XbQPGvhfUdHv0RWey1Sykt5lUjIJSQBgD2OKzqKValiKaqUpKUXqmndP0aBpp2YUUUVoIK/rx/4I25/wCHVvwEx/0TPTf/AEUK/kOr+vH/AII2f8orvgJ/2TPTP/RQr+I/puf8kllX/X+f/ps+l4b/AI8/T9TqP2pdB+LOra5p0vg231KfTltcPFphYlZ9xyzKvP3duCeBg9O/pPwytPFFj8OtMtPFzu+ppaf6SZm3Pu5wGPOWAwCeeQaj+KXxs+EHwU0yPXPjB8UNA8L2crFYbnX9WhtFkYdVUyMNx9hk1503/BSX9gZCVP7YHw749PFNsf8A2ev82cu4TzKrj6uYYanWqKpZWUZSgrdrLf8AI+4xvEWE+oUsDWdOHs23e6UnfvdnkvjDSvi+3iC5Pimx1uS681tzyJKynk/cIG0r6bePSsgeHPGB+7oGpH1/0WT/AAr3D/h5L+wJnj9sD4eD/uaLf/4qgf8ABSP9gZun7YPw8/8ACptv/i6+WxHg3nNarKp/tOrvrCT/AEPqMP4qYChSjBQoaK2kkjxIeFPG2P8AkWtWx6/Y5P8ACmN4Y8Yr18PaoPUm0k/wr3RP+Cjv7A7/AHP2w/h1+Piy1/8Ai67j4UftCfAv46Rzz/Bn4weGvFK2pH2r+wNagujDnpvEbEr+NcNfwfzHCUnVr1K8Yrq4NL73oddLxTw9eXLTpUpPspJv8D5bttM+JEc6jT7DXBKRhPJhm3H2GBmvqj4IR+MIvhnpqeOmnOo7H8z7USZQm9tgfPO7bjOefXmrPxI+Mnwm+D9raX3xX+JmgeGoL+4EFjNr+rw2i3Ev9xDKyhmxzgc1u6fqNjq1lFqWmXkVxbzxrJBPBIHSRCMhlYcEEc5FetkXCM+Hn9Y9rUnGasub4dGr26Nr8Dx884pWewVF0YQcXd8vxbdfI/kl/wCC2f8Aylf+Ov8A2Pdx/wCgR1xH7Dv/AAUH/aZ/4J3eO9Y+I/7MHibT9L1XXdJGm6jLqOkRXivbiVZdoWUEKdyKcjniu3/4LZ/8pX/jr/2Pdx/6BHXy3X+7fBmT5Xn/AIV5ZgMxoxrUamFw6lCaTjJKnBq6ej1SZ+J4ipOljpzg7NSf5n7hf8ERP+C5X/BQb9uD/goP4a/Z3/aC8d6Df+GdT0fVLi7t7Dwxb2srSQWjyx4kjAI+ZRkd66L/AIL7/wDBan9u/wDYL/bds/gJ+zZ4z0LStAPgix1WVb7w5BdzPcTTXKPl5QcLiJMAAd/Wvh//AINiDj/grz4L/wCxc1z/ANN8tdX/AMHXT+Z/wVKgHZfhlpAH/f68NfzHivDbgOP0n6OSRy2isI8E6jpci5HPmkubl2vtqe1HGYr+xXV53zc1r31toeka1+xp/wAFE/8Ag4P/AGSvD/7a3i79qX4e6xdeDYNYsbDwjB4cksbu2uEZHltXaBGRpJFjgdCeMSrnGTX5EyI8TmORSrKcMCMEGv19/wCDST9sUeAv2hvGX7GHifVdun+O9M/tnw3DI/yjU7RMTIo/vSWxLH2tBXx1/wAFk/2KNc/ZW/4KdeNvgl4S8OStp/irXU1nwTaW8R/f2uoyF44Yh32TtLbgesVfpPhvxFjuEfE/N+AcfyU8LSgsRg1GEKcVRlJynFcqSfK5at63hNtnHjKMMRgqeKjdyektb69P68zov2B/+CJPxX/bi/ZQ8Xftl3Xxp8PeAvBXhGa9W4vNfsp5WuY7S2We5mQR8CNA23OeWVhjitb9lj/ggn8fP2uP2B779u74YfFDSJra3tdWksfBcek3M2p38tk8ieRF5YKmSVo8KPVgK/QX/gr9q2j/APBKb/ghL4B/YB8EX8UHiPxrZ2+iao9u2GmVcXmsXA9VkncRH/Zusdq9v/4N1PHmhfC7/giBpHxN8T7v7N8O3XifU9QKAFhDBd3ErkZ77UNfkfEfjf4nQ4GxPF+W10qFbMVQwsHTg70IxqXu3G7dSSir3unFqLR30ctwX1mOHmtVC8nfrp+R+dPwW/4NMf29fiH4Eg8V/Ev4peBPA+oXUIkj8PX1zcXlzDkZ2zNBGYkb2R5MfpXyh/wUK/4JC/tof8E1723vvjz4Mtb3wzf3P2fTvGfhu4a502aUgkRMzIjwyEAkLKi7sHbu2nHSftJ/8F1f+Ck3x7+O978YNA/af8W+C7Aag0uheFvCutSWlhp9uGzHC0UeFuSFwGeUOXOc8EAfs7/wTd/aCb/gvB/wSQ8Z/DD9qLTrK48SKbrwt4i1CC1WNZrtII57PU0jA2xyAyROQuF8yFioVSFH1Wfcc+PvhXTwnEnFdTD4jL6s4RrUqUeWVDn/AJZWTk47XcppvTqpGFLC5XjuajQTU0tG+p/OR8E/gf8AFr9o74naV8G/gf4E1DxJ4m1q48nTdJ02HfJI3UsScBEUZZnYhVUEsQATX6dfD7/g0U/ba8Q+CU1zx58f/h54d1iWAOmhg3d35TEfclmSMKrDuUEg9Ca+k/8Ag1R/ZP0T4Wfs5/FD9r/WPBran4zufEt34b0+CBEM8dpYxRSywQs5AVpriTackA+RHkjBr5z/AGnfhH/wdD/tDfH6++N3/CAfFPwsn9pNPoHh3wr48tbSw0mAN+7hSKG8VJCFwGdwWcgls5xVcV+MvFXEfH2NyHhzNsJlmHwVlKtiXDmrVHvGEZ3XLF3TaV1a7eqQUMuoUcLGrWpym5dF0XmfC/7fP/BMX9rj/gm94ytvDP7SHgaOLT9Sdl0TxTo85uNM1IqMssc21SrgcmORUfHO3GCf1z/4M78H9nP4zg/9Dpp//pG9e+eIfgl+03+3z/wRC8XfC/8A4KS/B59C+K2jeH9Rmtp7tbbfcX9hE09jqSC3ZkiaTCxyBSM5mACq4FeB/wDBneQv7Ovxm9B410//ANJGr894/wDFHMfETwCzjC5p7N4zA4mjTqTovmpVE6i5KkGm1aXLLZ20urXsurCYKGEzSnKF+WSbV91psz5T+E3/AAa8ft7ftKanrfxR8beI/C/w203VNZu7jS9P8TPPLqMsLTOUke3hjIhDAg7XcOM8oK8F/wCChX/BCP8Abn/4J2eE5Pil8QNF0nxV4JhlVLrxX4PuZJ4bIswVPtMUkaSQgsQu/aY8kDfkgHt/+Cnn/Bd79uH49/tV+JYfgV+0J4o8A+BPDmt3Fh4V0rwhq8mntcQQylBdXMkJV5pJdu/axKIGCqOCW/TH/g3x/wCCi/jP/gqJ+zZ8Qv2W/wBss2/i3WfDFlFa32oX9sgOuaNepLHsuFUBXkQxujPgFlkjJywZj9pmnGP0iPDrhrDcX5zLD1cB+79rhYRtOlTnZR9+1+bVJvnklJ7NXtzww+U4us8PTup62l0bP55Php8MviD8ZPHml/C/4V+D7/X/ABDrd2trpWj6XbNLPcyt0VVXnpkk9AASSACa/Tj4Rf8ABpN+3l428HQ+IviX8XvAHg3ULmESJoU9zc3s8BIzsmeGPylYd9jyD3r63/4N1P8Agmz4M/Zy/aJ/aM+MPiOzivrzwB8SdR+H3hHULobntre2ImuJxno8sUtoNw5ADjOGOfzf/wCCgX/BeL9u/wDaR/aW17xT8H/2jPFvgTwTp2szReD9A8J6xJp6paRuVjluDCVaeVwA7eYWUFiqgKBX0mYeJXiT4ncb4jIfD2tSw+HwtOnOriKseduVSKlGEYtSS3a+G94yfMkknjDB4PBYZVcWm3JuyXkcJ/wUP/4Iwfttf8E2rWLxX8ZfClhrPhC4uRBB408K3D3Ngsrfdjm3oklux6DzECseFZjX3H/wbGf8Euvixf8AxM8Gf8FP28d6DH4Us5Nc0seH5Fn+3ySG3ltPMU7PL273J+9nCmvrP/gh7+27qP8AwWR/YX+In7Nv7bFjZ+J9Y8Pxx6N4jvXt0jOr6bexSeRPIqAKlwjQyjegHMcbjDZNfDf/AAQO8W/tF/s/f8FkJf2BLn43+J5fBHhbWfFtjfeFBrEw0y4uLSK5j+0fZt3lhi8SvkDOcGvhOJvEDxJ4o8PeJOFs2nSoZllsW8RKMbwxGGlCXNyKz5ZyvF81krNaRd0dVHC4Oji6Nemm4T27qXn5H1X/AMFjf+DfP9ob/goP+2LrP7VHw3+NngvQ9KuPDlja/wBm60l39pD20JVj+6iZcHjHNfz5yoY5GjIwVODX6zf8HIf7b/7ZPwQ/4KV6x8Mvg3+1R8QfCnh1PCGlSronh3xdd2VqHkhYyN5cMirlj1OOa/Jh3eRzJIxLMcknua/ZPo04DjfDeH+Fr5xi6dXCVKNL6tCMOWVKK5rqcrLmb92zu9n3POziWGeKkqcWpJu77+glFFFf0YeQFf14/wDBG0Z/4JW/AQf9Uz0z/wBFCv5Dq/rx/wCCNn/KK74Cf9kz0z/0UK/iP6bn/JJZV/1/n/6bPpeG/wCPP0/U8E/4LM/8Erv2gv22viRoHxl+BOt6LcTaP4dGl3Ph/VbtreSTE8solikIKHPm4KsUxsByeg+FG/4IN/8ABSlf+aP6S3PbxbY//Ha/fwqCckUFQTX8jcK+O/HPCGSUsqwfspUqd1Hng20m27XUo31b31OPOPDvh/OsfPGVnNTlvyyVr7dUz+f9v+CEX/BSxenwV00/Txdp/wD8epP+HE//AAUr/wCiKad/4V2n/wDx6v6Adq+lIY1Pavo/+JnvEb/n3h//AAXP/wCWHl/8Qm4Z/nqf+BL/AORP5/8A/hxN/wAFLT934J6d/wCFdp//AMer7Q/4I3/8Eof2ov2QPjxf/Hb48alpuj28nh2fTbfQdM1UXMty8skTZnKAxhF8vIAYktt6AHP6YeUnpShVHQV4PE3j5x1xVklbK8VGjGlVVpckGm1ppeUpJbdr9mejlPhxw/k+Phi6Lm5Qd1eStf5JH5t/8FtP+Ca/7U/7Y/xZ8HfEn9n+yttas9O0F9NvtIu9XitfscgnaUTr5zKrCQOFbHI8leCMY+w/2DPgT44/Zn/ZG8D/AAN+I/iGLU9a8P6QYb64t2LRozSvIIUY8ssauIwcDIQHA6V7CUUnJFI6gDIFfBZnxxnebcKYTh6vyfV8NJyhaNpXd/ilfW3M9kvO7R9FhOH8Bgs4rZnT5vaVUk7vTpsvkv0P5Hf+C2f/AClf+Ov/AGPdx/6BHXy3X1J/wWz/AOUr/wAdf+x7uP8A0COvluv9l/DX/k3mUf8AYLh//TUD4/Gf73U/xP8AM/QP/g2K/wCUu/gv/sXNc/8ASCWup/4Ot/8AlKcn/ZM9I/8ARt3XyL/wTp/bj8T/APBOz9qbSP2pPCHgSw8SX2kafe2selaldPDDILiBoWYsgJGAxI9xWn/wU0/4KD+LP+CmH7Sa/tJeM/h1p3he9Xw7a6SdN0y8kniKQNKwk3SAHJ80gj2r81xHBHEkvpF0+KVRX1GOD9k580b+05pO3Lfm2a1tbzO2OJo/2Q6F/e5r28jzr9lT9oLxR+yn+0j4J/aN8Gsx1Dwd4jttSjiV9vnxxuPNgJ/uyRl4z7Oa/qE+On7CnwV/4KGftE/s0/8ABQzR9QtLrTvA5OuREpk6vYT2wutP5wf9Td+VKAezyDqa/lv079nD9oTWfh5b/F3RvgV4xvPCd3LJFbeJ7TwzdSafLIjbHRbhYzGWVgQRuyDwa/o1/Yy+NPxJ/wCCaf8Awb06L8Y/2l4JLXxD4U8EX11oek6plJg1zdTf2RZyK3zBiJrZduMopwR8pr8f+lZh4VsZlObcP4mP9oSnUwXLCSc5RrQlFxaV2uVuUXfZ1OjsehkbtGpTqr3LKWu2n9fgfk7/AMHKv7Ya/tP/APBSDWfAHh3VfP8ADnwqtB4a09Y3yjXqt5l9Jjs3nkwn1Fstfqx/wbyfDrSPi/8A8EMNP+FGvyvHY+J5PFOk3skY+ZYri6uYXI99rmv5rfEniHWfF3iLUPFniPUJbvUdUvZbu/u5my880jl3dj3JZiT7mv6Mv+CHnijxB4I/4N3tV8aeFNUlsdU0fQ/Gt7pt7DjfBcRPdvHIuQRlWUEZ9KX0h+EqfBvgXkeQ4JpOjiaEFLvP2dXmn85tyfqGU4j6xmdSrLqn+aPxF/aT/wCCWn7c37Mvxxv/AIG+Kv2cPF+p3cWotb6PqeheHbm7tNZj3YjmtpIkZZFcFTtzuUnawVgRX7s/8EfP2bdU/wCCM3/BKLxj8Yv2sPL0fW7wXnjHxJpcs677CNLZI7axJBwZ2Ea/KM/vJwnJHPxp8DP+DwL4w+FPANtoPx9/ZC0jxfrttbiNtf0PxW2krdsBgPJbtbThWbgsUYLnOEAwB8hf8FP/APguf+1d/wAFNdLh+HPiXT9P8F+ALe6W5XwfoE8kgu5VJKPdzvhrgrnKqFSMEBtm4Ajs4l4Z8fvF2hhOF+I8BRweCp1ISr14VIy9sofyRUnJX1aTives20lYVGtleAcq9GTlJrRW2P01/wCDU/8AaZ034t/st/Fb9m658TjTvF2n+NLvxDC0O3zVtNRhiTz41fIby7iGQnIIHmRgj5ufk79sb9vX/g5J/Yt+NGo/CP4k/FrxTcwR6k9voHiLTvhvps1jrcW4+VLbypZFWLLgmPO9ScMARX5x/s0ftP8Axx/ZA+L2mfHP9nvx5deH/EelOfKurfDJNE2N8E0bfLLE4ADIwIOAeoBH6y/C/wD4PE/iLpXhSGx+Mn7EOj65rUUQEup+H/GcmnQTsB18iW1uDHnrxI30qeLPCHijhTxBxue5LkWGzjB420pUa3s1OjUS1cJVNFGTu3a972aXKmLD5hRr4SNKpVdOUeqvqvkeQftGftnf8HL3wY/Zhtv2g/2i/G3ibw/4C8SztpTy6n4U0WGdRNGQontxbefbpINyq0irkjHG5d31l/wZ2gN+zn8Z1I4PjXTsj/tzavz5/wCCnP8AwX+/aw/4KQeEJfg4/h7TPAHw9nmSW88MaJcPcTaiyMHQXV04UyqrKGCIka5ALBiARlf8Erf+C2vxS/4JWfDrxf4A+HXwT0HxT/wlurwX813rWoTxfZ2iiMYVViHzA5zkkV28SeFnG3EPgnjMuhkuEweY4itTl7LDclOPs4TTiqkrqLnFOW0mrbWbaFRx2GpZlGbqSlBJ6u71t0M3/gqD/wAEkP2r/wBkH9rHxT4e0P4IeJde8Gaxr1zeeC/EOg6NNe29zZzSs8ULvCrCOdAwjZGwSV3AFWUn9XP+DZr/AIJ6/FL9hr4EfED9qT9qTw7P4P1HxrDbCz0jXF+zz6dpFmssjXFwrYMJkaRjsfDKkIYgbq+Vv2U/+DuD49/C/wADQeC/2mv2dLD4h3Vonl2/iTTfEB0u7lQfd+0IYJkmfGBvXy84yQSST4r/AMFKf+Djn9q39vjwBffBDwT4Qsvhj4G1RDHrOm6TqL3d/qkR6wz3bJH+5PeOONN3KsWUkV5nEPD/ANIvxC4co8D5rgKOHw16ca2LVSMlUhTaaagpcybcVJrlV5L7CbKpVcowlZ4mnJt9I22ufpF/wbz/ALffw8/ai+Ln7T3w4XUYorzxL8XtT8eeH7Kc7ZLrS73y7ZioPJ8sW9vu9PPFfjz/AMFAv+CSn7X/AOxx+0vrnwwT4H+Kdf8AD9zq8zeDPEeh6HPeW+q2bOTDhoVYLMEKh4jhlYHgqVY+BfAL4/8Axf8A2X/i1o/xx+BXjm88PeJtDufOsNSsnwRkYaN1PyyRupKtGwKspIIINfrZ8JP+Dw74paF4Nh0r42fsV6P4i1uGELJq/h/xjJpkNw4GNxt5LW4KE9SRIRnoBXu4nw/8TPCLjjE51wLgoY7CYunThUoTmqc4TpRUYyUpOKa3el/iknFWTM1isHj8MqeJlyyi3Z2vufS//Bu/+xH4w/4Jkfsa/Ef9qX9sSybwXe+K44dU1HTtY/dy6Ro2nwzOklwvWORjNOxjPzKoQEBiVH57/wDBDn4+2/xj/wCDg22+NN/CbVviHrni/UIYHxmNrq1vbtYz9FGPwrz7/gpp/wAF+f2uP+Cj/hOT4QXWk6d4C+H00ySXnhfQLh5pdRKMGQXdy4UzKrAMEVY0yASrFVI+O/gt8Y/iL+z38WNA+N3wl8QyaV4k8M6nFf6RfxqG8qZDkZUghlIyrKeGViDkE118L+DvGub5NxNm/E7hTzPOKUqahF3hRjyNQi2r315U7OVoxWrbZNbMMNTqUadG7hTd79z9Kf8Ag6H/AGcfjnr/APwU7sPFvhf4TeINWsPF3g7Tbfw/c6VpUtyt9cwCRJYI/LU7pV+UlPvbWU4wQa/LXUdOv9I1CfSdVspba6tZmiubeeMo8UikhkZTyCCCCDyCK/Z/wb/weJ+PrLwBDYfEL9hrSdU8URW4WXVdM8bvZ2c0uMeZ9ne0leMd9vmt6ZFfkR8fPizc/Hn43+Lvjde+GNP0Wfxd4jvNYuNK0lXFtayXMzSukYdmYKGc4ya+18B4eJmTZHT4d4lyqOGo4OkoU6qqwn7VqTXwxbcVy216vtey5s0+p1KjrUZ3cndq2xyNFFFf0AeUFf14/wDBGtlP/BK/4CBTnHwz03/0UK/kOr96f+CLv/Bwd+wj8EP2JPBX7Mn7WHjzV/CHiLwRYyacupTeHbq9sr63E8jwGNrNJXUrEyIwdFGUJBINfyN9L7hLiPijg3AyyjCzxEqNZuUacXOSjKDXNyxTbSaSdlpdHv5BiKNDESVSVrrr6n7P0V8Rzf8ABxj/AMEbIHKN+2NCSOpTwTrjD8xZVG//AAcd/wDBGhOv7Yq/h4E14/8AtjX+eX/ENPEb/oTYr/wnrf8AyB9Z9cwf/PyP3o+4KK+HD/wchf8ABGVev7YZ/DwBr5/9sKaP+Dkb/gjGen7YL/8AhvfEH/yBT/4hn4j/APQmxf8A4T1v/kA+uYP/AJ+R+9H3LRXw4P8Ag5C/4Iyt0/bDP4+ANfH/ALYU9f8Ag47/AOCM7dP2xV/HwJrw/wDbGl/xDTxG/wChNi//AAnrf/IB9cwn/PyP3o+4KR+n418Sx/8ABxj/AMEbJWwv7ZEA928E64P52VYXxI/4OWP+CQvgrQJtT0X9onUfE13GhaLStA8F6n50xxkANcQRRD0+Zx1q6Xhh4k1qipwybFXf/UPVX4uFhPG4NLWpH70fgn/wWz/5Sv8Ax1/7Hu4/9Ajr5br0n9sb9oO6/av/AGqfiD+0jdaSbD/hNPFl7qsNgz7mtYZZSYoiw+8Uj2KT3IzXm1f7N8EZdiso4Ny7A4mPLUpUKMJLtKNOMWvk0fneJnGpiJyjs2/zCjOOaKK+nauYn6o/8E1f+DmfXf2Gv2atA/Zc8d/slaX4l0bwtbPBoupaBrx0ydkeR5WNxG8MyyyF3YmRSmc5Kk5J8H/4Ky/8Fu/j3/wVJOmeCNQ8I2vgjwBot4buy8KafqD3T3VztKrPdTlUErKpYIFRFXe3BJyPiaivyjLPBDwyyji2XEuGwCWMcnPmcpySnK7lKMJScVJtt3S0e1junmWMqYdUXL3dg6Cvv79kb/gvb8Qv2TP+Ce+o/wDBP7R/2ddG1nTdR0zWrKTxJc69LDOi6j529hEsZX5PNOBnnb2r4Bor67izgrhrjjA0sHnVD21OnONSKcpRtOKaUrxcXom9HprsYYfE1sLJypuzasFFFFfUpWRgFFFFMAooooAKKKKACiiigAooooAKKKKACiiigAooopMAAxRgdcUUUWQXYUUUU7IAoooosguwwPSiiilZAFFFFMAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/Z"},875:function(e,a,t){e.exports=t.p+"static/media/flowbuilders.bee8364a.png"},974:function(e,a,t){e.exports=t(1221)}},[[974,1,2]]]);
//# sourceMappingURL=main.ef80d05a.chunk.js.map